var zU=Object.defineProperty;var VU=(t,e,r)=>e in t?zU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var F=(t,e,r)=>(VU(t,typeof e!="symbol"?e+"":e,r),r);function g4(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m4={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh=Symbol.for("react.element"),WU=Symbol.for("react.portal"),HU=Symbol.for("react.fragment"),XU=Symbol.for("react.strict_mode"),YU=Symbol.for("react.profiler"),KU=Symbol.for("react.provider"),QU=Symbol.for("react.context"),qU=Symbol.for("react.forward_ref"),GU=Symbol.for("react.suspense"),ZU=Symbol.for("react.memo"),JU=Symbol.for("react.lazy"),Lx=Symbol.iterator;function ej(t){return t===null||typeof t!="object"?null:(t=Lx&&t[Lx]||t["@@iterator"],typeof t=="function"?t:null)}var y4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v4=Object.assign,_4={};function Ic(t,e,r){this.props=t,this.context=e,this.refs=_4,this.updater=r||y4}Ic.prototype.isReactComponent={};Ic.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ic.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function b4(){}b4.prototype=Ic.prototype;function rS(t,e,r){this.props=t,this.context=e,this.refs=_4,this.updater=r||y4}var nS=rS.prototype=new b4;nS.constructor=rS;v4(nS,Ic.prototype);nS.isPureReactComponent=!0;var $x=Array.isArray,w4=Object.prototype.hasOwnProperty,iS={current:null},S4={key:!0,ref:!0,__self:!0,__source:!0};function E4(t,e,r){var n,i={},o=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)w4.call(e,n)&&!S4.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),A=0;A<a;A++)l[A]=arguments[A+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Xh,type:t,key:o,ref:s,props:i,_owner:iS.current}}function tj(t,e){return{$$typeof:Xh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oS(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xh}function rj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Ux=/\/+/g;function Lv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rj(""+t.key):e.toString(36)}function Y0(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Xh:case WU:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+Lv(s,0):n,$x(i)?(r="",t!=null&&(r=t.replace(Ux,"$&/")+"/"),Y0(i,e,r,"",function(A){return A})):i!=null&&(oS(i)&&(i=tj(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Ux,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",$x(t))for(var a=0;a<t.length;a++){o=t[a];var l=n+Lv(o,a);s+=Y0(o,e,r,l,i)}else if(l=ej(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=n+Lv(o,a++),s+=Y0(o,e,r,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Hd(t,e,r){if(t==null)return t;var n=[],i=0;return Y0(t,n,"","",function(o){return e.call(r,o,i++)}),n}function nj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xn={current:null},K0={transition:null},ij={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:K0,ReactCurrentOwner:iS};function T4(){throw Error("act(...) is not supported in production builds of React.")}vt.Children={map:Hd,forEach:function(t,e,r){Hd(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Hd(t,function(){e++}),e},toArray:function(t){return Hd(t,function(e){return e})||[]},only:function(t){if(!oS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};vt.Component=Ic;vt.Fragment=HU;vt.Profiler=YU;vt.PureComponent=rS;vt.StrictMode=XU;vt.Suspense=GU;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ij;vt.act=T4;vt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=v4({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=iS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)w4.call(e,l)&&!S4.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var A=0;A<l;A++)a[A]=arguments[A+2];n.children=a}return{$$typeof:Xh,type:t.type,key:i,ref:o,props:n,_owner:s}};vt.createContext=function(t){return t={$$typeof:QU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KU,_context:t},t.Consumer=t};vt.createElement=E4;vt.createFactory=function(t){var e=E4.bind(null,t);return e.type=t,e};vt.createRef=function(){return{current:null}};vt.forwardRef=function(t){return{$$typeof:qU,render:t}};vt.isValidElement=oS;vt.lazy=function(t){return{$$typeof:JU,_payload:{_status:-1,_result:t},_init:nj}};vt.memo=function(t,e){return{$$typeof:ZU,type:t,compare:e===void 0?null:e}};vt.startTransition=function(t){var e=K0.transition;K0.transition={};try{t()}finally{K0.transition=e}};vt.unstable_act=T4;vt.useCallback=function(t,e){return xn.current.useCallback(t,e)};vt.useContext=function(t){return xn.current.useContext(t)};vt.useDebugValue=function(){};vt.useDeferredValue=function(t){return xn.current.useDeferredValue(t)};vt.useEffect=function(t,e){return xn.current.useEffect(t,e)};vt.useId=function(){return xn.current.useId()};vt.useImperativeHandle=function(t,e,r){return xn.current.useImperativeHandle(t,e,r)};vt.useInsertionEffect=function(t,e){return xn.current.useInsertionEffect(t,e)};vt.useLayoutEffect=function(t,e){return xn.current.useLayoutEffect(t,e)};vt.useMemo=function(t,e){return xn.current.useMemo(t,e)};vt.useReducer=function(t,e,r){return xn.current.useReducer(t,e,r)};vt.useRef=function(t){return xn.current.useRef(t)};vt.useState=function(t){return xn.current.useState(t)};vt.useSyncExternalStore=function(t,e,r){return xn.current.useSyncExternalStore(t,e,r)};vt.useTransition=function(){return xn.current.useTransition()};vt.version="18.3.1";m4.exports=vt;var te=m4.exports;const K=Lt(te),R1=g4({__proto__:null,default:K},[te]);var x4={exports:{}},ni={},P4={exports:{}},C4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(le,ge){var Ee=le.length;le.push(ge);e:for(;0<Ee;){var Te=Ee-1>>>1,be=le[Te];if(0<i(be,ge))le[Te]=ge,le[Ee]=be,Ee=Te;else break e}}function r(le){return le.length===0?null:le[0]}function n(le){if(le.length===0)return null;var ge=le[0],Ee=le.pop();if(Ee!==ge){le[0]=Ee;e:for(var Te=0,be=le.length,Me=be>>>1;Te<Me;){var He=2*(Te+1)-1,it=le[He],Mt=He+1,Et=le[Mt];if(0>i(it,Ee))Mt<be&&0>i(Et,it)?(le[Te]=Et,le[Mt]=Ee,Te=Mt):(le[Te]=it,le[He]=Ee,Te=He);else if(Mt<be&&0>i(Et,Ee))le[Te]=Et,le[Mt]=Ee,Te=Mt;else break e}}return ge}function i(le,ge){var Ee=le.sortIndex-ge.sortIndex;return Ee!==0?Ee:le.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],A=[],p=1,g=null,v=3,b=!1,S=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(le){for(var ge=r(A);ge!==null;){if(ge.callback===null)n(A);else if(ge.startTime<=le)n(A),ge.sortIndex=ge.expirationTime,e(l,ge);else break;ge=r(A)}}function M(le){if(E=!1,T(le),!S)if(r(l)!==null)S=!0,ue(R);else{var ge=r(A);ge!==null&&pe(M,ge.startTime-le)}}function R(le,ge){S=!1,E&&(E=!1,x($),$=-1),b=!0;var Ee=v;try{for(T(ge),g=r(l);g!==null&&(!(g.expirationTime>ge)||le&&!H());){var Te=g.callback;if(typeof Te=="function"){g.callback=null,v=g.priorityLevel;var be=Te(g.expirationTime<=ge);ge=t.unstable_now(),typeof be=="function"?g.callback=be:g===r(l)&&n(l),T(ge)}else n(l);g=r(l)}if(g!==null)var Me=!0;else{var He=r(A);He!==null&&pe(M,He.startTime-ge),Me=!1}return Me}finally{g=null,v=Ee,b=!1}}var k=!1,D=null,$=-1,W=5,N=-1;function H(){return!(t.unstable_now()-N<W)}function Q(){if(D!==null){var le=t.unstable_now();N=le;var ge=!0;try{ge=D(!0,le)}finally{ge?re():(k=!1,D=null)}}else k=!1}var re;if(typeof P=="function")re=function(){P(Q)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,J=ne.port2;ne.port1.onmessage=Q,re=function(){J.postMessage(null)}}else re=function(){C(Q,0)};function ue(le){D=le,k||(k=!0,re())}function pe(le,ge){$=C(function(){le(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(le){le.callback=null},t.unstable_continueExecution=function(){S||b||(S=!0,ue(R))},t.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<le?Math.floor(1e3/le):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(le){switch(v){case 1:case 2:case 3:var ge=3;break;default:ge=v}var Ee=v;v=ge;try{return le()}finally{v=Ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(le,ge){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var Ee=v;v=le;try{return ge()}finally{v=Ee}},t.unstable_scheduleCallback=function(le,ge,Ee){var Te=t.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Te+Ee:Te):Ee=Te,le){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=Ee+be,le={id:p++,callback:ge,priorityLevel:le,startTime:Ee,expirationTime:be,sortIndex:-1},Ee>Te?(le.sortIndex=Ee,e(A,le),r(l)===null&&le===r(A)&&(E?(x($),$=-1):E=!0,pe(M,Ee-Te))):(le.sortIndex=be,e(l,le),S||b||(S=!0,ue(R))),le},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(le){var ge=v;return function(){var Ee=v;v=ge;try{return le.apply(this,arguments)}finally{v=Ee}}}})(C4);P4.exports=C4;var oj=P4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sj=te,ti=oj;function Re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var O4=new Set,Of={};function fl(t,e){Vu(t,e),Vu(t+"Capture",e)}function Vu(t,e){for(Of[t]=e,t=0;t<e.length;t++)O4.add(e[t])}var qo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),M1=Object.prototype.hasOwnProperty,aj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jx={},zx={};function lj(t){return M1.call(zx,t)?!0:M1.call(jx,t)?!1:aj.test(t)?zx[t]=!0:(jx[t]=!0,!1)}function uj(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cj(t,e,r,n){if(e===null||typeof e>"u"||uj(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pn(t,e,r,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rn[t]=new Pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rn[e]=new Pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rn[t]=new Pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rn[t]=new Pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rn[t]=new Pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rn[t]=new Pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rn[t]=new Pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rn[t]=new Pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rn[t]=new Pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var sS=/[\-:]([a-z])/g;function aS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sS,aS);rn[e]=new Pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sS,aS);rn[e]=new Pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sS,aS);rn[e]=new Pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rn[t]=new Pn(t,1,!1,t.toLowerCase(),null,!1,!1)});rn.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rn[t]=new Pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function lS(t,e,r,n){var i=rn.hasOwnProperty(e)?rn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cj(e,r,i,n)&&(r=null),n||i===null?lj(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var os=sj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xd=Symbol.for("react.element"),iu=Symbol.for("react.portal"),ou=Symbol.for("react.fragment"),uS=Symbol.for("react.strict_mode"),k1=Symbol.for("react.profiler"),R4=Symbol.for("react.provider"),M4=Symbol.for("react.context"),cS=Symbol.for("react.forward_ref"),I1=Symbol.for("react.suspense"),N1=Symbol.for("react.suspense_list"),AS=Symbol.for("react.memo"),ws=Symbol.for("react.lazy"),k4=Symbol.for("react.offscreen"),Vx=Symbol.iterator;function pA(t){return t===null||typeof t!="object"?null:(t=Vx&&t[Vx]||t["@@iterator"],typeof t=="function"?t:null)}var pr=Object.assign,$v;function WA(t){if($v===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);$v=e&&e[1]||""}return`
`+$v+t}var Uv=!1;function jv(t,e){if(!t||Uv)return"";Uv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(A){var n=A}Reflect.construct(t,[],e)}else{try{e.call()}catch(A){n=A}t.call(e.prototype)}else{try{throw Error()}catch(A){n=A}t()}}catch(A){if(A&&n&&typeof A.stack=="string"){for(var i=A.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Uv=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?WA(t):""}function Aj(t){switch(t.tag){case 5:return WA(t.type);case 16:return WA("Lazy");case 13:return WA("Suspense");case 19:return WA("SuspenseList");case 0:case 2:case 15:return t=jv(t.type,!1),t;case 11:return t=jv(t.type.render,!1),t;case 1:return t=jv(t.type,!0),t;default:return""}}function D1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ou:return"Fragment";case iu:return"Portal";case k1:return"Profiler";case uS:return"StrictMode";case I1:return"Suspense";case N1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case M4:return(t.displayName||"Context")+".Consumer";case R4:return(t._context.displayName||"Context")+".Provider";case cS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case AS:return e=t.displayName||null,e!==null?e:D1(t.type)||"Memo";case ws:e=t._payload,t=t._init;try{return D1(t(e))}catch{}}return null}function fj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D1(e);case 8:return e===uS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function I4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hj(t){var e=I4(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yd(t){t._valueTracker||(t._valueTracker=hj(t))}function N4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=I4(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function mp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function B1(t,e){var r=e.checked;return pr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Wx(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Gs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function D4(t,e){e=e.checked,e!=null&&lS(t,"checked",e,!1)}function F1(t,e){D4(t,e);var r=Gs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?L1(t,e.type,r):e.hasOwnProperty("defaultValue")&&L1(t,e.type,Gs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hx(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function L1(t,e,r){(e!=="number"||mp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var HA=Array.isArray;function Pu(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Gs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function $1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Re(91));return pr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xx(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Re(92));if(HA(r)){if(1<r.length)throw Error(Re(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Gs(r)}}function B4(t,e){var r=Gs(e.value),n=Gs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Yx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function F4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function U1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?F4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kd,L4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kd=Kd||document.createElement("div"),Kd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var nf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dj=["Webkit","ms","Moz","O"];Object.keys(nf).forEach(function(t){dj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nf[e]=nf[t]})});function $4(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||nf.hasOwnProperty(t)&&nf[t]?(""+e).trim():e+"px"}function U4(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=$4(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var pj=pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function j1(t,e){if(e){if(pj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Re(62))}}function z1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V1=null;function fS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var W1=null,Cu=null,Ou=null;function Kx(t){if(t=Qh(t)){if(typeof W1!="function")throw Error(Re(280));var e=t.stateNode;e&&(e=Mm(e),W1(t.stateNode,t.type,e))}}function j4(t){Cu?Ou?Ou.push(t):Ou=[t]:Cu=t}function z4(){if(Cu){var t=Cu,e=Ou;if(Ou=Cu=null,Kx(t),e)for(t=0;t<e.length;t++)Kx(e[t])}}function V4(t,e){return t(e)}function W4(){}var zv=!1;function H4(t,e,r){if(zv)return t(e,r);zv=!0;try{return V4(t,e,r)}finally{zv=!1,(Cu!==null||Ou!==null)&&(W4(),z4())}}function Mf(t,e){var r=t.stateNode;if(r===null)return null;var n=Mm(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Re(231,e,typeof r));return r}var H1=!1;if(qo)try{var gA={};Object.defineProperty(gA,"passive",{get:function(){H1=!0}}),window.addEventListener("test",gA,gA),window.removeEventListener("test",gA,gA)}catch{H1=!1}function gj(t,e,r,n,i,o,s,a,l){var A=Array.prototype.slice.call(arguments,3);try{e.apply(r,A)}catch(p){this.onError(p)}}var of=!1,yp=null,vp=!1,X1=null,mj={onError:function(t){of=!0,yp=t}};function yj(t,e,r,n,i,o,s,a,l){of=!1,yp=null,gj.apply(mj,arguments)}function vj(t,e,r,n,i,o,s,a,l){if(yj.apply(this,arguments),of){if(of){var A=yp;of=!1,yp=null}else throw Error(Re(198));vp||(vp=!0,X1=A)}}function hl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function X4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qx(t){if(hl(t)!==t)throw Error(Re(188))}function _j(t){var e=t.alternate;if(!e){if(e=hl(t),e===null)throw Error(Re(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Qx(i),t;if(o===n)return Qx(i),e;o=o.sibling}throw Error(Re(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(Re(189))}}if(r.alternate!==n)throw Error(Re(190))}if(r.tag!==3)throw Error(Re(188));return r.stateNode.current===r?t:e}function Y4(t){return t=_j(t),t!==null?K4(t):null}function K4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=K4(t);if(e!==null)return e;t=t.sibling}return null}var Q4=ti.unstable_scheduleCallback,qx=ti.unstable_cancelCallback,bj=ti.unstable_shouldYield,wj=ti.unstable_requestPaint,wr=ti.unstable_now,Sj=ti.unstable_getCurrentPriorityLevel,hS=ti.unstable_ImmediatePriority,q4=ti.unstable_UserBlockingPriority,_p=ti.unstable_NormalPriority,Ej=ti.unstable_LowPriority,G4=ti.unstable_IdlePriority,Pm=null,_o=null;function Tj(t){if(_o&&typeof _o.onCommitFiberRoot=="function")try{_o.onCommitFiberRoot(Pm,t,void 0,(t.current.flags&128)===128)}catch{}}var Xi=Math.clz32?Math.clz32:Cj,xj=Math.log,Pj=Math.LN2;function Cj(t){return t>>>=0,t===0?32:31-(xj(t)/Pj|0)|0}var Qd=64,qd=4194304;function XA(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=XA(a):(o&=s,o!==0&&(n=XA(o)))}else s=r&~i,s!==0?n=XA(s):o!==0&&(n=XA(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Xi(e),i=1<<r,n|=t[r],e&=~i;return n}function Oj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rj(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Xi(o),a=1<<s,l=i[s];l===-1?(!(a&r)||a&n)&&(i[s]=Oj(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Y1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Z4(){var t=Qd;return Qd<<=1,!(Qd&4194240)&&(Qd=64),t}function Vv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Yh(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xi(e),t[e]=r}function Mj(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Xi(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function dS(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Xi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ut=0;function J4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eN,pS,tN,rN,nN,K1=!1,Gd=[],Fs=null,Ls=null,$s=null,kf=new Map,If=new Map,Ps=[],kj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gx(t,e){switch(t){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":kf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":If.delete(e.pointerId)}}function mA(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Qh(e),e!==null&&pS(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Ij(t,e,r,n,i){switch(e){case"focusin":return Fs=mA(Fs,t,e,r,n,i),!0;case"dragenter":return Ls=mA(Ls,t,e,r,n,i),!0;case"mouseover":return $s=mA($s,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return kf.set(o,mA(kf.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,If.set(o,mA(If.get(o)||null,t,e,r,n,i)),!0}return!1}function iN(t){var e=Da(t.target);if(e!==null){var r=hl(e);if(r!==null){if(e=r.tag,e===13){if(e=X4(r),e!==null){t.blockedOn=e,nN(t.priority,function(){tN(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Q0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Q1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);V1=n,r.target.dispatchEvent(n),V1=null}else return e=Qh(r),e!==null&&pS(e),t.blockedOn=r,!1;e.shift()}return!0}function Zx(t,e,r){Q0(t)&&r.delete(e)}function Nj(){K1=!1,Fs!==null&&Q0(Fs)&&(Fs=null),Ls!==null&&Q0(Ls)&&(Ls=null),$s!==null&&Q0($s)&&($s=null),kf.forEach(Zx),If.forEach(Zx)}function yA(t,e){t.blockedOn===e&&(t.blockedOn=null,K1||(K1=!0,ti.unstable_scheduleCallback(ti.unstable_NormalPriority,Nj)))}function Nf(t){function e(i){return yA(i,t)}if(0<Gd.length){yA(Gd[0],t);for(var r=1;r<Gd.length;r++){var n=Gd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Fs!==null&&yA(Fs,t),Ls!==null&&yA(Ls,t),$s!==null&&yA($s,t),kf.forEach(e),If.forEach(e),r=0;r<Ps.length;r++)n=Ps[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ps.length&&(r=Ps[0],r.blockedOn===null);)iN(r),r.blockedOn===null&&Ps.shift()}var Ru=os.ReactCurrentBatchConfig,wp=!0;function Dj(t,e,r,n){var i=Ut,o=Ru.transition;Ru.transition=null;try{Ut=1,gS(t,e,r,n)}finally{Ut=i,Ru.transition=o}}function Bj(t,e,r,n){var i=Ut,o=Ru.transition;Ru.transition=null;try{Ut=4,gS(t,e,r,n)}finally{Ut=i,Ru.transition=o}}function gS(t,e,r,n){if(wp){var i=Q1(t,e,r,n);if(i===null)Jv(t,e,n,Sp,r),Gx(t,n);else if(Ij(i,t,e,r,n))n.stopPropagation();else if(Gx(t,n),e&4&&-1<kj.indexOf(t)){for(;i!==null;){var o=Qh(i);if(o!==null&&eN(o),o=Q1(t,e,r,n),o===null&&Jv(t,e,n,Sp,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Jv(t,e,n,null,r)}}var Sp=null;function Q1(t,e,r,n){if(Sp=null,t=fS(n),t=Da(t),t!==null)if(e=hl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=X4(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sp=t,null}function oN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sj()){case hS:return 1;case q4:return 4;case _p:case Ej:return 16;case G4:return 536870912;default:return 16}default:return 16}}var Rs=null,mS=null,q0=null;function sN(){if(q0)return q0;var t,e=mS,r=e.length,n,i="value"in Rs?Rs.value:Rs.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[o-n];n++);return q0=i.slice(t,1<n?1-n:void 0)}function G0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zd(){return!0}function Jx(){return!1}function ii(t){function e(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zd:Jx,this.isPropagationStopped=Jx,this}return pr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zd)},persist:function(){},isPersistent:Zd}),e}var Nc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yS=ii(Nc),Kh=pr({},Nc,{view:0,detail:0}),Fj=ii(Kh),Wv,Hv,vA,Cm=pr({},Kh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vA&&(vA&&t.type==="mousemove"?(Wv=t.screenX-vA.screenX,Hv=t.screenY-vA.screenY):Hv=Wv=0,vA=t),Wv)},movementY:function(t){return"movementY"in t?t.movementY:Hv}}),e3=ii(Cm),Lj=pr({},Cm,{dataTransfer:0}),$j=ii(Lj),Uj=pr({},Kh,{relatedTarget:0}),Xv=ii(Uj),jj=pr({},Nc,{animationName:0,elapsedTime:0,pseudoElement:0}),zj=ii(jj),Vj=pr({},Nc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wj=ii(Vj),Hj=pr({},Nc,{data:0}),t3=ii(Hj),Xj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Kj[t])?!!e[t]:!1}function vS(){return Qj}var qj=pr({},Kh,{key:function(t){if(t.key){var e=Xj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=G0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vS,charCode:function(t){return t.type==="keypress"?G0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?G0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gj=ii(qj),Zj=pr({},Cm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r3=ii(Zj),Jj=pr({},Kh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vS}),e7=ii(Jj),t7=pr({},Nc,{propertyName:0,elapsedTime:0,pseudoElement:0}),r7=ii(t7),n7=pr({},Cm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),i7=ii(n7),o7=[9,13,27,32],_S=qo&&"CompositionEvent"in window,sf=null;qo&&"documentMode"in document&&(sf=document.documentMode);var s7=qo&&"TextEvent"in window&&!sf,aN=qo&&(!_S||sf&&8<sf&&11>=sf),n3=String.fromCharCode(32),i3=!1;function lN(t,e){switch(t){case"keyup":return o7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var su=!1;function a7(t,e){switch(t){case"compositionend":return uN(e);case"keypress":return e.which!==32?null:(i3=!0,n3);case"textInput":return t=e.data,t===n3&&i3?null:t;default:return null}}function l7(t,e){if(su)return t==="compositionend"||!_S&&lN(t,e)?(t=sN(),q0=mS=Rs=null,su=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aN&&e.locale!=="ko"?null:e.data;default:return null}}var u7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!u7[t.type]:e==="textarea"}function cN(t,e,r,n){j4(n),e=Ep(e,"onChange"),0<e.length&&(r=new yS("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var af=null,Df=null;function c7(t){bN(t,0)}function Om(t){var e=uu(t);if(N4(e))return t}function A7(t,e){if(t==="change")return e}var AN=!1;if(qo){var Yv;if(qo){var Kv="oninput"in document;if(!Kv){var s3=document.createElement("div");s3.setAttribute("oninput","return;"),Kv=typeof s3.oninput=="function"}Yv=Kv}else Yv=!1;AN=Yv&&(!document.documentMode||9<document.documentMode)}function a3(){af&&(af.detachEvent("onpropertychange",fN),Df=af=null)}function fN(t){if(t.propertyName==="value"&&Om(Df)){var e=[];cN(e,Df,t,fS(t)),H4(c7,e)}}function f7(t,e,r){t==="focusin"?(a3(),af=e,Df=r,af.attachEvent("onpropertychange",fN)):t==="focusout"&&a3()}function h7(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Om(Df)}function d7(t,e){if(t==="click")return Om(e)}function p7(t,e){if(t==="input"||t==="change")return Om(e)}function g7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gi=typeof Object.is=="function"?Object.is:g7;function Bf(t,e){if(Gi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!M1.call(e,i)||!Gi(t[i],e[i]))return!1}return!0}function l3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function u3(t,e){var r=l3(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=l3(r)}}function hN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dN(){for(var t=window,e=mp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=mp(t.document)}return e}function bS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function m7(t){var e=dN(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&hN(r.ownerDocument.documentElement,r)){if(n!==null&&bS(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=u3(r,o);var s=u3(r,n);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var y7=qo&&"documentMode"in document&&11>=document.documentMode,au=null,q1=null,lf=null,G1=!1;function c3(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;G1||au==null||au!==mp(n)||(n=au,"selectionStart"in n&&bS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),lf&&Bf(lf,n)||(lf=n,n=Ep(q1,"onSelect"),0<n.length&&(e=new yS("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=au)))}function Jd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var lu={animationend:Jd("Animation","AnimationEnd"),animationiteration:Jd("Animation","AnimationIteration"),animationstart:Jd("Animation","AnimationStart"),transitionend:Jd("Transition","TransitionEnd")},Qv={},pN={};qo&&(pN=document.createElement("div").style,"AnimationEvent"in window||(delete lu.animationend.animation,delete lu.animationiteration.animation,delete lu.animationstart.animation),"TransitionEvent"in window||delete lu.transitionend.transition);function Rm(t){if(Qv[t])return Qv[t];if(!lu[t])return t;var e=lu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in pN)return Qv[t]=e[r];return t}var gN=Rm("animationend"),mN=Rm("animationiteration"),yN=Rm("animationstart"),vN=Rm("transitionend"),_N=new Map,A3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ra(t,e){_N.set(t,e),fl(e,[t])}for(var qv=0;qv<A3.length;qv++){var Gv=A3[qv],v7=Gv.toLowerCase(),_7=Gv[0].toUpperCase()+Gv.slice(1);ra(v7,"on"+_7)}ra(gN,"onAnimationEnd");ra(mN,"onAnimationIteration");ra(yN,"onAnimationStart");ra("dblclick","onDoubleClick");ra("focusin","onFocus");ra("focusout","onBlur");ra(vN,"onTransitionEnd");Vu("onMouseEnter",["mouseout","mouseover"]);Vu("onMouseLeave",["mouseout","mouseover"]);Vu("onPointerEnter",["pointerout","pointerover"]);Vu("onPointerLeave",["pointerout","pointerover"]);fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fl("onBeforeInput",["compositionend","keypress","textInput","paste"]);fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var YA="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b7=new Set("cancel close invalid load scroll toggle".split(" ").concat(YA));function f3(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,vj(n,e,void 0,t),t.currentTarget=null}function bN(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,A=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;f3(i,a,A),o=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,A=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;f3(i,a,A),o=l}}}if(vp)throw t=X1,vp=!1,X1=null,t}function nr(t,e){var r=e[rb];r===void 0&&(r=e[rb]=new Set);var n=t+"__bubble";r.has(n)||(wN(e,t,2,!1),r.add(n))}function Zv(t,e,r){var n=0;e&&(n|=4),wN(r,t,n,e)}var e0="_reactListening"+Math.random().toString(36).slice(2);function Ff(t){if(!t[e0]){t[e0]=!0,O4.forEach(function(r){r!=="selectionchange"&&(b7.has(r)||Zv(r,!1,t),Zv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[e0]||(e[e0]=!0,Zv("selectionchange",!1,e))}}function wN(t,e,r,n){switch(oN(e)){case 1:var i=Dj;break;case 4:i=Bj;break;default:i=gS}r=i.bind(null,e,r,t),i=void 0,!H1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Jv(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Da(a),s===null)return;if(l=s.tag,l===5||l===6){n=o=s;continue e}a=a.parentNode}}n=n.return}H4(function(){var A=o,p=fS(r),g=[];e:{var v=_N.get(t);if(v!==void 0){var b=yS,S=t;switch(t){case"keypress":if(G0(r)===0)break e;case"keydown":case"keyup":b=Gj;break;case"focusin":S="focus",b=Xv;break;case"focusout":S="blur",b=Xv;break;case"beforeblur":case"afterblur":b=Xv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=e3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=$j;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=e7;break;case gN:case mN:case yN:b=zj;break;case vN:b=r7;break;case"scroll":b=Fj;break;case"wheel":b=i7;break;case"copy":case"cut":case"paste":b=Wj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=r3}var E=(e&4)!==0,C=!E&&t==="scroll",x=E?v!==null?v+"Capture":null:v;E=[];for(var P=A,T;P!==null;){T=P;var M=T.stateNode;if(T.tag===5&&M!==null&&(T=M,x!==null&&(M=Mf(P,x),M!=null&&E.push(Lf(P,M,T)))),C)break;P=P.return}0<E.length&&(v=new b(v,S,null,r,p),g.push({event:v,listeners:E}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",v&&r!==V1&&(S=r.relatedTarget||r.fromElement)&&(Da(S)||S[Go]))break e;if((b||v)&&(v=p.window===p?p:(v=p.ownerDocument)?v.defaultView||v.parentWindow:window,b?(S=r.relatedTarget||r.toElement,b=A,S=S?Da(S):null,S!==null&&(C=hl(S),S!==C||S.tag!==5&&S.tag!==6)&&(S=null)):(b=null,S=A),b!==S)){if(E=e3,M="onMouseLeave",x="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(E=r3,M="onPointerLeave",x="onPointerEnter",P="pointer"),C=b==null?v:uu(b),T=S==null?v:uu(S),v=new E(M,P+"leave",b,r,p),v.target=C,v.relatedTarget=T,M=null,Da(p)===A&&(E=new E(x,P+"enter",S,r,p),E.target=T,E.relatedTarget=C,M=E),C=M,b&&S)t:{for(E=b,x=S,P=0,T=E;T;T=Ll(T))P++;for(T=0,M=x;M;M=Ll(M))T++;for(;0<P-T;)E=Ll(E),P--;for(;0<T-P;)x=Ll(x),T--;for(;P--;){if(E===x||x!==null&&E===x.alternate)break t;E=Ll(E),x=Ll(x)}E=null}else E=null;b!==null&&h3(g,v,b,E,!1),S!==null&&C!==null&&h3(g,C,S,E,!0)}}e:{if(v=A?uu(A):window,b=v.nodeName&&v.nodeName.toLowerCase(),b==="select"||b==="input"&&v.type==="file")var R=A7;else if(o3(v))if(AN)R=p7;else{R=h7;var k=f7}else(b=v.nodeName)&&b.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(R=d7);if(R&&(R=R(t,A))){cN(g,R,r,p);break e}k&&k(t,v,A),t==="focusout"&&(k=v._wrapperState)&&k.controlled&&v.type==="number"&&L1(v,"number",v.value)}switch(k=A?uu(A):window,t){case"focusin":(o3(k)||k.contentEditable==="true")&&(au=k,q1=A,lf=null);break;case"focusout":lf=q1=au=null;break;case"mousedown":G1=!0;break;case"contextmenu":case"mouseup":case"dragend":G1=!1,c3(g,r,p);break;case"selectionchange":if(y7)break;case"keydown":case"keyup":c3(g,r,p)}var D;if(_S)e:{switch(t){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else su?lN(t,r)&&($="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&($="onCompositionStart");$&&(aN&&r.locale!=="ko"&&(su||$!=="onCompositionStart"?$==="onCompositionEnd"&&su&&(D=sN()):(Rs=p,mS="value"in Rs?Rs.value:Rs.textContent,su=!0)),k=Ep(A,$),0<k.length&&($=new t3($,t,null,r,p),g.push({event:$,listeners:k}),D?$.data=D:(D=uN(r),D!==null&&($.data=D)))),(D=s7?a7(t,r):l7(t,r))&&(A=Ep(A,"onBeforeInput"),0<A.length&&(p=new t3("onBeforeInput","beforeinput",null,r,p),g.push({event:p,listeners:A}),p.data=D))}bN(g,e)})}function Lf(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ep(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Mf(t,r),o!=null&&n.unshift(Lf(t,o,i)),o=Mf(t,e),o!=null&&n.push(Lf(t,o,i))),t=t.return}return n}function Ll(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function h3(t,e,r,n,i){for(var o=e._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,A=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&A!==null&&(a=A,i?(l=Mf(r,o),l!=null&&s.unshift(Lf(r,l,a))):i||(l=Mf(r,o),l!=null&&s.push(Lf(r,l,a)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}var w7=/\r\n?/g,S7=/\u0000|\uFFFD/g;function d3(t){return(typeof t=="string"?t:""+t).replace(w7,`
`).replace(S7,"")}function t0(t,e,r){if(e=d3(e),d3(t)!==e&&r)throw Error(Re(425))}function Tp(){}var Z1=null,J1=null;function eb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tb=typeof setTimeout=="function"?setTimeout:void 0,E7=typeof clearTimeout=="function"?clearTimeout:void 0,p3=typeof Promise=="function"?Promise:void 0,T7=typeof queueMicrotask=="function"?queueMicrotask:typeof p3<"u"?function(t){return p3.resolve(null).then(t).catch(x7)}:tb;function x7(t){setTimeout(function(){throw t})}function e_(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Nf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Nf(e)}function Us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function g3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Dc=Math.random().toString(36).slice(2),ho="__reactFiber$"+Dc,$f="__reactProps$"+Dc,Go="__reactContainer$"+Dc,rb="__reactEvents$"+Dc,P7="__reactListeners$"+Dc,C7="__reactHandles$"+Dc;function Da(t){var e=t[ho];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Go]||r[ho]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=g3(t);t!==null;){if(r=t[ho])return r;t=g3(t)}return e}t=r,r=t.parentNode}return null}function Qh(t){return t=t[ho]||t[Go],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Re(33))}function Mm(t){return t[$f]||null}var nb=[],cu=-1;function na(t){return{current:t}}function sr(t){0>cu||(t.current=nb[cu],nb[cu]=null,cu--)}function tr(t,e){cu++,nb[cu]=t.current,t.current=e}var Zs={},yn=na(Zs),Bn=na(!1),Ga=Zs;function Wu(t,e){var r=t.type.contextTypes;if(!r)return Zs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Fn(t){return t=t.childContextTypes,t!=null}function xp(){sr(Bn),sr(yn)}function m3(t,e,r){if(yn.current!==Zs)throw Error(Re(168));tr(yn,e),tr(Bn,r)}function SN(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Re(108,fj(t)||"Unknown",i));return pr({},r,n)}function Pp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zs,Ga=yn.current,tr(yn,t),tr(Bn,Bn.current),!0}function y3(t,e,r){var n=t.stateNode;if(!n)throw Error(Re(169));r?(t=SN(t,e,Ga),n.__reactInternalMemoizedMergedChildContext=t,sr(Bn),sr(yn),tr(yn,t)):sr(Bn),tr(Bn,r)}var Fo=null,km=!1,t_=!1;function EN(t){Fo===null?Fo=[t]:Fo.push(t)}function O7(t){km=!0,EN(t)}function ia(){if(!t_&&Fo!==null){t_=!0;var t=0,e=Ut;try{var r=Fo;for(Ut=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Fo=null,km=!1}catch(i){throw Fo!==null&&(Fo=Fo.slice(t+1)),Q4(hS,ia),i}finally{Ut=e,t_=!1}}return null}var Au=[],fu=0,Cp=null,Op=0,Ai=[],fi=0,Za=null,Uo=1,jo="";function Ea(t,e){Au[fu++]=Op,Au[fu++]=Cp,Cp=t,Op=e}function TN(t,e,r){Ai[fi++]=Uo,Ai[fi++]=jo,Ai[fi++]=Za,Za=t;var n=Uo;t=jo;var i=32-Xi(n)-1;n&=~(1<<i),r+=1;var o=32-Xi(e)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Uo=1<<32-Xi(e)+i|r<<i|n,jo=o+t}else Uo=1<<o|r<<i|n,jo=t}function wS(t){t.return!==null&&(Ea(t,1),TN(t,1,0))}function SS(t){for(;t===Cp;)Cp=Au[--fu],Au[fu]=null,Op=Au[--fu],Au[fu]=null;for(;t===Za;)Za=Ai[--fi],Ai[fi]=null,jo=Ai[--fi],Ai[fi]=null,Uo=Ai[--fi],Ai[fi]=null}var Zn=null,qn=null,lr=!1,Li=null;function xN(t,e){var r=di(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function v3(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zn=t,qn=Us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zn=t,qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Za!==null?{id:Uo,overflow:jo}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=di(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Zn=t,qn=null,!0):!1;default:return!1}}function ib(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ob(t){if(lr){var e=qn;if(e){var r=e;if(!v3(t,e)){if(ib(t))throw Error(Re(418));e=Us(r.nextSibling);var n=Zn;e&&v3(t,e)?xN(n,r):(t.flags=t.flags&-4097|2,lr=!1,Zn=t)}}else{if(ib(t))throw Error(Re(418));t.flags=t.flags&-4097|2,lr=!1,Zn=t}}}function _3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zn=t}function r0(t){if(t!==Zn)return!1;if(!lr)return _3(t),lr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!eb(t.type,t.memoizedProps)),e&&(e=qn)){if(ib(t))throw PN(),Error(Re(418));for(;e;)xN(t,e),e=Us(e.nextSibling)}if(_3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){qn=Us(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}qn=null}}else qn=Zn?Us(t.stateNode.nextSibling):null;return!0}function PN(){for(var t=qn;t;)t=Us(t.nextSibling)}function Hu(){qn=Zn=null,lr=!1}function ES(t){Li===null?Li=[t]:Li.push(t)}var R7=os.ReactCurrentBatchConfig;function _A(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Re(309));var n=r.stateNode}if(!n)throw Error(Re(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Re(284));if(!r._owner)throw Error(Re(290,t))}return t}function n0(t,e){throw t=Object.prototype.toString.call(e),Error(Re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function b3(t){var e=t._init;return e(t._payload)}function CN(t){function e(x,P){if(t){var T=x.deletions;T===null?(x.deletions=[P],x.flags|=16):T.push(P)}}function r(x,P){if(!t)return null;for(;P!==null;)e(x,P),P=P.sibling;return null}function n(x,P){for(x=new Map;P!==null;)P.key!==null?x.set(P.key,P):x.set(P.index,P),P=P.sibling;return x}function i(x,P){return x=Ws(x,P),x.index=0,x.sibling=null,x}function o(x,P,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<P?(x.flags|=2,P):T):(x.flags|=2,P)):(x.flags|=1048576,P)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,P,T,M){return P===null||P.tag!==6?(P=l_(T,x.mode,M),P.return=x,P):(P=i(P,T),P.return=x,P)}function l(x,P,T,M){var R=T.type;return R===ou?p(x,P,T.props.children,M,T.key):P!==null&&(P.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ws&&b3(R)===P.type)?(M=i(P,T.props),M.ref=_A(x,P,T),M.return=x,M):(M=ip(T.type,T.key,T.props,null,x.mode,M),M.ref=_A(x,P,T),M.return=x,M)}function A(x,P,T,M){return P===null||P.tag!==4||P.stateNode.containerInfo!==T.containerInfo||P.stateNode.implementation!==T.implementation?(P=u_(T,x.mode,M),P.return=x,P):(P=i(P,T.children||[]),P.return=x,P)}function p(x,P,T,M,R){return P===null||P.tag!==7?(P=Ha(T,x.mode,M,R),P.return=x,P):(P=i(P,T),P.return=x,P)}function g(x,P,T){if(typeof P=="string"&&P!==""||typeof P=="number")return P=l_(""+P,x.mode,T),P.return=x,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Xd:return T=ip(P.type,P.key,P.props,null,x.mode,T),T.ref=_A(x,null,P),T.return=x,T;case iu:return P=u_(P,x.mode,T),P.return=x,P;case ws:var M=P._init;return g(x,M(P._payload),T)}if(HA(P)||pA(P))return P=Ha(P,x.mode,T,null),P.return=x,P;n0(x,P)}return null}function v(x,P,T,M){var R=P!==null?P.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return R!==null?null:a(x,P,""+T,M);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Xd:return T.key===R?l(x,P,T,M):null;case iu:return T.key===R?A(x,P,T,M):null;case ws:return R=T._init,v(x,P,R(T._payload),M)}if(HA(T)||pA(T))return R!==null?null:p(x,P,T,M,null);n0(x,T)}return null}function b(x,P,T,M,R){if(typeof M=="string"&&M!==""||typeof M=="number")return x=x.get(T)||null,a(P,x,""+M,R);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Xd:return x=x.get(M.key===null?T:M.key)||null,l(P,x,M,R);case iu:return x=x.get(M.key===null?T:M.key)||null,A(P,x,M,R);case ws:var k=M._init;return b(x,P,T,k(M._payload),R)}if(HA(M)||pA(M))return x=x.get(T)||null,p(P,x,M,R,null);n0(P,M)}return null}function S(x,P,T,M){for(var R=null,k=null,D=P,$=P=0,W=null;D!==null&&$<T.length;$++){D.index>$?(W=D,D=null):W=D.sibling;var N=v(x,D,T[$],M);if(N===null){D===null&&(D=W);break}t&&D&&N.alternate===null&&e(x,D),P=o(N,P,$),k===null?R=N:k.sibling=N,k=N,D=W}if($===T.length)return r(x,D),lr&&Ea(x,$),R;if(D===null){for(;$<T.length;$++)D=g(x,T[$],M),D!==null&&(P=o(D,P,$),k===null?R=D:k.sibling=D,k=D);return lr&&Ea(x,$),R}for(D=n(x,D);$<T.length;$++)W=b(D,x,$,T[$],M),W!==null&&(t&&W.alternate!==null&&D.delete(W.key===null?$:W.key),P=o(W,P,$),k===null?R=W:k.sibling=W,k=W);return t&&D.forEach(function(H){return e(x,H)}),lr&&Ea(x,$),R}function E(x,P,T,M){var R=pA(T);if(typeof R!="function")throw Error(Re(150));if(T=R.call(T),T==null)throw Error(Re(151));for(var k=R=null,D=P,$=P=0,W=null,N=T.next();D!==null&&!N.done;$++,N=T.next()){D.index>$?(W=D,D=null):W=D.sibling;var H=v(x,D,N.value,M);if(H===null){D===null&&(D=W);break}t&&D&&H.alternate===null&&e(x,D),P=o(H,P,$),k===null?R=H:k.sibling=H,k=H,D=W}if(N.done)return r(x,D),lr&&Ea(x,$),R;if(D===null){for(;!N.done;$++,N=T.next())N=g(x,N.value,M),N!==null&&(P=o(N,P,$),k===null?R=N:k.sibling=N,k=N);return lr&&Ea(x,$),R}for(D=n(x,D);!N.done;$++,N=T.next())N=b(D,x,$,N.value,M),N!==null&&(t&&N.alternate!==null&&D.delete(N.key===null?$:N.key),P=o(N,P,$),k===null?R=N:k.sibling=N,k=N);return t&&D.forEach(function(Q){return e(x,Q)}),lr&&Ea(x,$),R}function C(x,P,T,M){if(typeof T=="object"&&T!==null&&T.type===ou&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Xd:e:{for(var R=T.key,k=P;k!==null;){if(k.key===R){if(R=T.type,R===ou){if(k.tag===7){r(x,k.sibling),P=i(k,T.props.children),P.return=x,x=P;break e}}else if(k.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ws&&b3(R)===k.type){r(x,k.sibling),P=i(k,T.props),P.ref=_A(x,k,T),P.return=x,x=P;break e}r(x,k);break}else e(x,k);k=k.sibling}T.type===ou?(P=Ha(T.props.children,x.mode,M,T.key),P.return=x,x=P):(M=ip(T.type,T.key,T.props,null,x.mode,M),M.ref=_A(x,P,T),M.return=x,x=M)}return s(x);case iu:e:{for(k=T.key;P!==null;){if(P.key===k)if(P.tag===4&&P.stateNode.containerInfo===T.containerInfo&&P.stateNode.implementation===T.implementation){r(x,P.sibling),P=i(P,T.children||[]),P.return=x,x=P;break e}else{r(x,P);break}else e(x,P);P=P.sibling}P=u_(T,x.mode,M),P.return=x,x=P}return s(x);case ws:return k=T._init,C(x,P,k(T._payload),M)}if(HA(T))return S(x,P,T,M);if(pA(T))return E(x,P,T,M);n0(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,P!==null&&P.tag===6?(r(x,P.sibling),P=i(P,T),P.return=x,x=P):(r(x,P),P=l_(T,x.mode,M),P.return=x,x=P),s(x)):r(x,P)}return C}var Xu=CN(!0),ON=CN(!1),Rp=na(null),Mp=null,hu=null,TS=null;function xS(){TS=hu=Mp=null}function PS(t){var e=Rp.current;sr(Rp),t._currentValue=e}function sb(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Mu(t,e){Mp=t,TS=hu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nn=!0),t.firstContext=null)}function bi(t){var e=t._currentValue;if(TS!==t)if(t={context:t,memoizedValue:e,next:null},hu===null){if(Mp===null)throw Error(Re(308));hu=t,Mp.dependencies={lanes:0,firstContext:t}}else hu=hu.next=t;return e}var Ba=null;function CS(t){Ba===null?Ba=[t]:Ba.push(t)}function RN(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,CS(e)):(r.next=i.next,i.next=r),e.interleaved=r,Zo(t,n)}function Zo(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ss=!1;function OS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function js(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Pt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Zo(t,r)}return i=n.interleaved,i===null?(e.next=e,CS(n)):(e.next=i.next,i.next=e),n.interleaved=e,Zo(t,r)}function Z0(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,dS(t,r)}}function w3(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function kp(t,e,r,n){var i=t.updateQueue;Ss=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,A=l.next;l.next=null,s===null?o=A:s.next=A,s=l;var p=t.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==s&&(a===null?p.firstBaseUpdate=A:a.next=A,p.lastBaseUpdate=l))}if(o!==null){var g=i.baseState;s=0,p=A=l=null,a=o;do{var v=a.lane,b=a.eventTime;if((n&v)===v){p!==null&&(p=p.next={eventTime:b,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,E=a;switch(v=e,b=r,E.tag){case 1:if(S=E.payload,typeof S=="function"){g=S.call(b,g,v);break e}g=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=E.payload,v=typeof S=="function"?S.call(b,g,v):S,v==null)break e;g=pr({},g,v);break e;case 2:Ss=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[a]:v.push(a))}else b={eventTime:b,lane:v,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(A=p=b,l=g):p=p.next=b,s|=v;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;v=a,a=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(1);if(p===null&&(l=g),i.baseState=l,i.firstBaseUpdate=A,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);el|=s,t.lanes=s,t.memoizedState=g}}function S3(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Re(191,i));i.call(n)}}}var qh={},bo=na(qh),Uf=na(qh),jf=na(qh);function Fa(t){if(t===qh)throw Error(Re(174));return t}function RS(t,e){switch(tr(jf,e),tr(Uf,t),tr(bo,qh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:U1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=U1(e,t)}sr(bo),tr(bo,e)}function Yu(){sr(bo),sr(Uf),sr(jf)}function kN(t){Fa(jf.current);var e=Fa(bo.current),r=U1(e,t.type);e!==r&&(tr(Uf,t),tr(bo,r))}function MS(t){Uf.current===t&&(sr(bo),sr(Uf))}var fr=na(0);function Ip(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var r_=[];function kS(){for(var t=0;t<r_.length;t++)r_[t]._workInProgressVersionPrimary=null;r_.length=0}var J0=os.ReactCurrentDispatcher,n_=os.ReactCurrentBatchConfig,Ja=0,dr=null,Fr=null,Wr=null,Np=!1,uf=!1,zf=0,M7=0;function ln(){throw Error(Re(321))}function IS(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Gi(t[r],e[r]))return!1;return!0}function NS(t,e,r,n,i,o){if(Ja=o,dr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,J0.current=t===null||t.memoizedState===null?D7:B7,t=r(n,i),uf){o=0;do{if(uf=!1,zf=0,25<=o)throw Error(Re(301));o+=1,Wr=Fr=null,e.updateQueue=null,J0.current=F7,t=r(n,i)}while(uf)}if(J0.current=Dp,e=Fr!==null&&Fr.next!==null,Ja=0,Wr=Fr=dr=null,Np=!1,e)throw Error(Re(300));return t}function DS(){var t=zf!==0;return zf=0,t}function co(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?dr.memoizedState=Wr=t:Wr=Wr.next=t,Wr}function wi(){if(Fr===null){var t=dr.alternate;t=t!==null?t.memoizedState:null}else t=Fr.next;var e=Wr===null?dr.memoizedState:Wr.next;if(e!==null)Wr=e,Fr=t;else{if(t===null)throw Error(Re(310));Fr=t,t={memoizedState:Fr.memoizedState,baseState:Fr.baseState,baseQueue:Fr.baseQueue,queue:Fr.queue,next:null},Wr===null?dr.memoizedState=Wr=t:Wr=Wr.next=t}return Wr}function Vf(t,e){return typeof e=="function"?e(t):e}function i_(t){var e=wi(),r=e.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=t;var n=Fr,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,l=null,A=o;do{var p=A.lane;if((Ja&p)===p)l!==null&&(l=l.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),n=A.hasEagerState?A.eagerState:t(n,A.action);else{var g={lane:p,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};l===null?(a=l=g,s=n):l=l.next=g,dr.lanes|=p,el|=p}A=A.next}while(A!==null&&A!==o);l===null?s=n:l.next=a,Gi(n,e.memoizedState)||(Nn=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,dr.lanes|=o,el|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function o_(t){var e=wi(),r=e.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Gi(o,e.memoizedState)||(Nn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function IN(){}function NN(t,e){var r=dr,n=wi(),i=e(),o=!Gi(n.memoizedState,i);if(o&&(n.memoizedState=i,Nn=!0),n=n.queue,BS(FN.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Wr!==null&&Wr.memoizedState.tag&1){if(r.flags|=2048,Wf(9,BN.bind(null,r,n,i,e),void 0,null),Hr===null)throw Error(Re(349));Ja&30||DN(r,e,i)}return i}function DN(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=dr.updateQueue,e===null?(e={lastEffect:null,stores:null},dr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function BN(t,e,r,n){e.value=r,e.getSnapshot=n,LN(e)&&$N(t)}function FN(t,e,r){return r(function(){LN(e)&&$N(t)})}function LN(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Gi(t,r)}catch{return!0}}function $N(t){var e=Zo(t,1);e!==null&&Yi(e,t,1,-1)}function E3(t){var e=co();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vf,lastRenderedState:t},e.queue=t,t=t.dispatch=N7.bind(null,dr,t),[e.memoizedState,t]}function Wf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=dr.updateQueue,e===null?(e={lastEffect:null,stores:null},dr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function UN(){return wi().memoizedState}function ep(t,e,r,n){var i=co();dr.flags|=t,i.memoizedState=Wf(1|e,r,void 0,n===void 0?null:n)}function Im(t,e,r,n){var i=wi();n=n===void 0?null:n;var o=void 0;if(Fr!==null){var s=Fr.memoizedState;if(o=s.destroy,n!==null&&IS(n,s.deps)){i.memoizedState=Wf(e,r,o,n);return}}dr.flags|=t,i.memoizedState=Wf(1|e,r,o,n)}function T3(t,e){return ep(8390656,8,t,e)}function BS(t,e){return Im(2048,8,t,e)}function jN(t,e){return Im(4,2,t,e)}function zN(t,e){return Im(4,4,t,e)}function VN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WN(t,e,r){return r=r!=null?r.concat([t]):null,Im(4,4,VN.bind(null,e,t),r)}function FS(){}function HN(t,e){var r=wi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&IS(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function XN(t,e){var r=wi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&IS(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function YN(t,e,r){return Ja&21?(Gi(r,e)||(r=Z4(),dr.lanes|=r,el|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nn=!0),t.memoizedState=r)}function k7(t,e){var r=Ut;Ut=r!==0&&4>r?r:4,t(!0);var n=n_.transition;n_.transition={};try{t(!1),e()}finally{Ut=r,n_.transition=n}}function KN(){return wi().memoizedState}function I7(t,e,r){var n=Vs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},QN(t))qN(e,r);else if(r=RN(t,e,r,n),r!==null){var i=Tn();Yi(r,t,n,i),GN(r,e,n)}}function N7(t,e,r){var n=Vs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(QN(t))qN(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,Gi(a,s)){var l=e.interleaved;l===null?(i.next=i,CS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=RN(t,e,i,n),r!==null&&(i=Tn(),Yi(r,t,n,i),GN(r,e,n))}}function QN(t){var e=t.alternate;return t===dr||e!==null&&e===dr}function qN(t,e){uf=Np=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function GN(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,dS(t,r)}}var Dp={readContext:bi,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},D7={readContext:bi,useCallback:function(t,e){return co().memoizedState=[t,e===void 0?null:e],t},useContext:bi,useEffect:T3,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ep(4194308,4,VN.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ep(4194308,4,t,e)},useInsertionEffect:function(t,e){return ep(4,2,t,e)},useMemo:function(t,e){var r=co();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=co();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=I7.bind(null,dr,t),[n.memoizedState,t]},useRef:function(t){var e=co();return t={current:t},e.memoizedState=t},useState:E3,useDebugValue:FS,useDeferredValue:function(t){return co().memoizedState=t},useTransition:function(){var t=E3(!1),e=t[0];return t=k7.bind(null,t[1]),co().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=dr,i=co();if(lr){if(r===void 0)throw Error(Re(407));r=r()}else{if(r=e(),Hr===null)throw Error(Re(349));Ja&30||DN(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,T3(FN.bind(null,n,o,t),[t]),n.flags|=2048,Wf(9,BN.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=co(),e=Hr.identifierPrefix;if(lr){var r=jo,n=Uo;r=(n&~(1<<32-Xi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=zf++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=M7++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},B7={readContext:bi,useCallback:HN,useContext:bi,useEffect:BS,useImperativeHandle:WN,useInsertionEffect:jN,useLayoutEffect:zN,useMemo:XN,useReducer:i_,useRef:UN,useState:function(){return i_(Vf)},useDebugValue:FS,useDeferredValue:function(t){var e=wi();return YN(e,Fr.memoizedState,t)},useTransition:function(){var t=i_(Vf)[0],e=wi().memoizedState;return[t,e]},useMutableSource:IN,useSyncExternalStore:NN,useId:KN,unstable_isNewReconciler:!1},F7={readContext:bi,useCallback:HN,useContext:bi,useEffect:BS,useImperativeHandle:WN,useInsertionEffect:jN,useLayoutEffect:zN,useMemo:XN,useReducer:o_,useRef:UN,useState:function(){return o_(Vf)},useDebugValue:FS,useDeferredValue:function(t){var e=wi();return Fr===null?e.memoizedState=t:YN(e,Fr.memoizedState,t)},useTransition:function(){var t=o_(Vf)[0],e=wi().memoizedState;return[t,e]},useMutableSource:IN,useSyncExternalStore:NN,useId:KN,unstable_isNewReconciler:!1};function Ni(t,e){if(t&&t.defaultProps){e=pr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ab(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:pr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Nm={isMounted:function(t){return(t=t._reactInternals)?hl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Tn(),i=Vs(t),o=Yo(n,i);o.payload=e,r!=null&&(o.callback=r),e=js(t,o,i),e!==null&&(Yi(e,t,i,n),Z0(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Tn(),i=Vs(t),o=Yo(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=js(t,o,i),e!==null&&(Yi(e,t,i,n),Z0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Tn(),n=Vs(t),i=Yo(r,n);i.tag=2,e!=null&&(i.callback=e),e=js(t,i,n),e!==null&&(Yi(e,t,n,r),Z0(e,t,n))}};function x3(t,e,r,n,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,s):e.prototype&&e.prototype.isPureReactComponent?!Bf(r,n)||!Bf(i,o):!0}function ZN(t,e,r){var n=!1,i=Zs,o=e.contextType;return typeof o=="object"&&o!==null?o=bi(o):(i=Fn(e)?Ga:yn.current,n=e.contextTypes,o=(n=n!=null)?Wu(t,i):Zs),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nm,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function P3(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Nm.enqueueReplaceState(e,e.state,null)}function lb(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},OS(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=bi(o):(o=Fn(e)?Ga:yn.current,i.context=Wu(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ab(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Nm.enqueueReplaceState(i,i.state,null),kp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ku(t,e){try{var r="",n=e;do r+=Aj(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function s_(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ub(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var L7=typeof WeakMap=="function"?WeakMap:Map;function JN(t,e,r){r=Yo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Fp||(Fp=!0,vb=n),ub(t,e)},r}function eD(t,e,r){r=Yo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){ub(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){ub(t,e),typeof n!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}function C3(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new L7;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Z7.bind(null,t,e,r),e.then(t,t))}function O3(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function R3(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Yo(-1,1),e.tag=2,js(r,e,1))),r.lanes|=1),t)}var $7=os.ReactCurrentOwner,Nn=!1;function Sn(t,e,r,n){e.child=t===null?ON(e,null,r,n):Xu(e,t.child,r,n)}function M3(t,e,r,n,i){r=r.render;var o=e.ref;return Mu(e,i),n=NS(t,e,r,n,o,i),r=DS(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jo(t,e,i)):(lr&&r&&wS(e),e.flags|=1,Sn(t,e,n,i),e.child)}function k3(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!HS(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,tD(t,e,o,n,i)):(t=ip(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:Bf,r(s,n)&&t.ref===e.ref)return Jo(t,e,i)}return e.flags|=1,t=Ws(o,n),t.ref=e.ref,t.return=e,e.child=t}function tD(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(Bf(o,n)&&t.ref===e.ref)if(Nn=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(Nn=!0);else return e.lanes=t.lanes,Jo(t,e,i)}return cb(t,e,r,n,i)}function rD(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tr(pu,Hn),Hn|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tr(pu,Hn),Hn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,tr(pu,Hn),Hn|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,tr(pu,Hn),Hn|=n;return Sn(t,e,i,r),e.child}function nD(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function cb(t,e,r,n,i){var o=Fn(r)?Ga:yn.current;return o=Wu(e,o),Mu(e,i),r=NS(t,e,r,n,o,i),n=DS(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jo(t,e,i)):(lr&&n&&wS(e),e.flags|=1,Sn(t,e,r,i),e.child)}function I3(t,e,r,n,i){if(Fn(r)){var o=!0;Pp(e)}else o=!1;if(Mu(e,i),e.stateNode===null)tp(t,e),ZN(e,r,n),lb(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,A=r.contextType;typeof A=="object"&&A!==null?A=bi(A):(A=Fn(r)?Ga:yn.current,A=Wu(e,A));var p=r.getDerivedStateFromProps,g=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";g||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==A)&&P3(e,s,n,A),Ss=!1;var v=e.memoizedState;s.state=v,kp(e,n,s,i),l=e.memoizedState,a!==n||v!==l||Bn.current||Ss?(typeof p=="function"&&(ab(e,r,p,n),l=e.memoizedState),(a=Ss||x3(e,r,a,n,v,l,A))?(g||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),s.props=n,s.state=l,s.context=A,n=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,MN(t,e),a=e.memoizedProps,A=e.type===e.elementType?a:Ni(e.type,a),s.props=A,g=e.pendingProps,v=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=bi(l):(l=Fn(r)?Ga:yn.current,l=Wu(e,l));var b=r.getDerivedStateFromProps;(p=typeof b=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==g||v!==l)&&P3(e,s,n,l),Ss=!1,v=e.memoizedState,s.state=v,kp(e,n,s,i);var S=e.memoizedState;a!==g||v!==S||Bn.current||Ss?(typeof b=="function"&&(ab(e,r,b,n),S=e.memoizedState),(A=Ss||x3(e,r,A,n,v,S,l)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,S,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,S,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=S),s.props=n,s.state=S,s.context=l,n=A):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),n=!1)}return Ab(t,e,r,n,o,i)}function Ab(t,e,r,n,i,o){nD(t,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&y3(e,r,!1),Jo(t,e,o);n=e.stateNode,$7.current=e;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Xu(e,t.child,null,o),e.child=Xu(e,null,a,o)):Sn(t,e,a,o),e.memoizedState=n.state,i&&y3(e,r,!0),e.child}function iD(t){var e=t.stateNode;e.pendingContext?m3(t,e.pendingContext,e.pendingContext!==e.context):e.context&&m3(t,e.context,!1),RS(t,e.containerInfo)}function N3(t,e,r,n,i){return Hu(),ES(i),e.flags|=256,Sn(t,e,r,n),e.child}var fb={dehydrated:null,treeContext:null,retryLane:0};function hb(t){return{baseLanes:t,cachePool:null,transitions:null}}function oD(t,e,r){var n=e.pendingProps,i=fr.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tr(fr,i&1),t===null)return ob(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,t=n.fallback,o?(n=e.mode,o=e.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Fm(s,n,0,null),t=Ha(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=hb(r),e.memoizedState=fb,t):LS(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return U7(t,e,s,n,a,i,r);if(o){o=n.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ws(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ws(a,o):(o=Ha(o,s,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,s=t.child.memoizedState,s=s===null?hb(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~r,e.memoizedState=fb,n}return o=t.child,t=o.sibling,n=Ws(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function LS(t,e){return e=Fm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function i0(t,e,r,n){return n!==null&&ES(n),Xu(e,t.child,null,r),t=LS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function U7(t,e,r,n,i,o,s){if(r)return e.flags&256?(e.flags&=-257,n=s_(Error(Re(422))),i0(t,e,s,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=Fm({mode:"visible",children:n.children},i,0,null),o=Ha(o,i,s,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Xu(e,t.child,null,s),e.child.memoizedState=hb(s),e.memoizedState=fb,o);if(!(e.mode&1))return i0(t,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(Re(419)),n=s_(o,n,void 0),i0(t,e,s,n)}if(a=(s&t.childLanes)!==0,Nn||a){if(n=Hr,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Zo(t,i),Yi(n,t,i,-1))}return WS(),n=s_(Error(Re(421))),i0(t,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=J7.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,qn=Us(i.nextSibling),Zn=e,lr=!0,Li=null,t!==null&&(Ai[fi++]=Uo,Ai[fi++]=jo,Ai[fi++]=Za,Uo=t.id,jo=t.overflow,Za=e),e=LS(e,n.children),e.flags|=4096,e)}function D3(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),sb(t.return,e,r)}function a_(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function sD(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(Sn(t,e,n.children,r),n=fr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D3(t,r,e);else if(t.tag===19)D3(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(tr(fr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ip(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),a_(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ip(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}a_(e,!0,r,null,o);break;case"together":a_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),el|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Re(153));if(e.child!==null){for(t=e.child,r=Ws(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ws(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function j7(t,e,r){switch(e.tag){case 3:iD(e),Hu();break;case 5:kN(e);break;case 1:Fn(e.type)&&Pp(e);break;case 4:RS(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;tr(Rp,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(tr(fr,fr.current&1),e.flags|=128,null):r&e.child.childLanes?oD(t,e,r):(tr(fr,fr.current&1),t=Jo(t,e,r),t!==null?t.sibling:null);tr(fr,fr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return sD(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tr(fr,fr.current),n)break;return null;case 22:case 23:return e.lanes=0,rD(t,e,r)}return Jo(t,e,r)}var aD,db,lD,uD;aD=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};db=function(){};lD=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Fa(bo.current);var o=null;switch(r){case"input":i=B1(t,i),n=B1(t,n),o=[];break;case"select":i=pr({},i,{value:void 0}),n=pr({},n,{value:void 0}),o=[];break;case"textarea":i=$1(t,i),n=$1(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Tp)}j1(r,n);var s;r=null;for(A in i)if(!n.hasOwnProperty(A)&&i.hasOwnProperty(A)&&i[A]!=null)if(A==="style"){var a=i[A];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(Of.hasOwnProperty(A)?o||(o=[]):(o=o||[]).push(A,null));for(A in n){var l=n[A];if(a=i!=null?i[A]:void 0,n.hasOwnProperty(A)&&l!==a&&(l!=null||a!=null))if(A==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(A,r)),r=l;else A==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(A,l)):A==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(A,""+l):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(Of.hasOwnProperty(A)?(l!=null&&A==="onScroll"&&nr("scroll",t),o||a===l||(o=[])):(o=o||[]).push(A,l))}r&&(o=o||[]).push("style",r);var A=o;(e.updateQueue=A)&&(e.flags|=4)}};uD=function(t,e,r,n){r!==n&&(e.flags|=4)};function bA(t,e){if(!lr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function un(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function z7(t,e,r){var n=e.pendingProps;switch(SS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(e),null;case 1:return Fn(e.type)&&xp(),un(e),null;case 3:return n=e.stateNode,Yu(),sr(Bn),sr(yn),kS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(r0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Li!==null&&(wb(Li),Li=null))),db(t,e),un(e),null;case 5:MS(e);var i=Fa(jf.current);if(r=e.type,t!==null&&e.stateNode!=null)lD(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Re(166));return un(e),null}if(t=Fa(bo.current),r0(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[ho]=e,n[$f]=o,t=(e.mode&1)!==0,r){case"dialog":nr("cancel",n),nr("close",n);break;case"iframe":case"object":case"embed":nr("load",n);break;case"video":case"audio":for(i=0;i<YA.length;i++)nr(YA[i],n);break;case"source":nr("error",n);break;case"img":case"image":case"link":nr("error",n),nr("load",n);break;case"details":nr("toggle",n);break;case"input":Wx(n,o),nr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},nr("invalid",n);break;case"textarea":Xx(n,o),nr("invalid",n)}j1(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&t0(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&t0(n.textContent,a,t),i=["children",""+a]):Of.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&nr("scroll",n)}switch(r){case"input":Yd(n),Hx(n,o,!0);break;case"textarea":Yd(n),Yx(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Tp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=F4(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[ho]=e,t[$f]=n,aD(t,e,!1,!1),e.stateNode=t;e:{switch(s=z1(r,n),r){case"dialog":nr("cancel",t),nr("close",t),i=n;break;case"iframe":case"object":case"embed":nr("load",t),i=n;break;case"video":case"audio":for(i=0;i<YA.length;i++)nr(YA[i],t);i=n;break;case"source":nr("error",t),i=n;break;case"img":case"image":case"link":nr("error",t),nr("load",t),i=n;break;case"details":nr("toggle",t),i=n;break;case"input":Wx(t,n),i=B1(t,n),nr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=pr({},n,{value:void 0}),nr("invalid",t);break;case"textarea":Xx(t,n),i=$1(t,n),nr("invalid",t);break;default:i=n}j1(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?U4(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&L4(t,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Rf(t,l):typeof l=="number"&&Rf(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Of.hasOwnProperty(o)?l!=null&&o==="onScroll"&&nr("scroll",t):l!=null&&lS(t,o,l,s))}switch(r){case"input":Yd(t),Hx(t,n,!1);break;case"textarea":Yd(t),Yx(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Gs(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Pu(t,!!n.multiple,o,!1):n.defaultValue!=null&&Pu(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Tp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return un(e),null;case 6:if(t&&e.stateNode!=null)uD(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Re(166));if(r=Fa(jf.current),Fa(bo.current),r0(e)){if(n=e.stateNode,r=e.memoizedProps,n[ho]=e,(o=n.nodeValue!==r)&&(t=Zn,t!==null))switch(t.tag){case 3:t0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&t0(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ho]=e,e.stateNode=n}return un(e),null;case 13:if(sr(fr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lr&&qn!==null&&e.mode&1&&!(e.flags&128))PN(),Hu(),e.flags|=98560,o=!1;else if(o=r0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(Re(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Re(317));o[ho]=e}else Hu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;un(e),o=!1}else Li!==null&&(wb(Li),Li=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||fr.current&1?$r===0&&($r=3):WS())),e.updateQueue!==null&&(e.flags|=4),un(e),null);case 4:return Yu(),db(t,e),t===null&&Ff(e.stateNode.containerInfo),un(e),null;case 10:return PS(e.type._context),un(e),null;case 17:return Fn(e.type)&&xp(),un(e),null;case 19:if(sr(fr),o=e.memoizedState,o===null)return un(e),null;if(n=(e.flags&128)!==0,s=o.rendering,s===null)if(n)bA(o,!1);else{if($r!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ip(t),s!==null){for(e.flags|=128,bA(o,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return tr(fr,fr.current&1|2),e.child}t=t.sibling}o.tail!==null&&wr()>Qu&&(e.flags|=128,n=!0,bA(o,!1),e.lanes=4194304)}else{if(!n)if(t=Ip(s),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),bA(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!lr)return un(e),null}else 2*wr()-o.renderingStartTime>Qu&&r!==1073741824&&(e.flags|=128,n=!0,bA(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(r=o.last,r!==null?r.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=wr(),e.sibling=null,r=fr.current,tr(fr,n?r&1|2:r&1),e):(un(e),null);case 22:case 23:return VS(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Hn&1073741824&&(un(e),e.subtreeFlags&6&&(e.flags|=8192)):un(e),null;case 24:return null;case 25:return null}throw Error(Re(156,e.tag))}function V7(t,e){switch(SS(e),e.tag){case 1:return Fn(e.type)&&xp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yu(),sr(Bn),sr(yn),kS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return MS(e),null;case 13:if(sr(fr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Re(340));Hu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return sr(fr),null;case 4:return Yu(),null;case 10:return PS(e.type._context),null;case 22:case 23:return VS(),null;case 24:return null;default:return null}}var o0=!1,pn=!1,W7=typeof WeakSet=="function"?WeakSet:Set,je=null;function du(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_r(t,e,n)}else r.current=null}function pb(t,e,r){try{r()}catch(n){_r(t,e,n)}}var B3=!1;function H7(t,e){if(Z1=wp,t=dN(),bS(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,A=0,p=0,g=t,v=null;t:for(;;){for(var b;g!==r||i!==0&&g.nodeType!==3||(a=s+i),g!==o||n!==0&&g.nodeType!==3||(l=s+n),g.nodeType===3&&(s+=g.nodeValue.length),(b=g.firstChild)!==null;)v=g,g=b;for(;;){if(g===t)break t;if(v===r&&++A===i&&(a=s),v===o&&++p===n&&(l=s),(b=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=b}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(J1={focusedElem:t,selectionRange:r},wp=!1,je=e;je!==null;)if(e=je,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,je=t;else for(;je!==null;){e=je;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var E=S.memoizedProps,C=S.memoizedState,x=e.stateNode,P=x.getSnapshotBeforeUpdate(e.elementType===e.type?E:Ni(e.type,E),C);x.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(M){_r(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,je=t;break}je=e.return}return S=B3,B3=!1,S}function cf(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&pb(e,r,o)}i=i.next}while(i!==n)}}function Dm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function gb(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function cD(t){var e=t.alternate;e!==null&&(t.alternate=null,cD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ho],delete e[$f],delete e[rb],delete e[P7],delete e[C7])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function AD(t){return t.tag===5||t.tag===3||t.tag===4}function F3(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||AD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mb(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Tp));else if(n!==4&&(t=t.child,t!==null))for(mb(t,e,r),t=t.sibling;t!==null;)mb(t,e,r),t=t.sibling}function yb(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(yb(t,e,r),t=t.sibling;t!==null;)yb(t,e,r),t=t.sibling}var Zr=null,Di=!1;function ms(t,e,r){for(r=r.child;r!==null;)fD(t,e,r),r=r.sibling}function fD(t,e,r){if(_o&&typeof _o.onCommitFiberUnmount=="function")try{_o.onCommitFiberUnmount(Pm,r)}catch{}switch(r.tag){case 5:pn||du(r,e);case 6:var n=Zr,i=Di;Zr=null,ms(t,e,r),Zr=n,Di=i,Zr!==null&&(Di?(t=Zr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Zr.removeChild(r.stateNode));break;case 18:Zr!==null&&(Di?(t=Zr,r=r.stateNode,t.nodeType===8?e_(t.parentNode,r):t.nodeType===1&&e_(t,r),Nf(t)):e_(Zr,r.stateNode));break;case 4:n=Zr,i=Di,Zr=r.stateNode.containerInfo,Di=!0,ms(t,e,r),Zr=n,Di=i;break;case 0:case 11:case 14:case 15:if(!pn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&pb(r,e,s),i=i.next}while(i!==n)}ms(t,e,r);break;case 1:if(!pn&&(du(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){_r(r,e,a)}ms(t,e,r);break;case 21:ms(t,e,r);break;case 22:r.mode&1?(pn=(n=pn)||r.memoizedState!==null,ms(t,e,r),pn=n):ms(t,e,r);break;default:ms(t,e,r)}}function L3(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new W7),e.forEach(function(n){var i=e9.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ki(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Zr=a.stateNode,Di=!1;break e;case 3:Zr=a.stateNode.containerInfo,Di=!0;break e;case 4:Zr=a.stateNode.containerInfo,Di=!0;break e}a=a.return}if(Zr===null)throw Error(Re(160));fD(o,s,i),Zr=null,Di=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(A){_r(i,e,A)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hD(e,t),e=e.sibling}function hD(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ki(e,t),no(t),n&4){try{cf(3,t,t.return),Dm(3,t)}catch(E){_r(t,t.return,E)}try{cf(5,t,t.return)}catch(E){_r(t,t.return,E)}}break;case 1:ki(e,t),no(t),n&512&&r!==null&&du(r,r.return);break;case 5:if(ki(e,t),no(t),n&512&&r!==null&&du(r,r.return),t.flags&32){var i=t.stateNode;try{Rf(i,"")}catch(E){_r(t,t.return,E)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=r!==null?r.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&D4(i,o),z1(a,s);var A=z1(a,o);for(s=0;s<l.length;s+=2){var p=l[s],g=l[s+1];p==="style"?U4(i,g):p==="dangerouslySetInnerHTML"?L4(i,g):p==="children"?Rf(i,g):lS(i,p,g,A)}switch(a){case"input":F1(i,o);break;case"textarea":B4(i,o);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var b=o.value;b!=null?Pu(i,!!o.multiple,b,!1):v!==!!o.multiple&&(o.defaultValue!=null?Pu(i,!!o.multiple,o.defaultValue,!0):Pu(i,!!o.multiple,o.multiple?[]:"",!1))}i[$f]=o}catch(E){_r(t,t.return,E)}}break;case 6:if(ki(e,t),no(t),n&4){if(t.stateNode===null)throw Error(Re(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(E){_r(t,t.return,E)}}break;case 3:if(ki(e,t),no(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Nf(e.containerInfo)}catch(E){_r(t,t.return,E)}break;case 4:ki(e,t),no(t);break;case 13:ki(e,t),no(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(jS=wr())),n&4&&L3(t);break;case 22:if(p=r!==null&&r.memoizedState!==null,t.mode&1?(pn=(A=pn)||p,ki(e,t),pn=A):ki(e,t),no(t),n&8192){if(A=t.memoizedState!==null,(t.stateNode.isHidden=A)&&!p&&t.mode&1)for(je=t,p=t.child;p!==null;){for(g=je=p;je!==null;){switch(v=je,b=v.child,v.tag){case 0:case 11:case 14:case 15:cf(4,v,v.return);break;case 1:du(v,v.return);var S=v.stateNode;if(typeof S.componentWillUnmount=="function"){n=v,r=v.return;try{e=n,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(E){_r(n,r,E)}}break;case 5:du(v,v.return);break;case 22:if(v.memoizedState!==null){U3(g);continue}}b!==null?(b.return=v,je=b):U3(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{i=g.stateNode,A?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=g.stateNode,l=g.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$4("display",s))}catch(E){_r(t,t.return,E)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=A?"":g.memoizedProps}catch(E){_r(t,t.return,E)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:ki(e,t),no(t),n&4&&L3(t);break;case 21:break;default:ki(e,t),no(t)}}function no(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(AD(r)){var n=r;break e}r=r.return}throw Error(Re(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Rf(i,""),n.flags&=-33);var o=F3(t);yb(t,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=F3(t);mb(t,a,s);break;default:throw Error(Re(161))}}catch(l){_r(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function X7(t,e,r){je=t,dD(t)}function dD(t,e,r){for(var n=(t.mode&1)!==0;je!==null;){var i=je,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||o0;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||pn;a=o0;var A=pn;if(o0=s,(pn=l)&&!A)for(je=i;je!==null;)s=je,l=s.child,s.tag===22&&s.memoizedState!==null?j3(i):l!==null?(l.return=s,je=l):j3(i);for(;o!==null;)je=o,dD(o),o=o.sibling;je=i,o0=a,pn=A}$3(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,je=o):$3(t)}}function $3(t){for(;je!==null;){var e=je;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pn||Dm(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!pn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ni(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&S3(e,o,n);break;case 3:var s=e.updateQueue;if(s!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}S3(e,s,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var A=e.alternate;if(A!==null){var p=A.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&Nf(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}pn||e.flags&512&&gb(e)}catch(v){_r(e,e.return,v)}}if(e===t){je=null;break}if(r=e.sibling,r!==null){r.return=e.return,je=r;break}je=e.return}}function U3(t){for(;je!==null;){var e=je;if(e===t){je=null;break}var r=e.sibling;if(r!==null){r.return=e.return,je=r;break}je=e.return}}function j3(t){for(;je!==null;){var e=je;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Dm(4,e)}catch(l){_r(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){_r(e,i,l)}}var o=e.return;try{gb(e)}catch(l){_r(e,o,l)}break;case 5:var s=e.return;try{gb(e)}catch(l){_r(e,s,l)}}}catch(l){_r(e,e.return,l)}if(e===t){je=null;break}var a=e.sibling;if(a!==null){a.return=e.return,je=a;break}je=e.return}}var Y7=Math.ceil,Bp=os.ReactCurrentDispatcher,$S=os.ReactCurrentOwner,mi=os.ReactCurrentBatchConfig,Pt=0,Hr=null,kr=null,tn=0,Hn=0,pu=na(0),$r=0,Hf=null,el=0,Bm=0,US=0,Af=null,In=null,jS=0,Qu=1/0,Do=null,Fp=!1,vb=null,zs=null,s0=!1,Ms=null,Lp=0,ff=0,_b=null,rp=-1,np=0;function Tn(){return Pt&6?wr():rp!==-1?rp:rp=wr()}function Vs(t){return t.mode&1?Pt&2&&tn!==0?tn&-tn:R7.transition!==null?(np===0&&(np=Z4()),np):(t=Ut,t!==0||(t=window.event,t=t===void 0?16:oN(t.type)),t):1}function Yi(t,e,r,n){if(50<ff)throw ff=0,_b=null,Error(Re(185));Yh(t,r,n),(!(Pt&2)||t!==Hr)&&(t===Hr&&(!(Pt&2)&&(Bm|=r),$r===4&&Cs(t,tn)),Ln(t,n),r===1&&Pt===0&&!(e.mode&1)&&(Qu=wr()+500,km&&ia()))}function Ln(t,e){var r=t.callbackNode;Rj(t,e);var n=bp(t,t===Hr?tn:0);if(n===0)r!==null&&qx(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&qx(r),e===1)t.tag===0?O7(z3.bind(null,t)):EN(z3.bind(null,t)),T7(function(){!(Pt&6)&&ia()}),r=null;else{switch(J4(n)){case 1:r=hS;break;case 4:r=q4;break;case 16:r=_p;break;case 536870912:r=G4;break;default:r=_p}r=wD(r,pD.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function pD(t,e){if(rp=-1,np=0,Pt&6)throw Error(Re(327));var r=t.callbackNode;if(ku()&&t.callbackNode!==r)return null;var n=bp(t,t===Hr?tn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=$p(t,n);else{e=n;var i=Pt;Pt|=2;var o=mD();(Hr!==t||tn!==e)&&(Do=null,Qu=wr()+500,Wa(t,e));do try{q7();break}catch(a){gD(t,a)}while(1);xS(),Bp.current=o,Pt=i,kr!==null?e=0:(Hr=null,tn=0,e=$r)}if(e!==0){if(e===2&&(i=Y1(t),i!==0&&(n=i,e=bb(t,i))),e===1)throw r=Hf,Wa(t,0),Cs(t,n),Ln(t,wr()),r;if(e===6)Cs(t,n);else{if(i=t.current.alternate,!(n&30)&&!K7(i)&&(e=$p(t,n),e===2&&(o=Y1(t),o!==0&&(n=o,e=bb(t,o))),e===1))throw r=Hf,Wa(t,0),Cs(t,n),Ln(t,wr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Re(345));case 2:Ta(t,In,Do);break;case 3:if(Cs(t,n),(n&130023424)===n&&(e=jS+500-wr(),10<e)){if(bp(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Tn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tb(Ta.bind(null,t,In,Do),e);break}Ta(t,In,Do);break;case 4:if(Cs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var s=31-Xi(n);o=1<<s,s=e[s],s>i&&(i=s),n&=~o}if(n=i,n=wr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Y7(n/1960))-n,10<n){t.timeoutHandle=tb(Ta.bind(null,t,In,Do),n);break}Ta(t,In,Do);break;case 5:Ta(t,In,Do);break;default:throw Error(Re(329))}}}return Ln(t,wr()),t.callbackNode===r?pD.bind(null,t):null}function bb(t,e){var r=Af;return t.current.memoizedState.isDehydrated&&(Wa(t,e).flags|=256),t=$p(t,e),t!==2&&(e=In,In=r,e!==null&&wb(e)),t}function wb(t){In===null?In=t:In.push.apply(In,t)}function K7(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Gi(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cs(t,e){for(e&=~US,e&=~Bm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Xi(e),n=1<<r;t[r]=-1,e&=~n}}function z3(t){if(Pt&6)throw Error(Re(327));ku();var e=bp(t,0);if(!(e&1))return Ln(t,wr()),null;var r=$p(t,e);if(t.tag!==0&&r===2){var n=Y1(t);n!==0&&(e=n,r=bb(t,n))}if(r===1)throw r=Hf,Wa(t,0),Cs(t,e),Ln(t,wr()),r;if(r===6)throw Error(Re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ta(t,In,Do),Ln(t,wr()),null}function zS(t,e){var r=Pt;Pt|=1;try{return t(e)}finally{Pt=r,Pt===0&&(Qu=wr()+500,km&&ia())}}function tl(t){Ms!==null&&Ms.tag===0&&!(Pt&6)&&ku();var e=Pt;Pt|=1;var r=mi.transition,n=Ut;try{if(mi.transition=null,Ut=1,t)return t()}finally{Ut=n,mi.transition=r,Pt=e,!(Pt&6)&&ia()}}function VS(){Hn=pu.current,sr(pu)}function Wa(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,E7(r)),kr!==null)for(r=kr.return;r!==null;){var n=r;switch(SS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xp();break;case 3:Yu(),sr(Bn),sr(yn),kS();break;case 5:MS(n);break;case 4:Yu();break;case 13:sr(fr);break;case 19:sr(fr);break;case 10:PS(n.type._context);break;case 22:case 23:VS()}r=r.return}if(Hr=t,kr=t=Ws(t.current,null),tn=Hn=e,$r=0,Hf=null,US=Bm=el=0,In=Af=null,Ba!==null){for(e=0;e<Ba.length;e++)if(r=Ba[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}Ba=null}return t}function gD(t,e){do{var r=kr;try{if(xS(),J0.current=Dp,Np){for(var n=dr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Np=!1}if(Ja=0,Wr=Fr=dr=null,uf=!1,zf=0,$S.current=null,r===null||r.return===null){$r=1,Hf=e,kr=null;break}e:{var o=t,s=r.return,a=r,l=e;if(e=tn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var A=l,p=a,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var v=p.alternate;v?(p.updateQueue=v.updateQueue,p.memoizedState=v.memoizedState,p.lanes=v.lanes):(p.updateQueue=null,p.memoizedState=null)}var b=O3(s);if(b!==null){b.flags&=-257,R3(b,s,a,o,e),b.mode&1&&C3(o,A,e),e=b,l=A;var S=e.updateQueue;if(S===null){var E=new Set;E.add(l),e.updateQueue=E}else S.add(l);break e}else{if(!(e&1)){C3(o,A,e),WS();break e}l=Error(Re(426))}}else if(lr&&a.mode&1){var C=O3(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),R3(C,s,a,o,e),ES(Ku(l,a));break e}}o=l=Ku(l,a),$r!==4&&($r=2),Af===null?Af=[o]:Af.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=JN(o,l,e);w3(o,x);break e;case 1:a=l;var P=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof P.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(zs===null||!zs.has(T)))){o.flags|=65536,e&=-e,o.lanes|=e;var M=eD(o,a,e);w3(o,M);break e}}o=o.return}while(o!==null)}vD(r)}catch(R){e=R,kr===r&&r!==null&&(kr=r=r.return);continue}break}while(1)}function mD(){var t=Bp.current;return Bp.current=Dp,t===null?Dp:t}function WS(){($r===0||$r===3||$r===2)&&($r=4),Hr===null||!(el&268435455)&&!(Bm&268435455)||Cs(Hr,tn)}function $p(t,e){var r=Pt;Pt|=2;var n=mD();(Hr!==t||tn!==e)&&(Do=null,Wa(t,e));do try{Q7();break}catch(i){gD(t,i)}while(1);if(xS(),Pt=r,Bp.current=n,kr!==null)throw Error(Re(261));return Hr=null,tn=0,$r}function Q7(){for(;kr!==null;)yD(kr)}function q7(){for(;kr!==null&&!bj();)yD(kr)}function yD(t){var e=bD(t.alternate,t,Hn);t.memoizedProps=t.pendingProps,e===null?vD(t):kr=e,$S.current=null}function vD(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=V7(r,e),r!==null){r.flags&=32767,kr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$r=6,kr=null;return}}else if(r=z7(r,e,Hn),r!==null){kr=r;return}if(e=e.sibling,e!==null){kr=e;return}kr=e=t}while(e!==null);$r===0&&($r=5)}function Ta(t,e,r){var n=Ut,i=mi.transition;try{mi.transition=null,Ut=1,G7(t,e,r,n)}finally{mi.transition=i,Ut=n}return null}function G7(t,e,r,n){do ku();while(Ms!==null);if(Pt&6)throw Error(Re(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Re(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(Mj(t,o),t===Hr&&(kr=Hr=null,tn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||s0||(s0=!0,wD(_p,function(){return ku(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=mi.transition,mi.transition=null;var s=Ut;Ut=1;var a=Pt;Pt|=4,$S.current=null,H7(t,r),hD(r,t),m7(J1),wp=!!Z1,J1=Z1=null,t.current=r,X7(r),wj(),Pt=a,Ut=s,mi.transition=o}else t.current=r;if(s0&&(s0=!1,Ms=t,Lp=i),o=t.pendingLanes,o===0&&(zs=null),Tj(r.stateNode),Ln(t,wr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Fp)throw Fp=!1,t=vb,vb=null,t;return Lp&1&&t.tag!==0&&ku(),o=t.pendingLanes,o&1?t===_b?ff++:(ff=0,_b=t):ff=0,ia(),null}function ku(){if(Ms!==null){var t=J4(Lp),e=mi.transition,r=Ut;try{if(mi.transition=null,Ut=16>t?16:t,Ms===null)var n=!1;else{if(t=Ms,Ms=null,Lp=0,Pt&6)throw Error(Re(331));var i=Pt;for(Pt|=4,je=t.current;je!==null;){var o=je,s=o.child;if(je.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var A=a[l];for(je=A;je!==null;){var p=je;switch(p.tag){case 0:case 11:case 15:cf(8,p,o)}var g=p.child;if(g!==null)g.return=p,je=g;else for(;je!==null;){p=je;var v=p.sibling,b=p.return;if(cD(p),p===A){je=null;break}if(v!==null){v.return=b,je=v;break}je=b}}}var S=o.alternate;if(S!==null){var E=S.child;if(E!==null){S.child=null;do{var C=E.sibling;E.sibling=null,E=C}while(E!==null)}}je=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,je=s;else e:for(;je!==null;){if(o=je,o.flags&2048)switch(o.tag){case 0:case 11:case 15:cf(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,je=x;break e}je=o.return}}var P=t.current;for(je=P;je!==null;){s=je;var T=s.child;if(s.subtreeFlags&2064&&T!==null)T.return=s,je=T;else e:for(s=P;je!==null;){if(a=je,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dm(9,a)}}catch(R){_r(a,a.return,R)}if(a===s){je=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,je=M;break e}je=a.return}}if(Pt=i,ia(),_o&&typeof _o.onPostCommitFiberRoot=="function")try{_o.onPostCommitFiberRoot(Pm,t)}catch{}n=!0}return n}finally{Ut=r,mi.transition=e}}return!1}function V3(t,e,r){e=Ku(r,e),e=JN(t,e,1),t=js(t,e,1),e=Tn(),t!==null&&(Yh(t,1,e),Ln(t,e))}function _r(t,e,r){if(t.tag===3)V3(t,t,r);else for(;e!==null;){if(e.tag===3){V3(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zs===null||!zs.has(n))){t=Ku(r,t),t=eD(e,t,1),e=js(e,t,1),t=Tn(),e!==null&&(Yh(e,1,t),Ln(e,t));break}}e=e.return}}function Z7(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Tn(),t.pingedLanes|=t.suspendedLanes&r,Hr===t&&(tn&r)===r&&($r===4||$r===3&&(tn&130023424)===tn&&500>wr()-jS?Wa(t,0):US|=r),Ln(t,e)}function _D(t,e){e===0&&(t.mode&1?(e=qd,qd<<=1,!(qd&130023424)&&(qd=4194304)):e=1);var r=Tn();t=Zo(t,e),t!==null&&(Yh(t,e,r),Ln(t,r))}function J7(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),_D(t,r)}function e9(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Re(314))}n!==null&&n.delete(e),_D(t,r)}var bD;bD=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bn.current)Nn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Nn=!1,j7(t,e,r);Nn=!!(t.flags&131072)}else Nn=!1,lr&&e.flags&1048576&&TN(e,Op,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;tp(t,e),t=e.pendingProps;var i=Wu(e,yn.current);Mu(e,r),i=NS(null,e,n,t,i,r);var o=DS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fn(n)?(o=!0,Pp(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,OS(e),i.updater=Nm,e.stateNode=i,i._reactInternals=e,lb(e,n,t,r),e=Ab(null,e,n,!0,o,r)):(e.tag=0,lr&&o&&wS(e),Sn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(tp(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=r9(n),t=Ni(n,t),i){case 0:e=cb(null,e,n,t,r);break e;case 1:e=I3(null,e,n,t,r);break e;case 11:e=M3(null,e,n,t,r);break e;case 14:e=k3(null,e,n,Ni(n.type,t),r);break e}throw Error(Re(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ni(n,i),cb(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ni(n,i),I3(t,e,n,i,r);case 3:e:{if(iD(e),t===null)throw Error(Re(387));n=e.pendingProps,o=e.memoizedState,i=o.element,MN(t,e),kp(e,n,null,r);var s=e.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ku(Error(Re(423)),e),e=N3(t,e,n,r,i);break e}else if(n!==i){i=Ku(Error(Re(424)),e),e=N3(t,e,n,r,i);break e}else for(qn=Us(e.stateNode.containerInfo.firstChild),Zn=e,lr=!0,Li=null,r=ON(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hu(),n===i){e=Jo(t,e,r);break e}Sn(t,e,n,r)}e=e.child}return e;case 5:return kN(e),t===null&&ob(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,eb(n,i)?s=null:o!==null&&eb(n,o)&&(e.flags|=32),nD(t,e),Sn(t,e,s,r),e.child;case 6:return t===null&&ob(e),null;case 13:return oD(t,e,r);case 4:return RS(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Xu(e,null,n,r):Sn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ni(n,i),M3(t,e,n,i,r);case 7:return Sn(t,e,e.pendingProps,r),e.child;case 8:return Sn(t,e,e.pendingProps.children,r),e.child;case 12:return Sn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,tr(Rp,n._currentValue),n._currentValue=s,o!==null)if(Gi(o.value,s)){if(o.children===i.children&&!Bn.current){e=Jo(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Yo(-1,r&-r),l.tag=2;var A=o.updateQueue;if(A!==null){A=A.shared;var p=A.pending;p===null?l.next=l:(l.next=p.next,p.next=l),A.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),sb(o.return,r,e),a.lanes|=r;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Re(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),sb(s,r,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Sn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Mu(e,r),i=bi(i),n=n(i),e.flags|=1,Sn(t,e,n,r),e.child;case 14:return n=e.type,i=Ni(n,e.pendingProps),i=Ni(n.type,i),k3(t,e,n,i,r);case 15:return tD(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ni(n,i),tp(t,e),e.tag=1,Fn(n)?(t=!0,Pp(e)):t=!1,Mu(e,r),ZN(e,n,i),lb(e,n,i,r),Ab(null,e,n,!0,t,r);case 19:return sD(t,e,r);case 22:return rD(t,e,r)}throw Error(Re(156,e.tag))};function wD(t,e){return Q4(t,e)}function t9(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(t,e,r,n){return new t9(t,e,r,n)}function HS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function r9(t){if(typeof t=="function")return HS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cS)return 11;if(t===AS)return 14}return 2}function Ws(t,e){var r=t.alternate;return r===null?(r=di(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ip(t,e,r,n,i,o){var s=2;if(n=t,typeof t=="function")HS(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ou:return Ha(r.children,i,o,e);case uS:s=8,i|=8;break;case k1:return t=di(12,r,e,i|2),t.elementType=k1,t.lanes=o,t;case I1:return t=di(13,r,e,i),t.elementType=I1,t.lanes=o,t;case N1:return t=di(19,r,e,i),t.elementType=N1,t.lanes=o,t;case k4:return Fm(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R4:s=10;break e;case M4:s=9;break e;case cS:s=11;break e;case AS:s=14;break e;case ws:s=16,n=null;break e}throw Error(Re(130,t==null?t:typeof t,""))}return e=di(s,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function Ha(t,e,r,n){return t=di(7,t,n,e),t.lanes=r,t}function Fm(t,e,r,n){return t=di(22,t,n,e),t.elementType=k4,t.lanes=r,t.stateNode={isHidden:!1},t}function l_(t,e,r){return t=di(6,t,null,e),t.lanes=r,t}function u_(t,e,r){return e=di(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function n9(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vv(0),this.expirationTimes=Vv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vv(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function XS(t,e,r,n,i,o,s,a,l){return t=new n9(t,e,r,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=di(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},OS(o),t}function i9(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:iu,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function SD(t){if(!t)return Zs;t=t._reactInternals;e:{if(hl(t)!==t||t.tag!==1)throw Error(Re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Re(171))}if(t.tag===1){var r=t.type;if(Fn(r))return SN(t,r,e)}return e}function ED(t,e,r,n,i,o,s,a,l){return t=XS(r,n,!0,t,i,o,s,a,l),t.context=SD(null),r=t.current,n=Tn(),i=Vs(r),o=Yo(n,i),o.callback=e??null,js(r,o,i),t.current.lanes=i,Yh(t,i,n),Ln(t,n),t}function Lm(t,e,r,n){var i=e.current,o=Tn(),s=Vs(i);return r=SD(r),e.context===null?e.context=r:e.pendingContext=r,e=Yo(o,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=js(i,e,s),t!==null&&(Yi(t,i,s,o),Z0(t,i,s)),s}function Up(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function W3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function YS(t,e){W3(t,e),(t=t.alternate)&&W3(t,e)}function o9(){return null}var TD=typeof reportError=="function"?reportError:function(t){console.error(t)};function KS(t){this._internalRoot=t}$m.prototype.render=KS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Re(409));Lm(t,e,null,null)};$m.prototype.unmount=KS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tl(function(){Lm(null,t,null,null)}),e[Go]=null}};function $m(t){this._internalRoot=t}$m.prototype.unstable_scheduleHydration=function(t){if(t){var e=rN();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ps.length&&e!==0&&e<Ps[r].priority;r++);Ps.splice(r,0,t),r===0&&iN(t)}};function QS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Um(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function H3(){}function s9(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var A=Up(s);o.call(A)}}var s=ED(e,n,t,0,null,!1,!1,"",H3);return t._reactRootContainer=s,t[Go]=s.current,Ff(t.nodeType===8?t.parentNode:t),tl(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var A=Up(l);a.call(A)}}var l=XS(t,0,!1,null,null,!1,!1,"",H3);return t._reactRootContainer=l,t[Go]=l.current,Ff(t.nodeType===8?t.parentNode:t),tl(function(){Lm(e,l,r,n)}),l}function jm(t,e,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Up(s);a.call(l)}}Lm(e,s,t,i)}else s=s9(r,e,t,i,n);return Up(s)}eN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=XA(e.pendingLanes);r!==0&&(dS(e,r|1),Ln(e,wr()),!(Pt&6)&&(Qu=wr()+500,ia()))}break;case 13:tl(function(){var n=Zo(t,1);if(n!==null){var i=Tn();Yi(n,t,1,i)}}),YS(t,1)}};pS=function(t){if(t.tag===13){var e=Zo(t,134217728);if(e!==null){var r=Tn();Yi(e,t,134217728,r)}YS(t,134217728)}};tN=function(t){if(t.tag===13){var e=Vs(t),r=Zo(t,e);if(r!==null){var n=Tn();Yi(r,t,e,n)}YS(t,e)}};rN=function(){return Ut};nN=function(t,e){var r=Ut;try{return Ut=t,e()}finally{Ut=r}};W1=function(t,e,r){switch(e){case"input":if(F1(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Mm(n);if(!i)throw Error(Re(90));N4(n),F1(n,i)}}}break;case"textarea":B4(t,r);break;case"select":e=r.value,e!=null&&Pu(t,!!r.multiple,e,!1)}};V4=zS;W4=tl;var a9={usingClientEntryPoint:!1,Events:[Qh,uu,Mm,j4,z4,zS]},wA={findFiberByHostInstance:Da,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l9={bundleType:wA.bundleType,version:wA.version,rendererPackageName:wA.rendererPackageName,rendererConfig:wA.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:os.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Y4(t),t===null?null:t.stateNode},findFiberByHostInstance:wA.findFiberByHostInstance||o9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var a0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!a0.isDisabled&&a0.supportsFiber)try{Pm=a0.inject(l9),_o=a0}catch{}}ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a9;ni.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QS(e))throw Error(Re(200));return i9(t,e,null,r)};ni.createRoot=function(t,e){if(!QS(t))throw Error(Re(299));var r=!1,n="",i=TD;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=XS(t,1,!1,null,null,r,!1,n,i),t[Go]=e.current,Ff(t.nodeType===8?t.parentNode:t),new KS(e)};ni.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Re(188)):(t=Object.keys(t).join(","),Error(Re(268,t)));return t=Y4(e),t=t===null?null:t.stateNode,t};ni.flushSync=function(t){return tl(t)};ni.hydrate=function(t,e,r){if(!Um(e))throw Error(Re(200));return jm(null,t,e,!0,r)};ni.hydrateRoot=function(t,e,r){if(!QS(t))throw Error(Re(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=TD;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),e=ED(e,null,t,1,r??null,i,!1,o,s),t[Go]=e.current,Ff(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new $m(e)};ni.render=function(t,e,r){if(!Um(e))throw Error(Re(200));return jm(null,t,e,!1,r)};ni.unmountComponentAtNode=function(t){if(!Um(t))throw Error(Re(40));return t._reactRootContainer?(tl(function(){jm(null,null,t,!1,function(){t._reactRootContainer=null,t[Go]=null})}),!0):!1};ni.unstable_batchedUpdates=zS;ni.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Um(r))throw Error(Re(200));if(t==null||t._reactInternals===void 0)throw Error(Re(38));return jm(t,e,r,!1,n)};ni.version="18.3.1-next-f1338f8080-20240426";function xD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xD)}catch(t){console.error(t)}}xD(),x4.exports=ni;var Gh=x4.exports;const l0=Lt(Gh);var PD,X3=Gh;PD=X3.createRoot,X3.hydrateRoot;function jp(t,e){if(!t)throw new Error(e||"loader assertion failed.")}const qS=!!(typeof process!="object"||String(process)!=="[object process]"||process.browser),Y3=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);Y3&&parseFloat(Y3[1]);const u0=globalThis,$l=globalThis.process||{},u9=globalThis.navigator||{};function CD(t){var n,i;if(typeof window<"u"&&((n=window.process)==null?void 0:n.type)==="renderer"||typeof process<"u"&&((i=process.versions)!=null&&i.electron))return!0;const e=typeof navigator<"u"&&navigator.userAgent,r=t||e;return!!(r&&r.indexOf("Electron")>=0)}function oa(){return!(typeof process=="object"&&String(process)==="[object process]"&&!(process!=null&&process.browser))||CD()}function c9(t){return!t&&!oa()?"Node":CD(t)?"Electron":(t||u9.userAgent||"").indexOf("Edge")>-1?"Edge":globalThis.chrome?"Chrome":globalThis.safari?"Safari":globalThis.mozInnerScreenX?"Firefox":"Unknown"}const OD="4.0.7";function A9(t){try{const e=window[t],r="__storage_test__";return e.setItem(r,r),e.removeItem(r),e}catch{return null}}class f9{constructor(e,r,n="sessionStorage"){this.storage=A9(n),this.id=e,this.config=r,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){const r=JSON.stringify(this.config);this.storage.setItem(this.id,r)}}_loadConfiguration(){let e={};if(this.storage){const r=this.storage.getItem(this.id);e=r?JSON.parse(r):{}}return Object.assign(this.config,e),this}}function h9(t){let e;return t<10?e=`${t.toFixed(2)}ms`:t<100?e=`${t.toFixed(1)}ms`:t<1e3?e=`${t.toFixed(0)}ms`:e=`${(t/1e3).toFixed(2)}s`,e}function d9(t,e=8){const r=Math.max(e-t.length,0);return`${" ".repeat(r)}${t}`}var zp;(function(t){t[t.BLACK=30]="BLACK",t[t.RED=31]="RED",t[t.GREEN=32]="GREEN",t[t.YELLOW=33]="YELLOW",t[t.BLUE=34]="BLUE",t[t.MAGENTA=35]="MAGENTA",t[t.CYAN=36]="CYAN",t[t.WHITE=37]="WHITE",t[t.BRIGHT_BLACK=90]="BRIGHT_BLACK",t[t.BRIGHT_RED=91]="BRIGHT_RED",t[t.BRIGHT_GREEN=92]="BRIGHT_GREEN",t[t.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",t[t.BRIGHT_BLUE=94]="BRIGHT_BLUE",t[t.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",t[t.BRIGHT_CYAN=96]="BRIGHT_CYAN",t[t.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(zp||(zp={}));const p9=10;function K3(t){return typeof t!="string"?t:(t=t.toUpperCase(),zp[t]||zp.WHITE)}function g9(t,e,r){return!oa&&typeof t=="string"&&(e&&(t=`\x1B[${K3(e)}m${t}\x1B[39m`),r&&(t=`\x1B[${K3(r)+p9}m${t}\x1B[49m`)),t}function m9(t,e=["constructor"]){const r=Object.getPrototypeOf(t),n=Object.getOwnPropertyNames(r),i=t;for(const o of n){const s=i[o];typeof s=="function"&&(e.find(a=>o===a)||(i[o]=s.bind(t)))}}function GS(t,e){if(!t)throw new Error(e||"Assertion failed")}function Ul(){var e,r,n;let t;if(oa()&&u0.performance)t=(r=(e=u0==null?void 0:u0.performance)==null?void 0:e.now)==null?void 0:r.call(e);else if("hrtime"in $l){const i=(n=$l==null?void 0:$l.hrtime)==null?void 0:n.call($l);t=i[0]*1e3+i[1]/1e6}else t=Date.now();return t}const jl={debug:oa()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},y9={enabled:!0,level:0};function zl(){}const Q3={},q3={once:!0};class Zh{constructor({id:e}={id:""}){this.VERSION=OD,this._startTs=Ul(),this._deltaTs=Ul(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=e,this.userData={},this._storage=new f9(`__probe-${this.id}__`,y9),this.timeStamp(`${this.id} started`),m9(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((Ul()-this._startTs).toPrecision(10))}getDelta(){return Number((Ul()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(e=!0){return this._storage.setConfiguration({enabled:e}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,r){this._storage.setConfiguration({[e]:r})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,r){if(!e)throw new Error(r||"Assertion failed")}warn(e){return this._getLogFunction(0,e,jl.warn,arguments,q3)}error(e){return this._getLogFunction(0,e,jl.error,arguments)}deprecated(e,r){return this.warn(`\`${e}\` is deprecated and will be removed in a later version. Use \`${r}\` instead`)}removed(e,r){return this.error(`\`${e}\` has been removed. Use \`${r}\` instead`)}probe(e,r){return this._getLogFunction(e,r,jl.log,arguments,{time:!0,once:!0})}log(e,r){return this._getLogFunction(e,r,jl.debug,arguments)}info(e,r){return this._getLogFunction(e,r,console.info,arguments)}once(e,r){return this._getLogFunction(e,r,jl.debug||jl.info,arguments,q3)}table(e,r,n){return r?this._getLogFunction(e,r,console.table||zl,n&&[n],{tag:_9(r)}):zl}time(e,r){return this._getLogFunction(e,r,console.time?console.time:console.info)}timeEnd(e,r){return this._getLogFunction(e,r,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,r){return this._getLogFunction(e,r,console.timeStamp||zl)}group(e,r,n={collapsed:!1}){const i=G3({logLevel:e,message:r,opts:n}),{collapsed:o}=n;return i.method=(o?console.groupCollapsed:console.group)||console.info,this._getLogFunction(i)}groupCollapsed(e,r,n={}){return this.group(e,r,Object.assign({},n,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||zl)}withGroup(e,r,n){this.group(e,r)();try{n()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=RD(e)}_getLogFunction(e,r,n,i,o){if(this._shouldLog(e)){o=G3({logLevel:e,message:r,args:i,opts:o}),n=n||o.method,GS(n),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=Ul();const s=o.tag||o.message;if(o.once&&s)if(!Q3[s])Q3[s]=Ul();else return zl;return r=v9(this.id,o.message,o),n.bind(console,r,...o.args)}return zl}}Zh.VERSION=OD;function RD(t){if(!t)return 0;let e;switch(typeof t){case"number":e=t;break;case"object":e=t.logLevel||t.priority||0;break;default:return 0}return GS(Number.isFinite(e)&&e>=0),e}function G3(t){const{logLevel:e,message:r}=t;t.logLevel=RD(e);const n=t.args?Array.from(t.args):[];for(;n.length&&n.shift()!==r;);switch(typeof e){case"string":case"function":r!==void 0&&n.unshift(r),t.message=e;break;case"object":Object.assign(t,e);break}typeof t.message=="function"&&(t.message=t.message());const i=typeof t.message;return GS(i==="string"||i==="object"),Object.assign(t,{args:n},t.opts)}function v9(t,e,r){if(typeof e=="string"){const n=r.time?d9(h9(r.total)):"";e=r.time?`${t}: ${n}  ${e}`:`${t}: ${e}`,e=g9(e,r.color,r.background)}return e}function _9(t){for(const e in t)for(const r in t[e])return r||"untitled";return"empty"}const c_="4.3.2",b9=c_[0]>="0"&&c_[0]<="9"?`v${c_}`:"";function w9(){const t=new Zh({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=t,globalThis.loaders.version=b9,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=t,t}const S9=w9();function E9(t,e){return MD(t||{},e)}function MD(t,e,r=0){if(r>3)return e;const n={...t};for(const[i,o]of Object.entries(e))o&&typeof o=="object"&&!Array.isArray(o)?n[i]=MD(n[i]||{},e[i],r+1):n[i]=e[i];return n}const T9="latest";function x9(){var t;return(t=globalThis._loadersgl_)!=null&&t.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.3.2"),globalThis._loadersgl_.version}const P9=x9();function Js(t,e){if(!t)throw new Error(e||"loaders.gl assertion failed.")}const Xa=typeof process!="object"||String(process)!=="[object process]"||process.browser,C9=typeof window<"u"&&typeof window.orientation<"u",Z3=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);Z3&&parseFloat(Z3[1]);class O9{constructor(e,r){F(this,"name");F(this,"workerThread");F(this,"isRunning",!0);F(this,"result");F(this,"_resolve",()=>{});F(this,"_reject",()=>{});this.name=e,this.workerThread=r,this.result=new Promise((n,i)=>{this._resolve=n,this._reject=i})}postMessage(e,r){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:r})}done(e){Js(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){Js(this.isRunning),this.isRunning=!1,this._reject(e)}}class A_{terminate(){}}const f_=new Map;function R9(t){Js(t.source&&!t.url||!t.source&&t.url);let e=f_.get(t.source||t.url);return e||(t.url&&(e=M9(t.url),f_.set(t.url,e)),t.source&&(e=kD(t.source),f_.set(t.source,e))),Js(e),e}function M9(t){if(!t.startsWith("http"))return t;const e=k9(t);return kD(e)}function kD(t){const e=new Blob([t],{type:"application/javascript"});return URL.createObjectURL(e)}function k9(t){return`try {
  importScripts('${t}');
} catch (error) {
  console.error(error);
  throw error;
}`}function ID(t,e=!0,r){const n=r||new Set;if(t){if(J3(t))n.add(t);else if(J3(t.buffer))n.add(t.buffer);else if(!ArrayBuffer.isView(t)){if(e&&typeof t=="object")for(const i in t)ID(t[i],e,n)}}return r===void 0?Array.from(n):[]}function J3(t){return t?t instanceof ArrayBuffer||typeof MessagePort<"u"&&t instanceof MessagePort||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas:!1}const h_=()=>{};class Sb{constructor(e){F(this,"name");F(this,"source");F(this,"url");F(this,"terminated",!1);F(this,"worker");F(this,"onMessage");F(this,"onError");F(this,"_loadableURL","");const{name:r,source:n,url:i}=e;Js(n||i),this.name=r,this.source=n,this.url=i,this.onMessage=h_,this.onError=o=>console.log(o),this.worker=Xa?this._createBrowserWorker():this._createNodeWorker()}static isSupported(){return typeof Worker<"u"&&Xa||typeof A_<"u"&&!Xa}destroy(){this.onMessage=h_,this.onError=h_,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(e,r){r=r||ID(e),this.worker.postMessage(e,r)}_getErrorFromErrorEvent(e){let r="Failed to load ";return r+=`worker ${this.name} from ${this.url}. `,e.message&&(r+=`${e.message} in `),e.lineno&&(r+=`:${e.lineno}:${e.colno}`),new Error(r)}_createBrowserWorker(){this._loadableURL=R9({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=r=>{r.data?this.onMessage(r.data):this.onError(new Error("No data received"))},e.onerror=r=>{this.onError(this._getErrorFromErrorEvent(r)),this.terminated=!0},e.onmessageerror=r=>console.error(r),e}_createNodeWorker(){let e;if(this.url){const n=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;e=new A_(n,{eval:!1})}else if(this.source)e=new A_(this.source,{eval:!0});else throw new Error("no worker");return e.on("message",r=>{this.onMessage(r)}),e.on("error",r=>{this.onError(r)}),e.on("exit",r=>{}),e}}class I9{constructor(e){F(this,"name","unnamed");F(this,"source");F(this,"url");F(this,"maxConcurrency",1);F(this,"maxMobileConcurrency",1);F(this,"onDebug",()=>{});F(this,"reuseWorkers",!0);F(this,"props",{});F(this,"jobQueue",[]);F(this,"idleQueue",[]);F(this,"count",0);F(this,"isDestroyed",!1);this.source=e.source,this.url=e.url,this.setProps(e)}static isSupported(){return Sb.isSupported()}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},e.name!==void 0&&(this.name=e.name),e.maxConcurrency!==void 0&&(this.maxConcurrency=e.maxConcurrency),e.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=e.maxMobileConcurrency),e.reuseWorkers!==void 0&&(this.reuseWorkers=e.reuseWorkers),e.onDebug!==void 0&&(this.onDebug=e.onDebug)}async startJob(e,r=(i,o,s)=>i.done(s),n=(i,o)=>i.error(o)){const i=new Promise(o=>(this.jobQueue.push({name:e,onMessage:r,onError:n,onStart:o}),this));return this._startQueuedJob(),await i}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const r=this.jobQueue.shift();if(r){this.onDebug({message:"Starting job",name:r.name,workerThread:e,backlog:this.jobQueue.length});const n=new O9(r.name,e);e.onMessage=i=>r.onMessage(n,i.type,i.payload),e.onError=i=>r.onError(n,i),r.onStart(n);try{await n.result}catch(i){console.error(`Worker exception: ${i}`)}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){!Xa||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new Sb({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return C9?this.maxMobileConcurrency:this.maxConcurrency}}const N9={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}},xs=class xs{constructor(e){F(this,"props");F(this,"workerPools",new Map);this.props={...N9},this.setProps(e),this.workerPools=new Map}static isSupported(){return Sb.isSupported()}static getWorkerFarm(e={}){return xs._workerFarm=xs._workerFarm||new xs({}),xs._workerFarm.setProps(e),xs._workerFarm}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const r of this.workerPools.values())r.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:r,source:n,url:i}=e;let o=this.workerPools.get(r);return o||(o=new I9({name:r,source:n,url:i}),o.setProps(this._getWorkerPoolProps()),this.workerPools.set(r,o)),o}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}};F(xs,"_workerFarm");let Vp=xs;function D9(t,e={}){const r=e[t.id]||{},n=Xa?`${t.id}-worker.js`:`${t.id}-worker-node.js`;let i=r.workerUrl;if(!i&&t.id==="compression"&&(i=e.workerUrl),e._workerType==="test"&&(Xa?i=`modules/${t.module}/dist/${n}`:i=`modules/${t.module}/src/workers/${t.id}-worker-node.ts`),!i){let o=t.version;o==="latest"&&(o=T9);const s=o?`@${o}`:"";i=`https://unpkg.com/@loaders.gl/${t.module}${s}/dist/${n}`}return Js(i),i}function B9(t,e=P9){Js(t,"no worker provided");const r=t.version;return!(!e||!r)}function F9(t,e){return!Vp.isSupported()||!Xa&&!(e!=null&&e._nodeWorkers)?!1:t.worker&&(e==null?void 0:e.worker)}async function L9(t,e,r,n,i){const o=t.id,s=D9(t,r),l=Vp.getWorkerFarm(r).getWorkerPool({name:o,url:s});r=JSON.parse(JSON.stringify(r)),n=JSON.parse(JSON.stringify(n||{}));const A=await l.startJob("process-on-worker",$9.bind(null,i));return A.postMessage("process",{input:e,options:r,context:n}),await(await A.result).result}async function $9(t,e,r,n){switch(r){case"done":e.done(n);break;case"error":e.error(new Error(n.error));break;case"process":const{id:i,input:o,options:s}=n;try{const a=await t(o,s);e.postMessage("done",{id:i,result:a})}catch(a){const l=a instanceof Error?a.message:"unknown error";e.postMessage("error",{id:i,error:l})}break;default:console.warn(`parse-with-worker unknown message ${r}`)}}function U9(t,e,r){if(r=r||t.byteLength,t.byteLength<r||e.byteLength<r)return!1;const n=new Uint8Array(t),i=new Uint8Array(e);for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}function j9(...t){return z9(t)}function z9(t){const e=t.map(o=>o instanceof ArrayBuffer?new Uint8Array(o):o),r=e.reduce((o,s)=>o+s.byteLength,0),n=new Uint8Array(r);let i=0;for(const o of e)n.set(o,i),i+=o.byteLength;return n.buffer}async function V9(t){const e=[];for await(const r of t)e.push(r);return j9(...e)}function eP(){let t;if(typeof window<"u"&&window.performance)t=window.performance.now();else if(typeof process<"u"&&process.hrtime){const e=process.hrtime();t=e[0]*1e3+e[1]/1e6}else t=Date.now();return t}class tP{constructor(e,r){this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=e,this.type=r,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=eP(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(eP()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class zm{constructor(e){this.stats={},this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e,r="count"){return this._getOrCreate({name:e,type:r})}get size(){return Object.keys(this.stats).length}reset(){for(const e of Object.values(this.stats))e.reset();return this}forEach(e){for(const r of Object.values(this.stats))e(r)}getTable(){const e={};return this.forEach(r=>{e[r.name]={time:r.time||0,count:r.count||0,average:r.getAverageTime()||0,hz:r.getHz()||0}}),e}_initializeStats(e=[]){e.forEach(r=>this._getOrCreate(r))}_getOrCreate(e){const{name:r,type:n}=e;let i=this.stats[r];return i||(e instanceof tP?i=e:i=new tP(r,n),this.stats[r]=i),i}}let W9="";const rP={};function H9(t){for(const e in rP)if(t.startsWith(e)){const r=rP[e];t=t.replace(e,r)}return!t.startsWith("http://")&&!t.startsWith("https://")&&(t=`${W9}${t}`),t}function X9(t){return t&&typeof t=="object"&&t.isBuffer}function ND(t){if(X9(t))return t;if(t instanceof ArrayBuffer)return t;if(ArrayBuffer.isView(t))return t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);if(typeof t=="string"){const e=t;return new TextEncoder().encode(e).buffer}if(t&&typeof t=="object"&&t._toArrayBuffer)return t._toArrayBuffer();throw new Error("toArrayBuffer")}function DD(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(e+1):""}function Y9(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(0,e):""}const K9=t=>typeof t=="boolean",hf=t=>typeof t=="function",Jh=t=>t!==null&&typeof t=="object",nP=t=>Jh(t)&&t.constructor==={}.constructor,Q9=t=>!!t&&typeof t[Symbol.iterator]=="function",q9=t=>t&&typeof t[Symbol.asyncIterator]=="function",dl=t=>typeof Response<"u"&&t instanceof Response||t&&t.arrayBuffer&&t.text&&t.json,pl=t=>typeof Blob<"u"&&t instanceof Blob,G9=t=>t&&typeof t=="object"&&t.isBuffer,Z9=t=>typeof ReadableStream<"u"&&t instanceof ReadableStream||Jh(t)&&hf(t.tee)&&hf(t.cancel)&&hf(t.getReader),J9=t=>Jh(t)&&hf(t.read)&&hf(t.pipe)&&K9(t.readable),BD=t=>Z9(t)||J9(t);class ez extends Error{constructor(r,n){super(r);F(this,"reason");F(this,"url");F(this,"response");this.reason=n.reason,this.url=n.url,this.response=n.response}}const tz=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,rz=/^([-\w.]+\/[-\w.+]+)/;function iP(t,e){return t.toLowerCase()===e.toLowerCase()}function nz(t){const e=rz.exec(t);return e?e[1]:t}function oP(t){const e=tz.exec(t);return e?e[1]:""}const FD=/\?.*/;function iz(t){const e=t.match(FD);return e&&e[0]}function ZS(t){return t.replace(FD,"")}function oz(t){if(t.length<50)return t;const e=t.slice(t.length-15);return`${t.substr(0,32)}...${e}`}function Vm(t){return dl(t)?t.url:pl(t)?t.name||"":typeof t=="string"?t:""}function JS(t){if(dl(t)){const e=t,r=e.headers.get("content-type")||"",n=ZS(e.url);return nz(r)||oP(n)}return pl(t)?t.type||"":typeof t=="string"?oP(t):""}function sz(t){return dl(t)?t.headers["content-length"]||-1:pl(t)?t.size:typeof t=="string"?t.length:t instanceof ArrayBuffer||ArrayBuffer.isView(t)?t.byteLength:-1}async function LD(t){if(dl(t))return t;const e={},r=sz(t);r>=0&&(e["content-length"]=String(r));const n=Vm(t),i=JS(t);i&&(e["content-type"]=i);const o=await uz(t);o&&(e["x-first-bytes"]=o),typeof t=="string"&&(t=new TextEncoder().encode(t));const s=new Response(t,{headers:e});return Object.defineProperty(s,"url",{value:n}),s}async function az(t){if(!t.ok)throw await lz(t)}async function lz(t){const e=oz(t.url);let r=`Failed to fetch resource (${t.status}) ${t.statusText}: ${e}`;r=r.length>100?`${r.slice(0,100)}...`:r;const n={reason:t.statusText,url:t.url,response:t};try{const i=t.headers.get("Content-Type");n.reason=!t.bodyUsed&&(i!=null&&i.includes("application/json"))?await t.json():await t.text()}catch{}return new ez(r,n)}async function uz(t){if(typeof t=="string")return`data:,${t.slice(0,5)}`;if(t instanceof Blob){const r=t.slice(0,5);return await new Promise(n=>{const i=new FileReader;i.onload=o=>{var s;return n((s=o==null?void 0:o.target)==null?void 0:s.result)},i.readAsDataURL(r)})}if(t instanceof ArrayBuffer){const r=t.slice(0,5);return`data:base64,${cz(r)}`}return null}function cz(t){let e="";const r=new Uint8Array(t);for(let n=0;n<r.byteLength;n++)e+=String.fromCharCode(r[n]);return btoa(e)}function Az(t){return!fz(t)&&!hz(t)}function fz(t){return t.startsWith("http:")||t.startsWith("https:")}function hz(t){return t.startsWith("data:")}async function sP(t,e){var r,n;if(typeof t=="string"){const i=H9(t);return Az(i)&&(r=globalThis.loaders)!=null&&r.fetchNode?(n=globalThis.loaders)==null?void 0:n.fetchNode(i,e):await fetch(i,e)}return await LD(t)}const aP=new Zh({id:"loaders.gl"});class dz{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class pz{constructor(){F(this,"console");this.console=console}log(...e){return this.console.log.bind(this.console,...e)}info(...e){return this.console.info.bind(this.console,...e)}warn(...e){return this.console.warn.bind(this.console,...e)}error(...e){return this.console.error.bind(this.console,...e)}}const $D={fetch:null,mimeType:void 0,nothrow:!1,log:new pz,useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:qS,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},gz={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function UD(){globalThis.loaders=globalThis.loaders||{};const{loaders:t}=globalThis;return t._state||(t._state={}),t._state}function jD(){const t=UD();return t.globalOptions=t.globalOptions||{...$D},t.globalOptions}function mz(t,e,r,n){return r=r||[],r=Array.isArray(r)?r:[r],yz(t,r),_z(e,t,n)}function yz(t,e){lP(t,null,$D,gz,e);for(const r of e){const n=t&&t[r.id]||{},i=r.options&&r.options[r.id]||{},o=r.deprecatedOptions&&r.deprecatedOptions[r.id]||{};lP(n,r.id,i,o,e)}}function lP(t,e,r,n,i){const o=e||"Top level",s=e?`${e}.`:"";for(const a in t){const l=!e&&Jh(t[a]),A=a==="baseUri"&&!e,p=a==="workerUrl"&&e;if(!(a in r)&&!A&&!p){if(a in n)aP.warn(`${o} loader option '${s}${a}' no longer supported, use '${n[a]}'`)();else if(!l){const g=vz(a,i);aP.warn(`${o} loader option '${s}${a}' not recognized. ${g}`)()}}}}function vz(t,e){const r=t.toLowerCase();let n="";for(const i of e)for(const o in i.options){if(t===o)return`Did you mean '${i.id}.${o}'?`;const s=o.toLowerCase();(r.startsWith(s)||s.startsWith(r))&&(n=n||`Did you mean '${i.id}.${o}'?`)}return n}function _z(t,e,r){const i={...t.options||{}};return bz(i,r),i.log===null&&(i.log=new dz),uP(i,jD()),uP(i,e),i}function uP(t,e){for(const r in e)if(r in e){const n=e[r];nP(n)&&nP(t[r])?t[r]={...t[r],...e[r]}:t[r]=e[r]}}function bz(t,e){e&&!("baseUri"in t)&&(t.baseUri=e)}function eE(t){return t?(Array.isArray(t)&&(t=t[0]),Array.isArray(t==null?void 0:t.extensions)):!1}function tE(t){jp(t,"null loader"),jp(eE(t),"invalid loader");let e;return Array.isArray(t)&&(e=t[1],t=t[0],t={...t,options:{...t.options,...e}}),(t!=null&&t.parseTextSync||t!=null&&t.parseText)&&(t.text=!0),t.text||(t.binary=!0),t}const zD=()=>{const t=UD();return t.loaderRegistry=t.loaderRegistry||[],t.loaderRegistry};function wz(t){const e=zD();t=Array.isArray(t)?t:[t];for(const r of t){const n=tE(r);e.find(i=>n===i)||e.unshift(n)}}function Sz(){return zD()}const Ez=/\.([^.]+)$/;async function Tz(t,e=[],r,n){if(!VD(t))return null;let i=cP(t,e,{...r,nothrow:!0},n);if(i)return i;if(pl(t)&&(t=await t.slice(0,10).arrayBuffer(),i=cP(t,e,r,n)),!i&&!(r!=null&&r.nothrow))throw new Error(WD(t));return i}function cP(t,e=[],r,n){if(!VD(t))return null;if(e&&!Array.isArray(e))return tE(e);let i=[];e&&(i=i.concat(e)),r!=null&&r.ignoreRegisteredLoaders||i.push(...Sz()),Pz(i);const o=xz(t,i,r,n);if(!o&&!(r!=null&&r.nothrow))throw new Error(WD(t));return o}function xz(t,e,r,n){const i=Vm(t),o=JS(t),s=ZS(i)||(n==null?void 0:n.url);let a=null,l="";return r!=null&&r.mimeType&&(a=d_(e,r==null?void 0:r.mimeType),l=`match forced by supplied MIME type ${r==null?void 0:r.mimeType}`),a=a||Cz(e,s),l=l||(a?`matched url ${s}`:""),a=a||d_(e,o),l=l||(a?`matched MIME type ${o}`:""),a=a||Rz(e,t),l=l||(a?`matched initial data ${HD(t)}`:""),r!=null&&r.fallbackMimeType&&(a=a||d_(e,r==null?void 0:r.fallbackMimeType),l=l||(a?`matched fallback MIME type ${o}`:"")),l&&S9.log(1,`selectLoader selected ${a==null?void 0:a.name}: ${l}.`),a}function VD(t){return!(t instanceof Response&&t.status===204)}function WD(t){const e=Vm(t),r=JS(t);let n="No valid loader found (";n+=e?`${DD(e)}, `:"no url provided, ",n+=`MIME type: ${r?`"${r}"`:"not provided"}, `;const i=t?HD(t):"";return n+=i?` first bytes: "${i}"`:"first bytes: not available",n+=")",n}function Pz(t){for(const e of t)tE(e)}function Cz(t,e){const r=e&&Ez.exec(e),n=r&&r[1];return n?Oz(t,n):null}function Oz(t,e){e=e.toLowerCase();for(const r of t)for(const n of r.extensions)if(n.toLowerCase()===e)return r;return null}function d_(t,e){var r;for(const n of t)if((r=n.mimeTypes)!=null&&r.some(i=>iP(e,i))||iP(e,`application/x.${n.id}`))return n;return null}function Rz(t,e){if(!e)return null;for(const r of t)if(typeof e=="string"){if(Mz(e,r))return r}else if(ArrayBuffer.isView(e)){if(AP(e.buffer,e.byteOffset,r))return r}else if(e instanceof ArrayBuffer&&AP(e,0,r))return r;return null}function Mz(t,e){return e.testText?e.testText(t):(Array.isArray(e.tests)?e.tests:[e.tests]).some(n=>t.startsWith(n))}function AP(t,e,r){return(Array.isArray(r.tests)?r.tests:[r.tests]).some(i=>kz(t,e,r,i))}function kz(t,e,r,n){if(n instanceof ArrayBuffer)return U9(n,t,n.byteLength);switch(typeof n){case"function":return n(t);case"string":const i=Eb(t,e,n.length);return n===i;default:return!1}}function HD(t,e=5){return typeof t=="string"?t.slice(0,e):ArrayBuffer.isView(t)?Eb(t.buffer,t.byteOffset,e):t instanceof ArrayBuffer?Eb(t,0,e):""}function Eb(t,e,r){if(t.byteLength<e+r)return"";const n=new DataView(t);let i="";for(let o=0;o<r;o++)i+=String.fromCharCode(n.getUint8(e+o));return i}const Iz=256*1024;function*Nz(t,e){const r=(e==null?void 0:e.chunkSize)||Iz;let n=0;const i=new TextEncoder;for(;n<t.length;){const o=Math.min(t.length-n,r),s=t.slice(n,n+o);n+=o,yield i.encode(s)}}const Dz=256*1024;function*Bz(t,e={}){const{chunkSize:r=Dz}=e;let n=0;for(;n<t.byteLength;){const i=Math.min(t.byteLength-n,r),o=new ArrayBuffer(i),s=new Uint8Array(t,n,i);new Uint8Array(o).set(s),n+=i,yield o}}const Fz=1024*1024;async function*Lz(t,e){const r=(e==null?void 0:e.chunkSize)||Fz;let n=0;for(;n<t.size;){const i=n+r,o=await t.slice(n,i).arrayBuffer();n=i,yield o}}function fP(t,e){return qS?$z(t,e):Uz(t)}async function*$z(t,e){const r=t.getReader();let n;try{for(;;){const i=n||r.read();e!=null&&e._streamReadAhead&&(n=r.read());const{done:o,value:s}=await i;if(o)return;yield ND(s)}}catch{r.releaseLock()}}async function*Uz(t,e){for await(const r of t)yield ND(r)}function jz(t,e){if(typeof t=="string")return Nz(t,e);if(t instanceof ArrayBuffer)return Bz(t,e);if(pl(t))return Lz(t,e);if(BD(t))return fP(t,e);if(dl(t))return fP(t.body,e);throw new Error("makeIterator")}const XD="Cannot convert supplied data type";function zz(t,e,r){if(e.text&&typeof t=="string")return t;if(G9(t)&&(t=t.buffer),t instanceof ArrayBuffer){const n=t;return e.text&&!e.binary?new TextDecoder("utf8").decode(n):n}if(ArrayBuffer.isView(t)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(t);let n=t.buffer;const i=t.byteLength||t.length;return(t.byteOffset!==0||i!==n.byteLength)&&(n=n.slice(t.byteOffset,t.byteOffset+i)),n}throw new Error(XD)}async function Vz(t,e,r){const n=t instanceof ArrayBuffer||ArrayBuffer.isView(t);if(typeof t=="string"||n)return zz(t,e);if(pl(t)&&(t=await LD(t)),dl(t)){const i=t;return await az(i),e.binary?await i.arrayBuffer():await i.text()}if(BD(t)&&(t=jz(t,r)),Q9(t)||q9(t))return V9(t);throw new Error(XD)}function YD(t,e){const r=jD(),n=t||r;return typeof n.fetch=="function"?n.fetch:Jh(n.fetch)?i=>sP(i,n.fetch):e!=null&&e.fetch?e==null?void 0:e.fetch:sP}function Wz(t,e,r){if(r)return r;const n={fetch:YD(e,t),...t};if(n.url){const i=ZS(n.url);n.baseUrl=i,n.queryString=iz(n.url),n.filename=DD(i),n.baseUrl=Y9(i)}return Array.isArray(n.loaders)||(n.loaders=null),n}function Hz(t,e){if(t&&!Array.isArray(t))return t;let r;if(t&&(r=Array.isArray(t)?t:[t]),e&&e.loaders){const n=Array.isArray(e.loaders)?e.loaders:[e.loaders];r=r?[...r,...n]:n}return r&&r.length?r:void 0}async function Wp(t,e,r,n){e&&!Array.isArray(e)&&!eE(e)&&(n=void 0,r=e,e=void 0),t=await t,r=r||{};const i=Vm(t),s=Hz(e,n),a=await Tz(t,s,r);return a?(r=mz(r,a,s,i),n=Wz({url:i,_parse:Wp,loaders:s},r,n||null),await Xz(a,t,r,n)):null}async function Xz(t,e,r,n){if(B9(t),r=E9(t.options,r),dl(e)){const o=e,{ok:s,redirected:a,status:l,statusText:A,type:p,url:g}=o,v=Object.fromEntries(o.headers.entries());n.response={headers:v,ok:s,redirected:a,status:l,statusText:A,type:p,url:g}}e=await Vz(e,t,r);const i=t;if(i.parseTextSync&&typeof e=="string")return i.parseTextSync(e,r,n);if(F9(t,r))return await L9(t,e,r,n,Wp);if(i.parseText&&typeof e=="string")return await i.parseText(e,r,n);if(i.parse)return await i.parse(e,r,n);throw Js(!i.parseSync),new Error(`${t.id} loader - no parser found and worker is disabled`)}const hP=100;class Yz{constructor(e,r){F(this,"schema");F(this,"options");F(this,"shape");F(this,"length",0);F(this,"rows",null);F(this,"cursor",0);F(this,"_headers",[]);if(this.options=r,this.schema=e,!Array.isArray(e)){this._headers=[];for(const n in e)this._headers[e[n].index]=e[n].name}}rowCount(){return this.length}addArrayRow(e,r){Number.isFinite(r)&&(this.cursor=r),this.shape="array-row-table",this.rows=this.rows||new Array(hP),this.rows[this.length]=e,this.length++}addObjectRow(e,r){Number.isFinite(r)&&(this.cursor=r),this.shape="object-row-table",this.rows=this.rows||new Array(hP),this.rows[this.length]=e,this.length++}getBatch(){let e=this.rows;return e?(e=e.slice(0,this.length),this.rows=null,{shape:this.shape||"array-row-table",batchType:"data",data:e,length:this.length,schema:this.schema,cursor:this.cursor}):null}}function KD(t,e){if(!t)throw new Error("null row");const r={};if(e)for(let n=0;n<e.length;n++)r[e[n]]=t[n];else for(let n=0;n<t.length;n++){const i=`column-${n}`;r[i]=t[n]}return r}function QD(t,e){if(!t)throw new Error("null row");if(e){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return r}return Object.values(t)}function Kz(t){const e=[];for(let r=0;r<t.length;r++){const n=`column-${r}`;e.push(n)}return e}function Qz(t){return Object.keys(t)}const dP=100;class qz{constructor(e,r){F(this,"schema");F(this,"options");F(this,"length",0);F(this,"objectRows",null);F(this,"arrayRows",null);F(this,"cursor",0);F(this,"_headers",null);if(this.options=r,this.schema=e,e){this._headers=[];for(const n in e)this._headers[e[n].index]=e[n].name}}rowCount(){return this.length}addArrayRow(e,r){switch(Number.isFinite(r)&&(this.cursor=r),this._headers||(this._headers=Kz(e)),this.options.shape){case"object-row-table":const n=KD(e,this._headers);this.addObjectRow(n,r);break;case"array-row-table":this.arrayRows=this.arrayRows||new Array(dP),this.arrayRows[this.length]=e,this.length++;break}}addObjectRow(e,r){switch(Number.isFinite(r)&&(this.cursor=r),this._headers||(this._headers=Qz(e)),this.options.shape){case"array-row-table":const n=QD(e,this._headers);this.addArrayRow(n,r);break;case"object-row-table":this.objectRows=this.objectRows||new Array(dP),this.objectRows[this.length]=e,this.length++;break}}getBatch(){let e=this.arrayRows||this.objectRows;return e?(e=e.slice(0,this.length),this.arrayRows=null,this.objectRows=null,{shape:this.options.shape,batchType:"data",data:e,length:this.length,schema:this.schema,cursor:this.cursor}):null}}const Gz=100;class Zz{constructor(e,r){F(this,"schema");F(this,"length",0);F(this,"allocated",0);F(this,"columns",{});this.schema=e,this._reallocateColumns()}rowCount(){return this.length}addArrayRow(e){this._reallocateColumns();let r=0;for(const n in this.columns)this.columns[n][this.length]=e[r++];this.length++}addObjectRow(e){this._reallocateColumns();for(const r in e)this.columns[r][this.length]=e[r];this.length++}getBatch(){this._pruneColumns();const e=Array.isArray(this.schema)?this.columns:{};if(!Array.isArray(this.schema))for(const n in this.schema){const i=this.schema[n];e[i.name]=this.columns[i.index]}return this.columns={},{shape:"columnar-table",batchType:"data",data:e,schema:this.schema,length:this.length}}_reallocateColumns(){if(!(this.length<this.allocated)){this.allocated=this.allocated>0?this.allocated*=2:Gz,this.columns={};for(const e in this.schema){const r=this.schema[e],n=r.type||Float32Array,i=this.columns[r.index];if(i&&ArrayBuffer.isView(i)){const o=new n(this.allocated);o.set(i),this.columns[r.index]=o}else i?(i.length=this.allocated,this.columns[r.index]=i):this.columns[r.index]=new n(this.allocated)}}}_pruneColumns(){for(const[e,r]of Object.entries(this.columns))this.columns[e]=r.slice(0,this.length)}}const Jz={shape:void 0,batchSize:"auto",batchDebounceMs:0,limit:0,_limitMB:0},eV="TableBatchBuilder",xf=class xf{constructor(e,r){F(this,"schema");F(this,"options");F(this,"aggregator",null);F(this,"batchCount",0);F(this,"bytesUsed",0);F(this,"isChunkComplete",!1);F(this,"lastBatchEmittedMs",Date.now());F(this,"totalLength",0);F(this,"totalBytes",0);F(this,"rowBytes",0);this.schema=e,this.options={...Jz,...r}}limitReached(){var e,r;return!!((e=this.options)!=null&&e.limit&&this.totalLength>=this.options.limit||(r=this.options)!=null&&r._limitMB&&this.totalBytes/1e6>=this.options._limitMB)}addRow(e){this.limitReached()||(this.totalLength++,this.rowBytes=this.rowBytes||this._estimateRowMB(e),this.totalBytes+=this.rowBytes,Array.isArray(e)?this.addArrayRow(e):this.addObjectRow(e))}addArrayRow(e){if(!this.aggregator){const r=this._getTableBatchType();this.aggregator=new r(this.schema,this.options)}this.aggregator.addArrayRow(e)}addObjectRow(e){if(!this.aggregator){const r=this._getTableBatchType();this.aggregator=new r(this.schema,this.options)}this.aggregator.addObjectRow(e)}chunkComplete(e){e instanceof ArrayBuffer&&(this.bytesUsed+=e.byteLength),typeof e=="string"&&(this.bytesUsed+=e.length),this.isChunkComplete=!0}getFullBatch(e){return this._isFull()?this._getBatch(e):null}getFinalBatch(e){return this._getBatch(e)}_estimateRowMB(e){return Array.isArray(e)?e.length*8:Object.keys(e).length*8}_isFull(){if(!this.aggregator||this.aggregator.rowCount()===0)return!1;if(this.options.batchSize==="auto"){if(!this.isChunkComplete)return!1}else if(this.options.batchSize>this.aggregator.rowCount())return!1;return this.options.batchDebounceMs>Date.now()-this.lastBatchEmittedMs?!1:(this.isChunkComplete=!1,this.lastBatchEmittedMs=Date.now(),!0)}_getBatch(e){if(!this.aggregator)return null;e!=null&&e.bytesUsed&&(this.bytesUsed=e.bytesUsed);const r=this.aggregator.getBatch();return r.count=this.batchCount,r.bytesUsed=this.bytesUsed,Object.assign(r,e),this.batchCount++,this.aggregator=null,r}_getTableBatchType(){switch(this.options.shape){case"array-row-table":case"object-row-table":return qz;case"columnar-table":return Zz;case"arrow-table":if(!xf.ArrowBatch)throw new Error(eV);return xf.ArrowBatch;default:return Yz}}};F(xf,"ArrowBatch");let Tb=xf;class pP extends Array{enqueue(e){return this.push(e)}dequeue(){return this.shift()}}class tV{constructor(){F(this,"_values");F(this,"_settlers");F(this,"_closed");this._values=new pP,this._settlers=new pP,this._closed=!1}close(){for(;this._settlers.length>0;)this._settlers.dequeue().resolve({done:!0});this._closed=!0}[Symbol.asyncIterator](){return this}enqueue(e){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");const r=this._settlers.dequeue();e instanceof Error?r.reject(e):r.resolve({value:e})}else this._values.enqueue(e)}next(){if(this._values.length>0){const e=this._values.dequeue();return e instanceof Error?Promise.reject(e):Promise.resolve({value:e})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0})}return new Promise((e,r)=>{this._settlers.enqueue({resolve:e,reject:r})})}}async function Hs(t,e,r,n){let i,o;!Array.isArray(e)&&!eE(e)?(i=[],o=e):(i=e,o=r);const s=YD(o);let a=t;return typeof t=="string"&&(a=await s(t)),pl(t)&&(a=await s(t)),Array.isArray(i)?await Wp(a,i,o):await Wp(a,i,o)}const rV="4.3.2";var p4;const nV=(p4=globalThis.loaders)==null?void 0:p4.parseImageNode,xb=typeof Image<"u",Pb=typeof ImageBitmap<"u",iV=!!nV,Cb=qS?!0:iV;function oV(t){switch(t){case"auto":return Pb||xb||Cb;case"imagebitmap":return Pb;case"image":return xb;case"data":return Cb;default:throw new Error(`@loaders.gl/images: image ${t} not supported in this environment`)}}function sV(){if(Pb)return"imagebitmap";if(xb)return"image";if(Cb)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function aV(t){const e=uV(t);if(!e)throw new Error("Not an image");return e}function lV(t){switch(aV(t)){case"data":return t;case"image":case"imagebitmap":const e=document.createElement("canvas"),r=e.getContext("2d");if(!r)throw new Error("getImageData");return e.width=t.width,e.height=t.height,r.drawImage(t,0,0),r.getImageData(0,0,t.width,t.height);default:throw new Error("getImageData")}}function uV(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&t instanceof Image?"image":t&&typeof t=="object"&&t.data&&t.width&&t.height?"data":null}const cV=/^data:image\/svg\+xml/,AV=/\.svg((\?|#).*)?$/;function rE(t){return t&&(cV.test(t)||AV.test(t))}function fV(t,e){if(rE(e)){let n=new TextDecoder().decode(t);try{typeof unescape=="function"&&typeof encodeURIComponent=="function"&&(n=unescape(encodeURIComponent(n)))}catch(o){throw new Error(o.message)}return`data:image/svg+xml;base64,${btoa(n)}`}return qD(t,e)}function qD(t,e){if(rE(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(t)])}async function GD(t,e,r){const n=fV(t,r),i=self.URL||self.webkitURL,o=typeof n!="string"&&i.createObjectURL(n);try{return await hV(o||n,e)}finally{o&&i.revokeObjectURL(o)}}async function hV(t,e){const r=new Image;return r.src=t,e.image&&e.image.decode&&r.decode?(await r.decode(),r):await new Promise((n,i)=>{try{r.onload=()=>n(r),r.onerror=o=>{const s=o instanceof Error?o.message:"error";i(new Error(s))}}catch(o){i(o)}})}const dV={};let gP=!0;async function pV(t,e,r){let n;rE(r)?n=await GD(t,e,r):n=qD(t,r);const i=e&&e.imagebitmap;return await gV(n,i)}async function gV(t,e=null){if((mV(e)||!gP)&&(e=null),e)try{return await createImageBitmap(t,e)}catch(r){console.warn(r),gP=!1}return await createImageBitmap(t)}function mV(t){for(const e in t||dV)return!1;return!0}function yV(t){return!wV(t,"ftyp",4)||!(t[8]&96)?null:vV(t)}function vV(t){switch(_V(t,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}function _V(t,e,r){return String.fromCharCode(...t.slice(e,r))}function bV(t){return[...t].map(e=>e.charCodeAt(0))}function wV(t,e,r=0){const n=bV(e);for(let i=0;i<n.length;++i)if(n[i]!==t[i+r])return!1;return!0}const po=!1,df=!0;function ZD(t){const e=ed(t);return EV(e)||PV(e)||TV(e)||xV(e)||SV(e)}function SV(t){const e=new Uint8Array(t instanceof DataView?t.buffer:t),r=yV(e);return r?{mimeType:r.mimeType,width:0,height:0}:null}function EV(t){const e=ed(t);return e.byteLength>=24&&e.getUint32(0,po)===2303741511?{mimeType:"image/png",width:e.getUint32(16,po),height:e.getUint32(20,po)}:null}function TV(t){const e=ed(t);return e.byteLength>=10&&e.getUint32(0,po)===1195984440?{mimeType:"image/gif",width:e.getUint16(6,df),height:e.getUint16(8,df)}:null}function xV(t){const e=ed(t);return e.byteLength>=14&&e.getUint16(0,po)===16973&&e.getUint32(2,df)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,df),height:e.getUint32(22,df)}:null}function PV(t){const e=ed(t);if(!(e.byteLength>=3&&e.getUint16(0,po)===65496&&e.getUint8(2)===255))return null;const{tableMarkers:n,sofMarkers:i}=CV();let o=2;for(;o+9<e.byteLength;){const s=e.getUint16(o,po);if(i.has(s))return{mimeType:"image/jpeg",height:e.getUint16(o+5,po),width:e.getUint16(o+7,po)};if(!n.has(s))return null;o+=2,o+=e.getUint16(o,po)}return null}function CV(){const t=new Set([65499,65476,65484,65501,65534]);for(let r=65504;r<65520;++r)t.add(r);return{tableMarkers:t,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function ed(t){if(t instanceof DataView)return t;if(ArrayBuffer.isView(t))return new DataView(t.buffer);if(t instanceof ArrayBuffer)return new DataView(t);throw new Error("toDataView")}async function OV(t,e){var i;const{mimeType:r}=ZD(t)||{},n=(i=globalThis.loaders)==null?void 0:i.parseImageNode;return jp(n),await n(t,r)}async function RV(t,e,r){e=e||{};const i=(e.image||{}).type||"auto",{url:o}=r||{},s=MV(i);let a;switch(s){case"imagebitmap":a=await pV(t,e,o);break;case"image":a=await GD(t,e,o);break;case"data":a=await OV(t);break;default:jp(!1)}return i==="data"&&(a=lV(a)),a}function MV(t){switch(t){case"auto":case"data":return sV();default:return oV(t),t}}const kV=["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],IV=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],NV={image:{type:"auto",decode:!0}},DV={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:rV,mimeTypes:IV,extensions:kV,parse:RV,tests:[t=>!!ZD(new DataView(t))],options:NV},BV=new Zh({id:"deck"}),yt=BV;let Ob={};function FV(t){Ob=t}function dn(t,e,r,n){yt.level>0&&Ob[t]&&Ob[t].call(null,e,r,n)}function LV(t){const e=t[0],r=t[t.length-1];return e==="{"&&r==="}"||e==="["&&r==="]"}const $V={dataType:null,batchType:null,id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:LV,parseTextSync:JSON.parse};function UV(){const t="9.0.36",e=globalThis.deck&&globalThis.deck.VERSION;if(e&&e!==t)throw new Error(`deck.gl - multiple versions detected: ${e} vs ${t}`);return e||(yt.log(1,`deck.gl ${t}`)(),globalThis.deck={...globalThis.deck,VERSION:t,version:t,log:yt,_registerLoggers:FV},wz([$V,[DV,{imagebitmap:{premultiplyAlpha:"none"}}]])),t}const jV=UV();function La(t,e){if(!t)throw new Error(e||"shadertools: assertion failed.")}const p_={number:{type:"number",validate(t,e){return Number.isFinite(t)&&typeof e=="object"&&(e.max===void 0||t<=e.max)&&(e.min===void 0||t>=e.min)}},array:{type:"array",validate(t,e){return Array.isArray(t)||ArrayBuffer.isView(t)}}};function zV(t){const e={};for(const[r,n]of Object.entries(t))e[r]=WV(n);return e}function VV(t,e,r){const n={};for(const[i,o]of Object.entries(e))t&&i in t&&!o.private?(o.validate&&La(o.validate(t[i],o),`${r}: invalid ${i}`),n[i]=t[i]):n[i]=o.value;return n}function WV(t){let e=mP(t);if(e!=="object")return{value:t,...p_[e],type:e};if(typeof t=="object")return t?t.type!==void 0?{...t,...p_[t.type],type:t.type}:t.value===void 0?{type:"object",value:t}:(e=mP(t.value),{...t,...p_[e],type:e}):{type:"object",value:null};throw new Error("props")}function mP(t){return Array.isArray(t)||ArrayBuffer.isView(t)?"array":typeof t}const HV=`#ifdef MODULE_LOGDEPTH
logdepth_adjustPosition(gl_Position);
#endif
`,XV=`#ifdef MODULE_MATERIAL
gl_FragColor = material_filterColor(gl_FragColor);
#endif
#ifdef MODULE_LIGHTING
gl_FragColor = lighting_filterColor(gl_FragColor);
#endif
#ifdef MODULE_FOG
gl_FragColor = fog_filterColor(gl_FragColor);
#endif
#ifdef MODULE_PICKING
gl_FragColor = picking_filterHighlightColor(gl_FragColor);
gl_FragColor = picking_filterPickingColor(gl_FragColor);
#endif
#ifdef MODULE_LOGDEPTH
logdepth_setFragDepth();
#endif
`,YV={vertex:HV,fragment:XV},yP=/void\s+main\s*\([^)]*\)\s*\{\n?/,vP=/}\n?[^{}]*$/,g_=[],op="__LUMA_INJECT_DECLARATIONS__";function KV(t){const e={vertex:{},fragment:{}};for(const r in t){let n=t[r];const i=QV(r);typeof n=="string"&&(n={order:0,injection:n}),e[i][r]=n}return e}function QV(t){const e=t.slice(0,2);switch(e){case"vs":return"vertex";case"fs":return"fragment";default:throw new Error(e)}}function Hp(t,e,r,n=!1){const i=e==="vertex";for(const o in r){const s=r[o];s.sort((l,A)=>l.order-A.order),g_.length=s.length;for(let l=0,A=s.length;l<A;++l)g_[l]=s[l].injection;const a=`${g_.join(`
`)}
`;switch(o){case"vs:#decl":i&&(t=t.replace(op,a));break;case"vs:#main-start":i&&(t=t.replace(yP,l=>l+a));break;case"vs:#main-end":i&&(t=t.replace(vP,l=>a+l));break;case"fs:#decl":i||(t=t.replace(op,a));break;case"fs:#main-start":i||(t=t.replace(yP,l=>l+a));break;case"fs:#main-end":i||(t=t.replace(vP,l=>a+l));break;default:t=t.replace(o,l=>l+a)}}return t=t.replace(op,""),n&&(t=t.replace(/\}\s*$/,o=>o+YV[e])),t}let qV=1;class $a{constructor(e){F(this,"name");F(this,"vs");F(this,"fs");F(this,"getModuleUniforms");F(this,"dependencies");F(this,"deprecations");F(this,"defines");F(this,"injections");F(this,"uniforms",{});F(this,"uniformTypes",{});const{name:r,vs:n,fs:i,dependencies:o=[],uniformTypes:s={},uniformPropTypes:a={},getUniforms:l,deprecations:A=[],defines:p={},inject:g={}}=e;La(typeof r=="string"),this.name=r,this.vs=n,this.fs=i,this.getModuleUniforms=l,this.dependencies=$a.instantiateModules(o),this.deprecations=this._parseDeprecationDefinitions(A),this.defines=p,this.injections=KV(g),this.uniformTypes=s,a&&(this.uniforms=zV(a))}static instantiateModules(e){return e.map(r=>{if(r instanceof $a)return r;La(typeof r!="string",`Shader module use by name is deprecated. Import shader module '${JSON.stringify(r)}' and use it directly.`),r.name||(console.warn("shader module has no name"),r.name=`shader-module-${qV++}`);const n=new $a(r);return n.dependencies=$a.instantiateModules(r.dependencies||[]),n})}getModuleSource(e){let r;switch(e){case"vertex":r=this.vs||"";break;case"fragment":r=this.fs||"";break;default:La(!1)}const n=this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_");return`// ----- MODULE ${this.name} ---------------

#define MODULE_${n}
${r}

`}getUniforms(e,r){return this.getModuleUniforms?this.getModuleUniforms(e,r):VV(e,this.uniforms,this.name)}getDefines(){return this.defines}checkDeprecations(e,r){this.deprecations.forEach(n=>{var i;(i=n.regex)!=null&&i.test(e)&&(n.deprecated?r.deprecated(n.old,n.new)():r.removed(n.old,n.new)())})}_parseDeprecationDefinitions(e){return e.forEach(r=>{switch(r.type){case"function":r.regex=new RegExp(`\\b${r.old}\\(`);break;default:r.regex=new RegExp(`${r.type} ${r.old};`)}}),e}_defaultGetUniforms(e={}){const r={},n=this.uniforms;for(const i in n){const o=n[i];i in e&&!o.private?(o.validate&&La(o.validate(e[i],o),`${this.name}: invalid ${i}`),r[i]=e[i]):r[i]=o.value}return r}}function _P(t){if(t.source&&t.platformInfo.type==="webgpu")return{...t,vs:void 0,fs:void 0};if(!t.vs)throw new Error("no vertex shader");const e=bP(t.platformInfo,t.vs);let r;return t.fs&&(r=bP(t.platformInfo,t.fs)),{...t,vs:e,fs:r}}function bP(t,e){if(typeof e=="string")return e;switch(t.type){case"webgpu":if(e!=null&&e.wgsl)return e.wgsl;throw new Error("WebGPU does not support GLSL shaders");default:if(e!=null&&e.glsl)return e.glsl;throw new Error("WebGL does not support WGSL shaders")}}function Wm(t){const e=$a.instantiateModules(t);return GV(e)}function GV(t){const e={},r={};return JD({modules:t,level:0,moduleMap:e,moduleDepth:r}),Object.keys(r).sort((n,i)=>r[i]-r[n]).map(n=>e[n])}function JD(t){const{modules:e,level:r,moduleMap:n,moduleDepth:i}=t;if(r>=5)throw new Error("Possible loop in shader dependency graph");for(const o of e)n[o.name]=o,(i[o.name]===void 0||i[o.name]<r)&&(i[o.name]=r);for(const o of e)o.dependencies&&JD({modules:o.dependencies,level:r+1,moduleMap:n,moduleDepth:i})}function ZV(t){switch(t==null?void 0:t.gpu.toLowerCase()){case"apple":return`#define APPLE_GPU
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"nvidia":return`#define NVIDIA_GPU
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
`;case"intel":return`#define INTEL_GPU
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"amd":return`#define AMD_GPU
`;default:return`#define DEFAULT_GPU
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`}}function JV(t,e){var n;if(Number(((n=t.match(/^#version[ \t]+(\d+)/m))==null?void 0:n[1])||100)!==300)throw new Error("luma.gl v9 only supports GLSL 3.00 shader sources");switch(e){case"vertex":return t=wP(t,eW),t;case"fragment":return t=wP(t,tW),t;default:throw new Error(e)}}const e6=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,`#version 300 es
`],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],eW=[...e6,[Rb("attribute"),"in $1"],[Rb("varying"),"out $1"]],tW=[...e6,[Rb("varying"),"in $1"]];function wP(t,e){for(const[r,n]of e)t=t.replace(r,n);return t}function Rb(t){return new RegExp(`\\b${t}[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)`,"g")}function t6(t,e){let r="";for(const n in t){const i=t[n];if(r+=`void ${i.signature} {
`,i.header&&(r+=`  ${i.header}`),e[n]){const o=e[n];o.sort((s,a)=>s.order-a.order);for(const s of o)r+=`  ${s.injection}
`}i.footer&&(r+=`  ${i.footer}`),r+=`}
`}return r}function r6(t){const e={vertex:{},fragment:{}};for(const r of t){let n,i;typeof r!="string"?(n=r,i=n.hook):(n={},i=r),i=i.trim();const[o,s]=i.split(":"),a=i.replace(/\(.+/,""),l=Object.assign(n,{signature:s});switch(o){case"vs":e.vertex[a]=l;break;case"fs":e.fragment[a]=l;break;default:throw new Error(o)}}return e}function rW(t,e){return{name:nW(t,e),language:"glsl",version:iW(t)}}function nW(t,e="unnamed"){const n=/#define[^\S\r\n]*SHADER_NAME[^\S\r\n]*([A-Za-z0-9_-]+)\s*/.exec(t);return n?n[1]:e}function iW(t){let e=100;const r=t.match(/[^\s]+/g);if(r&&r.length>=2&&r[0]==="#version"){const n=parseInt(r[1],10);Number.isFinite(n)&&(e=n)}if(e!==100&&e!==300)throw new Error(`Invalid GLSL version ${e}`);return e}const n6=`

${op}
`,oW=`precision highp float;
`;function sW(t){const e=Wm(t.modules||[]);return{source:Mb(t.platformInfo,{...t,source:t.source,stage:"vertex",modules:e}),getUniforms:nE(e)}}function aW(t){const e=Wm(t.modules||[]);return{vs:Mb(t.platformInfo,{...t,source:t.vs,stage:"vertex",modules:e}),fs:Mb(t.platformInfo,{...t,source:t.fs,stage:"fragment",modules:e}),getUniforms:nE(e)}}function lW(t){const{vs:e,fs:r}=t,n=Wm(t.modules||[]);return{vs:SP(t.platformInfo,{...t,source:e,stage:"vertex",modules:n}),fs:SP(t.platformInfo,{...t,source:r,stage:"fragment",modules:n}),getUniforms:nE(n)}}function Mb(t,e){const{source:r,stage:n,modules:i,hookFunctions:o=[],inject:s={},log:a}=e;La(typeof r=="string","shader source must be a string");const l=r;let A="";const p=r6(o),g={},v={},b={};for(const E in s){const C=typeof s[E]=="string"?{injection:s[E],order:0}:s[E],x=/^(v|f)s:(#)?([\w-]+)$/.exec(E);if(x){const P=x[2],T=x[3];P?T==="decl"?v[E]=[C]:b[E]=[C]:g[E]=[C]}else b[E]=[C]}const S=t.type!=="webgpu"?i:[];for(const E of S){a&&E.checkDeprecations(l,a);const C=E.getModuleSource(n,"wgsl");A+=C;const x=E.injections[n];for(const P in x){const T=/^(v|f)s:#([\w-]+)$/.exec(P);if(T){const R=T[2]==="decl"?v:b;R[P]=R[P]||[],R[P].push(x[P])}else g[P]=g[P]||[],g[P].push(x[P])}}return A+=n6,A=Hp(A,n,v),A+=t6(p[n],g),A+=l,A=Hp(A,n,b),A}function SP(t,e){const{id:r,source:n,stage:i,language:o="glsl",modules:s,defines:a={},hookFunctions:l=[],inject:A={},prologue:p=!0,log:g}=e;La(typeof n=="string","shader source must be a string");const v=o==="glsl"?rW(n).version:-1,b=t.shaderLanguageVersion,S=v===100?"#version 100":"#version 300 es",C=n.split(`
`).slice(1).join(`
`),x={};s.forEach(D=>{Object.assign(x,D.getDefines())}),Object.assign(x,a);let P="";switch(o){case"wgsl":break;case"glsl":P=p?`${S}

// ----- PROLOGUE -------------------------
${uW({id:r,source:n,stage:i})}
${`#define SHADER_TYPE_${i.toUpperCase()}`}
${ZV(t)}
${i==="fragment"?oW:""}

// ----- APPLICATION DEFINES -------------------------

${cW(x)}

`:`${S}
`;break}const T=r6(l),M={},R={},k={};for(const D in A){const $=typeof A[D]=="string"?{injection:A[D],order:0}:A[D],W=/^(v|f)s:(#)?([\w-]+)$/.exec(D);if(W){const N=W[2],H=W[3];N?H==="decl"?R[D]=[$]:k[D]=[$]:M[D]=[$]}else k[D]=[$]}for(const D of s){g&&D.checkDeprecations(C,g);const $=D.getModuleSource(i);P+=$;const W=D.injections[i];for(const N in W){const H=/^(v|f)s:#([\w-]+)$/.exec(N);if(H){const re=H[2]==="decl"?R:k;re[N]=re[N]||[],re[N].push(W[N])}else M[N]=M[N]||[],M[N].push(W[N])}}return P+="// ----- MAIN SHADER SOURCE -------------------------",P+=n6,P=Hp(P,i,R),P+=t6(T[i],M),P+=C,P=Hp(P,i,k),o==="glsl"&&v!==b&&(P=JV(P,i)),P.trim()}function nE(t){return function(r){const n={};for(const i of t){const o=i.getUniforms(r,n);Object.assign(n,o)}return n}}function uW(t){const{id:e,source:r,stage:n}=t;return e&&r.indexOf("SHADER_NAME")===-1?`
#define SHADER_NAME ${e}_${n}

`:""}function cW(t={}){let e="";for(const r in t){const n=t[r];(n||Number.isFinite(n))&&(e+=`#define ${r.toUpperCase()} ${t[r]}
`)}return e}const Ia=class Ia{constructor(){F(this,"_hookFunctions",[]);F(this,"_defaultModules",[])}static getDefaultShaderAssembler(){return Ia.defaultShaderAssembler=Ia.defaultShaderAssembler||new Ia,Ia.defaultShaderAssembler}addDefaultModule(e){this._defaultModules.find(r=>r.name===(typeof e=="string"?e:e.name))||this._defaultModules.push(e)}removeDefaultModule(e){const r=typeof e=="string"?e:e.name;this._defaultModules=this._defaultModules.filter(n=>n.name!==r)}addShaderHook(e,r){r&&(e=Object.assign(r,{hook:e})),this._hookFunctions.push(e)}assembleShader(e){const r=this._getModuleList(e.modules),n=this._hookFunctions,i=_P(e);return{...sW({platformInfo:e.platformInfo,...i,modules:r,hookFunctions:n}),modules:r}}assembleShaderPair(e){const r=_P(e),n=this._getModuleList(e.modules),i=this._hookFunctions,{platformInfo:o}=e;return{...e.platformInfo.shaderLanguage==="wgsl"?aW({platformInfo:o,...r,modules:n,hookFunctions:i}):lW({platformInfo:o,...r,modules:n,hookFunctions:i}),modules:n}}_getModuleList(e=[]){const r=new Array(this._defaultModules.length+e.length),n={};let i=0;for(let o=0,s=this._defaultModules.length;o<s;++o){const a=this._defaultModules[o],l=a.name;r[i++]=a,n[l]=!0}for(let o=0,s=e.length;o<s;++o){const a=e[o],l=a.name;n[l]||(r[i++]=a,n[l]=!0)}return r.length=i,$a.instantiateModules(r)}};F(Ia,"defaultShaderAssembler");let Xp=Ia;const AW=`out vec4 transform_output;
void main() {
transform_output = vec4(0);
}`,fW=`#version 300 es
${AW}`;function hW(t){const{input:e,inputChannels:r,output:n}=t||{};if(!e)return fW;if(!r)throw new Error("inputChannels");const i=dW(r),o=pW(e,r);return`#version 300 es
in ${i} ${e};
out vec4 ${n};
void main() {
  ${n} = ${o};
}`}function dW(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error(`invalid channels: ${t}`)}}function pW(t,e){switch(e){case 1:return`vec4(${t}, 0.0, 0.0, 1.0)`;case 2:return`vec4(${t}, 0.0, 1.0)`;case 3:return`vec4(${t}, 1.0)`;case 4:return t;default:throw new Error(`invalid channels: ${e}`)}}const ke=new Zh({id:"luma.gl"});class gW{constructor(){F(this,"stats",new Map)}getStats(e){return this.get(e)}get(e){return this.stats.has(e)||this.stats.set(e,new zm({id:e})),this.stats.get(e)}}const iE=new gW;function mW(){const t="9.0.27",e="set luma.log.level=1 (or higher) to trace rendering";if(globalThis.luma&&globalThis.luma.VERSION!==t)throw new Error(`luma.gl - multiple VERSIONs detected: ${globalThis.luma.VERSION} vs ${t}`);return globalThis.luma||(oa()&&ke.log(1,`${t} - ${e}`)(),globalThis.luma=globalThis.luma||{VERSION:t,version:t,log:ke,stats:iE}),t}const yW=mW();function vW(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)?t:null}function Xf(t){return Array.isArray(t)?t.length===0||typeof t[0]=="number"?t:null:vW(t)}const m_={};function gl(t="id"){m_[t]=m_[t]||1;const e=m_[t]++;return`${t}-${e}`}function Yp(t){let e=!0;for(const r in t){e=!1;break}return e}var O1;let Xt=(O1=class{constructor(e,r,n){F(this,"id");F(this,"props");F(this,"userData",{});F(this,"_device");F(this,"destroyed",!1);F(this,"allocatedBytes",0);F(this,"_attachedResources",new Set);if(!e)throw new Error("no device");this._device=e,this.props=_W(r,n);const i=this.props.id!=="undefined"?this.props.id:gl(this[Symbol.toStringTag]);this.props.id=i,this.id=i,this.userData=this.props.userData||{},this.addStats()}destroy(){this.destroyResource()}delete(){return this.destroy(),this}toString(){return`${this[Symbol.toStringTag]||this.constructor.name}(${this.id})`}getProps(){return this.props}attachResource(e){this._attachedResources.add(e)}detachResource(e){this._attachedResources.delete(e)}destroyAttachedResource(e){this._attachedResources.delete(e)&&e.destroy()}destroyAttachedResources(){for(const e of Object.values(this._attachedResources))e.destroy();this._attachedResources=new Set}destroyResource(){this.destroyAttachedResources(),this.removeStats(),this.destroyed=!0}removeStats(){const e=this._device.statsManager.getStats("Resource Counts"),r=this[Symbol.toStringTag];e.get(`${r}s Active`).decrementCount()}trackAllocatedMemory(e,r=this[Symbol.toStringTag]){const n=this._device.statsManager.getStats("Resource Counts");n.get("GPU Memory").addCount(e),n.get(`${r} Memory`).addCount(e),this.allocatedBytes=e}trackDeallocatedMemory(e=this[Symbol.toStringTag]){const r=this._device.statsManager.getStats("Resource Counts");r.get("GPU Memory").subtractCount(this.allocatedBytes),r.get(`${e} Memory`).subtractCount(this.allocatedBytes),this.allocatedBytes=0}addStats(){const e=this._device.statsManager.getStats("Resource Counts"),r=this[Symbol.toStringTag];e.get("Resources Created").incrementCount(),e.get(`${r}s Created`).incrementCount(),e.get(`${r}s Active`).incrementCount()}},F(O1,"defaultProps",{id:"undefined",handle:void 0,userData:void 0}),O1);function _W(t,e){const r={...e};for(const n in t)t[n]!==void 0&&(r[n]=t[n]);return r}const qr=class qr extends Xt{constructor(r,n){const i={...n};(n.usage||0)&qr.INDEX&&!n.indexType&&(n.data instanceof Uint32Array?i.indexType="uint32":n.data instanceof Uint16Array&&(i.indexType="uint16"));super(r,i,qr.defaultProps);F(this,"usage");F(this,"indexType");F(this,"updateTimestamp");F(this,"debugData",new ArrayBuffer(0));this.usage=n.usage||0,this.indexType=i.indexType,this.updateTimestamp=r.incrementTimestamp()}get[Symbol.toStringTag](){return"Buffer"}readSyncWebGL(r,n){throw new Error("not implemented")}_setDebugData(r,n,i){const o=ArrayBuffer.isView(r)?r.buffer:r,s=Math.min(r?r.byteLength:i,qr.DEBUG_DATA_MAX_LENGTH);r===null?this.debugData=new ArrayBuffer(s):n===0&&i===r.byteLength?this.debugData=o.slice(0,s):this.debugData=o.slice(n,n+s)}};F(qr,"defaultProps",{...Xt.defaultProps,usage:0,byteLength:0,byteOffset:0,data:null,indexType:"uint16",mappedAtCreation:!1}),F(qr,"MAP_READ",1),F(qr,"MAP_WRITE",2),F(qr,"COPY_SRC",4),F(qr,"COPY_DST",8),F(qr,"INDEX",16),F(qr,"VERTEX",32),F(qr,"UNIFORM",64),F(qr,"STORAGE",128),F(qr,"INDIRECT",256),F(qr,"QUERY_RESOLVE",512),F(qr,"DEBUG_DATA_MAX_LENGTH",32);let ur=qr;function i6(t){const e=EP[t],r=bW(e),n=t.includes("norm"),i=!n&&!t.startsWith("float"),o=t.startsWith("s");return{dataType:EP[t],byteLength:r,integer:i,signed:o,normalized:n}}function bW(t){return wW[t]}const EP={uint8:"uint8",sint8:"sint8",unorm8:"uint8",snorm8:"sint8",uint16:"uint16",sint16:"sint16",unorm16:"uint16",snorm16:"sint16",float16:"float16",float32:"float32",uint32:"uint32",sint32:"sint32"},wW={uint8:1,sint8:1,uint16:2,sint16:2,float16:2,float32:4,uint32:4,sint32:4},SW=["bc1","bc2","bc3","bc4","bc5","bc6","bc7","etc1","etc2","eac","atc","astc","pvrtc"],EW=/^(rg?b?a?)([0-9]*)([a-z]*)(-srgb)?(-webgl|-unsized)?$/;function TW(t){return SW.some(e=>t.startsWith(e))}function o6(t){const e=EW.exec(t);if(e){const[,r,n,i,o,s]=e;if(r){const a=`${i}${n}`,l=i6(a);return{format:r,components:r.length,srgb:o==="-srgb",unsized:s==="-unsized",webgl:s==="-webgl",...l}}}return PW(t)}const xW={"rgba4unorm-webgl":{format:"rgba",bpp:2},"rgb565unorm-webgl":{format:"rgb",bpp:2},"rgb5a1unorm-webgl":{format:"rgba",bbp:2},rgb9e5ufloat:{format:"rgb",bbp:4},rg11b10ufloat:{format:"rgb",bbp:4},rgb10a2unorm:{format:"rgba",bbp:4},"rgb10a2uint-webgl":{format:"rgba",bbp:4},stencil8:{components:1,bpp:1,a:"stencil"},depth16unorm:{components:1,bpp:2,a:"depth"},depth24plus:{components:1,bpp:3,a:"depth"},depth32float:{components:1,bpp:4,a:"depth"},"depth24plus-stencil8":{components:2,bpp:4,a:"depth-stencil"},"depth24unorm-stencil8":{components:2,bpp:4,a:"depth-stencil"},"depth32float-stencil8":{components:2,bpp:4,a:"depth-stencil"}};function PW(t){var r;const e=xW[t];if(!e)throw new Error(`Unknown format ${t}`);return{format:e.format||"",components:e.components||((r=e.format)==null?void 0:r.length)||1,byteLength:e.bpp||1,srgb:!1,unsized:!1}}class CW{}class OW{constructor(e=[],r){F(this,"features");F(this,"disabledFeatures");this.features=new Set(e),this.disabledFeatures=r||{}}*[Symbol.iterator](){yield*this.features}has(e){return!this.disabledFeatures[e]&&this.features.has(e)}}const Pf=class Pf{constructor(e){F(this,"id");F(this,"props");F(this,"userData",{});F(this,"statsManager",iE);F(this,"_lumaData",{});F(this,"timestamp",0);this.props={...Pf.defaultProps,...e},this.id=this.props.id||gl(this[Symbol.toStringTag].toLowerCase())}get[Symbol.toStringTag](){return"Device"}isTextureFormatCompressed(e){return TW(e)}loseDevice(){return!1}getCanvasContext(){if(!this.canvasContext)throw new Error("Device has no CanvasContext");return this.canvasContext}createTexture(e){return(e instanceof Promise||typeof e=="string")&&(e={data:e}),this._createTexture(e)}createCommandEncoder(e={}){throw new Error("not implemented")}readPixelsToArrayWebGL(e,r){throw new Error("not implemented")}readPixelsToBufferWebGL(e,r){throw new Error("not implemented")}setParametersWebGL(e){throw new Error("not implemented")}getParametersWebGL(e){throw new Error("not implemented")}withParametersWebGL(e,r){throw new Error("not implemented")}clearWebGL(e){throw new Error("not implemented")}resetWebGL(){throw new Error("not implemented")}incrementTimestamp(){return this.timestamp++}onError(e){this.props.onError(e)}_getBufferProps(e){(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const r={...e};return(e.usage||0)&ur.INDEX&&!e.indexType&&(e.data instanceof Uint32Array?r.indexType="uint32":e.data instanceof Uint16Array?r.indexType="uint16":ke.warn("indices buffer content must be of integer type")()),r}};F(Pf,"defaultProps",{id:null,canvas:null,container:null,manageState:!0,width:800,height:600,requestMaxLimits:!0,debug:!!ke.get("debug"),spector:!!(ke.get("spector")||ke.get("spectorjs")),break:[],initalizeFeatures:!0,disabledFeatures:{"compilation-status-async-webgl":!0},gl:null,onError:e=>ke.error(e.message)}),F(Pf,"VERSION",yW);let qu=Pf;function rr(t,e){if(!t)throw new Error(e||"luma.gl: assertion failed.")}const SA=new Map,xu=class xu{static registerDevices(e){for(const r of e)rr(r.type&&r.isSupported&&r.create),SA.set(r.type,r)}static getAvailableDevices(){return Array.from(SA).map(e=>e.type)}static getSupportedDevices(){return Array.from(SA).filter(e=>e.isSupported()).map(e=>e.type)}static setDefaultDeviceProps(e){Object.assign(qu.defaultProps,e)}static async attachDevice(e){const r=TP(e.devices)||SA;if(e.handle instanceof WebGL2RenderingContext){const n=r.get("webgl");if(n)return await n.attach(e.handle)}if(e.handle===null){const n=r.get("unknown");if(n)return await n.attach(null)}throw new Error("Failed to attach device. Ensure `@luma.gl/webgl` and/or `@luma.gl/webgpu` modules are imported.")}static async createDevice(e={}){var o,s;e={...xu.defaultProps,...e},e.gl&&(e.type="webgl");const r=TP(e.devices)||SA;let n,i;switch(e.type){case"webgpu":if(n=r.get("webgpu"),n)return await n.create(e);break;case"webgl":if(i=r.get("webgl"),i)return await i.create(e);break;case"unknown":const a=r.get("unknown");if(a)return await a.create(e);break;case"best-available":if(n=r.get("webgpu"),(o=n==null?void 0:n.isSupported)!=null&&o.call(n))return await n.create(e);if(i=r.get("webgl"),(s=i==null?void 0:i.isSupported)!=null&&s.call(i))return await i.create(e);break}throw new Error("No matching device found. Ensure `@luma.gl/webgl` and/or `@luma.gl/webgpu` modules are imported.")}static enforceWebGL2(e=!0){const r=HTMLCanvasElement.prototype;if(!e&&r.originalGetContext){r.getContext=r.originalGetContext,r.originalGetContext=void 0;return}r.originalGetContext=r.getContext,r.getContext=function(n,i){return n==="webgl"||n==="experimental-webgl"?this.originalGetContext("webgl2",i):this.originalGetContext(n,i)}}};F(xu,"defaultProps",{...qu.defaultProps,type:"best-available",devices:void 0}),F(xu,"stats",iE),F(xu,"log",ke);let Iu=xu;function TP(t){if(!t||(t==null?void 0:t.length)===0)return null;const e=new Map;for(const r of t)e.set(r.type,r);return e}const RW=oa()&&typeof document<"u",Hm=()=>RW&&document.readyState==="complete",MW={canvas:null,width:800,height:600,useDevicePixels:!0,autoResize:!0,container:null,visible:!0,colorSpace:"srgb",alphaMode:"opaque"};class oE{constructor(e){F(this,"id");F(this,"props");F(this,"canvas");F(this,"htmlCanvas");F(this,"offscreenCanvas");F(this,"type");F(this,"width",1);F(this,"height",1);F(this,"resizeObserver");F(this,"_canvasSizeInfo",{clientWidth:0,clientHeight:0,devicePixelRatio:1});if(this.props={...MW,...e},e=this.props,!oa()){this.id="node-canvas-context",this.type="node",this.width=this.props.width,this.height=this.props.height,this.canvas=null;return}if(e.canvas)typeof e.canvas=="string"?this.canvas=NW(e.canvas):this.canvas=e.canvas;else{const r=DW(e),n=IW((e==null?void 0:e.container)||null);n.insertBefore(r,n.firstChild),this.canvas=r,e!=null&&e.visible||(this.canvas.style.visibility="hidden")}this.canvas instanceof HTMLCanvasElement?(this.id=this.canvas.id,this.type="html-canvas",this.htmlCanvas=this.canvas):(this.id="offscreen-canvas",this.type="offscreen-canvas",this.offscreenCanvas=this.canvas),this.canvas instanceof HTMLCanvasElement&&e.autoResize&&(this.resizeObserver=new ResizeObserver(r=>{for(const n of r)n.target===this.canvas&&this.update()}),this.resizeObserver.observe(this.canvas))}static get isPageLoaded(){return Hm()}getDevicePixelRatio(e){return typeof OffscreenCanvas<"u"&&this.canvas instanceof OffscreenCanvas||(e=e===void 0?this.props.useDevicePixels:e,!e||e<=0)?1:e===!0?typeof window<"u"&&window.devicePixelRatio||1:e}getPixelSize(){switch(this.type){case"node":return[this.width,this.height];case"offscreen-canvas":return[this.canvas.width,this.canvas.height];case"html-canvas":const e=this.getDevicePixelRatio(),r=this.canvas;return r.parentElement?[r.clientWidth*e,r.clientHeight*e]:[this.canvas.width,this.canvas.height];default:throw new Error(this.type)}}getAspect(){const[e,r]=this.getPixelSize();return e/r}cssToDeviceRatio(){try{const[e]=this.getDrawingBufferSize(),{clientWidth:r}=this._canvasSizeInfo;return r?e/r:1}catch{return 1}}cssToDevicePixels(e,r=!0){const n=this.cssToDeviceRatio(),[i,o]=this.getDrawingBufferSize();return BW(e,n,i,o,r)}setDevicePixelRatio(e,r={}){if(!this.htmlCanvas)return;let n="width"in r?r.width:this.htmlCanvas.clientWidth,i="height"in r?r.height:this.htmlCanvas.clientHeight;(!n||!i)&&(ke.log(1,"Canvas clientWidth/clientHeight is 0")(),e=1,n=this.htmlCanvas.width||1,i=this.htmlCanvas.height||1);const o=this._canvasSizeInfo;if(o.clientWidth!==n||o.clientHeight!==i||o.devicePixelRatio!==e){let s=e;const a=Math.floor(n*s),l=Math.floor(i*s);this.htmlCanvas.width=a,this.htmlCanvas.height=l;const[A,p]=this.getDrawingBufferSize();(A!==a||p!==l)&&(s=Math.min(A/n,p/i),this.htmlCanvas.width=Math.floor(n*s),this.htmlCanvas.height=Math.floor(i*s),ke.warn("Device pixel ratio clamped")()),this._canvasSizeInfo.clientWidth=n,this._canvasSizeInfo.clientHeight=i,this._canvasSizeInfo.devicePixelRatio=e}}getDrawingBufferSize(){const e=this.device.gl;if(!e)throw new Error("canvas size");return[e.drawingBufferWidth,e.drawingBufferHeight]}_setAutoCreatedCanvasId(e){var r;((r=this.htmlCanvas)==null?void 0:r.id)==="lumagl-auto-created-canvas"&&(this.htmlCanvas.id=e)}}F(oE,"pageLoaded",kW());function kW(){return Hm()||typeof window>"u"?Promise.resolve():new Promise(t=>{window.addEventListener("load",()=>t())})}function IW(t){if(typeof t=="string"){const e=document.getElementById(t);if(!e&&!Hm())throw new Error(`Accessing '${t}' before page was loaded`);if(!e)throw new Error(`${t} is not an HTML element`);return e}else if(t)return t;return document.body}function NW(t){const e=document.getElementById(t);if(!e&&!Hm())throw new Error(`Accessing '${t}' before page was loaded`);if(!(e instanceof HTMLCanvasElement))throw new Error("Object is not a canvas element");return e}function DW(t){const{width:e,height:r}=t,n=document.createElement("canvas");return n.id="lumagl-auto-created-canvas",n.width=e||1,n.height=r||1,n.style.width=Number.isFinite(e)?`${e}px`:"100%",n.style.height=Number.isFinite(r)?`${r}px`:"100%",n}function BW(t,e,r,n,i){const o=t,s=xP(o[0],e,r);let a=PP(o[1],e,n,i),l=xP(o[0]+1,e,r);const A=l===r-1?l:l-1;l=PP(o[1]+1,e,n,i);let p;return i?(l=l===0?l:l+1,p=a,a=l):p=l===n-1?l:l-1,{x:s,y:a,width:Math.max(A-s+1,1),height:Math.max(p-a+1,1)}}function xP(t,e,r){return Math.min(Math.round(t*e),r-1)}function PP(t,e,r,n){return n?Math.max(0,r-1-Math.round(t*e)):Math.min(Math.round(t*e),r-1)}const Bo=class Bo extends Xt{constructor(r,n,i=Bo.defaultProps){super(r,n,i);F(this,"dimension");F(this,"format");F(this,"width");F(this,"height");F(this,"depth");F(this,"updateTimestamp");this.dimension=this.props.dimension,this.format=this.props.format,this.width=this.props.width,this.height=this.props.height,this.depth=this.props.depth,this.updateTimestamp=r.incrementTimestamp()}get[Symbol.toStringTag](){return"Texture"}};F(Bo,"defaultProps",{...Xt.defaultProps,data:null,dimension:"2d",format:"rgba8unorm",width:void 0,height:void 0,depth:1,mipmaps:!0,compressed:!1,usage:0,mipLevels:void 0,samples:void 0,type:void 0,sampler:{},view:void 0}),F(Bo,"COPY_SRC",1),F(Bo,"COPY_DST",2),F(Bo,"TEXTURE_BINDING",4),F(Bo,"STORAGE_BINDING",8),F(Bo,"RENDER_ATTACHMENT",16);let pi=Bo;const fm=class fm extends Xt{get[Symbol.toStringTag](){return"TextureView"}constructor(e,r){super(e,r,fm.defaultProps)}};F(fm,"defaultProps",{...Xt.defaultProps,format:void 0,dimension:void 0,aspect:"all",baseMipLevel:0,mipLevelCount:void 0,baseArrayLayer:0,arrayLayerCount:void 0});let Kp=fm;function FW(t,e,r){let n="";const i=e.split(/\r?\n/),o=t.slice().sort((s,a)=>s.lineNum-a.lineNum);switch((r==null?void 0:r.showSourceCode)||"no"){case"all":let s=0;for(let a=1;a<=i.length;a++)for(n+=s6(i[a-1],a,r);o.length>s&&o[s].lineNum===a;){const l=o[s++];n+=CP(l,i,l.lineNum,{...r,inlineSource:!1})}return n;case"issues":case"no":for(const a of t)n+=CP(a,i,a.lineNum,{inlineSource:(r==null?void 0:r.showSourceCode)!=="no"});return n}}function CP(t,e,r,n){if(n!=null&&n.inlineSource){const i=LW(e,r),o=t.linePos>0?`${" ".repeat(t.linePos+5)}^^^
`:"";return`
${i}${o}${t.type.toUpperCase()}: ${t.message}

`}return n!=null&&n.html?`<div class='luma-compiler-log-error' style="color:red;"><b> ${t.type.toUpperCase()}: ${t.message}</b></div>`:`${t.type.toUpperCase()}: ${t.message}`}function LW(t,e,r){let n="";for(let i=e-2;i<=e;i++){const o=t[i-1];o!==void 0&&(n+=s6(o,e,r))}return n}function s6(t,e,r){const n=r!=null&&r.html?UW(t):t;return`${$W(String(e),4)}: ${n}${r!=null&&r.html?"<br/>":`
`}`}function $W(t,e){let r="";for(let n=t.length;n<e;++n)r+=" ";return r+t}function UW(t){return t.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}function a6(t,e){return{name:jW(t,e),language:"glsl",version:zW(t)}}function jW(t,e="unnamed"){const n=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/.exec(t);return n?n[1]:e}function zW(t){let e=100;const r=t.match(/[^\s]+/g);if(r&&r.length>=2&&r[0]==="#version"){const n=parseInt(r[1],10);Number.isFinite(n)&&(e=n)}return e}const hm=class hm extends Xt{constructor(r,n){super(r,{id:VW(n),...n},hm.defaultProps);F(this,"stage");F(this,"source");F(this,"compilationStatus","pending");this.stage=this.props.stage,this.source=this.props.source}get[Symbol.toStringTag](){return"Shader"}getCompilationInfoSync(){return null}getTranslatedSource(){return null}async debugShader(r=this.props.debug){switch(r){case"never":return;case"errors":if(this.compilationStatus==="success")return;break}const n=await this.getCompilationInfo();this.props.debug==="warnings"&&(n==null?void 0:n.length)===0||this._displayShaderLog(n)}_displayShaderLog(r){var A;if(typeof document>"u"||!(document!=null&&document.createElement))return;const n=a6(this.source).name,i=`${this.stage} ${n}`;let o=FW(r,this.source,{showSourceCode:"all",html:!0});const s=this.getTranslatedSource();s&&(o+=`<br /><br /><h1>Translated Source</h1><br /><br /><code style="user-select:text;"><pre>${s}</pre></code>`);const a=document.createElement("Button");a.innerHTML=`
<h1>Shader Compilation Error in ${i}</h1><br /><br />
<code style="user-select:text;"><pre>
${o}
</pre></code>`,a.style.top="10px",a.style.left="10px",a.style.position="absolute",a.style.zIndex="9999",a.style.width="100%",a.style.textAlign="left",document.body.appendChild(a);const l=document.getElementsByClassName("luma-compiler-log-error");(A=l[0])!=null&&A.scrollIntoView&&l[0].scrollIntoView(),a.onclick=()=>{const p=`data:text/plain,${encodeURIComponent(this.source)}`;navigator.clipboard.writeText(p)}}};F(hm,"defaultProps",{...Xt.defaultProps,language:"auto",stage:void 0,source:"",sourceMap:null,entryPoint:"main",debug:"errors"});let Qp=hm;function VW(t){return a6(t.source).name||t.id||gl(`unnamed ${t.stage}-shader`)}const dm=class dm extends Xt{get[Symbol.toStringTag](){return"Sampler"}constructor(e,r){super(e,r,dm.defaultProps)}};F(dm,"defaultProps",{...Xt.defaultProps,type:"color-sampler",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",addressModeW:"clamp-to-edge",magFilter:"nearest",minFilter:"nearest",mipmapFilter:"nearest",lodMinClamp:0,lodMaxClamp:32,compare:"less-equal",maxAnisotropy:1});let qp=dm;const pm=class pm extends Xt{constructor(r,n={}){super(r,n,pm.defaultProps);F(this,"width");F(this,"height");F(this,"colorAttachments",[]);F(this,"depthStencilAttachment",null);this.width=this.props.width,this.height=this.props.height}get[Symbol.toStringTag](){return"Framebuffer"}resize(r){let n=!r;if(r){const[i,o]=Array.isArray(r)?r:[r.width,r.height];n=n||o!==this.height||i!==this.width,this.width=i,this.height=o}n&&(ke.log(2,`Resizing framebuffer ${this.id} to ${this.width}x${this.height}`)(),this.resizeAttachments(this.width,this.height))}autoCreateAttachmentTextures(){if(this.props.colorAttachments.length===0&&!this.props.depthStencilAttachment)throw new Error("Framebuffer has noattachments");this.colorAttachments=this.props.colorAttachments.map(n=>{if(typeof n=="string"){const i=this.createColorTexture(n);return this.attachResource(i),i.view}return n instanceof pi?n.view:n});const r=this.props.depthStencilAttachment;if(r)if(typeof r=="string"){const n=this.createDepthStencilTexture(r);this.attachResource(n),this.depthStencilAttachment=n.view}else r instanceof pi?this.depthStencilAttachment=r.view:this.depthStencilAttachment=r}createColorTexture(r){return this.device.createTexture({id:"color-attachment",usage:pi.RENDER_ATTACHMENT,format:r,width:this.width,height:this.height})}createDepthStencilTexture(r){return this.device.createTexture({id:"depth-stencil-attachment",usage:pi.RENDER_ATTACHMENT,format:r,width:this.width,height:this.height})}resizeAttachments(r,n){for(let i=0;i<this.colorAttachments.length;++i)if(this.colorAttachments[i]){const o=this.device._createTexture({...this.colorAttachments[i].props,width:r,height:n});this.destroyAttachedResource(this.colorAttachments[i]),this.colorAttachments[i]=o.view,this.attachResource(o.view)}if(this.depthStencilAttachment){const i=this.device._createTexture({...this.depthStencilAttachment.props,width:r,height:n});this.destroyAttachedResource(this.depthStencilAttachment),this.depthStencilAttachment=i.view,this.attachResource(i)}}};F(pm,"defaultProps",{...Xt.defaultProps,width:1,height:1,colorAttachments:[],depthStencilAttachment:null});let Gp=pm;const gm=class gm extends Xt{constructor(r,n){super(r,n,gm.defaultProps);F(this,"shaderLayout");F(this,"bufferLayout");F(this,"linkStatus","pending");F(this,"hash","");this.shaderLayout=this.props.shaderLayout,this.bufferLayout=this.props.bufferLayout||[]}get[Symbol.toStringTag](){return"RenderPipeline"}setUniformsWebGL(r){throw new Error("Use uniform blocks")}};F(gm,"defaultProps",{...Xt.defaultProps,vs:null,vertexEntryPoint:"vertexMain",vsConstants:{},fs:null,fragmentEntryPoint:"fragmentMain",fsConstants:{},shaderLayout:null,bufferLayout:[],topology:"triangle-list",parameters:{},bindings:{},uniforms:{}});let Gu=gm;const mm=class mm extends Xt{get[Symbol.toStringTag](){return"RenderPass"}constructor(e,r){super(e,r,mm.defaultProps)}};F(mm,"defaultProps",{...Xt.defaultProps,framebuffer:null,parameters:void 0,clearColor:[0,0,0,0],clearDepth:1,clearStencil:0,depthReadOnly:!1,stencilReadOnly:!1,discard:!1,occlusionQuerySet:void 0,timestampQuerySet:void 0,beginTimestampIndex:void 0,endTimestampIndex:void 0});let kb=mm;const ym=class ym extends Xt{constructor(r,n){super(r,n,ym.defaultProps);F(this,"hash","")}get[Symbol.toStringTag](){return"ComputePipeline"}};F(ym,"defaultProps",{...Xt.defaultProps,shader:void 0,entryPoint:void 0,constants:{},shaderLayout:void 0});let Zp=ym;const vm=class vm extends Xt{get[Symbol.toStringTag](){return"CommandEncoder"}constructor(e,r){super(e,r,vm.defaultProps)}};F(vm,"defaultProps",{...Xt.defaultProps,measureExecutionTime:void 0});let Ib=vm;const _m=class _m extends Xt{get[Symbol.toStringTag](){return"CommandBuffer"}constructor(e,r){super(e,r,_m.defaultProps)}};F(_m,"defaultProps",{...Xt.defaultProps});let Nb=_m;function WW(t){const[e,r]=XW[t],n=e==="i32"||e==="u32",i=e!=="u32",o=YW[e]*r,s=HW(e,r);return{dataType:e,components:r,defaultVertexFormat:s,byteLength:o,integer:n,signed:i}}function HW(t,e){let r;switch(t){case"f32":r="float32";break;case"i32":r="sint32";break;case"u32":r="uint32";break;case"f16":return e<=2?"float16x2":"float16x4"}return e===1?r:`${r}x${e}`}const XW={f32:["f32",1],"vec2<f32>":["f32",2],"vec3<f32>":["f32",3],"vec4<f32>":["f32",4],f16:["f16",1],"vec2<f16>":["f16",2],"vec3<f16>":["f16",3],"vec4<f16>":["f16",4],i32:["i32",1],"vec2<i32>":["i32",2],"vec3<i32>":["i32",3],"vec4<i32>":["i32",4],u32:["u32",1],"vec2<u32>":["u32",2],"vec3<u32>":["u32",3],"vec4<u32>":["u32",4]},YW={f32:4,f16:2,i32:4,u32:4};function l6(t){let e;t.endsWith("-webgl")&&(t.replace("-webgl",""),e=!0);const[r,n]=t.split("x"),i=r,o=n?parseInt(n):1,s=i6(i),a={type:i,components:o,byteLength:s.byteLength*o,integer:s.integer,signed:s.signed,normalized:s.normalized};return e&&(a.webglOnly=!0),a}function u6(t,e){const r={};for(const n of t.attributes)r[n.name]=QW(t,e,n.name);return r}function KW(t,e,r=16){const n=u6(t,e),i=new Array(r).fill(null);for(const o of Object.values(n))i[o.location]=o;return i}function QW(t,e,r){const n=qW(t,r),i=GW(e,r);if(!n)return null;const o=WW(n.type),s=(i==null?void 0:i.vertexFormat)||o.defaultVertexFormat,a=l6(s);return{attributeName:(i==null?void 0:i.attributeName)||n.name,bufferName:(i==null?void 0:i.bufferName)||n.name,location:n.location,shaderType:n.type,shaderDataType:o.dataType,shaderComponents:o.components,vertexFormat:s,bufferDataType:a.type,bufferComponents:a.components,normalized:a.normalized,integer:o.integer,stepMode:(i==null?void 0:i.stepMode)||n.stepMode,byteOffset:(i==null?void 0:i.byteOffset)||0,byteStride:(i==null?void 0:i.byteStride)||0}}function qW(t,e){const r=t.attributes.find(n=>n.name===e);return r||ke.warn(`shader layout attribute "${e}" not present in shader`),r||null}function GW(t,e){ZW(t);let r=JW(t,e);return r||(r=eH(t,e),r)?r:(ke.warn(`layout for attribute "${e}" not present in buffer layout`),null)}function ZW(t){for(const e of t)(e.attributes&&e.format||!e.attributes&&!e.format)&&ke.warn(`BufferLayout ${name} must have either 'attributes' or 'format' field`)}function JW(t,e){for(const r of t)if(r.format&&r.name===e)return{attributeName:r.name,bufferName:e,stepMode:r.stepMode,vertexFormat:r.format,byteOffset:0,byteStride:r.byteStride||0};return null}function eH(t,e){var r;for(const n of t){let i=n.byteStride;if(typeof n.byteStride!="number")for(const s of n.attributes||[]){const a=l6(s.format);i+=a.byteLength}const o=(r=n.attributes)==null?void 0:r.find(s=>s.attribute===e);if(o)return{attributeName:o.attribute,bufferName:n.name,stepMode:n.stepMode,vertexFormat:o.format,byteOffset:o.byteOffset,byteStride:i}}return null}function tH(t,e){const r={...t,attributes:t.attributes.map(n=>({...n}))};for(const n of(e==null?void 0:e.attributes)||[]){const i=r.attributes.find(o=>o.name===n.name);i?(i.type=n.type||i.type,i.stepMode=n.stepMode||i.stepMode):ke.warn(`shader layout attribute ${n.name} not present in shader`)}return r}const bm=class bm extends Xt{constructor(r,n){super(r,n,bm.defaultProps);F(this,"maxVertexAttributes");F(this,"attributeInfos");F(this,"indexBuffer",null);F(this,"attributes");this.maxVertexAttributes=r.limits.maxVertexAttributes,this.attributes=new Array(this.maxVertexAttributes).fill(null),this.attributeInfos=KW(n.renderPipeline.shaderLayout,n.renderPipeline.bufferLayout,this.maxVertexAttributes)}get[Symbol.toStringTag](){return"VertexArray"}setConstantWebGL(r,n){throw new Error("constant attributes not supported")}};F(bm,"defaultProps",{...Xt.defaultProps,renderPipeline:null});let Db=bm;const wm=class wm extends Xt{get[Symbol.toStringTag](){return"TransformFeedback"}constructor(e,r){super(e,r,wm.defaultProps)}};F(wm,"defaultProps",{...Xt.defaultProps,layout:void 0,buffers:{}});let Bb=wm;const Sm=class Sm extends Xt{get[Symbol.toStringTag](){return"QuerySet"}constructor(e,r){super(e,r,Sm.defaultProps)}};F(Sm,"defaultProps",{...Xt.defaultProps,type:void 0,count:void 0});let Fb=Sm;const rH={f32:{type:"f32",components:1},i32:{type:"i32",components:1},u32:{type:"u32",components:1},"vec2<f32>":{type:"f32",components:2},"vec3<f32>":{type:"f32",components:3},"vec4<f32>":{type:"f32",components:4},"vec2<i32>":{type:"i32",components:2},"vec3<i32>":{type:"i32",components:3},"vec4<i32>":{type:"i32",components:4},"vec2<u32>":{type:"u32",components:2},"vec3<u32>":{type:"u32",components:3},"vec4<u32>":{type:"u32",components:4},"mat2x2<f32>":{type:"f32",components:4},"mat2x3<f32>":{type:"f32",components:6},"mat2x4<f32>":{type:"f32",components:8},"mat3x2<f32>":{type:"f32",components:6},"mat3x3<f32>":{type:"f32",components:9},"mat3x4<f32>":{type:"f32",components:12},"mat4x2<f32>":{type:"f32",components:8},"mat4x3<f32>":{type:"f32",components:12},"mat4x4<f32>":{type:"f32",components:16}};function nH(t){const e=rH[t];return rr(t),e}function iH(t,e){switch(e){case 1:return t;case 2:return t+t%2;default:return t+(4-t%4)%4}}let c0;function c6(t){return(!c0||c0.byteLength<t)&&(c0=new ArrayBuffer(t)),c0}function oH(t,e){const r=c6(t.BYTES_PER_ELEMENT*e);return new t(r,0,e)}function sH(t){const{target:e,source:r,start:n=0,count:i=1}=t,o=r.length,s=i*o;let a=0;for(let l=n;a<o;a++)e[l++]=r[a];for(;a<s;)a<s-a?(e.copyWithin(n+a,n,n+a),a*=2):(e.copyWithin(n+a,n,n+s-a),a=s);return t.target}const OP=1024;class aH{constructor(e){F(this,"layout",{});F(this,"byteLength");let r=0;for(const[i,o]of Object.entries(e)){const s=nH(o),{type:a,components:l}=s;r=iH(r,l);const A=r;r+=l,this.layout[i]={type:a,size:l,offset:A}}r+=(4-r%4)%4;const n=r*4;this.byteLength=Math.max(n,OP)}getData(e){const r=Math.max(this.byteLength,OP),n=c6(r),i={i32:new Int32Array(n),u32:new Uint32Array(n),f32:new Float32Array(n),f16:new Uint16Array(n)};for(const[o,s]of Object.entries(e)){const a=this.layout[o];if(!a){ke.warn(`Supplied uniform value ${o} not present in uniform block layout`)();continue}const{type:l,size:A,offset:p}=a,g=i[l];if(A===1){if(typeof s!="number"&&typeof s!="boolean"){ke.warn(`Supplied value for single component uniform ${o} is not a number: ${s}`)();continue}g[p]=Number(s)}else{const v=Xf(s);if(!v){ke.warn(`Supplied value for multi component / array uniform ${o} is not a numeric array: ${s}`)();continue}g.set(v,p)}}return new Uint8Array(n)}has(e){return!!this.layout[e]}get(e){return this.layout[e]}}function lH(t,e,r=16){if(t!==e)return!1;const n=Xf(t);if(!n)return!1;const i=Xf(e);if(i&&n.length===i.length){for(let o=0;o<n.length;++o)if(i[o]!==n[o])return!1}return!0}function uH(t){const e=Xf(t);return e?e.slice():t}class cH{constructor(e){F(this,"name");F(this,"uniforms",{});F(this,"modifiedUniforms",{});F(this,"modified",!0);F(this,"bindingLayout",{});F(this,"needsRedraw","initialized");var r;if(this.name=e==null?void 0:e.name,e!=null&&e.name&&(e!=null&&e.shaderLayout)){const n=(r=e==null?void 0:e.shaderLayout.bindings)==null?void 0:r.find(o=>o.type==="uniform"&&o.name===(e==null?void 0:e.name));if(!n)throw new Error(e==null?void 0:e.name);const i=n;for(const o of i.uniforms||[])this.bindingLayout[o.name]=o}}setUniforms(e){for(const[r,n]of Object.entries(e))this._setUniform(r,n),this.needsRedraw||this.setNeedsRedraw(`${this.name}.${r}=${n}`)}setNeedsRedraw(e){this.needsRedraw=this.needsRedraw||e}getAllUniforms(){return this.modifiedUniforms={},this.needsRedraw=!1,this.uniforms||{}}_setUniform(e,r){lH(this.uniforms[e],r)||(this.uniforms[e]=uH(r),this.modifiedUniforms[e]=!0,this.modified=!0)}}class AH{constructor(e){F(this,"uniformBlocks",new Map);F(this,"uniformBufferLayouts",new Map);F(this,"uniformBuffers",new Map);for(const[r,n]of Object.entries(e)){const i=r,o=new aH(n.uniformTypes||{});this.uniformBufferLayouts.set(i,o);const s=new cH({name:r});s.setUniforms(n.defaultUniforms||{}),this.uniformBlocks.set(i,s)}}destroy(){for(const e of this.uniformBuffers.values())e.destroy()}setUniforms(e){for(const[r,n]of Object.entries(e))this.uniformBlocks.get(r).setUniforms(n);this.updateUniformBuffers()}getUniformBufferByteLength(e){return this.uniformBufferLayouts.get(e).byteLength}getUniformBufferData(e){const r=this.uniformBlocks.get(e).getAllUniforms();return this.uniformBufferLayouts.get(e).getData(r)}createUniformBuffer(e,r,n){n&&this.setUniforms(n);const i=this.getUniformBufferByteLength(r),o=e.createBuffer({usage:ur.UNIFORM|ur.COPY_DST,byteLength:i}),s=this.getUniformBufferData(r);return o.write(s),o}getManagedUniformBuffer(e,r){if(!this.uniformBuffers.get(r)){const n=this.getUniformBufferByteLength(r),i=e.createBuffer({usage:ur.UNIFORM|ur.COPY_DST,byteLength:n});this.uniformBuffers.set(r,i)}return this.uniformBuffers.get(r)}updateUniformBuffers(){let e=!1;for(const r of this.uniformBlocks.keys()){const n=this.updateUniformBuffer(r);e||(e=n)}return e&&ke.log(3,`UniformStore.updateUniformBuffers(): ${e}`)(),e}updateUniformBuffer(e){const r=this.uniformBlocks.get(e),n=this.uniformBuffers.get(e);let i=!1;if(n&&r.needsRedraw){i||(i=r.needsRedraw);const o=this.getUniformBufferData(e);this.uniformBuffers.get(e).write(o);const a=this.uniformBlocks.get(e).getAllUniforms();ke.log(4,`Writing to uniform buffer ${String(e)}`,o,a)()}return i}}function A6(t){const e=ArrayBuffer.isView(t)?t.constructor:t;switch(e){case Float32Array:return"float32";case Uint16Array:return"uint16";case Uint32Array:return"uint32";case Uint8Array:case Uint8ClampedArray:return"uint8";case Int8Array:return"sint8";case Int16Array:return"sint16";case Int32Array:return"sint32";default:throw new Error(e.constructor.name)}}function f6(t){switch(t){case"float32":return Float32Array;case"uint32":return Uint32Array;case"sint32":return Int32Array;case"uint16":case"unorm16":return Uint16Array;case"sint16":case"snorm16":return Int16Array;case"uint8":case"unorm8":return Uint8Array;case"sint8":case"snorm8":return Int8Array;default:throw new Error(t)}}function fH(t,e,r){if(!e||e>4)throw new Error(`size ${e}`);const n=e;let i=A6(t);if(i==="uint8"&&r&&n===1)return"unorm8-webgl";if(i==="uint8"&&r&&n===3)return"unorm8x3-webgl";if(i==="uint8"||i==="sint8"){if(n===1||n===3)throw new Error(`size: ${e}`);return r&&(i=i.replace("int","norm")),`${i}x${n}`}if(i==="uint16"||i==="sint16"){if(n===1||n===3)throw new Error(`size: ${e}`);return r&&(i=i.replace("int","norm")),`${i}x${n}`}return n===1?i:`${i}x${n}`}function hH(t){return Xf(t)!==null||typeof t=="number"||typeof t=="boolean"}function sE(t){const e={bindings:{},uniforms:{}};return Object.keys(t).forEach(r=>{const n=t[r];hH(n)?e.uniforms[r]=n:e.bindings[r]=n}),e}function dH(t,e,r){const{removedProps:n={},deprecatedProps:i={},replacedProps:o={}}=r;for(const a in n)if(a in e){const A=n[a]?`${t}.${n[a]}`:"N/A";ke.removed(`${t}.${a}`,A)()}for(const a in i)if(a in e){const l=i[a];ke.deprecated(`${t}.${a}`,`${t}.${l}`)()}let s=null;for(const[a,l]of Object.entries(o))a in e&&(ke.deprecated(`${t}.${a}`,`${t}.${l}`)(),s=s||Object.assign({},e),s[l]=e[a],delete s[a]);return s||e}let pH="";async function gH(t,e){return await new Promise((r,n)=>{try{const i=new Image;i.onload=()=>r(i),i.onerror=()=>n(new Error(`Could not load image ${t}.`)),i.crossOrigin=(e==null?void 0:e.crossOrigin)||"anonymous",i.src=t.startsWith("http")?t:pH+t}catch(i){n(i)}})}async function h6(t,e){const r=document.getElementsByTagName("head")[0];if(!r)throw new Error("loadScript");const n=document.createElement("script");return n.setAttribute("type","text/javascript"),n.setAttribute("src",t),e&&(n.id=e),new Promise((i,o)=>{n.onload=i,n.onerror=s=>o(new Error(`Unable to load script '${t}': ${s}`)),r.appendChild(n)})}function Lb(t,e,r){if(t===e)return!0;if(!r||!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Lb(t[n],e[n],r-1))return!1;return!0}if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const o of n)if(!e.hasOwnProperty(o)||!Lb(t[o],e[o],r-1))return!1;return!0}return!1}function mH(t){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,1e3/60)}function yH(t){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame(t):clearTimeout(t)}class vH{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}}let ss=class{constructor(){}get isAstNode(){return!0}get astNodeType(){return""}evaluate(e){throw new Error("Cannot evaluate node")}evaluateString(e){return this.evaluate(e).toString()}search(e){}searchBlock(e,r){if(e){r(Jp.instance);for(const n of e)n instanceof Array?this.searchBlock(n,r):n.search(r);r(eg.instance)}}};class Jp extends ss{}Jp.instance=new Jp;class eg extends ss{}eg.instance=new eg;class Ar extends ss{constructor(){super()}}let $b=class extends Ar{constructor(e,r,n,i,o,s){super(),this.calls=new Set,this.name=e,this.args=r,this.returnType=n,this.body=i,this.startLine=o,this.endLine=s}get astNodeType(){return"function"}search(e){this.searchBlock(this.body,e)}};class _H extends Ar{constructor(e){super(),this.expression=e}get astNodeType(){return"staticAssert"}search(e){this.expression.search(e)}}class bH extends Ar{constructor(e,r){super(),this.condition=e,this.body=r}get astNodeType(){return"while"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}}class wH extends Ar{constructor(e){super(),this.body=e}get astNodeType(){return"continuing"}search(e){this.searchBlock(this.body,e)}}class SH extends Ar{constructor(e,r,n,i){super(),this.init=e,this.condition=r,this.increment=n,this.body=i}get astNodeType(){return"for"}search(e){var r,n,i;(r=this.init)===null||r===void 0||r.search(e),(n=this.condition)===null||n===void 0||n.search(e),(i=this.increment)===null||i===void 0||i.search(e),this.searchBlock(this.body,e)}}class ka extends Ar{constructor(e,r,n,i,o){super(),this.name=e,this.type=r,this.storage=n,this.access=i,this.value=o}get astNodeType(){return"var"}search(e){var r;e(this),(r=this.value)===null||r===void 0||r.search(e)}}class d6 extends Ar{constructor(e,r,n){super(),this.name=e,this.type=r,this.value=n}get astNodeType(){return"override"}search(e){var r;(r=this.value)===null||r===void 0||r.search(e)}}class Ub extends Ar{constructor(e,r,n,i,o){super(),this.name=e,this.type=r,this.storage=n,this.access=i,this.value=o}get astNodeType(){return"let"}search(e){var r;e(this),(r=this.value)===null||r===void 0||r.search(e)}}class RP extends Ar{constructor(e,r,n,i,o){super(),this.name=e,this.type=r,this.storage=n,this.access=i,this.value=o}get astNodeType(){return"const"}evaluate(e){return this.value.evaluate(e)}search(e){var r;e(this),(r=this.value)===null||r===void 0||r.search(e)}}var Zu;(function(t){t.increment="++",t.decrement="--"})(Zu||(Zu={}));(function(t){function e(r){const n=r;if(n=="parse")throw new Error("Invalid value for IncrementOperator");return t[n]}t.parse=e})(Zu||(Zu={}));class EH extends Ar{constructor(e,r){super(),this.operator=e,this.variable=r}get astNodeType(){return"increment"}search(e){this.variable.search(e)}}var Yf;(function(t){t.assign="=",t.addAssign="+=",t.subtractAssin="-=",t.multiplyAssign="*=",t.divideAssign="/=",t.moduloAssign="%=",t.andAssign="&=",t.orAssign="|=",t.xorAssign="^=",t.shiftLeftAssign="<<=",t.shiftRightAssign=">>="})(Yf||(Yf={}));(function(t){function e(r){const n=r;if(n=="parse")throw new Error("Invalid value for AssignOperator");return n}t.parse=e})(Yf||(Yf={}));class TH extends Ar{constructor(e,r,n){super(),this.operator=e,this.variable=r,this.value=n}get astNodeType(){return"assign"}search(e){this.variable.search(e),this.value.search(e)}}class p6 extends Ar{constructor(e,r){super(),this.name=e,this.args=r}get astNodeType(){return"call"}search(e){for(const r of this.args)r.search(e);e(this)}}class xH extends Ar{constructor(e,r){super(),this.body=e,this.continuing=r}get astNodeType(){return"loop"}}class PH extends Ar{constructor(e,r){super(),this.condition=e,this.body=r}get astNodeType(){return"body"}}class CH extends Ar{constructor(e,r,n,i){super(),this.condition=e,this.body=r,this.elseif=n,this.else=i}get astNodeType(){return"if"}search(e){this.condition.search(e),this.searchBlock(this.body,e),this.searchBlock(this.elseif,e),this.searchBlock(this.else,e)}}class OH extends Ar{constructor(e){super(),this.value=e}get astNodeType(){return"return"}search(e){var r;(r=this.value)===null||r===void 0||r.search(e)}}class RH extends Ar{constructor(e){super(),this.name=e}get astNodeType(){return"enable"}}class MH extends Ar{constructor(e){super(),this.extensions=e}get astNodeType(){return"requires"}}class kH extends Ar{constructor(e,r){super(),this.severity=e,this.rule=r}get astNodeType(){return"diagnostic"}}class g6 extends Ar{constructor(e,r){super(),this.name=e,this.type=r}get astNodeType(){return"alias"}}class IH extends Ar{constructor(){super()}get astNodeType(){return"discard"}}class NH extends Ar{constructor(){super()}get astNodeType(){return"break"}}class DH extends Ar{constructor(){super()}get astNodeType(){return"continue"}}class ml extends Ar{constructor(e){super(),this.name=e}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}}class xa extends ml{constructor(e,r,n,i){super(e),this.members=r,this.startLine=n,this.endLine=i}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex(e){for(let r=0;r<this.members.length;r++)if(this.members[r].name==e)return r;return-1}}class m6 extends ml{constructor(e,r,n){super(e),this.format=r,this.access=n}get astNodeType(){return"template"}}class BH extends ml{constructor(e,r,n,i){super(e),this.storage=r,this.type=n,this.access=i}get astNodeType(){return"pointer"}}class y6 extends ml{constructor(e,r,n,i){super(e),this.attributes=r,this.format=n,this.count=i}get astNodeType(){return"array"}get isArray(){return!0}}class KA extends ml{constructor(e,r,n){super(e),this.format=r,this.access=n}get astNodeType(){return"sampler"}}class Oo extends ss{constructor(){super()}}class FH extends Oo{constructor(e){super(),this.value=e}get astNodeType(){return"stringExpr"}toString(){return this.value}evaluateString(){return this.value}}class gu extends Oo{constructor(e,r){super(),this.type=e,this.args=r}get astNodeType(){return"createExpr"}search(e){if(e(this),this.args)for(const r of this.args)r.search(e)}evaluate(e){return this.args[0].evaluate(e)}}class v6 extends Oo{constructor(e,r){super(),this.name=e,this.args=r}get astNodeType(){return"callExpr"}evaluate(e){switch(this.name){case"abs":return Math.abs(this.args[0].evaluate(e));case"acos":return Math.acos(this.args[0].evaluate(e));case"acosh":return Math.acosh(this.args[0].evaluate(e));case"asin":return Math.asin(this.args[0].evaluate(e));case"asinh":return Math.asinh(this.args[0].evaluate(e));case"atan":return Math.atan(this.args[0].evaluate(e));case"atan2":return Math.atan2(this.args[0].evaluate(e),this.args[1].evaluate(e));case"atanh":return Math.atanh(this.args[0].evaluate(e));case"ceil":return Math.ceil(this.args[0].evaluate(e));case"clamp":return Math.min(Math.max(this.args[0].evaluate(e),this.args[1].evaluate(e)),this.args[2].evaluate(e));case"cos":return Math.cos(this.args[0].evaluate(e));case"degrees":return this.args[0].evaluate(e)*180/Math.PI;case"distance":return Math.sqrt(Math.pow(this.args[0].evaluate(e)-this.args[1].evaluate(e),2));case"dot":case"exp":return Math.exp(this.args[0].evaluate(e));case"exp2":return Math.pow(2,this.args[0].evaluate(e));case"floor":return Math.floor(this.args[0].evaluate(e));case"fma":return this.args[0].evaluate(e)*this.args[1].evaluate(e)+this.args[2].evaluate(e);case"fract":return this.args[0].evaluate(e)-Math.floor(this.args[0].evaluate(e));case"inverseSqrt":return 1/Math.sqrt(this.args[0].evaluate(e));case"log":return Math.log(this.args[0].evaluate(e));case"log2":return Math.log2(this.args[0].evaluate(e));case"max":return Math.max(this.args[0].evaluate(e),this.args[1].evaluate(e));case"min":return Math.min(this.args[0].evaluate(e),this.args[1].evaluate(e));case"mix":return this.args[0].evaluate(e)*(1-this.args[2].evaluate(e))+this.args[1].evaluate(e)*this.args[2].evaluate(e);case"modf":return this.args[0].evaluate(e)-Math.floor(this.args[0].evaluate(e));case"pow":return Math.pow(this.args[0].evaluate(e),this.args[1].evaluate(e));case"radians":return this.args[0].evaluate(e)*Math.PI/180;case"round":return Math.round(this.args[0].evaluate(e));case"sign":return Math.sign(this.args[0].evaluate(e));case"sin":return Math.sin(this.args[0].evaluate(e));case"sinh":return Math.sinh(this.args[0].evaluate(e));case"saturate":return Math.min(Math.max(this.args[0].evaluate(e),0),1);case"smoothstep":return this.args[0].evaluate(e)*this.args[0].evaluate(e)*(3-2*this.args[0].evaluate(e));case"sqrt":return Math.sqrt(this.args[0].evaluate(e));case"step":return this.args[0].evaluate(e)<this.args[1].evaluate(e)?0:1;case"tan":return Math.tan(this.args[0].evaluate(e));case"tanh":return Math.tanh(this.args[0].evaluate(e));case"trunc":return Math.trunc(this.args[0].evaluate(e));default:throw new Error("Non const function: "+this.name)}}search(e){for(const r of this.args)r.search(e);e(this)}}class jb extends Oo{constructor(e){super(),this.name=e}get astNodeType(){return"varExpr"}search(e){e(this),this.postfix&&this.postfix.search(e)}evaluate(e){const r=e.constants.get(this.name);if(!r)throw new Error("Cannot evaluate node");return r.evaluate(e)}}class MP extends Oo{constructor(e,r){super(),this.name=e,this.initializer=r}get astNodeType(){return"constExpr"}evaluate(e){var r,n;if(this.initializer instanceof gu){const i=(r=this.postfix)===null||r===void 0?void 0:r.evaluateString(e),o=(n=this.initializer.type)===null||n===void 0?void 0:n.name,s=e.structs.get(o),a=s==null?void 0:s.getMemberIndex(i);return a!==void 0&&a!=-1?this.initializer.args[a].evaluate(e):this.initializer.evaluate(e)}return this.initializer.evaluate(e)}search(e){this.initializer.search(e)}}class kP extends Oo{constructor(e){super(),this.value=e}get astNodeType(){return"literalExpr"}evaluate(){return this.value}}class LH extends Oo{constructor(e,r){super(),this.type=e,this.value=r}get astNodeType(){return"bitcastExpr"}search(e){this.value.search(e)}}class IP extends Oo{constructor(e){super(),this.contents=e}get astNodeType(){return"groupExpr"}evaluate(e){return this.contents[0].evaluate(e)}search(e){this.searchBlock(this.contents,e)}}class $H extends Oo{constructor(e){super(),this.index=e}search(e){this.index.search(e)}}class _6 extends Oo{constructor(){super()}}class UH extends _6{constructor(e,r){super(),this.operator=e,this.right=r}get astNodeType(){return"unaryOp"}evaluate(e){switch(this.operator){case"+":return this.right.evaluate(e);case"-":return-this.right.evaluate(e);case"!":return this.right.evaluate(e)?0:1;case"~":return~this.right.evaluate(e);default:throw new Error("Unknown unary operator: "+this.operator)}}search(e){this.right.search(e)}}class io extends _6{constructor(e,r,n){super(),this.operator=e,this.left=r,this.right=n}get astNodeType(){return"binaryOp"}evaluate(e){switch(this.operator){case"+":return this.left.evaluate(e)+this.right.evaluate(e);case"-":return this.left.evaluate(e)-this.right.evaluate(e);case"*":return this.left.evaluate(e)*this.right.evaluate(e);case"/":return this.left.evaluate(e)/this.right.evaluate(e);case"%":return this.left.evaluate(e)%this.right.evaluate(e);case"==":return this.left.evaluate(e)==this.right.evaluate(e)?1:0;case"!=":return this.left.evaluate(e)!=this.right.evaluate(e)?1:0;case"<":return this.left.evaluate(e)<this.right.evaluate(e)?1:0;case">":return this.left.evaluate(e)>this.right.evaluate(e)?1:0;case"<=":return this.left.evaluate(e)<=this.right.evaluate(e)?1:0;case">=":return this.left.evaluate(e)>=this.right.evaluate(e)?1:0;case"&&":return this.left.evaluate(e)&&this.right.evaluate(e)?1:0;case"||":return this.left.evaluate(e)||this.right.evaluate(e)?1:0;default:throw new Error(`Unknown operator ${this.operator}`)}}search(e){this.left.search(e),this.right.search(e)}}class b6 extends ss{constructor(){super()}}class jH extends b6{constructor(e,r){super(),this.selector=e,this.body=r}get astNodeType(){return"case"}search(e){this.searchBlock(this.body,e)}}class zH extends b6{constructor(e){super(),this.body=e}get astNodeType(){return"default"}search(e){this.searchBlock(this.body,e)}}class VH extends ss{constructor(e,r,n){super(),this.name=e,this.type=r,this.attributes=n}get astNodeType(){return"argument"}}class WH extends ss{constructor(e,r){super(),this.condition=e,this.body=r}get astNodeType(){return"elseif"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}}class HH extends ss{constructor(e,r,n){super(),this.name=e,this.type=r,this.attributes=n}get astNodeType(){return"member"}}let XH=class extends ss{constructor(e,r){super(),this.name=e,this.value=r}get astNodeType(){return"attribute"}};var ce,ie;(function(t){t[t.token=0]="token",t[t.keyword=1]="keyword",t[t.reserved=2]="reserved"})(ie||(ie={}));class oe{constructor(e,r,n){this.name=e,this.type=r,this.rule=n}toString(){return this.name}}class Y{}ce=Y;Y.none=new oe("",ie.reserved,"");Y.eof=new oe("EOF",ie.token,"");Y.reserved={asm:new oe("asm",ie.reserved,"asm"),bf16:new oe("bf16",ie.reserved,"bf16"),do:new oe("do",ie.reserved,"do"),enum:new oe("enum",ie.reserved,"enum"),f16:new oe("f16",ie.reserved,"f16"),f64:new oe("f64",ie.reserved,"f64"),handle:new oe("handle",ie.reserved,"handle"),i8:new oe("i8",ie.reserved,"i8"),i16:new oe("i16",ie.reserved,"i16"),i64:new oe("i64",ie.reserved,"i64"),mat:new oe("mat",ie.reserved,"mat"),premerge:new oe("premerge",ie.reserved,"premerge"),regardless:new oe("regardless",ie.reserved,"regardless"),typedef:new oe("typedef",ie.reserved,"typedef"),u8:new oe("u8",ie.reserved,"u8"),u16:new oe("u16",ie.reserved,"u16"),u64:new oe("u64",ie.reserved,"u64"),unless:new oe("unless",ie.reserved,"unless"),using:new oe("using",ie.reserved,"using"),vec:new oe("vec",ie.reserved,"vec"),void:new oe("void",ie.reserved,"void")};Y.keywords={array:new oe("array",ie.keyword,"array"),atomic:new oe("atomic",ie.keyword,"atomic"),bool:new oe("bool",ie.keyword,"bool"),f32:new oe("f32",ie.keyword,"f32"),i32:new oe("i32",ie.keyword,"i32"),mat2x2:new oe("mat2x2",ie.keyword,"mat2x2"),mat2x3:new oe("mat2x3",ie.keyword,"mat2x3"),mat2x4:new oe("mat2x4",ie.keyword,"mat2x4"),mat3x2:new oe("mat3x2",ie.keyword,"mat3x2"),mat3x3:new oe("mat3x3",ie.keyword,"mat3x3"),mat3x4:new oe("mat3x4",ie.keyword,"mat3x4"),mat4x2:new oe("mat4x2",ie.keyword,"mat4x2"),mat4x3:new oe("mat4x3",ie.keyword,"mat4x3"),mat4x4:new oe("mat4x4",ie.keyword,"mat4x4"),ptr:new oe("ptr",ie.keyword,"ptr"),sampler:new oe("sampler",ie.keyword,"sampler"),sampler_comparison:new oe("sampler_comparison",ie.keyword,"sampler_comparison"),struct:new oe("struct",ie.keyword,"struct"),texture_1d:new oe("texture_1d",ie.keyword,"texture_1d"),texture_2d:new oe("texture_2d",ie.keyword,"texture_2d"),texture_2d_array:new oe("texture_2d_array",ie.keyword,"texture_2d_array"),texture_3d:new oe("texture_3d",ie.keyword,"texture_3d"),texture_cube:new oe("texture_cube",ie.keyword,"texture_cube"),texture_cube_array:new oe("texture_cube_array",ie.keyword,"texture_cube_array"),texture_multisampled_2d:new oe("texture_multisampled_2d",ie.keyword,"texture_multisampled_2d"),texture_storage_1d:new oe("texture_storage_1d",ie.keyword,"texture_storage_1d"),texture_storage_2d:new oe("texture_storage_2d",ie.keyword,"texture_storage_2d"),texture_storage_2d_array:new oe("texture_storage_2d_array",ie.keyword,"texture_storage_2d_array"),texture_storage_3d:new oe("texture_storage_3d",ie.keyword,"texture_storage_3d"),texture_depth_2d:new oe("texture_depth_2d",ie.keyword,"texture_depth_2d"),texture_depth_2d_array:new oe("texture_depth_2d_array",ie.keyword,"texture_depth_2d_array"),texture_depth_cube:new oe("texture_depth_cube",ie.keyword,"texture_depth_cube"),texture_depth_cube_array:new oe("texture_depth_cube_array",ie.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new oe("texture_depth_multisampled_2d",ie.keyword,"texture_depth_multisampled_2d"),texture_external:new oe("texture_external",ie.keyword,"texture_external"),u32:new oe("u32",ie.keyword,"u32"),vec2:new oe("vec2",ie.keyword,"vec2"),vec3:new oe("vec3",ie.keyword,"vec3"),vec4:new oe("vec4",ie.keyword,"vec4"),bitcast:new oe("bitcast",ie.keyword,"bitcast"),block:new oe("block",ie.keyword,"block"),break:new oe("break",ie.keyword,"break"),case:new oe("case",ie.keyword,"case"),continue:new oe("continue",ie.keyword,"continue"),continuing:new oe("continuing",ie.keyword,"continuing"),default:new oe("default",ie.keyword,"default"),diagnostic:new oe("diagnostic",ie.keyword,"diagnostic"),discard:new oe("discard",ie.keyword,"discard"),else:new oe("else",ie.keyword,"else"),enable:new oe("enable",ie.keyword,"enable"),fallthrough:new oe("fallthrough",ie.keyword,"fallthrough"),false:new oe("false",ie.keyword,"false"),fn:new oe("fn",ie.keyword,"fn"),for:new oe("for",ie.keyword,"for"),function:new oe("function",ie.keyword,"function"),if:new oe("if",ie.keyword,"if"),let:new oe("let",ie.keyword,"let"),const:new oe("const",ie.keyword,"const"),loop:new oe("loop",ie.keyword,"loop"),while:new oe("while",ie.keyword,"while"),private:new oe("private",ie.keyword,"private"),read:new oe("read",ie.keyword,"read"),read_write:new oe("read_write",ie.keyword,"read_write"),return:new oe("return",ie.keyword,"return"),requires:new oe("requires",ie.keyword,"requires"),storage:new oe("storage",ie.keyword,"storage"),switch:new oe("switch",ie.keyword,"switch"),true:new oe("true",ie.keyword,"true"),alias:new oe("alias",ie.keyword,"alias"),type:new oe("type",ie.keyword,"type"),uniform:new oe("uniform",ie.keyword,"uniform"),var:new oe("var",ie.keyword,"var"),override:new oe("override",ie.keyword,"override"),workgroup:new oe("workgroup",ie.keyword,"workgroup"),write:new oe("write",ie.keyword,"write"),r8unorm:new oe("r8unorm",ie.keyword,"r8unorm"),r8snorm:new oe("r8snorm",ie.keyword,"r8snorm"),r8uint:new oe("r8uint",ie.keyword,"r8uint"),r8sint:new oe("r8sint",ie.keyword,"r8sint"),r16uint:new oe("r16uint",ie.keyword,"r16uint"),r16sint:new oe("r16sint",ie.keyword,"r16sint"),r16float:new oe("r16float",ie.keyword,"r16float"),rg8unorm:new oe("rg8unorm",ie.keyword,"rg8unorm"),rg8snorm:new oe("rg8snorm",ie.keyword,"rg8snorm"),rg8uint:new oe("rg8uint",ie.keyword,"rg8uint"),rg8sint:new oe("rg8sint",ie.keyword,"rg8sint"),r32uint:new oe("r32uint",ie.keyword,"r32uint"),r32sint:new oe("r32sint",ie.keyword,"r32sint"),r32float:new oe("r32float",ie.keyword,"r32float"),rg16uint:new oe("rg16uint",ie.keyword,"rg16uint"),rg16sint:new oe("rg16sint",ie.keyword,"rg16sint"),rg16float:new oe("rg16float",ie.keyword,"rg16float"),rgba8unorm:new oe("rgba8unorm",ie.keyword,"rgba8unorm"),rgba8unorm_srgb:new oe("rgba8unorm_srgb",ie.keyword,"rgba8unorm_srgb"),rgba8snorm:new oe("rgba8snorm",ie.keyword,"rgba8snorm"),rgba8uint:new oe("rgba8uint",ie.keyword,"rgba8uint"),rgba8sint:new oe("rgba8sint",ie.keyword,"rgba8sint"),bgra8unorm:new oe("bgra8unorm",ie.keyword,"bgra8unorm"),bgra8unorm_srgb:new oe("bgra8unorm_srgb",ie.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new oe("rgb10a2unorm",ie.keyword,"rgb10a2unorm"),rg11b10float:new oe("rg11b10float",ie.keyword,"rg11b10float"),rg32uint:new oe("rg32uint",ie.keyword,"rg32uint"),rg32sint:new oe("rg32sint",ie.keyword,"rg32sint"),rg32float:new oe("rg32float",ie.keyword,"rg32float"),rgba16uint:new oe("rgba16uint",ie.keyword,"rgba16uint"),rgba16sint:new oe("rgba16sint",ie.keyword,"rgba16sint"),rgba16float:new oe("rgba16float",ie.keyword,"rgba16float"),rgba32uint:new oe("rgba32uint",ie.keyword,"rgba32uint"),rgba32sint:new oe("rgba32sint",ie.keyword,"rgba32sint"),rgba32float:new oe("rgba32float",ie.keyword,"rgba32float"),static_assert:new oe("static_assert",ie.keyword,"static_assert")};Y.tokens={decimal_float_literal:new oe("decimal_float_literal",ie.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?f?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+f?)|([0-9]+f)/),hex_float_literal:new oe("hex_float_literal",ie.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+f?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+f?))/),int_literal:new oe("int_literal",ie.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new oe("uint_literal",ie.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),ident:new oe("ident",ie.token,/[_a-zA-Z][0-9a-zA-Z_]*/),and:new oe("and",ie.token,"&"),and_and:new oe("and_and",ie.token,"&&"),arrow:new oe("arrow ",ie.token,"->"),attr:new oe("attr",ie.token,"@"),forward_slash:new oe("forward_slash",ie.token,"/"),bang:new oe("bang",ie.token,"!"),bracket_left:new oe("bracket_left",ie.token,"["),bracket_right:new oe("bracket_right",ie.token,"]"),brace_left:new oe("brace_left",ie.token,"{"),brace_right:new oe("brace_right",ie.token,"}"),colon:new oe("colon",ie.token,":"),comma:new oe("comma",ie.token,","),equal:new oe("equal",ie.token,"="),equal_equal:new oe("equal_equal",ie.token,"=="),not_equal:new oe("not_equal",ie.token,"!="),greater_than:new oe("greater_than",ie.token,">"),greater_than_equal:new oe("greater_than_equal",ie.token,">="),shift_right:new oe("shift_right",ie.token,">>"),less_than:new oe("less_than",ie.token,"<"),less_than_equal:new oe("less_than_equal",ie.token,"<="),shift_left:new oe("shift_left",ie.token,"<<"),modulo:new oe("modulo",ie.token,"%"),minus:new oe("minus",ie.token,"-"),minus_minus:new oe("minus_minus",ie.token,"--"),period:new oe("period",ie.token,"."),plus:new oe("plus",ie.token,"+"),plus_plus:new oe("plus_plus",ie.token,"++"),or:new oe("or",ie.token,"|"),or_or:new oe("or_or",ie.token,"||"),paren_left:new oe("paren_left",ie.token,"("),paren_right:new oe("paren_right",ie.token,")"),semicolon:new oe("semicolon",ie.token,";"),star:new oe("star",ie.token,"*"),tilde:new oe("tilde",ie.token,"~"),underscore:new oe("underscore",ie.token,"_"),xor:new oe("xor",ie.token,"^"),plus_equal:new oe("plus_equal",ie.token,"+="),minus_equal:new oe("minus_equal",ie.token,"-="),times_equal:new oe("times_equal",ie.token,"*="),division_equal:new oe("division_equal",ie.token,"/="),modulo_equal:new oe("modulo_equal",ie.token,"%="),and_equal:new oe("and_equal",ie.token,"&="),or_equal:new oe("or_equal",ie.token,"|="),xor_equal:new oe("xor_equal",ie.token,"^="),shift_right_equal:new oe("shift_right_equal",ie.token,">>="),shift_left_equal:new oe("shift_left_equal",ie.token,"<<=")};Y.simpleTokens={"@":ce.tokens.attr,"{":ce.tokens.brace_left,"}":ce.tokens.brace_right,":":ce.tokens.colon,",":ce.tokens.comma,"(":ce.tokens.paren_left,")":ce.tokens.paren_right,";":ce.tokens.semicolon};Y.literalTokens={"&":ce.tokens.and,"&&":ce.tokens.and_and,"->":ce.tokens.arrow,"/":ce.tokens.forward_slash,"!":ce.tokens.bang,"[":ce.tokens.bracket_left,"]":ce.tokens.bracket_right,"=":ce.tokens.equal,"==":ce.tokens.equal_equal,"!=":ce.tokens.not_equal,">":ce.tokens.greater_than,">=":ce.tokens.greater_than_equal,">>":ce.tokens.shift_right,"<":ce.tokens.less_than,"<=":ce.tokens.less_than_equal,"<<":ce.tokens.shift_left,"%":ce.tokens.modulo,"-":ce.tokens.minus,"--":ce.tokens.minus_minus,".":ce.tokens.period,"+":ce.tokens.plus,"++":ce.tokens.plus_plus,"|":ce.tokens.or,"||":ce.tokens.or_or,"*":ce.tokens.star,"~":ce.tokens.tilde,_:ce.tokens.underscore,"^":ce.tokens.xor,"+=":ce.tokens.plus_equal,"-=":ce.tokens.minus_equal,"*=":ce.tokens.times_equal,"/=":ce.tokens.division_equal,"%=":ce.tokens.modulo_equal,"&=":ce.tokens.and_equal,"|=":ce.tokens.or_equal,"^=":ce.tokens.xor_equal,">>=":ce.tokens.shift_right_equal,"<<=":ce.tokens.shift_left_equal};Y.regexTokens={decimal_float_literal:ce.tokens.decimal_float_literal,hex_float_literal:ce.tokens.hex_float_literal,int_literal:ce.tokens.int_literal,uint_literal:ce.tokens.uint_literal,ident:ce.tokens.ident};Y.storage_class=[ce.keywords.function,ce.keywords.private,ce.keywords.workgroup,ce.keywords.uniform,ce.keywords.storage];Y.access_mode=[ce.keywords.read,ce.keywords.write,ce.keywords.read_write];Y.sampler_type=[ce.keywords.sampler,ce.keywords.sampler_comparison];Y.sampled_texture_type=[ce.keywords.texture_1d,ce.keywords.texture_2d,ce.keywords.texture_2d_array,ce.keywords.texture_3d,ce.keywords.texture_cube,ce.keywords.texture_cube_array];Y.multisampled_texture_type=[ce.keywords.texture_multisampled_2d];Y.storage_texture_type=[ce.keywords.texture_storage_1d,ce.keywords.texture_storage_2d,ce.keywords.texture_storage_2d_array,ce.keywords.texture_storage_3d];Y.depth_texture_type=[ce.keywords.texture_depth_2d,ce.keywords.texture_depth_2d_array,ce.keywords.texture_depth_cube,ce.keywords.texture_depth_cube_array,ce.keywords.texture_depth_multisampled_2d];Y.texture_external_type=[ce.keywords.texture_external];Y.any_texture_type=[...ce.sampled_texture_type,...ce.multisampled_texture_type,...ce.storage_texture_type,...ce.depth_texture_type,...ce.texture_external_type];Y.texel_format=[ce.keywords.r8unorm,ce.keywords.r8snorm,ce.keywords.r8uint,ce.keywords.r8sint,ce.keywords.r16uint,ce.keywords.r16sint,ce.keywords.r16float,ce.keywords.rg8unorm,ce.keywords.rg8snorm,ce.keywords.rg8uint,ce.keywords.rg8sint,ce.keywords.r32uint,ce.keywords.r32sint,ce.keywords.r32float,ce.keywords.rg16uint,ce.keywords.rg16sint,ce.keywords.rg16float,ce.keywords.rgba8unorm,ce.keywords.rgba8unorm_srgb,ce.keywords.rgba8snorm,ce.keywords.rgba8uint,ce.keywords.rgba8sint,ce.keywords.bgra8unorm,ce.keywords.bgra8unorm_srgb,ce.keywords.rgb10a2unorm,ce.keywords.rg11b10float,ce.keywords.rg32uint,ce.keywords.rg32sint,ce.keywords.rg32float,ce.keywords.rgba16uint,ce.keywords.rgba16sint,ce.keywords.rgba16float,ce.keywords.rgba32uint,ce.keywords.rgba32sint,ce.keywords.rgba32float];Y.const_literal=[ce.tokens.int_literal,ce.tokens.uint_literal,ce.tokens.decimal_float_literal,ce.tokens.hex_float_literal,ce.keywords.true,ce.keywords.false];Y.literal_or_ident=[ce.tokens.ident,ce.tokens.int_literal,ce.tokens.uint_literal,ce.tokens.decimal_float_literal,ce.tokens.hex_float_literal];Y.element_count_expression=[ce.tokens.int_literal,ce.tokens.uint_literal,ce.tokens.ident];Y.template_types=[ce.keywords.vec2,ce.keywords.vec3,ce.keywords.vec4,ce.keywords.mat2x2,ce.keywords.mat2x3,ce.keywords.mat2x4,ce.keywords.mat3x2,ce.keywords.mat3x3,ce.keywords.mat3x4,ce.keywords.mat4x2,ce.keywords.mat4x3,ce.keywords.mat4x4,ce.keywords.atomic,ce.keywords.bitcast,...ce.any_texture_type];Y.attribute_name=[ce.tokens.ident,ce.keywords.block,ce.keywords.diagnostic];Y.assignment_operators=[ce.tokens.equal,ce.tokens.plus_equal,ce.tokens.minus_equal,ce.tokens.times_equal,ce.tokens.division_equal,ce.tokens.modulo_equal,ce.tokens.and_equal,ce.tokens.or_equal,ce.tokens.xor_equal,ce.tokens.shift_right_equal,ce.tokens.shift_left_equal];Y.increment_operators=[ce.tokens.plus_plus,ce.tokens.minus_minus];class NP{constructor(e,r,n){this.type=e,this.lexeme=r,this.line=n}toString(){return this.lexeme}isTemplateType(){return Y.template_types.indexOf(this.type)!=-1}isArrayType(){return this.type==Y.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}}class YH{constructor(e){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=e??""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw`Invalid syntax at line ${this._line}`;return this._tokens.push(new NP(Y.eof,"",this._line)),this._tokens}scanToken(){let e=this._advance();if(e==`
`)return this._line++,!0;if(this._isWhitespace(e))return!0;if(e=="/"){if(this._peekAhead()=="/"){for(;e!=`
`;){if(this._isAtEnd())return!0;e=this._advance()}return this._line++,!0}else if(this._peekAhead()=="*"){this._advance();let s=1;for(;s>0;){if(this._isAtEnd())return!0;if(e=this._advance(),e==`
`)this._line++;else if(e=="*"){if(this._peekAhead()=="/"&&(this._advance(),s--,s==0))return!0}else e=="/"&&this._peekAhead()=="*"&&(this._advance(),s++)}return!0}}const r=Y.simpleTokens[e];if(r)return this._addToken(r),!0;let n=Y.none;const i=this._isAlpha(e),o=e==="_";if(this._isAlphaNumeric(e)){let s=this._peekAhead();for(;this._isAlphaNumeric(s);)e+=this._advance(),s=this._peekAhead()}if(i){const s=Y.keywords[e];if(s)return this._addToken(s),!0}if(i||o)return this._addToken(Y.tokens.ident),!0;for(;;){let s=this._findType(e);const a=this._peekAhead();if(e=="-"&&this._tokens.length>0){if(a=="=")return this._current++,e+=a,this._addToken(Y.tokens.minus_equal),!0;if(a=="-")return this._current++,e+=a,this._addToken(Y.tokens.minus_minus),!0;const l=this._tokens.length-1;if((Y.literal_or_ident.indexOf(this._tokens[l].type)!=-1||this._tokens[l].type==Y.tokens.paren_right)&&a!=">")return this._addToken(s),!0}if(e==">"&&(a==">"||a=="=")){let l=!1,A=this._tokens.length-1;for(let p=0;p<5&&A>=0&&Y.assignment_operators.indexOf(this._tokens[A].type)===-1;++p,--A)if(this._tokens[A].type===Y.tokens.less_than){A>0&&this._tokens[A-1].isArrayOrTemplateType()&&(l=!0);break}if(l)return this._addToken(s),!0}if(s===Y.none){let l=e,A=0;const p=2;for(let g=0;g<p;++g)if(l+=this._peekAhead(g),s=this._findType(l),s!==Y.none){A=g;break}if(s===Y.none)return n===Y.none?!1:(this._current--,this._addToken(n),!0);e=l,this._current+=A+1}if(n=s,this._isAtEnd())break;e+=this._advance()}return n===Y.none?!1:(this._addToken(n),!0)}_findType(e){for(const n in Y.regexTokens){const i=Y.regexTokens[n];if(this._match(e,i.rule))return i}const r=Y.literalTokens[e];return r||Y.none}_match(e,r){const n=r.exec(e);return n&&n.index==0&&n[0]==e}_isAtEnd(){return this._current>=this._source.length}_isAlpha(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}_isAlphaNumeric(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e=="_"||e>="0"&&e<="9"}_isWhitespace(e){return e==" "||e=="	"||e=="\r"}_advance(e=0){let r=this._source[this._current];return e=e||0,e++,this._current+=e,r}_peekAhead(e=0){return e=e||0,this._current+e>=this._source.length?"\0":this._source[this._current+e]}_addToken(e){const r=this._source.substring(this._start,this._current);this._tokens.push(new NP(e,r,this._line))}}class KH{constructor(){this._tokens=[],this._current=0,this._currentLine=0,this._context=new vH,this._deferArrayCountEval=[]}parse(e){this._initialize(e),this._deferArrayCountEval.length=0;const r=[];for(;!this._isAtEnd();){const n=this._global_decl_or_directive();if(!n)break;r.push(n)}if(this._deferArrayCountEval.length>0){for(const n of this._deferArrayCountEval){const i=n.arrayType,o=n.countNode;if(o instanceof jb){const a=o.name,l=this._context.constants.get(a);if(l)try{const A=l.evaluate(this._context);i.count=A}catch{}}}this._deferArrayCountEval.length=0}return r}_initialize(e){if(e)if(typeof e=="string"){const r=new YH(e);this._tokens=r.scanTokens()}else this._tokens=e;else this._tokens=[];this._current=0}_error(e,r){return{token:e,message:r,toString:function(){return`${r}`}}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==Y.eof}_match(e){if(e instanceof oe)return this._check(e)?(this._advance(),!0):!1;for(let r=0,n=e.length;r<n;++r){const i=e[r];if(this._check(i))return this._advance(),!0}return!1}_consume(e,r){if(this._check(e))return this._advance();throw this._error(this._peek(),r)}_check(e){if(this._isAtEnd())return!1;const r=this._peek();if(e instanceof Array){const n=r.type;return e.indexOf(n)!=-1}return r.type==e}_advance(){var e,r;return this._currentLine=(r=(e=this._peek())===null||e===void 0?void 0:e.line)!==null&&r!==void 0?r:-1,this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(Y.tokens.semicolon)&&!this._isAtEnd(););if(this._match(Y.keywords.alias)){const r=this._type_alias();return this._consume(Y.tokens.semicolon,"Expected ';'"),r}if(this._match(Y.keywords.diagnostic)){const r=this._diagnostic();return this._consume(Y.tokens.semicolon,"Expected ';'"),r}if(this._match(Y.keywords.requires)){const r=this._requires_directive();return this._consume(Y.tokens.semicolon,"Expected ';'"),r}if(this._match(Y.keywords.enable)){const r=this._enable_directive();return this._consume(Y.tokens.semicolon,"Expected ';'"),r}const e=this._attribute();if(this._check(Y.keywords.var)){const r=this._global_variable_decl();return r!=null&&(r.attributes=e),this._consume(Y.tokens.semicolon,"Expected ';'."),r}if(this._check(Y.keywords.override)){const r=this._override_variable_decl();return r!=null&&(r.attributes=e),this._consume(Y.tokens.semicolon,"Expected ';'."),r}if(this._check(Y.keywords.let)){const r=this._global_let_decl();return r!=null&&(r.attributes=e),this._consume(Y.tokens.semicolon,"Expected ';'."),r}if(this._check(Y.keywords.const)){const r=this._global_const_decl();return r!=null&&(r.attributes=e),this._consume(Y.tokens.semicolon,"Expected ';'."),r}if(this._check(Y.keywords.struct)){const r=this._struct_decl();return r!=null&&(r.attributes=e),r}if(this._check(Y.keywords.fn)){const r=this._function_decl();return r!=null&&(r.attributes=e),r}return null}_function_decl(){if(!this._match(Y.keywords.fn))return null;const e=this._currentLine,r=this._consume(Y.tokens.ident,"Expected function name.").toString();this._consume(Y.tokens.paren_left,"Expected '(' for function arguments.");const n=[];if(!this._check(Y.tokens.paren_right))do{if(this._check(Y.tokens.paren_right))break;const a=this._attribute(),l=this._consume(Y.tokens.ident,"Expected argument name.").toString();this._consume(Y.tokens.colon,"Expected ':' for argument type.");const A=this._attribute(),p=this._type_decl();p!=null&&(p.attributes=A,n.push(new VH(l,p,a)))}while(this._match(Y.tokens.comma));this._consume(Y.tokens.paren_right,"Expected ')' after function arguments.");let i=null;if(this._match(Y.tokens.arrow)){const a=this._attribute();i=this._type_decl(),i!=null&&(i.attributes=a)}const o=this._compound_statement(),s=this._currentLine;return new $b(r,n,i,o,e,s)}_compound_statement(){const e=[];for(this._consume(Y.tokens.brace_left,"Expected '{' for block.");!this._check(Y.tokens.brace_right);){const r=this._statement();r!==null&&e.push(r)}return this._consume(Y.tokens.brace_right,"Expected '}' for block."),e}_statement(){for(;this._match(Y.tokens.semicolon)&&!this._isAtEnd(););if(this._check(Y.tokens.attr)&&this._attribute(),this._check(Y.keywords.if))return this._if_statement();if(this._check(Y.keywords.switch))return this._switch_statement();if(this._check(Y.keywords.loop))return this._loop_statement();if(this._check(Y.keywords.for))return this._for_statement();if(this._check(Y.keywords.while))return this._while_statement();if(this._check(Y.keywords.continuing))return this._continuing_statement();if(this._check(Y.keywords.static_assert))return this._static_assert_statement();if(this._check(Y.tokens.brace_left))return this._compound_statement();let e=null;return this._check(Y.keywords.return)?e=this._return_statement():this._check([Y.keywords.var,Y.keywords.let,Y.keywords.const])?e=this._variable_statement():this._match(Y.keywords.discard)?e=new IH:this._match(Y.keywords.break)?e=new NH:this._match(Y.keywords.continue)?e=new DH:e=this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement(),e!=null&&this._consume(Y.tokens.semicolon,"Expected ';' after statement."),e}_static_assert_statement(){if(!this._match(Y.keywords.static_assert))return null;const e=this._optional_paren_expression();return new _H(e)}_while_statement(){if(!this._match(Y.keywords.while))return null;const e=this._optional_paren_expression();this._check(Y.tokens.attr)&&this._attribute();const r=this._compound_statement();return new bH(e,r)}_continuing_statement(){if(!this._match(Y.keywords.continuing))return null;const e=this._compound_statement();return new wH(e)}_for_statement(){if(!this._match(Y.keywords.for))return null;this._consume(Y.tokens.paren_left,"Expected '('.");const e=this._check(Y.tokens.semicolon)?null:this._for_init();this._consume(Y.tokens.semicolon,"Expected ';'.");const r=this._check(Y.tokens.semicolon)?null:this._short_circuit_or_expression();this._consume(Y.tokens.semicolon,"Expected ';'.");const n=this._check(Y.tokens.paren_right)?null:this._for_increment();this._consume(Y.tokens.paren_right,"Expected ')'."),this._check(Y.tokens.attr)&&this._attribute();const i=this._compound_statement();return new SH(e,r,n,i)}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(Y.keywords.var)){const e=this._variable_decl();if(e===null)throw this._error(this._peek(),"Variable declaration expected.");let r=null;return this._match(Y.tokens.equal)&&(r=this._short_circuit_or_expression()),new ka(e.name,e.type,e.storage,e.access,r)}if(this._match(Y.keywords.let)){const e=this._consume(Y.tokens.ident,"Expected name for let.").toString();let r=null;if(this._match(Y.tokens.colon)){const i=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=i)}this._consume(Y.tokens.equal,"Expected '=' for let.");const n=this._short_circuit_or_expression();return new Ub(e,r,null,null,n)}if(this._match(Y.keywords.const)){const e=this._consume(Y.tokens.ident,"Expected name for const.").toString();let r=null;if(this._match(Y.tokens.colon)){const i=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=i)}this._consume(Y.tokens.equal,"Expected '=' for const.");const n=this._short_circuit_or_expression();return new RP(e,r,null,null,n)}return null}_increment_decrement_statement(){const e=this._current,r=this._unary_expression();if(r==null)return null;if(!this._check(Y.increment_operators))return this._current=e,null;const n=this._consume(Y.increment_operators,"Expected increment operator");return new EH(n.type===Y.tokens.plus_plus?Zu.increment:Zu.decrement,r)}_assignment_statement(){let e=null;if(this._check(Y.tokens.brace_right))return null;let r=this._match(Y.tokens.underscore);if(r||(e=this._unary_expression()),!r&&e==null)return null;const n=this._consume(Y.assignment_operators,"Expected assignment operator."),i=this._short_circuit_or_expression();return new TH(Yf.parse(n.lexeme),e,i)}_func_call_statement(){if(!this._check(Y.tokens.ident))return null;const e=this._current,r=this._consume(Y.tokens.ident,"Expected function name."),n=this._argument_expression_list();return n===null?(this._current=e,null):new p6(r.lexeme,n)}_loop_statement(){if(!this._match(Y.keywords.loop))return null;this._check(Y.tokens.attr)&&this._attribute(),this._consume(Y.tokens.brace_left,"Expected '{' for loop.");const e=[];let r=this._statement();for(;r!==null;){if(Array.isArray(r))for(let i of r)e.push(i);else e.push(r);r=this._statement()}let n=null;return this._match(Y.keywords.continuing)&&(n=this._compound_statement()),this._consume(Y.tokens.brace_right,"Expected '}' for loop."),new xH(e,n)}_switch_statement(){if(!this._match(Y.keywords.switch))return null;const e=this._optional_paren_expression();this._check(Y.tokens.attr)&&this._attribute(),this._consume(Y.tokens.brace_left,"Expected '{' for switch.");const r=this._switch_body();if(r==null||r.length==0)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(Y.tokens.brace_right,"Expected '}' for switch."),new PH(e,r)}_switch_body(){const e=[];if(this._match(Y.keywords.case)){const r=this._case_selectors();this._match(Y.tokens.colon),this._check(Y.tokens.attr)&&this._attribute(),this._consume(Y.tokens.brace_left,"Exected '{' for switch case.");const n=this._case_body();this._consume(Y.tokens.brace_right,"Exected '}' for switch case."),e.push(new jH(r,n))}if(this._match(Y.keywords.default)){this._match(Y.tokens.colon),this._check(Y.tokens.attr)&&this._attribute(),this._consume(Y.tokens.brace_left,"Exected '{' for switch default.");const r=this._case_body();this._consume(Y.tokens.brace_right,"Exected '}' for switch default."),e.push(new zH(r))}if(this._check([Y.keywords.default,Y.keywords.case])){const r=this._switch_body();e.push(r[0])}return e}_case_selectors(){const e=[this._shift_expression()];for(;this._match(Y.tokens.comma);)e.push(this._shift_expression());return e}_case_body(){if(this._match(Y.keywords.fallthrough))return this._consume(Y.tokens.semicolon,"Expected ';'"),[];let e=this._statement();if(e==null)return[];e instanceof Array||(e=[e]);const r=this._case_body();return r.length==0?e:[...e,r[0]]}_if_statement(){if(!this._match(Y.keywords.if))return null;const e=this._optional_paren_expression();this._check(Y.tokens.attr)&&this._attribute();const r=this._compound_statement();let n=[];this._match_elseif()&&(this._check(Y.tokens.attr)&&this._attribute(),n=this._elseif_statement(n));let i=null;return this._match(Y.keywords.else)&&(this._check(Y.tokens.attr)&&this._attribute(),i=this._compound_statement()),new CH(e,r,n,i)}_match_elseif(){return this._tokens[this._current].type===Y.keywords.else&&this._tokens[this._current+1].type===Y.keywords.if?(this._advance(),this._advance(),!0):!1}_elseif_statement(e=[]){const r=this._optional_paren_expression(),n=this._compound_statement();return e.push(new WH(r,n)),this._match_elseif()&&(this._check(Y.tokens.attr)&&this._attribute(),this._elseif_statement(e)),e}_return_statement(){if(!this._match(Y.keywords.return))return null;const e=this._short_circuit_or_expression();return new OH(e)}_short_circuit_or_expression(){let e=this._short_circuit_and_expr();for(;this._match(Y.tokens.or_or);)e=new io(this._previous().toString(),e,this._short_circuit_and_expr());return e}_short_circuit_and_expr(){let e=this._inclusive_or_expression();for(;this._match(Y.tokens.and_and);)e=new io(this._previous().toString(),e,this._inclusive_or_expression());return e}_inclusive_or_expression(){let e=this._exclusive_or_expression();for(;this._match(Y.tokens.or);)e=new io(this._previous().toString(),e,this._exclusive_or_expression());return e}_exclusive_or_expression(){let e=this._and_expression();for(;this._match(Y.tokens.xor);)e=new io(this._previous().toString(),e,this._and_expression());return e}_and_expression(){let e=this._equality_expression();for(;this._match(Y.tokens.and);)e=new io(this._previous().toString(),e,this._equality_expression());return e}_equality_expression(){const e=this._relational_expression();return this._match([Y.tokens.equal_equal,Y.tokens.not_equal])?new io(this._previous().toString(),e,this._relational_expression()):e}_relational_expression(){let e=this._shift_expression();for(;this._match([Y.tokens.less_than,Y.tokens.greater_than,Y.tokens.less_than_equal,Y.tokens.greater_than_equal]);)e=new io(this._previous().toString(),e,this._shift_expression());return e}_shift_expression(){let e=this._additive_expression();for(;this._match([Y.tokens.shift_left,Y.tokens.shift_right]);)e=new io(this._previous().toString(),e,this._additive_expression());return e}_additive_expression(){let e=this._multiplicative_expression();for(;this._match([Y.tokens.plus,Y.tokens.minus]);)e=new io(this._previous().toString(),e,this._multiplicative_expression());return e}_multiplicative_expression(){let e=this._unary_expression();for(;this._match([Y.tokens.star,Y.tokens.forward_slash,Y.tokens.modulo]);)e=new io(this._previous().toString(),e,this._unary_expression());return e}_unary_expression(){return this._match([Y.tokens.minus,Y.tokens.bang,Y.tokens.tilde,Y.tokens.star,Y.tokens.and])?new UH(this._previous().toString(),this._unary_expression()):this._singular_expression()}_singular_expression(){const e=this._primary_expression(),r=this._postfix_expression();return r&&(e.postfix=r),e}_postfix_expression(){if(this._match(Y.tokens.bracket_left)){const e=this._short_circuit_or_expression();this._consume(Y.tokens.bracket_right,"Expected ']'.");const r=new $H(e),n=this._postfix_expression();return n&&(r.postfix=n),r}if(this._match(Y.tokens.period)){const e=this._consume(Y.tokens.ident,"Expected member name."),r=this._postfix_expression(),n=new FH(e.lexeme);return r&&(n.postfix=r),n}return null}_getStruct(e){return this._context.aliases.has(e)?this._context.aliases.get(e).type:this._context.structs.has(e)?this._context.structs.get(e):null}_primary_expression(){if(this._match(Y.tokens.ident)){const n=this._previous().toString();if(this._check(Y.tokens.paren_left)){const i=this._argument_expression_list(),o=this._getStruct(n);return o!=null?new gu(o,i):new v6(n,i)}if(this._context.constants.has(n)){const i=this._context.constants.get(n);return new MP(n,i.value)}return new jb(n)}if(this._match(Y.const_literal))return new kP(parseFloat(this._previous().toString()));if(this._check(Y.tokens.paren_left))return this._paren_expression();if(this._match(Y.keywords.bitcast)){this._consume(Y.tokens.less_than,"Expected '<'.");const n=this._type_decl();this._consume(Y.tokens.greater_than,"Expected '>'.");const i=this._paren_expression();return new LH(n,i)}const e=this._type_decl(),r=this._argument_expression_list();return new gu(e,r)}_argument_expression_list(){if(!this._match(Y.tokens.paren_left))return null;const e=[];do{if(this._check(Y.tokens.paren_right))break;const r=this._short_circuit_or_expression();e.push(r)}while(this._match(Y.tokens.comma));return this._consume(Y.tokens.paren_right,"Expected ')' for agument list"),e}_optional_paren_expression(){this._match(Y.tokens.paren_left);const e=this._short_circuit_or_expression();return this._match(Y.tokens.paren_right),new IP([e])}_paren_expression(){this._consume(Y.tokens.paren_left,"Expected '('.");const e=this._short_circuit_or_expression();return this._consume(Y.tokens.paren_right,"Expected ')'."),new IP([e])}_struct_decl(){if(!this._match(Y.keywords.struct))return null;const e=this._currentLine,r=this._consume(Y.tokens.ident,"Expected name for struct.").toString();this._consume(Y.tokens.brace_left,"Expected '{' for struct body.");const n=[];for(;!this._check(Y.tokens.brace_right);){const s=this._attribute(),a=this._consume(Y.tokens.ident,"Expected variable name.").toString();this._consume(Y.tokens.colon,"Expected ':' for struct member type.");const l=this._attribute(),A=this._type_decl();A!=null&&(A.attributes=l),this._check(Y.tokens.brace_right)?this._match(Y.tokens.comma):this._consume(Y.tokens.comma,"Expected ',' for struct member."),n.push(new HH(a,A,s))}this._consume(Y.tokens.brace_right,"Expected '}' after struct body.");const i=this._currentLine,o=new xa(r,n,e,i);return this._context.structs.set(r,o),o}_global_variable_decl(){const e=this._variable_decl();return e&&this._match(Y.tokens.equal)&&(e.value=this._const_expression()),e}_override_variable_decl(){const e=this._override_decl();return e&&this._match(Y.tokens.equal)&&(e.value=this._const_expression()),e}_global_const_decl(){if(!this._match(Y.keywords.const))return null;const e=this._consume(Y.tokens.ident,"Expected variable name");let r=null;if(this._match(Y.tokens.colon)){const o=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=o)}let n=null;if(this._match(Y.tokens.equal)){const o=this._short_circuit_or_expression();if(o instanceof gu)n=o;else if(o instanceof MP&&o.initializer instanceof gu)n=o.initializer;else try{const s=o.evaluate(this._context);n=new kP(s)}catch{n=o}}const i=new RP(e.toString(),r,"","",n);return this._context.constants.set(i.name,i),i}_global_let_decl(){if(!this._match(Y.keywords.let))return null;const e=this._consume(Y.tokens.ident,"Expected variable name");let r=null;if(this._match(Y.tokens.colon)){const i=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=i)}let n=null;return this._match(Y.tokens.equal)&&(n=this._const_expression()),new Ub(e.toString(),r,"","",n)}_const_expression(){return this._short_circuit_or_expression()}_variable_decl(){if(!this._match(Y.keywords.var))return null;let e="",r="";this._match(Y.tokens.less_than)&&(e=this._consume(Y.storage_class,"Expected storage_class.").toString(),this._match(Y.tokens.comma)&&(r=this._consume(Y.access_mode,"Expected access_mode.").toString()),this._consume(Y.tokens.greater_than,"Expected '>'."));const n=this._consume(Y.tokens.ident,"Expected variable name");let i=null;if(this._match(Y.tokens.colon)){const o=this._attribute();i=this._type_decl(),i!=null&&(i.attributes=o)}return new ka(n.toString(),i,e,r,null)}_override_decl(){if(!this._match(Y.keywords.override))return null;const e=this._consume(Y.tokens.ident,"Expected variable name");let r=null;if(this._match(Y.tokens.colon)){const n=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=n)}return new d6(e.toString(),r,null)}_diagnostic(){this._consume(Y.tokens.paren_left,"Expected '('");const e=this._consume(Y.tokens.ident,"Expected severity control name.");this._consume(Y.tokens.comma,"Expected ','");const r=this._consume(Y.tokens.ident,"Expected diagnostic rule name.");return this._consume(Y.tokens.paren_right,"Expected ')'"),new kH(e.toString(),r.toString())}_enable_directive(){const e=this._consume(Y.tokens.ident,"identity expected.");return new RH(e.toString())}_requires_directive(){const e=[this._consume(Y.tokens.ident,"identity expected.").toString()];for(;this._match(Y.tokens.comma);){const r=this._consume(Y.tokens.ident,"identity expected.");e.push(r.toString())}return new MH(e)}_type_alias(){const e=this._consume(Y.tokens.ident,"identity expected.");this._consume(Y.tokens.equal,"Expected '=' for type alias.");let r=this._type_decl();if(r===null)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(r.name)&&(r=this._context.aliases.get(r.name).type);const n=new g6(e.toString(),r);return this._context.aliases.set(n.name,n),n}_type_decl(){if(this._check([Y.tokens.ident,...Y.texel_format,Y.keywords.bool,Y.keywords.f32,Y.keywords.i32,Y.keywords.u32])){const n=this._advance(),i=n.toString();return this._context.structs.has(i)?this._context.structs.get(i):this._context.aliases.has(i)?this._context.aliases.get(i).type:new ml(n.toString())}let e=this._texture_sampler_types();if(e)return e;if(this._check(Y.template_types)){let n=this._advance().toString(),i=null,o=null;return this._match(Y.tokens.less_than)&&(i=this._type_decl(),o=null,this._match(Y.tokens.comma)&&(o=this._consume(Y.access_mode,"Expected access_mode for pointer").toString()),this._consume(Y.tokens.greater_than,"Expected '>' for type.")),new m6(n,i,o)}if(this._match(Y.keywords.ptr)){let n=this._previous().toString();this._consume(Y.tokens.less_than,"Expected '<' for pointer.");const i=this._consume(Y.storage_class,"Expected storage_class for pointer");this._consume(Y.tokens.comma,"Expected ',' for pointer.");const o=this._type_decl();let s=null;return this._match(Y.tokens.comma)&&(s=this._consume(Y.access_mode,"Expected access_mode for pointer").toString()),this._consume(Y.tokens.greater_than,"Expected '>' for pointer."),new BH(n,i.toString(),o,s)}const r=this._attribute();if(this._match(Y.keywords.array)){let n=null,i=-1;const o=this._previous();let s=null;if(this._match(Y.tokens.less_than)){n=this._type_decl(),this._context.aliases.has(n.name)&&(n=this._context.aliases.get(n.name).type);let l="";if(this._match(Y.tokens.comma)){s=this._shift_expression();try{l=s.evaluate(this._context).toString(),s=null}catch{l="1"}}this._consume(Y.tokens.greater_than,"Expected '>' for array."),i=l?parseInt(l):0}const a=new y6(o.toString(),r,n,i);return s&&this._deferArrayCountEval.push({arrayType:a,countNode:s}),a}return null}_texture_sampler_types(){if(this._match(Y.sampler_type))return new KA(this._previous().toString(),null,null);if(this._match(Y.depth_texture_type))return new KA(this._previous().toString(),null,null);if(this._match(Y.sampled_texture_type)||this._match(Y.multisampled_texture_type)){const e=this._previous();this._consume(Y.tokens.less_than,"Expected '<' for sampler type.");const r=this._type_decl();return this._consume(Y.tokens.greater_than,"Expected '>' for sampler type."),new KA(e.toString(),r,null)}if(this._match(Y.storage_texture_type)){const e=this._previous();this._consume(Y.tokens.less_than,"Expected '<' for sampler type.");const r=this._consume(Y.texel_format,"Invalid texel format.").toString();this._consume(Y.tokens.comma,"Expected ',' after texel format.");const n=this._consume(Y.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(Y.tokens.greater_than,"Expected '>' for sampler type."),new KA(e.toString(),r,n)}return null}_attribute(){let e=[];for(;this._match(Y.tokens.attr);){const r=this._consume(Y.attribute_name,"Expected attribute name"),n=new XH(r.toString(),null);if(this._match(Y.tokens.paren_left)){if(n.value=this._consume(Y.literal_or_ident,"Expected attribute value").toString(),this._check(Y.tokens.comma)){this._advance();do{const i=this._consume(Y.literal_or_ident,"Expected attribute value").toString();n.value instanceof Array||(n.value=[n.value]),n.value.push(i)}while(this._match(Y.tokens.comma))}this._consume(Y.tokens.paren_right,"Expected ')'")}e.push(n)}return e.length==0?null:e}}class Nu{constructor(e,r){this.name=e,this.attributes=r,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}}class DP{constructor(e,r,n){this.name=e,this.type=r,this.attributes=n,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray?this.type.format:this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class A0 extends Nu{constructor(e,r){super(e,r),this.members=[],this.align=0,this.startLine=-1,this.endLine=-1,this.inUse=!1}get isStruct(){return!0}}class y_ extends Nu{constructor(e,r){super(e,r),this.count=0,this.stride=0}get isArray(){return!0}}class BP extends Nu{constructor(e,r,n,i){super(e,n),this.format=r,this.access=i}get isTemplate(){return!0}}var Es;(function(t){t[t.Uniform=0]="Uniform",t[t.Storage=1]="Storage",t[t.Texture=2]="Texture",t[t.Sampler=3]="Sampler",t[t.StorageTexture=4]="StorageTexture"})(Es||(Es={}));class f0{constructor(e,r,n,i,o,s,a){this.name=e,this.type=r,this.group=n,this.binding=i,this.attributes=o,this.resourceType=s,this.access=a}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray?this.type.format:this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class QH{constructor(e,r){this.name=e,this.type=r}}class h0{constructor(e,r){this.align=e,this.size=r}}class qH{constructor(e,r,n,i){this.name=e,this.type=r,this.locationType=n,this.location=i,this.interpolation=null}}class FP{constructor(e,r,n,i){this.name=e,this.type=r,this.locationType=n,this.location=i}}class GH{constructor(e,r,n,i){this.name=e,this.type=r,this.attributes=n,this.id=i}}class ZH{constructor(e,r){this.name=e,this.type=r}}class JH{constructor(e,r=null){this.stage=null,this.inputs=[],this.outputs=[],this.arguments=[],this.returnType=null,this.resources=[],this.overrides=[],this.startLine=-1,this.endLine=-1,this.inUse=!1,this.calls=new Set,this.name=e,this.stage=r}}class eX{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}}class tX{constructor(e){this.resources=null,this.inUse=!1,this.info=null,this.node=e}}class zo{constructor(e){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new eX,this.functions=[],this._types=new Map,this._functions=new Map,e&&this.update(e)}_isStorageTexture(e){return e.name=="texture_storage_1d"||e.name=="texture_storage_2d"||e.name=="texture_storage_2d_array"||e.name=="texture_storage_3d"}update(e){const n=new KH().parse(e);for(const i of n)i instanceof $b&&this._functions.set(i.name,new tX(i));for(const i of n)if(i instanceof xa){const o=this._getTypeInfo(i,null);o instanceof A0&&this.structs.push(o)}for(const i of n){if(i instanceof g6){this.aliases.push(this._getAliasInfo(i));continue}if(i instanceof d6){const o=i,s=this._getAttributeNum(o.attributes,"id",0),a=o.type!=null?this._getTypeInfo(o.type,o.attributes):null;this.overrides.push(new GH(o.name,a,o.attributes,s));continue}if(this._isUniformVar(i)){const o=i,s=this._getAttributeNum(o.attributes,"group",0),a=this._getAttributeNum(o.attributes,"binding",0),l=this._getTypeInfo(o.type,o.attributes),A=new f0(o.name,l,s,a,o.attributes,Es.Uniform,o.access);this.uniforms.push(A);continue}if(this._isStorageVar(i)){const o=i,s=this._getAttributeNum(o.attributes,"group",0),a=this._getAttributeNum(o.attributes,"binding",0),l=this._getTypeInfo(o.type,o.attributes),A=this._isStorageTexture(l),p=new f0(o.name,l,s,a,o.attributes,A?Es.StorageTexture:Es.Storage,o.access);this.storage.push(p);continue}if(this._isTextureVar(i)){const o=i,s=this._getAttributeNum(o.attributes,"group",0),a=this._getAttributeNum(o.attributes,"binding",0),l=this._getTypeInfo(o.type,o.attributes),A=this._isStorageTexture(l),p=new f0(o.name,l,s,a,o.attributes,A?Es.StorageTexture:Es.Texture,o.access);A?this.storage.push(p):this.textures.push(p);continue}if(this._isSamplerVar(i)){const o=i,s=this._getAttributeNum(o.attributes,"group",0),a=this._getAttributeNum(o.attributes,"binding",0),l=this._getTypeInfo(o.type,o.attributes),A=new f0(o.name,l,s,a,o.attributes,Es.Sampler,o.access);this.samplers.push(A);continue}if(i instanceof $b){const o=this._getAttribute(i,"vertex"),s=this._getAttribute(i,"fragment"),a=this._getAttribute(i,"compute"),l=o||s||a,A=new JH(i.name,l==null?void 0:l.name);A.startLine=i.startLine,A.endLine=i.endLine,this.functions.push(A),this._functions.get(i.name).info=A,l?(this._functions.get(i.name).inUse=!0,A.inUse=!0,A.resources=this._findResources(i,!!l),A.inputs=this._getInputs(i.args),A.outputs=this._getOutputs(i.returnType),this.entry[l.name].push(A)):(A.arguments=i.args.map(p=>new ZH(p.name,this._getTypeInfo(p.type,p.attributes))),A.returnType=i.returnType?this._getTypeInfo(i.returnType,i.attributes):null);continue}}for(const i of this._functions.values())i.info&&(i.info.inUse=i.inUse,this._addCalls(i.node,i.info.calls));for(const i of this._functions.values())i.node.search(o=>{var s;if(o.astNodeType==="varExpr"){const a=o;for(const l of this.overrides)a.name==l.name&&((s=i.info)===null||s===void 0||s.overrides.push(l))}});for(const i of this.uniforms)this._markStructsInUse(i.type);for(const i of this.storage)this._markStructsInUse(i.type)}_markStructsInUse(e){if(e)if(e.isStruct){if(e.inUse=!0,e.members)for(const r of e.members)this._markStructsInUse(r.type)}else if(e.isArray)this._markStructsInUse(e.format);else if(e.isTemplate)e.format&&this._markStructsInUse(e.format);else{const r=this._getAlias(e.name);r&&this._markStructsInUse(r)}}_addCalls(e,r){var n;for(const i of e.calls){const o=(n=this._functions.get(i.name))===null||n===void 0?void 0:n.info;o&&r.add(o)}}findResource(e,r){for(const n of this.uniforms)if(n.group==e&&n.binding==r)return n;for(const n of this.storage)if(n.group==e&&n.binding==r)return n;for(const n of this.textures)if(n.group==e&&n.binding==r)return n;for(const n of this.samplers)if(n.group==e&&n.binding==r)return n;return null}_findResource(e){for(const r of this.uniforms)if(r.name==e)return r;for(const r of this.storage)if(r.name==e)return r;for(const r of this.textures)if(r.name==e)return r;for(const r of this.samplers)if(r.name==e)return r;return null}_markStructsFromAST(e){const r=this._getTypeInfo(e,null);this._markStructsInUse(r)}_findResources(e,r){const n=[],i=this,o=[];return e.search(s=>{if(s instanceof Jp)o.push({});else if(s instanceof eg)o.pop();else if(s instanceof ka){const a=s;r&&a.type!==null&&this._markStructsFromAST(a.type),o.length>0&&(o[o.length-1][a.name]=a)}else if(s instanceof gu){const a=s;r&&a.type!==null&&this._markStructsFromAST(a.type)}else if(s instanceof Ub){const a=s;r&&a.type!==null&&this._markStructsFromAST(a.type),o.length>0&&(o[o.length-1][a.name]=a)}else if(s instanceof jb){const a=s;if(o.length>0&&o[o.length-1][a.name])return;const l=i._findResource(a.name);l&&n.push(l)}else if(s instanceof v6){const a=s,l=i._functions.get(a.name);l&&(r&&(l.inUse=!0),e.calls.add(l.node),l.resources===null&&(l.resources=i._findResources(l.node,r)),n.push(...l.resources))}else if(s instanceof p6){const a=s,l=i._functions.get(a.name);l&&(r&&(l.inUse=!0),e.calls.add(l.node),l.resources===null&&(l.resources=i._findResources(l.node,r)),n.push(...l.resources))}}),[...new Map(n.map(s=>[s.name,s])).values()]}getBindGroups(){const e=[];function r(n,i){n>=e.length&&(e.length=n+1),e[n]===void 0&&(e[n]=[]),i>=e[n].length&&(e[n].length=i+1)}for(const n of this.uniforms){r(n.group,n.binding);const i=e[n.group];i[n.binding]=n}for(const n of this.storage){r(n.group,n.binding);const i=e[n.group];i[n.binding]=n}for(const n of this.textures){r(n.group,n.binding);const i=e[n.group];i[n.binding]=n}for(const n of this.samplers){r(n.group,n.binding);const i=e[n.group];i[n.binding]=n}return e}_getOutputs(e,r=void 0){if(r===void 0&&(r=[]),e instanceof xa)this._getStructOutputs(e,r);else{const n=this._getOutputInfo(e);n!==null&&r.push(n)}return r}_getStructOutputs(e,r){for(const n of e.members)if(n.type instanceof xa)this._getStructOutputs(n.type,r);else{const i=this._getAttribute(n,"location")||this._getAttribute(n,"builtin");if(i!==null){const o=this._getTypeInfo(n.type,n.type.attributes),s=this._parseInt(i.value),a=new FP(n.name,o,i.name,s);r.push(a)}}}_getOutputInfo(e){const r=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(r!==null){const n=this._getTypeInfo(e,e.attributes),i=this._parseInt(r.value);return new FP("",n,r.name,i)}return null}_getInputs(e,r=void 0){r===void 0&&(r=[]);for(const n of e)if(n.type instanceof xa)this._getStructInputs(n.type,r);else{const i=this._getInputInfo(n);i!==null&&r.push(i)}return r}_getStructInputs(e,r){for(const n of e.members)if(n.type instanceof xa)this._getStructInputs(n.type,r);else{const i=this._getInputInfo(n);i!==null&&r.push(i)}}_getInputInfo(e){const r=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(r!==null){const n=this._getAttribute(e,"interpolation"),i=this._getTypeInfo(e.type,e.attributes),o=this._parseInt(r.value),s=new qH(e.name,i,r.name,o);return n!==null&&(s.interpolation=this._parseString(n.value)),s}return null}_parseString(e){return e instanceof Array&&(e=e[0]),e}_parseInt(e){e instanceof Array&&(e=e[0]);const r=parseInt(e);return isNaN(r)?e:r}_getAlias(e){for(const r of this.aliases)if(r.name==e)return r.type;return null}_getAliasInfo(e){return new QH(e.name,this._getTypeInfo(e.type,null))}_getTypeInfo(e,r){if(this._types.has(e))return this._types.get(e);if(e instanceof y6){const i=e,o=i.format?this._getTypeInfo(i.format,i.attributes):null,s=new y_(i.name,r);return s.format=o,s.count=i.count,this._types.set(e,s),this._updateTypeInfo(s),s}if(e instanceof xa){const i=e,o=new A0(i.name,r);o.startLine=i.startLine,o.endLine=i.endLine;for(const s of i.members){const a=this._getTypeInfo(s.type,s.attributes);o.members.push(new DP(s.name,a,s.attributes))}return this._types.set(e,o),this._updateTypeInfo(o),o}if(e instanceof KA){const i=e,o=i.format instanceof ml,s=i.format?o?this._getTypeInfo(i.format,null):new Nu(i.format,null):null,a=new BP(i.name,s,r,i.access);return this._types.set(e,a),this._updateTypeInfo(a),a}if(e instanceof m6){const i=e,o=i.format?this._getTypeInfo(i.format,null):null,s=new BP(i.name,o,r,i.access);return this._types.set(e,s),this._updateTypeInfo(s),s}const n=new Nu(e.name,r);return this._types.set(e,n),this._updateTypeInfo(n),n}_updateTypeInfo(e){var r,n;const i=this._getTypeSize(e);if(e.size=(r=i==null?void 0:i.size)!==null&&r!==void 0?r:0,e instanceof y_&&e.format){const o=this._getTypeSize(e.format);e.stride=(n=o==null?void 0:o.size)!==null&&n!==void 0?n:0,this._updateTypeInfo(e.format)}e instanceof A0&&this._updateStructInfo(e)}_updateStructInfo(e){var r;let n=0,i=0,o=0,s=0;for(let a=0,l=e.members.length;a<l;++a){const A=e.members[a],p=this._getTypeSize(A);if(!p)continue;(r=this._getAlias(A.type.name))!==null&&r!==void 0||A.type;const g=p.align,v=p.size;n=this._roundUp(g,n+i),i=v,o=n,s=Math.max(s,g),A.offset=n,A.size=v,this._updateTypeInfo(A.type)}e.size=this._roundUp(s,o+i),e.align=s}_getTypeSize(e){var r,n;if(e==null)return null;const i=this._getAttributeNum(e.attributes,"size",0),o=this._getAttributeNum(e.attributes,"align",0);if(e instanceof DP&&(e=e.type),e instanceof Nu){const s=this._getAlias(e.name);s!==null&&(e=s)}{const s=zo._typeInfo[e.name];if(s!==void 0){const a=((r=e.format)===null||r===void 0?void 0:r.name)==="f16"?2:1;return new h0(Math.max(o,s.align/a),Math.max(i,s.size/a))}}{const s=zo._typeInfo[e.name.substring(0,e.name.length-1)];if(s){const a=e.name[e.name.length-1]==="h"?2:1;return new h0(Math.max(o,s.align/a),Math.max(i,s.size/a))}}if(e instanceof y_){let s=e,a=8,l=8;const A=this._getTypeSize(s.format);A!==null&&(l=A.size,a=A.align);const p=s.count,g=this._getAttributeNum((n=e==null?void 0:e.attributes)!==null&&n!==void 0?n:null,"stride",this._roundUp(a,l));return l=p*g,i&&(l=i),new h0(Math.max(o,a),Math.max(i,l))}if(e instanceof A0){let s=0,a=0,l=0,A=0,p=0;for(const g of e.members){const v=this._getTypeSize(g.type);v!==null&&(s=Math.max(v.align,s),l=this._roundUp(v.align,l+A),A=v.size,p=l)}return a=this._roundUp(s,p+A),new h0(Math.max(o,s),Math.max(i,a))}return null}_isUniformVar(e){return e instanceof ka&&e.storage=="uniform"}_isStorageVar(e){return e instanceof ka&&e.storage=="storage"}_isTextureVar(e){return e instanceof ka&&e.type!==null&&zo._textureTypes.indexOf(e.type.name)!=-1}_isSamplerVar(e){return e instanceof ka&&e.type!==null&&zo._samplerTypes.indexOf(e.type.name)!=-1}_getAttribute(e,r){const n=e;if(!n||!n.attributes)return null;const i=n.attributes;for(let o of i)if(o.name==r)return o;return null}_getAttributeNum(e,r,n){if(e===null)return n;for(let i of e)if(i.name==r){let o=i!==null&&i.value!==null?i.value:n;return o instanceof Array&&(o=o[0]),typeof o=="number"?o:typeof o=="string"?parseInt(o):n}return n}_roundUp(e,r){return Math.ceil(r/e)*e}}zo._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}};zo._textureTypes=Y.any_texture_type.map(t=>t.name);zo._samplerTypes=Y.sampler_type.map(t=>t.name);function rX(t){var o;const e={attributes:[],bindings:[]};let r;try{r=nX(t)}catch(s){return ke.error(s.message)(),e}for(const s of r.uniforms){const a=[];for(const l of((o=s.type)==null?void 0:o.members)||[])a.push({name:l.name,type:LP(l.type)});e.bindings.push({type:"uniform",name:s.name,location:s.binding,group:s.group,members:a})}const n=r.entry.vertex[0],i=(n==null?void 0:n.inputs.length)||0;for(let s=0;s<i;s++){const a=n.inputs[s];if(a.locationType==="location"){const l=LP(a.type);e.attributes.push({name:a.name,location:Number(a.location),type:l})}}return e}function LP(t){return t.format?`${t.name}<${t.format.name}>`:t.name}function nX(t){try{return new zo(t)}catch(e){if(e instanceof Error)throw e;let r="WGSL parse error";throw typeof e=="object"&&(e!=null&&e.message)&&(r+=`: ${e.message} `),typeof e=="object"&&(e!=null&&e.token)&&(r+=e.token.line||""),new Error(r,{cause:e})}}const iX=`#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND
const float TWO_PI = 6.2831854820251465;
const float PI_2 = 1.5707963705062866;
const float PI_16 = 0.1963495463132858;
const float SIN_TABLE_0 = 0.19509032368659973;
const float SIN_TABLE_1 = 0.3826834261417389;
const float SIN_TABLE_2 = 0.5555702447891235;
const float SIN_TABLE_3 = 0.7071067690849304;
const float COS_TABLE_0 = 0.9807852506637573;
const float COS_TABLE_1 = 0.9238795042037964;
const float COS_TABLE_2 = 0.8314695954322815;
const float COS_TABLE_3 = 0.7071067690849304;
const float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;
const float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;
const float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;
const float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;
float sin_taylor_fp32(float a) {
float r, s, t, x;
if (a == 0.0) {
return 0.0;
}
x = -a * a;
s = a;
r = a;
r = r * x;
t = r * INVERSE_FACTORIAL_3;
s = s + t;
r = r * x;
t = r * INVERSE_FACTORIAL_5;
s = s + t;
r = r * x;
t = r * INVERSE_FACTORIAL_7;
s = s + t;
r = r * x;
t = r * INVERSE_FACTORIAL_9;
s = s + t;
return s;
}
void sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {
if (a == 0.0) {
sin_t = 0.0;
cos_t = 1.0;
}
sin_t = sin_taylor_fp32(a);
cos_t = sqrt(1.0 - sin_t * sin_t);
}
float tan_taylor_fp32(float a) {
float sin_a;
float cos_a;
if (a == 0.0) {
return 0.0;
}
float z = floor(a / TWO_PI);
float r = a - TWO_PI * z;
float t;
float q = floor(r / PI_2 + 0.5);
int j = int(q);
if (j < -2 || j > 2) {
return 1.0 / 0.0;
}
t = r - PI_2 * q;
q = floor(t / PI_16 + 0.5);
int k = int(q);
int abs_k = int(abs(float(k)));
if (abs_k > 4) {
return 1.0 / 0.0;
} else {
t = t - PI_16 * q;
}
float u = 0.0;
float v = 0.0;
float sin_t, cos_t;
float s, c;
sincos_taylor_fp32(t, sin_t, cos_t);
if (k == 0) {
s = sin_t;
c = cos_t;
} else {
if (abs(float(abs_k) - 1.0) < 0.5) {
u = COS_TABLE_0;
v = SIN_TABLE_0;
} else if (abs(float(abs_k) - 2.0) < 0.5) {
u = COS_TABLE_1;
v = SIN_TABLE_1;
} else if (abs(float(abs_k) - 3.0) < 0.5) {
u = COS_TABLE_2;
v = SIN_TABLE_2;
} else if (abs(float(abs_k) - 4.0) < 0.5) {
u = COS_TABLE_3;
v = SIN_TABLE_3;
}
if (k > 0) {
s = u * sin_t + v * cos_t;
c = u * cos_t - v * sin_t;
} else {
s = u * sin_t - v * cos_t;
c = u * cos_t + v * sin_t;
}
}
if (j == 0) {
sin_a = s;
cos_a = c;
} else if (j == 1) {
sin_a = c;
cos_a = -s;
} else if (j == -1) {
sin_a = -c;
cos_a = s;
} else {
sin_a = -s;
cos_a = -c;
}
return sin_a / cos_a;
}
#endif
float tan_fp32(float a) {
#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND
return tan_taylor_fp32(a);
#else
return tan(a);
#endif
}
`,oX={name:"fp32",vs:iX},sX=[0,1,1,1],aX=`uniform pickingUniforms {
float isActive;
float isAttribute;
float isHighlightActive;
float useFloatColors;
vec3 highlightedObjectColor;
vec4 highlightColor;
} picking;
out vec4 picking_vRGBcolor_Avalid;
vec3 picking_normalizeColor(vec3 color) {
return picking.useFloatColors > 0.5 ? color : color / 255.0;
}
vec4 picking_normalizeColor(vec4 color) {
return picking.useFloatColors > 0.5 ? color : color / 255.0;
}
bool picking_isColorZero(vec3 color) {
return dot(color, vec3(1.0)) < 0.00001;
}
bool picking_isColorValid(vec3 color) {
return dot(color, vec3(1.0)) > 0.00001;
}
bool isVertexHighlighted(vec3 vertexColor) {
vec3 highlightedObjectColor = picking_normalizeColor(picking.highlightedObjectColor);
return
bool(picking.isHighlightActive) && picking_isColorZero(abs(vertexColor - highlightedObjectColor));
}
void picking_setPickingColor(vec3 pickingColor) {
pickingColor = picking_normalizeColor(pickingColor);
if (bool(picking.isActive)) {
picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));
if (!bool(picking.isAttribute)) {
picking_vRGBcolor_Avalid.rgb = pickingColor;
}
} else {
picking_vRGBcolor_Avalid.a = float(isVertexHighlighted(pickingColor));
}
}
void picking_setPickingAttribute(float value) {
if (bool(picking.isAttribute)) {
picking_vRGBcolor_Avalid.r = value;
}
}
void picking_setPickingAttribute(vec2 value) {
if (bool(picking.isAttribute)) {
picking_vRGBcolor_Avalid.rg = value;
}
}
void picking_setPickingAttribute(vec3 value) {
if (bool(picking.isAttribute)) {
picking_vRGBcolor_Avalid.rgb = value;
}
}
`,lX=`uniform pickingUniforms {
float isActive;
float isAttribute;
float isHighlightActive;
float useFloatColors;
vec3 highlightedObjectColor;
vec4 highlightColor;
} picking;
in vec4 picking_vRGBcolor_Avalid;
vec4 picking_filterHighlightColor(vec4 color) {
if (picking.isActive > 0.5) {
return color;
}
bool selected = bool(picking_vRGBcolor_Avalid.a);
if (selected) {
float highLightAlpha = picking.highlightColor.a;
float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);
float highLightRatio = highLightAlpha / blendedAlpha;
vec3 blendedRGB = mix(color.rgb, picking.highlightColor.rgb, highLightRatio);
return vec4(blendedRGB, blendedAlpha);
} else {
return color;
}
}
vec4 picking_filterPickingColor(vec4 color) {
if (bool(picking.isActive)) {
if (picking_vRGBcolor_Avalid.a == 0.0) {
discard;
}
return picking_vRGBcolor_Avalid;
}
return color;
}
vec4 picking_filterColor(vec4 color) {
vec4 highlightColor = picking_filterHighlightColor(color);
return picking_filterPickingColor(highlightColor);
}
`,$P={name:"picking",vs:aX,fs:lX,uniformTypes:{isActive:"f32",isAttribute:"f32",isHighlightActive:"f32",useFloatColors:"f32",highlightedObjectColor:"vec3<f32>",highlightColor:"vec4<f32>"},defaultUniforms:{isActive:!1,isAttribute:!1,isHighlightActive:!1,useFloatColors:!0,highlightedObjectColor:[0,0,0],highlightColor:sX},getUniforms:uX};function uX(t={},e){const r={};if(t.highlightedObjectColor!==void 0)if(t.highlightedObjectColor===null)r.isHighlightActive=!1;else{r.isHighlightActive=!0;const n=t.highlightedObjectColor.slice(0,3);r.highlightedObjectColor=n}if(t.highlightColor){const n=Array.from(t.highlightColor,i=>i/255);Number.isFinite(n[3])||(n[3]=1),r.highlightColor=n}return t.isActive!==void 0&&(r.isActive=!!t.isActive,r.isAttribute=!!t.isAttribute),t.useFloatColors!==void 0&&(r.useFloatColors=!!t.useFloatColors),r}function w6(t,e=[],r=0){const n=Math.fround(t),i=t-n;return e[r]=n,e[r+1]=i,e}function cX(t){return t-Math.fround(t)}function AX(t){const e=new Float32Array(32);for(let r=0;r<4;++r)for(let n=0;n<4;++n){const i=r*4+n;w6(t[n*4+r],e,i*2)}return e}const fX=`uniform float ONE;
vec2 split(float a) {
const float SPLIT = 4097.0;
float t = a * SPLIT;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
float a_hi = t * ONE - (t - a);
float a_lo = a * ONE - a_hi;
#else
float a_hi = t - (t - a);
float a_lo = a - a_hi;
#endif
return vec2(a_hi, a_lo);
}
vec2 split2(vec2 a) {
vec2 b = split(a.x);
b.y += a.y;
return b;
}
vec2 quickTwoSum(float a, float b) {
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
float sum = (a + b) * ONE;
float err = b - (sum - a) * ONE;
#else
float sum = a + b;
float err = b - (sum - a);
#endif
return vec2(sum, err);
}
vec2 twoSum(float a, float b) {
float s = (a + b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
float v = (s * ONE - a) * ONE;
float err = (a - (s - v) * ONE) * ONE * ONE * ONE + (b - v);
#else
float v = s - a;
float err = (a - (s - v)) + (b - v);
#endif
return vec2(s, err);
}
vec2 twoSub(float a, float b) {
float s = (a - b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
float v = (s * ONE - a) * ONE;
float err = (a - (s - v) * ONE) * ONE * ONE * ONE - (b + v);
#else
float v = s - a;
float err = (a - (s - v)) - (b + v);
#endif
return vec2(s, err);
}
vec2 twoSqr(float a) {
float prod = a * a;
vec2 a_fp64 = split(a);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
float err = ((a_fp64.x * a_fp64.x - prod) * ONE + 2.0 * a_fp64.x *
a_fp64.y * ONE * ONE) + a_fp64.y * a_fp64.y * ONE * ONE * ONE;
#else
float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;
#endif
return vec2(prod, err);
}
vec2 twoProd(float a, float b) {
float prod = a * b;
vec2 a_fp64 = split(a);
vec2 b_fp64 = split(b);
float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +
a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;
return vec2(prod, err);
}
vec2 sum_fp64(vec2 a, vec2 b) {
vec2 s, t;
s = twoSum(a.x, b.x);
t = twoSum(a.y, b.y);
s.y += t.x;
s = quickTwoSum(s.x, s.y);
s.y += t.y;
s = quickTwoSum(s.x, s.y);
return s;
}
vec2 sub_fp64(vec2 a, vec2 b) {
vec2 s, t;
s = twoSub(a.x, b.x);
t = twoSub(a.y, b.y);
s.y += t.x;
s = quickTwoSum(s.x, s.y);
s.y += t.y;
s = quickTwoSum(s.x, s.y);
return s;
}
vec2 mul_fp64(vec2 a, vec2 b) {
vec2 prod = twoProd(a.x, b.x);
prod.y += a.x * b.y;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
prod = split2(prod);
#endif
prod = quickTwoSum(prod.x, prod.y);
prod.y += a.y * b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
prod = split2(prod);
#endif
prod = quickTwoSum(prod.x, prod.y);
return prod;
}
vec2 div_fp64(vec2 a, vec2 b) {
float xn = 1.0 / b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
vec2 yn = mul_fp64(a, vec2(xn, 0));
#else
vec2 yn = a * xn;
#endif
float diff = (sub_fp64(a, mul_fp64(b, yn))).x;
vec2 prod = twoProd(xn, diff);
return sum_fp64(yn, prod);
}
vec2 sqrt_fp64(vec2 a) {
if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);
if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);
float x = 1.0 / sqrt(a.x);
float yn = a.x * x;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
vec2 yn_sqr = twoSqr(yn) * ONE;
#else
vec2 yn_sqr = twoSqr(yn);
#endif
float diff = sub_fp64(a, yn_sqr).x;
vec2 prod = twoProd(x * 0.5, diff);
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
return sum_fp64(split(yn), prod);
#else
return sum_fp64(vec2(yn, 0.0), prod);
#endif
}
`,hX={ONE:1};function dX(){return hX}const pX={name:"fp64-arithmetic",vs:fX,getUniforms:dX,fp64ify:w6,fp64LowPart:cX,fp64ifyMatrix4:AX},gX={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1};globalThis.mathgl=globalThis.mathgl||{config:{...gX}};const Gn=globalThis.mathgl.config;function mX(t,{precision:e=Gn.precision}={}){return t=yX(t),`${parseFloat(t.toPrecision(e))}`}function Ju(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ks(t,e,r){return _X(t,n=>Math.max(e,Math.min(r,n)))}function tg(t,e,r){return Ju(t)?t.map((n,i)=>tg(n,e[i],r)):r*e+(1-r)*t}function Kf(t,e,r){const n=Gn.EPSILON;r&&(Gn.EPSILON=r);try{if(t===e)return!0;if(Ju(t)&&Ju(e)){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!Kf(t[i],e[i]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):typeof t=="number"&&typeof e=="number"?Math.abs(t-e)<=Gn.EPSILON*Math.max(1,Math.abs(t),Math.abs(e)):!1}finally{Gn.EPSILON=n}}function yX(t){return Math.round(t/Gn.EPSILON)*Gn.EPSILON}function vX(t){return t.clone?t.clone():new Array(t.length)}function _X(t,e,r){if(Ju(t)){const n=t;r=r||vX(n);for(let i=0;i<r.length&&i<n.length;++i){const o=typeof t=="number"?t:t[i];r[i]=e(o,i,r)}return r}return e(t)}class S6 extends Array{clone(){return new this.constructor().copy(this)}fromArray(e,r=0){for(let n=0;n<this.ELEMENTS;++n)this[n]=e[n+r];return this.check()}toArray(e=[],r=0){for(let n=0;n<this.ELEMENTS;++n)e[r+n]=this[n];return e}toObject(e){return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:Ju(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(Gn)}formatString(e){let r="";for(let n=0;n<this.ELEMENTS;++n)r+=(n>0?", ":"")+mX(this[n],e);return`${e.printTypes?this.constructor.name:""}[${r}]`}equals(e){if(!e||this.length!==e.length)return!1;for(let r=0;r<this.ELEMENTS;++r)if(!Kf(this[r],e[r]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let r=0;r<this.ELEMENTS;++r)if(this[r]!==e[r])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,r,n){if(n===void 0)return this.lerp(this,e,r);for(let i=0;i<this.ELEMENTS;++i){const o=e[i],s=typeof r=="number"?r:r[i];this[i]=o+n*(s-o)}return this.check()}min(e){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(e[r],this[r]);return this.check()}max(e){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.max(e[r],this[r]);return this.check()}clamp(e,r){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e[n]),r[n]);return this.check()}add(...e){for(const r of e)for(let n=0;n<this.ELEMENTS;++n)this[n]+=r[n];return this.check()}subtract(...e){for(const r of e)for(let n=0;n<this.ELEMENTS;++n)this[n]-=r[n];return this.check()}scale(e){if(typeof e=="number")for(let r=0;r<this.ELEMENTS;++r)this[r]*=e;else for(let r=0;r<this.ELEMENTS&&r<e.length;++r)this[r]*=e[r];return this.check()}multiplyByScalar(e){for(let r=0;r<this.ELEMENTS;++r)this[r]*=e;return this.check()}check(){if(Gn.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let e=this.length===this.ELEMENTS;for(let r=0;r<this.ELEMENTS;++r)e=e&&Number.isFinite(this[r]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let r=0;r<this.ELEMENTS;++r)this[r]=e;return this.check()}addScalar(e){for(let r=0;r<this.ELEMENTS;++r)this[r]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let r=0;r<this.ELEMENTS;++r)this[r]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,r){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e),r);return this.check()}get elements(){return this}}function bX(t,e){if(t.length!==e)return!1;for(let r=0;r<t.length;++r)if(!Number.isFinite(t[r]))return!1;return!0}function Yn(t){if(!Number.isFinite(t))throw new Error(`Invalid number ${JSON.stringify(t)}`);return t}function v_(t,e,r=""){if(Gn.debug&&!bX(t,e))throw new Error(`math.gl: ${r} some fields set to invalid numbers'`);return t}function UP(t,e){if(!t)throw new Error(`math.gl assertion ${e}`)}class wX extends S6{get x(){return this[0]}set x(e){this[0]=Yn(e)}get y(){return this[1]}set y(e){this[1]=Yn(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let r=0;r<this.ELEMENTS;++r)e+=this[r]*this[r];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let r=0;for(let n=0;n<this.ELEMENTS;++n){const i=this[n]-e[n];r+=i*i}return Yn(r)}dot(e){let r=0;for(let n=0;n<this.ELEMENTS;++n)r+=this[n]*e[n];return Yn(r)}normalize(){const e=this.magnitude();if(e!==0)for(let r=0;r<this.ELEMENTS;++r)this[r]/=e;return this.check()}multiply(...e){for(const r of e)for(let n=0;n<this.ELEMENTS;++n)this[n]*=r[n];return this.check()}divide(...e){for(const r of e)for(let n=0;n<this.ELEMENTS;++n)this[n]/=r[n];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return UP(e>=0&&e<this.ELEMENTS,"index is out of range"),Yn(this[e])}setComponent(e,r){return UP(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=r,this.check()}addVectors(e,r){return this.copy(e).add(r)}subVectors(e,r){return this.copy(e).subtract(r)}multiplyVectors(e,r){return this.copy(e).multiply(r)}addScaledVector(e,r){return this.add(new this.constructor(e).multiplyScalar(r))}}const sp=1e-6;let ec=typeof Float32Array<"u"?Float32Array:Array;function SX(){const t=new ec(2);return ec!=Float32Array&&(t[0]=0,t[1]=0),t}function jP(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function EX(t,e){return t[0]=-e[0],t[1]=-e[1],t}function E6(t,e,r,n){const i=e[0],o=e[1];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t}function TX(t,e,r){const n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}(function(){const t=SX();return function(e,r,n,i,o,s){let a,l;for(r||(r=2),n||(n=0),i?l=Math.min(i*r+n,e.length):l=e.length,a=n;a<l;a+=r)t[0]=e[a],t[1]=e[a+1],o(t,t,s),e[a]=t[0],e[a+1]=t[1];return e}})();function xX(t,e,r){const n=e[0],i=e[1],o=r[3]*n+r[7]*i||1;return t[0]=(r[0]*n+r[4]*i)/o,t[1]=(r[1]*n+r[5]*i)/o,t}function T6(t,e,r){const n=e[0],i=e[1],o=e[2],s=r[3]*n+r[7]*i+r[11]*o||1;return t[0]=(r[0]*n+r[4]*i+r[8]*o)/s,t[1]=(r[1]*n+r[5]*i+r[9]*o)/s,t[2]=(r[2]*n+r[6]*i+r[10]*o)/s,t}function PX(t,e,r){const n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t[2]=e[2],t}function CX(){const t=new ec(3);return ec!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function OX(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function RX(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function MX(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function kX(t,e,r){const n=e[0],i=e[1],o=e[2],s=r[0],a=r[1],l=r[2];return t[0]=i*l-o*a,t[1]=o*s-n*l,t[2]=n*a-i*s,t}function x6(t,e,r){const n=e[0],i=e[1],o=e[2];let s=r[3]*n+r[7]*i+r[11]*o+r[15];return s=s||1,t[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/s,t[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/s,t[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/s,t}function IX(t,e,r){const n=e[0],i=e[1],o=e[2];return t[0]=n*r[0]+i*r[3]+o*r[6],t[1]=n*r[1]+i*r[4]+o*r[7],t[2]=n*r[2]+i*r[5]+o*r[8],t}function NX(t,e,r){const n=r[0],i=r[1],o=r[2],s=r[3],a=e[0],l=e[1],A=e[2];let p=i*A-o*l,g=o*a-n*A,v=n*l-i*a,b=i*v-o*g,S=o*p-n*v,E=n*g-i*p;const C=s*2;return p*=C,g*=C,v*=C,b*=2,S*=2,E*=2,t[0]=a+p+b,t[1]=l+g+S,t[2]=A+v+E,t}function DX(t,e,r,n){const i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function BX(t,e,r,n){const i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function FX(t,e,r,n){const i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function LX(t,e){const r=t[0],n=t[1],i=t[2],o=e[0],s=e[1],a=e[2],l=Math.sqrt((r*r+n*n+i*i)*(o*o+s*s+a*a)),A=l&&MX(t,e)/l;return Math.acos(Math.min(Math.max(A,-1),1))}const $X=OX;(function(){const t=CX();return function(e,r,n,i,o,s){let a,l;for(r||(r=3),n||(n=0),i?l=Math.min(i*r+n,e.length):l=e.length,a=n;a<l;a+=r)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],o(t,t,s),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2];return e}})();const __=[0,0,0];let d0;class To extends wX{static get ZERO(){return d0||(d0=new To(0,0,0),Object.freeze(d0)),d0}constructor(e=0,r=0,n=0){super(-0,-0,-0),arguments.length===1&&Ju(e)?this.copy(e):(Gn.debug&&(Yn(e),Yn(r),Yn(n)),this[0]=e,this[1]=r,this[2]=n)}set(e,r,n){return this[0]=e,this[1]=r,this[2]=n,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return Gn.debug&&(Yn(e.x),Yn(e.y),Yn(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=Yn(e)}angle(e){return LX(this,e)}cross(e){return kX(this,this,e),this.check()}rotateX({radians:e,origin:r=__}){return DX(this,this,r,e),this.check()}rotateY({radians:e,origin:r=__}){return BX(this,this,r,e),this.check()}rotateZ({radians:e,origin:r=__}){return FX(this,this,r,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return x6(this,this,e),this.check()}transformAsVector(e){return T6(this,this,e),this.check()}transformByMatrix3(e){return IX(this,this,e),this.check()}transformByMatrix2(e){return PX(this,this,e),this.check()}transformByQuaternion(e){return NX(this,this,e),this.check()}}class UX extends S6{toString(){let e="[";if(Gn.printRowMajor){e+="row-major:";for(let r=0;r<this.RANK;++r)for(let n=0;n<this.RANK;++n)e+=` ${this[n*this.RANK+r]}`}else{e+="column-major:";for(let r=0;r<this.ELEMENTS;++r)e+=` ${this[r]}`}return e+="]",e}getElementIndex(e,r){return r*this.RANK+e}getElement(e,r){return this[r*this.RANK+e]}setElement(e,r,n){return this[r*this.RANK+e]=Yn(n),this}getColumn(e,r=new Array(this.RANK).fill(-0)){const n=e*this.RANK;for(let i=0;i<this.RANK;++i)r[i]=this[n+i];return r}setColumn(e,r){const n=e*this.RANK;for(let i=0;i<this.RANK;++i)this[n+i]=r[i];return this}}function jX(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function zX(t,e){if(t===e){const r=e[1],n=e[2],i=e[3],o=e[6],s=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[11]=e[14],t[12]=i,t[13]=s,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function zb(t,e){const r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],A=e[7],p=e[8],g=e[9],v=e[10],b=e[11],S=e[12],E=e[13],C=e[14],x=e[15],P=r*a-n*s,T=r*l-i*s,M=r*A-o*s,R=n*l-i*a,k=n*A-o*a,D=i*A-o*l,$=p*E-g*S,W=p*C-v*S,N=p*x-b*S,H=g*C-v*E,Q=g*x-b*E,re=v*x-b*C;let ne=P*re-T*Q+M*H+R*N-k*W+D*$;return ne?(ne=1/ne,t[0]=(a*re-l*Q+A*H)*ne,t[1]=(i*Q-n*re-o*H)*ne,t[2]=(E*D-C*k+x*R)*ne,t[3]=(v*k-g*D-b*R)*ne,t[4]=(l*N-s*re-A*W)*ne,t[5]=(r*re-i*N+o*W)*ne,t[6]=(C*M-S*D-x*T)*ne,t[7]=(p*D-v*M+b*T)*ne,t[8]=(s*Q-a*N+A*$)*ne,t[9]=(n*N-r*Q-o*$)*ne,t[10]=(S*k-E*M+x*P)*ne,t[11]=(g*M-p*k-b*P)*ne,t[12]=(a*W-s*H-l*$)*ne,t[13]=(r*H-n*W+i*$)*ne,t[14]=(E*T-S*R-C*P)*ne,t[15]=(p*R-g*T+v*P)*ne,t):null}function VX(t){const e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],s=t[5],a=t[6],l=t[7],A=t[8],p=t[9],g=t[10],v=t[11],b=t[12],S=t[13],E=t[14],C=t[15],x=e*s-r*o,P=e*a-n*o,T=r*a-n*s,M=A*S-p*b,R=A*E-g*b,k=p*E-g*S,D=e*k-r*R+n*M,$=o*k-s*R+a*M,W=A*T-p*P+g*x,N=b*T-S*P+E*x;return l*D-i*$+C*W-v*N}function Ya(t,e,r){const n=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],A=e[6],p=e[7],g=e[8],v=e[9],b=e[10],S=e[11],E=e[12],C=e[13],x=e[14],P=e[15];let T=r[0],M=r[1],R=r[2],k=r[3];return t[0]=T*n+M*a+R*g+k*E,t[1]=T*i+M*l+R*v+k*C,t[2]=T*o+M*A+R*b+k*x,t[3]=T*s+M*p+R*S+k*P,T=r[4],M=r[5],R=r[6],k=r[7],t[4]=T*n+M*a+R*g+k*E,t[5]=T*i+M*l+R*v+k*C,t[6]=T*o+M*A+R*b+k*x,t[7]=T*s+M*p+R*S+k*P,T=r[8],M=r[9],R=r[10],k=r[11],t[8]=T*n+M*a+R*g+k*E,t[9]=T*i+M*l+R*v+k*C,t[10]=T*o+M*A+R*b+k*x,t[11]=T*s+M*p+R*S+k*P,T=r[12],M=r[13],R=r[14],k=r[15],t[12]=T*n+M*a+R*g+k*E,t[13]=T*i+M*l+R*v+k*C,t[14]=T*o+M*A+R*b+k*x,t[15]=T*s+M*p+R*S+k*P,t}function rg(t,e,r){const n=r[0],i=r[1],o=r[2];let s,a,l,A,p,g,v,b,S,E,C,x;return e===t?(t[12]=e[0]*n+e[4]*i+e[8]*o+e[12],t[13]=e[1]*n+e[5]*i+e[9]*o+e[13],t[14]=e[2]*n+e[6]*i+e[10]*o+e[14],t[15]=e[3]*n+e[7]*i+e[11]*o+e[15]):(s=e[0],a=e[1],l=e[2],A=e[3],p=e[4],g=e[5],v=e[6],b=e[7],S=e[8],E=e[9],C=e[10],x=e[11],t[0]=s,t[1]=a,t[2]=l,t[3]=A,t[4]=p,t[5]=g,t[6]=v,t[7]=b,t[8]=S,t[9]=E,t[10]=C,t[11]=x,t[12]=s*n+p*i+S*o+e[12],t[13]=a*n+g*i+E*o+e[13],t[14]=l*n+v*i+C*o+e[14],t[15]=A*n+b*i+x*o+e[15]),t}function aE(t,e,r){const n=r[0],i=r[1],o=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function WX(t,e,r,n){let i=n[0],o=n[1],s=n[2],a=Math.sqrt(i*i+o*o+s*s),l,A,p,g,v,b,S,E,C,x,P,T,M,R,k,D,$,W,N,H,Q,re,ne,J;return a<sp?null:(a=1/a,i*=a,o*=a,s*=a,A=Math.sin(r),l=Math.cos(r),p=1-l,g=e[0],v=e[1],b=e[2],S=e[3],E=e[4],C=e[5],x=e[6],P=e[7],T=e[8],M=e[9],R=e[10],k=e[11],D=i*i*p+l,$=o*i*p+s*A,W=s*i*p-o*A,N=i*o*p-s*A,H=o*o*p+l,Q=s*o*p+i*A,re=i*s*p+o*A,ne=o*s*p-i*A,J=s*s*p+l,t[0]=g*D+E*$+T*W,t[1]=v*D+C*$+M*W,t[2]=b*D+x*$+R*W,t[3]=S*D+P*$+k*W,t[4]=g*N+E*H+T*Q,t[5]=v*N+C*H+M*Q,t[6]=b*N+x*H+R*Q,t[7]=S*N+P*H+k*Q,t[8]=g*re+E*ne+T*J,t[9]=v*re+C*ne+M*J,t[10]=b*re+x*ne+R*J,t[11]=S*re+P*ne+k*J,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function P6(t,e,r){const n=Math.sin(r),i=Math.cos(r),o=e[4],s=e[5],a=e[6],l=e[7],A=e[8],p=e[9],g=e[10],v=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+A*n,t[5]=s*i+p*n,t[6]=a*i+g*n,t[7]=l*i+v*n,t[8]=A*i-o*n,t[9]=p*i-s*n,t[10]=g*i-a*n,t[11]=v*i-l*n,t}function HX(t,e,r){const n=Math.sin(r),i=Math.cos(r),o=e[0],s=e[1],a=e[2],l=e[3],A=e[8],p=e[9],g=e[10],v=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-A*n,t[1]=s*i-p*n,t[2]=a*i-g*n,t[3]=l*i-v*n,t[8]=o*n+A*i,t[9]=s*n+p*i,t[10]=a*n+g*i,t[11]=l*n+v*i,t}function C6(t,e,r){const n=Math.sin(r),i=Math.cos(r),o=e[0],s=e[1],a=e[2],l=e[3],A=e[4],p=e[5],g=e[6],v=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+A*n,t[1]=s*i+p*n,t[2]=a*i+g*n,t[3]=l*i+v*n,t[4]=A*i-o*n,t[5]=p*i-s*n,t[6]=g*i-a*n,t[7]=v*i-l*n,t}function XX(t,e){const r=e[0],n=e[1],i=e[2],o=e[3],s=r+r,a=n+n,l=i+i,A=r*s,p=n*s,g=n*a,v=i*s,b=i*a,S=i*l,E=o*s,C=o*a,x=o*l;return t[0]=1-g-S,t[1]=p+x,t[2]=v-C,t[3]=0,t[4]=p-x,t[5]=1-A-S,t[6]=b+E,t[7]=0,t[8]=v+C,t[9]=b-E,t[10]=1-A-g,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function YX(t,e,r,n,i,o,s){const a=1/(r-e),l=1/(i-n),A=1/(o-s);return t[0]=o*2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o*2*l,t[6]=0,t[7]=0,t[8]=(r+e)*a,t[9]=(i+n)*l,t[10]=(s+o)*A,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*o*2*A,t[15]=0,t}function KX(t,e,r,n,i){const o=1/Math.tan(e/2);if(t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0){const s=1/(n-i);t[10]=(i+n)*s,t[14]=2*i*n*s}else t[10]=-1,t[14]=-2*n;return t}const QX=KX;function qX(t,e,r,n,i,o,s){const a=1/(e-r),l=1/(n-i),A=1/(o-s);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*A,t[11]=0,t[12]=(e+r)*a,t[13]=(i+n)*l,t[14]=(s+o)*A,t[15]=1,t}const GX=qX;function ZX(t,e,r,n){let i,o,s,a,l,A,p,g,v,b;const S=e[0],E=e[1],C=e[2],x=n[0],P=n[1],T=n[2],M=r[0],R=r[1],k=r[2];return Math.abs(S-M)<sp&&Math.abs(E-R)<sp&&Math.abs(C-k)<sp?jX(t):(g=S-M,v=E-R,b=C-k,i=1/Math.sqrt(g*g+v*v+b*b),g*=i,v*=i,b*=i,o=P*b-T*v,s=T*g-x*b,a=x*v-P*g,i=Math.sqrt(o*o+s*s+a*a),i?(i=1/i,o*=i,s*=i,a*=i):(o=0,s=0,a=0),l=v*a-b*s,A=b*o-g*a,p=g*s-v*o,i=Math.sqrt(l*l+A*A+p*p),i?(i=1/i,l*=i,A*=i,p*=i):(l=0,A=0,p=0),t[0]=o,t[1]=l,t[2]=g,t[3]=0,t[4]=s,t[5]=A,t[6]=v,t[7]=0,t[8]=a,t[9]=p,t[10]=b,t[11]=0,t[12]=-(o*S+s*E+a*C),t[13]=-(l*S+A*E+p*C),t[14]=-(g*S+v*E+b*C),t[15]=1,t)}function JX(){const t=new ec(4);return ec!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function eY(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function td(t,e,r){const n=e[0],i=e[1],o=e[2],s=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*s,t[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*s,t[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*s,t[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*s,t}(function(){const t=JX();return function(e,r,n,i,o,s){let a,l;for(r||(r=4),n||(n=0),i?l=Math.min(i*r+n,e.length):l=e.length,a=n;a<l;a+=r)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],t[3]=e[a+3],o(t,t,s),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2],e[a+3]=t[3];return e}})();var Vb;(function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL0ROW3=3]="COL0ROW3",t[t.COL1ROW0=4]="COL1ROW0",t[t.COL1ROW1=5]="COL1ROW1",t[t.COL1ROW2=6]="COL1ROW2",t[t.COL1ROW3=7]="COL1ROW3",t[t.COL2ROW0=8]="COL2ROW0",t[t.COL2ROW1=9]="COL2ROW1",t[t.COL2ROW2=10]="COL2ROW2",t[t.COL2ROW3=11]="COL2ROW3",t[t.COL3ROW0=12]="COL3ROW0",t[t.COL3ROW1=13]="COL3ROW1",t[t.COL3ROW2=14]="COL3ROW2",t[t.COL3ROW3=15]="COL3ROW3"})(Vb||(Vb={}));const tY=45*Math.PI/180,rY=1,b_=.1,w_=500,nY=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class xo extends UX{static get IDENTITY(){return oY()}static get ZERO(){return iY()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return Vb}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,r,n,i,o,s,a,l,A,p,g,v,b,S,E,C){return this[0]=e,this[1]=r,this[2]=n,this[3]=i,this[4]=o,this[5]=s,this[6]=a,this[7]=l,this[8]=A,this[9]=p,this[10]=g,this[11]=v,this[12]=b,this[13]=S,this[14]=E,this[15]=C,this.check()}setRowMajor(e,r,n,i,o,s,a,l,A,p,g,v,b,S,E,C){return this[0]=e,this[1]=o,this[2]=A,this[3]=b,this[4]=r,this[5]=s,this[6]=p,this[7]=S,this[8]=n,this[9]=a,this[10]=g,this[11]=E,this[12]=i,this[13]=l,this[14]=v,this[15]=C,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(nY)}fromObject(e){return this.check()}fromQuaternion(e){return XX(this,e),this.check()}frustum(e){const{left:r,right:n,bottom:i,top:o,near:s=b_,far:a=w_}=e;return a===1/0?sY(this,r,n,i,o,s):YX(this,r,n,i,o,s,a),this.check()}lookAt(e){const{eye:r,center:n=[0,0,0],up:i=[0,1,0]}=e;return ZX(this,r,n,i),this.check()}ortho(e){const{left:r,right:n,bottom:i,top:o,near:s=b_,far:a=w_}=e;return GX(this,r,n,i,o,s,a),this.check()}orthographic(e){const{fovy:r=tY,aspect:n=rY,focalDistance:i=1,near:o=b_,far:s=w_}=e;zP(r);const a=r/2,l=i*Math.tan(a),A=l*n;return this.ortho({left:-A,right:A,bottom:-l,top:l,near:o,far:s})}perspective(e){const{fovy:r=45*Math.PI/180,aspect:n=1,near:i=.1,far:o=500}=e;return zP(r),QX(this,r,n,i,o),this.check()}determinant(){return VX(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e,r){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],r=r||[-0,-0,-0];const n=this.getScale(r),i=1/n[0],o=1/n[1],s=1/n[2];return e[0]=this[0]*i,e[1]=this[1]*o,e[2]=this[2]*s,e[3]=0,e[4]=this[4]*i,e[5]=this[5]*o,e[6]=this[6]*s,e[7]=0,e[8]=this[8]*i,e[9]=this[9]*o,e[10]=this[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e,r){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],r=r||[-0,-0,-0];const n=this.getScale(r),i=1/n[0],o=1/n[1],s=1/n[2];return e[0]=this[0]*i,e[1]=this[1]*o,e[2]=this[2]*s,e[3]=this[4]*i,e[4]=this[5]*o,e[5]=this[6]*s,e[6]=this[8]*i,e[7]=this[9]*o,e[8]=this[10]*s,e}transpose(){return zX(this,this),this.check()}invert(){return zb(this,this),this.check()}multiplyLeft(e){return Ya(this,e,this),this.check()}multiplyRight(e){return Ya(this,this,e),this.check()}rotateX(e){return P6(this,this,e),this.check()}rotateY(e){return HX(this,this,e),this.check()}rotateZ(e){return C6(this,this,e),this.check()}rotateXYZ(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}rotateAxis(e,r){return WX(this,this,e,r),this.check()}scale(e){return aE(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}translate(e){return rg(this,this,e),this.check()}transform(e,r){return e.length===4?(r=td(r||[-0,-0,-0,-0],e,this),v_(r,4),r):this.transformAsPoint(e,r)}transformAsPoint(e,r){const{length:n}=e;let i;switch(n){case 2:i=TX(r||[-0,-0],e,this);break;case 3:i=x6(r||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return v_(i,e.length),i}transformAsVector(e,r){let n;switch(e.length){case 2:n=xX(r||[-0,-0],e,this);break;case 3:n=T6(r||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return v_(n,e.length),n}transformPoint(e,r){return this.transformAsPoint(e,r)}transformVector(e,r){return this.transformAsPoint(e,r)}transformDirection(e,r){return this.transformAsVector(e,r)}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,r,n){return this.identity().translate([e,r,n])}}let p0,g0;function iY(){return p0||(p0=new xo([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(p0)),p0}function oY(){return g0||(g0=new xo,Object.freeze(g0)),g0}function zP(t){if(t>Math.PI*2)throw Error("expected radians")}function sY(t,e,r,n,i,o){const s=2*o/(r-e),a=2*o/(i-n),l=(r+e)/(r-e),A=(i+n)/(i-n),p=-1,g=-1,v=-2*o;return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=l,t[9]=A,t[10]=p,t[11]=g,t[12]=0,t[13]=0,t[14]=v,t[15]=0,t}const VP=`#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))
struct AmbientLight {
vec3 color;
};
struct PointLight {
vec3 color;
vec3 position;
vec3 attenuation;
};
struct DirectionalLight {
vec3 color;
vec3 direction;
};
uniform AmbientLight lighting_uAmbientLight;
uniform PointLight lighting_uPointLight[MAX_LIGHTS];
uniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];
uniform int lighting_uPointLightCount;
uniform int lighting_uDirectionalLightCount;
uniform bool lighting_uEnabled;
float getPointLightAttenuation(PointLight pointLight, float distance) {
return pointLight.attenuation.x
+ pointLight.attenuation.y * distance
+ pointLight.attenuation.z * distance * distance;
}
#endif
`,aY={lightSources:{}};function S_(t={}){const{color:e=[0,0,0],intensity:r=1}=t;return e.map(n=>n*r/255)}function lY({ambientLight:t,pointLights:e=[],directionalLights:r=[]}){const n={};return t?n["lighting_uAmbientLight.color"]=S_(t):n["lighting_uAmbientLight.color"]=[0,0,0],e.forEach((i,o)=>{n[`lighting_uPointLight[${o}].color`]=S_(i),n[`lighting_uPointLight[${o}].position`]=i.position,n[`lighting_uPointLight[${o}].attenuation`]=i.attenuation||[1,0,0]}),n.lighting_uPointLightCount=e.length,r.forEach((i,o)=>{n[`lighting_uDirectionalLight[${o}].color`]=S_(i),n[`lighting_uDirectionalLight[${o}].direction`]=i.direction}),n.lighting_uDirectionalLightCount=r.length,n}function O6(t=aY){var e,r;if("lightSources"in t){const{ambientLight:n,pointLights:i,directionalLights:o}=t.lightSources||{};return n||i&&i.length>0||o&&o.length>0?Object.assign({},lY({ambientLight:n,pointLights:i,directionalLights:o}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in t){const n={pointLights:[],directionalLights:[]};for(const i of t.lights||[])switch(i.type){case"ambient":n.ambientLight=i;break;case"directional":(e=n.directionalLights)==null||e.push(i);break;case"point":(r=n.pointLights)==null||r.push(i);break}return O6({lightSources:n})}return{}}const uY={name:"lights",vs:VP,fs:VP,getUniforms:O6,defines:{MAX_LIGHTS:3}},cY=`uniform float lighting_uAmbient;
uniform float lighting_uDiffuse;
uniform float lighting_uShininess;
uniform vec3  lighting_uSpecularColor;
vec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {
vec3 halfway_direction = normalize(light_direction + view_direction);
float lambertian = dot(light_direction, normal_worldspace);
float specular = 0.0;
if (lambertian > 0.0) {
float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);
specular = pow(specular_angle, lighting_uShininess);
}
lambertian = max(lambertian, 0.0);
return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;
}
vec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {
vec3 lightColor = surfaceColor;
if (lighting_uEnabled) {
vec3 view_direction = normalize(cameraPosition - position_worldspace);
lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;
for (int i = 0; i < MAX_LIGHTS; i++) {
if (i >= lighting_uPointLightCount) {
break;
}
PointLight pointLight = lighting_uPointLight[i];
vec3 light_position_worldspace = pointLight.position;
vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
}
for (int i = 0; i < MAX_LIGHTS; i++) {
if (i >= lighting_uDirectionalLightCount) {
break;
}
DirectionalLight directionalLight = lighting_uDirectionalLight[i];
lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
}
}
return lightColor;
}
vec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {
vec3 lightColor = vec3(0, 0, 0);
vec3 surfaceColor = vec3(0, 0, 0);
if (lighting_uEnabled) {
vec3 view_direction = normalize(cameraPosition - position_worldspace);
for (int i = 0; i < MAX_LIGHTS; i++) {
if (i >= lighting_uPointLightCount) {
break;
}
PointLight pointLight = lighting_uPointLight[i];
vec3 light_position_worldspace = pointLight.position;
vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
}
for (int i = 0; i < MAX_LIGHTS; i++) {
if (i >= lighting_uDirectionalLightCount) {
break;
}
DirectionalLight directionalLight = lighting_uDirectionalLight[i];
lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
}
}
return lightColor;
}
`,AY={};function fY(t){const{ambient:e=.35,diffuse:r=.6,shininess:n=32,specularColor:i=[30,30,30]}=t;return{lighting_uAmbient:e,lighting_uDiffuse:r,lighting_uShininess:n,lighting_uSpecularColor:i.map(o=>o/255)}}function hY(t=AY){if(!("material"in t))return{};const{material:e}=t;return e?fY(e):{lighting_uEnabled:!1}}const dY={name:"gouraud-lighting",dependencies:[uY],vs:cY,defines:{LIGHTING_VERTEX:1},getUniforms:hY},R6="#define SMOOTH_EDGE_RADIUS 0.5",pY=`
${R6}

struct VertexGeometry {
  vec4 position;
  vec3 worldPosition;
  vec3 worldPositionAlt;
  vec3 normal;
  vec2 uv;
  vec3 pickingColor;
} geometry = VertexGeometry(
  vec4(0.0, 0.0, 1.0, 0.0),
  vec3(0.0),
  vec3(0.0),
  vec3(0.0),
  vec2(0.0),
  vec3(0.0)
);
`,gY=`
${R6}

struct FragmentGeometry {
  vec2 uv;
} geometry;

float smoothedge(float edge, float x) {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`,mY={name:"geometry",vs:pY,fs:gY},Ot={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(Ot,"IDENTITY",{get:()=>(yt.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const mo={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},rl={common:0,meters:1,pixels:2},Wb={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}},yY=Object.keys(Ot).map(t=>`const int COORDINATE_SYSTEM_${t} = ${Ot[t]};`).join(""),vY=Object.keys(mo).map(t=>`const int PROJECTION_MODE_${t} = ${mo[t]};`).join(""),_Y=Object.keys(rl).map(t=>`const int UNIT_${t.toUpperCase()} = ${rl[t]};`).join(""),bY=`${yY}
${vY}
${_Y}
uniform int project_uCoordinateSystem;
uniform int project_uProjectionMode;
uniform float project_uScale;
uniform bool project_uWrapLongitude;
uniform vec3 project_uCommonUnitsPerMeter;
uniform vec3 project_uCommonUnitsPerWorldUnit;
uniform vec3 project_uCommonUnitsPerWorldUnit2;
uniform vec4 project_uCenter;
uniform mat4 project_uModelMatrix;
uniform mat4 project_uViewProjectionMatrix;
uniform vec2 project_uViewportSize;
uniform float project_uDevicePixelRatio;
uniform float project_uFocalDistance;
uniform vec3 project_uCameraPosition;
uniform vec3 project_uCoordinateOrigin;
uniform vec3 project_uCommonOrigin;
uniform bool project_uPseudoMeters;
const float TILE_SIZE = 512.0;
const float PI = 3.1415926536;
const float WORLD_SCALE = TILE_SIZE / (PI * 2.0);
const vec3 ZERO_64_LOW = vec3(0.0);
const float EARTH_RADIUS = 6370972.0;
const float GLOBE_RADIUS = 256.0;
float project_size_at_latitude(float lat) {
float y = clamp(lat, -89.9, 89.9);
return 1.0 / cos(radians(y));
}
float project_size() {
if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&
project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
project_uPseudoMeters == false) {
if (geometry.position.w == 0.0) {
return project_size_at_latitude(geometry.worldPosition.y);
}
float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
float y2 = y * y;
float y4 = y2 * y2;
float y6 = y4 * y2;
return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
}
return 1.0;
}
float project_size_at_latitude(float meters, float lat) {
return meters * project_uCommonUnitsPerMeter.z * project_size_at_latitude(lat);
}
float project_size(float meters) {
return meters * project_uCommonUnitsPerMeter.z * project_size();
}
vec2 project_size(vec2 meters) {
return meters * project_uCommonUnitsPerMeter.xy * project_size();
}
vec3 project_size(vec3 meters) {
return meters * project_uCommonUnitsPerMeter * project_size();
}
vec4 project_size(vec4 meters) {
return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);
}
mat3 project_get_orientation_matrix(vec3 up) {
vec3 uz = normalize(up);
vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));
vec3 uy = cross(uz, ux);
return mat3(ux, uy, uz);
}
bool project_needs_rotation(vec3 commonPosition, out mat3 transform) {
if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {
transform = project_get_orientation_matrix(commonPosition);
return true;
}
return false;
}
vec3 project_normal(vec3 vector) {
vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);
vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);
mat3 rotation;
if (project_needs_rotation(geometry.position.xyz, rotation)) {
n = rotation * n;
}
return n;
}
vec4 project_offset_(vec4 offset) {
float dy = offset.y;
vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;
return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}
vec2 project_mercator_(vec2 lnglat) {
float x = lnglat.x;
if (project_uWrapLongitude) {
x = mod(x + 180., 360.0) - 180.;
}
float y = clamp(lnglat.y, -89.9, 89.9);
return vec2(
radians(x) + PI,
PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))
) * WORLD_SCALE;
}
vec3 project_globe_(vec3 lnglatz) {
float lambda = radians(lnglatz.x);
float phi = radians(lnglatz.y);
float cosPhi = cos(phi);
float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
return vec3(
sin(lambda) * cosPhi,
-cos(lambda) * cosPhi,
sin(phi)
) * D;
}
vec4 project_position(vec4 position, vec3 position64Low) {
vec4 position_world = project_uModelMatrix * position;
if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {
if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_mercator_(position_world.xy),
project_size_at_latitude(position_world.z, position_world.y),
position_world.w
);
}
if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
position_world.xyz += project_uCoordinateOrigin;
}
}
if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {
if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_globe_(position_world.xyz),
position_world.w
);
}
}
if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {
return vec4(
project_mercator_(position_world.xy) - project_uCommonOrigin.xy,
project_size(position_world.z),
position_world.w
);
}
}
}
if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||
(project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
(project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
position_world.xyz -= project_uCoordinateOrigin;
}
return project_offset_(position_world) + project_offset_(project_uModelMatrix * vec4(position64Low, 0.0));
}
vec4 project_position(vec4 position) {
return project_position(position, ZERO_64_LOW);
}
vec3 project_position(vec3 position, vec3 position64Low) {
vec4 projected_position = project_position(vec4(position, 1.0), position64Low);
return projected_position.xyz;
}
vec3 project_position(vec3 position) {
vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);
return projected_position.xyz;
}
vec2 project_position(vec2 position) {
vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);
return projected_position.xy;
}
vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
return viewProjectionMatrix * position + center;
}
vec4 project_common_position_to_clipspace(vec4 position) {
return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);
}
vec2 project_pixel_size_to_clipspace(vec2 pixels) {
vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;
return offset * project_uFocalDistance;
}
float project_size_to_pixel(float meters) {
return project_size(meters) * project_uScale;
}
float project_size_to_pixel(float size, int unit) {
if (unit == UNIT_METERS) return project_size_to_pixel(size);
if (unit == UNIT_COMMON) return size * project_uScale;
return size;
}
float project_pixel_size(float pixels) {
return pixels / project_uScale;
}
vec2 project_pixel_size(vec2 pixels) {
return pixels / project_uScale;
}
`;function wY(t,e){if(t===e)return!0;if(Array.isArray(t)){const r=t.length;if(!e||e.length!==r)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}return!1}function rd(t){let e={},r;return n=>{for(const i in n)if(!wY(n[i],e[i])){r=t(n),e=n;break}return r}}const WP=[0,0,0,0],SY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],M6=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],EY=[0,0,0],k6=[0,0,0],TY=rd(CY);function I6(t,e,r=k6){r.length<3&&(r=[r[0],r[1],0]);let n=r,i,o=!0;switch(e===Ot.LNGLAT_OFFSETS||e===Ot.METER_OFFSETS?i=r:i=t.isGeospatial?[Math.fround(t.longitude),Math.fround(t.latitude),0]:null,t.projectionMode){case mo.WEB_MERCATOR:(e===Ot.LNGLAT||e===Ot.CARTESIAN)&&(i=[0,0,0],o=!1);break;case mo.WEB_MERCATOR_AUTO_OFFSET:e===Ot.LNGLAT?n=i:e===Ot.CARTESIAN&&(n=[Math.fround(t.center[0]),Math.fround(t.center[1]),0],i=t.unprojectPosition(n),n[0]-=r[0],n[1]-=r[1],n[2]-=r[2]);break;case mo.IDENTITY:n=t.position.map(Math.fround),n[2]=n[2]||0;break;case mo.GLOBE:o=!1,i=null;break;default:o=!1}return{geospatialOrigin:i,shaderCoordinateOrigin:n,offsetMode:o}}function xY(t,e,r){const{viewMatrixUncentered:n,projectionMatrix:i}=t;let{viewMatrix:o,viewProjectionMatrix:s}=t,a=WP,l=WP,A=t.cameraPosition;const{geospatialOrigin:p,shaderCoordinateOrigin:g,offsetMode:v}=I6(t,e,r);return v&&(l=t.projectPosition(p||g),A=[A[0]-l[0],A[1]-l[1],A[2]-l[2]],l[3]=1,a=td([],l,s),o=n||o,s=Ya([],i,o),s=Ya([],s,SY)),{viewMatrix:o,viewProjectionMatrix:s,projectionCenter:a,originCommon:l,cameraPosCommon:A,shaderCoordinateOrigin:g,geospatialOrigin:p}}function PY({viewport:t,devicePixelRatio:e=1,modelMatrix:r=null,coordinateSystem:n=Ot.DEFAULT,coordinateOrigin:i=k6,autoWrapLongitude:o=!1}){n===Ot.DEFAULT&&(n=t.isGeospatial?Ot.LNGLAT:Ot.CARTESIAN);const s=TY({viewport:t,devicePixelRatio:e,coordinateSystem:n,coordinateOrigin:i});return s.project_uWrapLongitude=o,s.project_uModelMatrix=r||M6,s}function CY({viewport:t,devicePixelRatio:e,coordinateSystem:r,coordinateOrigin:n}){const{projectionCenter:i,viewProjectionMatrix:o,originCommon:s,cameraPosCommon:a,shaderCoordinateOrigin:l,geospatialOrigin:A}=xY(t,r,n),p=t.getDistanceScales(),g=[t.width*e,t.height*e],v=td([],[0,0,-t.focalDistance,1],t.projectionMatrix)[3]||1,b={project_uCoordinateSystem:r,project_uProjectionMode:t.projectionMode,project_uCoordinateOrigin:l,project_uCommonOrigin:s.slice(0,3),project_uCenter:i,project_uPseudoMeters:!!t._pseudoMeters,project_uViewportSize:g,project_uDevicePixelRatio:e,project_uFocalDistance:v,project_uCommonUnitsPerMeter:p.unitsPerMeter,project_uCommonUnitsPerWorldUnit:p.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:EY,project_uScale:t.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:o,project_uModelMatrix:M6,project_uCameraPosition:a};if(A){const S=t.getDistanceScales(A);switch(r){case Ot.METER_OFFSETS:b.project_uCommonUnitsPerWorldUnit=S.unitsPerMeter,b.project_uCommonUnitsPerWorldUnit2=S.unitsPerMeter2;break;case Ot.LNGLAT:case Ot.LNGLAT_OFFSETS:t._pseudoMeters||(b.project_uCommonUnitsPerMeter=S.unitsPerMeter),b.project_uCommonUnitsPerWorldUnit=S.unitsPerDegree,b.project_uCommonUnitsPerWorldUnit2=S.unitsPerDegree2;break;case Ot.CARTESIAN:b.project_uCommonUnitsPerWorldUnit=[1,1,S.unitsPerMeter[2]],b.project_uCommonUnitsPerWorldUnit2=[0,0,S.unitsPerMeter2[2]];break}}return b}const OY={};function RY(t=OY){return"viewport"in t?PY(t):{}}const lE={name:"project",dependencies:[oX,mY],vs:bY,getUniforms:RY},MY=`
vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition
) {
  vec3 projectedPosition = project_position(position, position64Low);
  mat3 rotation;
  if (project_needs_rotation(projectedPosition, rotation)) {
    // offset is specified as ENU
    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe
    offset = rotation * offset;
  }
  commonPosition = vec4(projectedPosition + offset, 1.0);
  return project_common_position_to_clipspace(commonPosition);
}

vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset
) {
  vec4 commonPosition;
  return project_position_to_clipspace(position, position64Low, offset, commonPosition);
}
`,nd={name:"project32",dependencies:[lE],vs:MY};function kY(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Du(t,e){const r=td([],e,t);return eY(r,r,1/r[3]),r}function HP(t,e){const r=t%e;return r<0?e+r:r}function Hb(t,e,r){return t<e?e:t>r?r:t}function IY(t){return Math.log(t)*Math.LOG2E}const uE=Math.log2||IY;function es(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const ji=Math.PI,N6=ji/4,yi=ji/180,Xb=180/ji,tc=512,ng=4003e4,m0=85.051129,NY=1.5;function DY(t){return uE(t)}function Qf(t){const[e,r]=t;es(Number.isFinite(e)),es(Number.isFinite(r)&&r>=-90&&r<=90,"invalid latitude");const n=e*yi,i=r*yi,o=tc*(n+ji)/(2*ji),s=tc*(ji+Math.log(Math.tan(N6+i*.5)))/(2*ji);return[o,s]}function rc(t){const[e,r]=t,n=e/tc*(2*ji)-ji,i=2*(Math.atan(Math.exp(r/tc*(2*ji)-ji))-N6);return[n*Xb,i*Xb]}function BY(t){const{latitude:e}=t;es(Number.isFinite(e));const r=Math.cos(e*yi);return DY(ng*r)-9}function ap(t){const e=Math.cos(t*yi);return tc/ng/e}function Yb(t){const{latitude:e,longitude:r,highPrecision:n=!1}=t;es(Number.isFinite(e)&&Number.isFinite(r));const i=tc,o=Math.cos(e*yi),s=i/360,a=s/o,l=i/ng/o,A={unitsPerMeter:[l,l,l],metersPerUnit:[1/l,1/l,1/l],unitsPerDegree:[s,a,l],degreesPerUnit:[1/s,1/a,1/l]};if(n){const p=yi*Math.tan(e*yi)/o,g=s*p/2,v=i/ng*p,b=v/a*l;A.unitsPerDegree2=[0,g,v],A.unitsPerMeter2=[b,0,b]}return A}function D6(t,e){const[r,n,i]=t,[o,s,a]=e,{unitsPerMeter:l,unitsPerMeter2:A}=Yb({longitude:r,latitude:n,highPrecision:!0}),p=Qf(t);p[0]+=o*(l[0]+A[0]*s),p[1]+=s*(l[1]+A[1]*s);const g=rc(p),v=(i||0)+(a||0);return Number.isFinite(i)||Number.isFinite(a)?[g[0],g[1],v]:g}function FY(t){const{height:e,pitch:r,bearing:n,altitude:i,scale:o,center:s}=t,a=kY();rg(a,a,[0,0,-i]),P6(a,a,-r*yi),C6(a,a,n*yi);const l=o/e;return aE(a,a,[l,l,l]),s&&rg(a,a,RX([],s)),a}function LY(t){const{width:e,height:r,altitude:n,pitch:i=0,offset:o,center:s,scale:a,nearZMultiplier:l=1,farZMultiplier:A=1}=t;let{fovy:p=ig(NY)}=t;n!==void 0&&(p=ig(n));const g=p*yi,v=i*yi,b=B6(p);let S=b;s&&(S+=s[2]*a/Math.cos(v)/r);const E=g*(.5+(o?o[1]:0)/r),C=Math.sin(E)*S/Math.sin(Hb(Math.PI/2-v-E,.01,Math.PI-.01)),x=Math.sin(v)*C+S,P=S*10,T=Math.min(x*A,P);return{fov:g,aspect:e/r,focalDistance:b,near:l,far:T}}function ig(t){return 2*Math.atan(.5/t)*Xb}function B6(t){return .5/Math.tan(.5*t*yi)}function F6(t,e){const[r,n,i=0]=t;return es(Number.isFinite(r)&&Number.isFinite(n)&&Number.isFinite(i)),Du(e,[r,n,i,1])}function cE(t,e,r=0){const[n,i,o]=t;if(es(Number.isFinite(n)&&Number.isFinite(i),"invalid pixel coordinate"),Number.isFinite(o))return Du(e,[n,i,o,1]);const s=Du(e,[n,i,0,1]),a=Du(e,[n,i,1,1]),l=s[2],A=a[2],p=l===A?0:((r||0)-l)/(A-l);return E6([],s,a,p)}function $Y(t){const{width:e,height:r,bounds:n,minExtent:i=0,maxZoom:o=24,offset:s=[0,0]}=t,[[a,l],[A,p]]=n,g=UY(t.padding),v=Qf([a,Hb(p,-m0,m0)]),b=Qf([A,Hb(l,-m0,m0)]),S=[Math.max(Math.abs(b[0]-v[0]),i),Math.max(Math.abs(b[1]-v[1]),i)],E=[e-g.left-g.right-Math.abs(s[0])*2,r-g.top-g.bottom-Math.abs(s[1])*2];es(E[0]>0&&E[1]>0);const C=E[0]/S[0],x=E[1]/S[1],P=(g.right-g.left)/2/C,T=(g.top-g.bottom)/2/x,M=[(b[0]+v[0])/2+P,(b[1]+v[1])/2+T],R=rc(M),k=Math.min(o,uE(Math.abs(Math.min(C,x))));return es(Number.isFinite(k)),{longitude:R[0],latitude:R[1],zoom:k}}function UY(t=0){return typeof t=="number"?{top:t,bottom:t,left:t,right:t}:(es(Number.isFinite(t.top)&&Number.isFinite(t.bottom)&&Number.isFinite(t.left)&&Number.isFinite(t.right)),t)}const XP=Math.PI/180;function jY(t,e=0){const{width:r,height:n,unproject:i}=t,o={targetZ:e},s=i([0,n],o),a=i([r,n],o);let l,A;const p=t.fovy?.5*t.fovy*XP:Math.atan(.5/t.altitude),g=(90-t.pitch)*XP;return p>g-.01?(l=YP(t,0,e),A=YP(t,r,e)):(l=i([0,0],o),A=i([r,0],o)),[s,a,A,l]}function YP(t,e,r){const{pixelUnprojectionMatrix:n}=t,i=Du(n,[e,0,1,1]),o=Du(n,[e,t.height,1,1]),a=(r*t.distanceScales.unitsPerMeter[2]-i[2])/(o[2]-i[2]),l=E6([],i,o,a),A=rc(l);return A.push(r),A}const KP=512;function zY(t){const{width:e,height:r,pitch:n=0}=t;let{longitude:i,latitude:o,zoom:s,bearing:a=0}=t;(i<-180||i>180)&&(i=HP(i+180,360)-180),(a<-180||a>180)&&(a=HP(a+180,360)-180);const l=uE(r/KP);if(s<=l)s=l,o=0;else{const A=r/2/Math.pow(2,s),p=rc([0,A])[1];if(o<p)o=p;else{const g=rc([0,KP-A])[1];o>g&&(o=g)}}return{width:e,height:r,longitude:i,latitude:o,zoom:s,pitch:n,bearing:a}}const VY=`
const int max_lights = 2;
uniform mat4 shadow_uViewProjectionMatrices[max_lights];
uniform vec4 shadow_uProjectCenters[max_lights];
uniform bool shadow_uDrawShadowMap;
uniform bool shadow_uUseShadowMap;
uniform int shadow_uLightId;
uniform float shadow_uLightCount;

out vec3 shadow_vPosition[max_lights];

vec4 shadow_setVertexPosition(vec4 position_commonspace) {
  if (shadow_uDrawShadowMap) {
    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);
  }
  if (shadow_uUseShadowMap) {
    for (int i = 0; i < max_lights; i++) {
      if(i < int(shadow_uLightCount)) {
        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);
        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;
      }
    }
  }
  return gl_Position;
}
`,WY=`
const int max_lights = 2;
uniform bool shadow_uDrawShadowMap;
uniform bool shadow_uUseShadowMap;
uniform sampler2D shadow_uShadowMap0;
uniform sampler2D shadow_uShadowMap1;
uniform vec4 shadow_uColor;
uniform float shadow_uLightCount;

in vec3 shadow_vPosition[max_lights];

const vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);
const vec4 bitUnpackShift = 1.0 / bitPackShift;
const vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);

float shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {
  vec4 rgbaDepth = texture(shadowMap, position.xy);

  float z = dot(rgbaDepth, bitUnpackShift);
  return smoothstep(0.001, 0.01, position.z - z);
}

vec4 shadow_filterShadowColor(vec4 color) {
  if (shadow_uDrawShadowMap) {
    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);
    rgbaDepth -= rgbaDepth.gbaa * bitMask;
    return rgbaDepth;
  }
  if (shadow_uUseShadowMap) {
    float shadowAlpha = 0.0;
    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);
    if(shadow_uLightCount > 1.0) {
      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);
    }
    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;
    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);

    return vec4(
      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),
      blendedAlpha
    );
  }
  return color;
}
`,HY=rd(qY),XY=rd(GY),YY=[0,0,0,1],KY=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function QY(t,e){const[r,n,i]=t,o=cE([r,n,i],e);return Number.isFinite(i)?o:[o[0],o[1],0]}function qY({viewport:t,center:e}){return new xo(t.viewProjectionMatrix).invert().transform(e)}function GY({viewport:t,shadowMatrices:e}){const r=[],n=t.pixelUnprojectionMatrix,i=t.isGeospatial?void 0:1,o=[[0,0,i],[t.width,0,i],[0,t.height,i],[t.width,t.height,i],[0,0,-1],[t.width,0,-1],[0,t.height,-1],[t.width,t.height,-1]].map(s=>QY(s,n));for(const s of e){const a=s.clone().translate(new To(t.center).negate()),l=o.map(p=>a.transform(p)),A=new xo().ortho({left:Math.min(...l.map(p=>p[0])),right:Math.max(...l.map(p=>p[0])),bottom:Math.min(...l.map(p=>p[1])),top:Math.max(...l.map(p=>p[1])),near:Math.min(...l.map(p=>-p[2])),far:Math.max(...l.map(p=>-p[2]))});r.push(A.multiplyRight(s))}return r}function ZY(t,e){const{shadowEnabled:r=!0}=t;if(!r||!t.shadowMatrices||!t.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1,shadow_uShadowMap0:t.dummyShadowMap,shadow_uShadowMap1:t.dummyShadowMap};const n={shadow_uDrawShadowMap:!!t.drawToShadowMap,shadow_uUseShadowMap:t.shadowMaps?t.shadowMaps.length>0:!1,shadow_uColor:t.shadowColor||YY,shadow_uLightId:t.shadowLightId||0,shadow_uLightCount:t.shadowMatrices.length},i=HY({viewport:t.viewport,center:e.project_uCenter}),o=[],s=XY({shadowMatrices:t.shadowMatrices,viewport:t.viewport}).slice();for(let a=0;a<t.shadowMatrices.length;a++){const l=s[a],A=l.clone().translate(new To(t.viewport.center).negate());e.project_uCoordinateSystem===Ot.LNGLAT&&e.project_uProjectionMode===mo.WEB_MERCATOR?(s[a]=A,o[a]=i):(s[a]=l.clone().multiplyRight(KY),o[a]=A.transform(i))}for(let a=0;a<s.length;a++)n[`shadow_uViewProjectionMatrices[${a}]`]=s[a],n[`shadow_uProjectCenters[${a}]`]=o[a];for(let a=0;a<2;a++)n[`shadow_uShadowMap${a}`]=t.shadowMaps&&t.shadowMaps[a]||t.dummyShadowMap;return n}const QP={name:"shadow",dependencies:[lE],vs:VY,fs:WY,inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    position = shadow_setVertexPosition(geometry.position);
    `,"fs:DECKGL_FILTER_COLOR":`
    color = shadow_filterShadowColor(color);
    `},getUniforms:(t={},e={})=>"viewport"in t&&(t.drawToShadowMap||t.shadowMaps&&t.shadowMaps.length>0)?ZY(t,e):{}},id={...$P,defaultUniforms:{...$P.defaultUniforms,useFloatColors:!1},inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    // for picking depth values
    picking_setPickingAttribute(position.z / position.w);
  `,"vs:DECKGL_FILTER_COLOR":`
  picking_setPickingColor(geometry.pickingColor);
  `,"fs:DECKGL_FILTER_COLOR":{order:99,injection:`
  // use highlight color if this fragment belongs to the selected object.
  color = picking_filterHighlightColor(color);

  // use picking color if rendering to picking FBO.
  color = picking_filterPickingColor(color);
    `}}},JY=[lE],eK=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function tK(){const t=Xp.getDefaultShaderAssembler();for(const e of JY)t.addDefaultModule(e);for(const e of eK)t.addShaderHook(e);return t}const rK=[255,255,255],nK=1;let iK=0;class oK{constructor(e={}){this.type="ambient";const{color:r=rK}=e,{intensity:n=nK}=e;this.id=e.id||`ambient-${iK++}`,this.color=r,this.intensity=n}}const sK=[255,255,255],aK=1,lK=[0,0,-1];let uK=0;class qP{constructor(e={}){this.type="directional";const{color:r=sK}=e,{intensity:n=aK}=e,{direction:i=lK}=e,{_shadow:o=!1}=e;this.id=e.id||`directional-${uK++}`,this.color=r,this.intensity=n,this.type="directional",this.direction=new To(i).normalize().toArray(),this.shadow=o}getProjectedLight(e){return this}}class cK{constructor(e,r={id:"pass"}){const{id:n}=r;this.id=n,this.device=e,this.props={...r}}setProps(e){Object.assign(this.props,e)}render(e){}cleanup(){}}class AE extends cK{constructor(){super(...arguments),this._lastRenderIndex=-1}render(e){const[r,n]=this.device.canvasContext.getDrawingBufferSize(),i=e.clearCanvas??!0,o=e.clearColor??(i?[0,0,0,0]:!1),s=i?1:!1,a=i?0:!1,l=e.colorMask??15,A={viewport:[0,0,r,n]};e.colorMask&&(A.colorMask=l),e.scissorRect&&(A.scissorRect=e.scissorRect);const p=this.device.beginRenderPass({framebuffer:e.target,parameters:A,clearColor:o,clearDepth:s,clearStencil:a});try{return this._drawLayers(p,e)}finally{p.end()}}_drawLayers(e,r){const{target:n,moduleParameters:i,viewports:o,views:s,onViewportActive:a,clearStack:l=!0}=r;r.pass=r.pass||"unknown",l&&(this._lastRenderIndex=-1);const A=[];for(const p of o){const g=s&&s[p.id];a==null||a(p);const v=this._getDrawLayerParams(p,r),b=p.subViewports||[p];for(const S of b){const E=this._drawLayersInViewport(e,{target:n,moduleParameters:i,viewport:S,view:g,pass:r.pass,layers:r.layers},v);A.push(E)}}return A}_getDrawLayerParams(e,{layers:r,pass:n,isPicking:i=!1,layerFilter:o,cullRect:s,effects:a,moduleParameters:l},A=!1){var S;const p=[],g=L6(this._lastRenderIndex+1),v={layer:r[0],viewport:e,isPicking:i,renderPass:n,cullRect:s},b={};for(let E=0;E<r.length;E++){const C=r[E],x=this._shouldDrawLayer(C,v,o,b),P={shouldDrawLayer:x};x&&!A&&(P.layerRenderIndex=g(C,x),P.moduleParameters=this._getModuleParameters(C,a,n,l),P.layerParameters={...(S=C.context.deck)==null?void 0:S.props.parameters,...this.getLayerParameters(C,E,e)}),p[E]=P}return p}_drawLayersInViewport(e,{layers:r,moduleParameters:n,pass:i,target:o,viewport:s,view:a},l){const A=AK(this.device,{moduleParameters:n,target:o,viewport:s});if(a&&a.props.clear){const g=a.props.clear===!0?{color:!0,depth:!0}:a.props.clear;this.device.withParametersWebGL({scissorTest:!0,scissor:A},()=>this.device.clearWebGL(g))}const p={totalCount:r.length,visibleCount:0,compositeCount:0,pickableCount:0};e.setParameters({viewport:A});for(let g=0;g<r.length;g++){const v=r[g],{shouldDrawLayer:b,layerRenderIndex:S,moduleParameters:E,layerParameters:C}=l[g];if(b&&v.props.pickable&&p.pickableCount++,v.isComposite)p.compositeCount++;else if(b){p.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,S),E.viewport=s,v.context.renderPass=e;try{v._drawLayer({renderPass:e,moduleParameters:E,uniforms:{layerIndex:S},parameters:C})}catch(x){v.raiseError(x,`drawing ${v} to ${i}`)}}}return p}shouldDrawLayer(e){return!0}getModuleParameters(e,r){return null}getLayerParameters(e,r,n){return e.props.parameters}_shouldDrawLayer(e,r,n,i){if(!(e.props.visible&&this.shouldDrawLayer(e)))return!1;r.layer=e;let s=e.parent;for(;s;){if(!s.props.visible||!s.filterSubLayer(r))return!1;r.layer=s,s=s.parent}if(n){const a=r.layer.id;if(a in i||(i[a]=n(r)),!i[a])return!1}return e.activateViewport(r.viewport),!0}_getModuleParameters(e,r,n,i){var a,l;const o=this.device.canvasContext.cssToDeviceRatio(),s=Object.assign(Object.create(((a=e.internalState)==null?void 0:a.propsInTransition)||e.props),{autoWrapLongitude:e.wrapLongitude,viewport:e.context.viewport,mousePosition:e.context.mousePosition,picking:{isActive:0},devicePixelRatio:o});if(r)for(const A of r)Object.assign(s,(l=A.getModuleParameters)==null?void 0:l.call(A,e));return Object.assign(s,this.getModuleParameters(e,r),i)}}function L6(t=0,e={}){const r={},n=(i,o)=>{const s=i.props._offset,a=i.id,l=i.parent&&i.parent.id;let A;if(l&&!(l in e)&&n(i.parent,!1),l in r){const p=r[l]=r[l]||L6(e[l],e);A=p(i,o),r[a]=p}else Number.isFinite(s)?(A=s+(e[l]||0),r[a]=null):A=t;return o&&A>=t&&(t=A+1),e[a]=A,A};return n}function AK(t,{moduleParameters:e,target:r,viewport:n}){const i=e&&e.devicePixelRatio||t.canvasContext.cssToDeviceRatio(),[,o]=t.canvasContext.getDrawingBufferSize(),s=r?r.height:o,a=n;return[a.x*i,s-(a.y+a.height)*i,a.width*i,a.height*i]}class fK extends AE{constructor(e,r){super(e,r),this.shadowMap=e.createTexture({width:1,height:1,sampler:{minFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}}),this.depthBuffer=e.createTexture({format:"depth16unorm",width:1,height:1,mipmaps:!1,dataFormat:6402,type:5125}),this.fbo=e.createFramebuffer({id:"shadowmap",width:1,height:1,colorAttachments:[this.shadowMap],depthStencilAttachment:this.depthBuffer})}render(e){const r=this.fbo,n=this.device.canvasContext.cssToDeviceRatio(),i=e.viewports[0],o=i.width*n,s=i.height*n,a=[1,1,1,1];(o!==r.width||s!==r.height)&&r.resize({width:o,height:s}),super.render({...e,clearColor:a,target:r,pass:"shadow"})}getLayerParameters(e,r,n){return{...e.props.parameters,blend:!1,depthRange:[0,1],depthTest:!0}}shouldDrawLayer(e){return e.props.shadowEnabled!==!1}getModuleParameters(){return{drawToShadowMap:!0}}delete(){this.fbo&&(this.fbo.destroy(),this.fbo=null),this.shadowMap&&(this.shadowMap.destroy(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.destroy(),this.depthBuffer=null)}}const hK={color:[255,255,255],intensity:1},GP=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],dK=[0,0,0,200/255];class $6{constructor(e={}){this.id="lighting-effect",this.shadowColor=dK,this.shadow=!1,this.ambientLight=null,this.directionalLights=[],this.pointLights=[],this.shadowPasses=[],this.shadowMaps=[],this.dummyShadowMap=null,this.setProps(e)}setup(e){this.context=e;const{device:r,deck:n}=e;this.shadow&&!this.dummyShadowMap&&(this._createShadowPasses(r),n._addDefaultShaderModule(QP),this.dummyShadowMap=r.createTexture({width:1,height:1}))}setProps(e){this.ambientLight=null,this.directionalLights=[],this.pointLights=[];for(const r in e){const n=e[r];switch(n.type){case"ambient":this.ambientLight=n;break;case"directional":this.directionalLights.push(n);break;case"point":this.pointLights.push(n);break}}this._applyDefaultLights(),this.shadow=this.directionalLights.some(r=>r.shadow),this.context&&this.setup(this.context),this.props=e}preRender({layers:e,layerFilter:r,viewports:n,onViewportActive:i,views:o}){if(this.shadow){this.shadowMatrices=this._calculateMatrices();for(let s=0;s<this.shadowPasses.length;s++)this.shadowPasses[s].render({layers:e,layerFilter:r,viewports:n,onViewportActive:i,views:o,moduleParameters:{shadowLightId:s,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}getModuleParameters(e){const r=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return r.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map(n=>n.getProjectedLight({layer:e})),pointLights:this.pointLights.map(n=>n.getProjectedLight({layer:e}))},r}cleanup(e){for(const r of this.shadowPasses)r.delete();this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.destroy(),this.dummyShadowMap=null,e.deck._removeDefaultShaderModule(QP))}_calculateMatrices(){const e=[];for(const r of this.directionalLights){const n=new xo().lookAt({eye:new To(r.direction).negate()});e.push(n)}return e}_createShadowPasses(e){for(let r=0;r<this.directionalLights.length;r++){const n=new fK(e);this.shadowPasses[r]=n,this.shadowMaps[r]=n.shadowMap}}_applyDefaultLights(){const{ambientLight:e,pointLights:r,directionalLights:n}=this;!e&&r.length===0&&n.length===0&&(this.ambientLight=new oK(hK),this.directionalLights.push(new qP(GP[0]),new qP(GP[1])))}}class pK{constructor(e={}){this._pool=[],this.opts={overAlloc:2,poolSize:100},this.setOptions(e)}setOptions(e){Object.assign(this.opts,e)}allocate(e,r,{size:n=1,type:i,padding:o=0,copy:s=!1,initialize:a=!1,maxCount:l}){const A=i||e&&e.constructor||Float32Array,p=r*n+o;if(ArrayBuffer.isView(e)){if(p<=e.length)return e;if(p*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new A(e.buffer,0,p)}let g=1/0;l&&(g=l*n+o);const v=this._allocate(A,p,a,g);return e&&s?v.set(e):a||v.fill(0,0,4),this._release(e),v}release(e){this._release(e)}_allocate(e,r,n,i){let o=Math.max(Math.ceil(r*this.opts.overAlloc),1);o>i&&(o=i);const s=this._pool,a=e.BYTES_PER_ELEMENT*o,l=s.findIndex(A=>A.byteLength>=a);if(l>=0){const A=new e(s.splice(l,1)[0],0,o);return n&&A.fill(0),A}return new e(o)}_release(e){if(!ArrayBuffer.isView(e))return;const r=this._pool,{buffer:n}=e,{byteLength:i}=n,o=r.findIndex(s=>s.byteLength>=i);o<0?r.push(n):(o>0||r.length<this.opts.poolSize)&&r.splice(o,0,n),r.length>this.opts.poolSize&&r.shift()}}const nc=new pK;function QA(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function gK(t){return[t[12],t[13],t[14]]}function mK(t){return{left:Vl(t[3]+t[0],t[7]+t[4],t[11]+t[8],t[15]+t[12]),right:Vl(t[3]-t[0],t[7]-t[4],t[11]-t[8],t[15]-t[12]),bottom:Vl(t[3]+t[1],t[7]+t[5],t[11]+t[9],t[15]+t[13]),top:Vl(t[3]-t[1],t[7]-t[5],t[11]-t[9],t[15]-t[13]),near:Vl(t[3]+t[2],t[7]+t[6],t[11]+t[10],t[15]+t[14]),far:Vl(t[3]-t[2],t[7]-t[6],t[11]-t[10],t[15]-t[14])}}const ZP=new To;function Vl(t,e,r,n){ZP.set(t,e,r);const i=ZP.len();return{distance:n/i,normal:new To(-t/i,-e/i,-r/i)}}function yK(t){return t-Math.fround(t)}let EA;function E_(t,e){const{size:r=1,startIndex:n=0}=e,i=e.endIndex!==void 0?e.endIndex:t.length,o=(i-n)/r;EA=nc.allocate(EA,o,{type:Float32Array,size:r*2});let s=n,a=0;for(;s<i;){for(let l=0;l<r;l++){const A=t[s++];EA[a+l]=A,EA[a+l+r]=yK(A)}a+=r*2}return EA.subarray(0,o*r*2)}function vK(t){let e=null,r=!1;for(const n of t)n&&(e?(r||(e=[[e[0][0],e[0][1]],[e[1][0],e[1][1]]],r=!0),e[0][0]=Math.min(e[0][0],n[0][0]),e[0][1]=Math.min(e[0][1],n[0][1]),e[1][0]=Math.max(e[1][0],n[1][0]),e[1][1]=Math.max(e[1][1],n[1][1])):e=n);return e}const _K=Math.PI/180,bK=QA(),JP=[0,0,0],wK={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};function SK({width:t,height:e,orthographic:r,fovyRadians:n,focalDistance:i,padding:o,near:s,far:a}){const l=t/e,A=r?new xo().orthographic({fovy:n,aspect:l,focalDistance:i,near:s,far:a}):new xo().perspective({fovy:n,aspect:l,near:s,far:a});if(o){const{left:p=0,right:g=0,top:v=0,bottom:b=0}=o,S=ks((p+t-g)/2,0,t)-t/2,E=ks((v+e-b)/2,0,e)-e/2;A[8]-=S*2/t,A[9]+=E*2/e}return A}class Xm{constructor(e={}){this._frustumPlanes={},this.id=e.id||this.constructor.displayName||"viewport",this.x=e.x||0,this.y=e.y||0,this.width=e.width||1,this.height=e.height||1,this.zoom=e.zoom||0,this.padding=e.padding,this.distanceScales=e.distanceScales||wK,this.focalDistance=e.focalDistance||1,this.position=e.position||JP,this.modelMatrix=e.modelMatrix||null;const{longitude:r,latitude:n}=e;this.isGeospatial=Number.isFinite(n)&&Number.isFinite(r),this._initProps(e),this._initMatrices(e),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?mo.WEB_MERCATOR:mo.WEB_MERCATOR_AUTO_OFFSET:mo.IDENTITY}equals(e){return e instanceof Xm?this===e?!0:e.width===this.width&&e.height===this.height&&e.scale===this.scale&&Kf(e.projectionMatrix,this.projectionMatrix)&&Kf(e.viewMatrix,this.viewMatrix):!1}project(e,{topLeft:r=!0}={}){const n=this.projectPosition(e),i=F6(n,this.pixelProjectionMatrix),[o,s]=i,a=r?s:this.height-s;return e.length===2?[o,a]:[o,a,i[2]]}unproject(e,{topLeft:r=!0,targetZ:n}={}){const[i,o,s]=e,a=r?o:this.height-o,l=n&&n*this.distanceScales.unitsPerMeter[2],A=cE([i,a,s],this.pixelUnprojectionMatrix,l),[p,g,v]=this.unprojectPosition(A);return Number.isFinite(s)?[p,g,v]:Number.isFinite(n)?[p,g,n]:[p,g]}projectPosition(e){const[r,n]=this.projectFlat(e),i=(e[2]||0)*this.distanceScales.unitsPerMeter[2];return[r,n,i]}unprojectPosition(e){const[r,n]=this.unprojectFlat(e),i=(e[2]||0)*this.distanceScales.metersPerUnit[2];return[r,n,i]}projectFlat(e){if(this.isGeospatial){const r=Qf(e);return r[1]=ks(r[1],-318,830),r}return e}unprojectFlat(e){return this.isGeospatial?rc(e):e}getBounds(e={}){const r={targetZ:e.z||0},n=this.unproject([0,0],r),i=this.unproject([this.width,0],r),o=this.unproject([0,this.height],r),s=this.unproject([this.width,this.height],r);return[Math.min(n[0],i[0],o[0],s[0]),Math.min(n[1],i[1],o[1],s[1]),Math.max(n[0],i[0],o[0],s[0]),Math.max(n[1],i[1],o[1],s[1])]}getDistanceScales(e){return e?Yb({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}containsPixel({x:e,y:r,width:n=1,height:i=1}){return e<this.x+this.width&&this.x<e+n&&r<this.y+this.height&&this.y<r+i}getFrustumPlanes(){return this._frustumPlanes.near?this._frustumPlanes:(Object.assign(this._frustumPlanes,mK(this.viewProjectionMatrix)),this._frustumPlanes)}panByPosition(e,r){return null}_initProps(e){const r=e.longitude,n=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=BY({latitude:n})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||Yb({latitude:n,longitude:r}));const i=Math.pow(2,this.zoom);this.scale=i;const{position:o,modelMatrix:s}=e;let a=JP;if(o&&(a=s?new xo(s).transformAsVector(o,[]):o),this.isGeospatial){const l=this.projectPosition([r,n,0]);this.center=new To(a).scale(this.distanceScales.unitsPerMeter).add(l)}else this.center=this.projectPosition(a)}_initMatrices(e){const{viewMatrix:r=bK,projectionMatrix:n=null,orthographic:i=!1,fovyRadians:o,fovy:s=75,near:a=.1,far:l=1e3,padding:A=null,focalDistance:p=1}=e;this.viewMatrixUncentered=r,this.viewMatrix=new xo().multiplyRight(r).translate(new To(this.center).negate()),this.projectionMatrix=n||SK({width:this.width,height:this.height,orthographic:i,fovyRadians:o||s*_K,focalDistance:p,padding:A,near:a,far:l});const g=QA();Ya(g,g,this.projectionMatrix),Ya(g,g,this.viewMatrix),this.viewProjectionMatrix=g,this.viewMatrixInverse=zb([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=gK(this.viewMatrixInverse);const v=QA(),b=QA();aE(v,v,[this.width/2,-this.height/2,1]),rg(v,v,[1,-1,0]),Ya(b,v,this.viewProjectionMatrix),this.pixelProjectionMatrix=b,this.pixelUnprojectionMatrix=zb(QA(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||yt.warn("Pixel project matrix not invertible")()}}Xm.displayName="Viewport";const U6=Xm;class qf extends U6{constructor(e={}){const{latitude:r=0,longitude:n=0,zoom:i=0,pitch:o=0,bearing:s=0,nearZMultiplier:a=.1,farZMultiplier:l=1.01,nearZ:A,farZ:p,orthographic:g=!1,projectionMatrix:v,repeat:b=!1,worldOffset:S=0,position:E,padding:C,legacyMeterSizes:x=!1}=e;let{width:P,height:T,altitude:M=1.5}=e;const R=Math.pow(2,i);P=P||1,T=T||1;let k,D=null;if(v)M=v[5]/2,k=ig(M);else{e.fovy?(k=e.fovy,M=B6(k)):k=ig(M);let W;if(C){const{top:N=0,bottom:H=0}=C;W=[0,ks((N+T-H)/2,0,T)-T/2]}D=LY({width:P,height:T,scale:R,center:E&&[0,0,E[2]*ap(r)],offset:W,pitch:o,fovy:k,nearZMultiplier:a,farZMultiplier:l}),Number.isFinite(A)&&(D.near=A),Number.isFinite(p)&&(D.far=p)}let $=FY({height:T,pitch:o,bearing:s,scale:R,altitude:M});S&&($=new xo().translate([512*S,0,0]).multiplyLeft($)),super({...e,width:P,height:T,viewMatrix:$,longitude:n,latitude:r,zoom:i,...D,fovy:k,focalDistance:M}),this.latitude=r,this.longitude=n,this.zoom=i,this.pitch=o,this.bearing=s,this.altitude=M,this.fovy=k,this.orthographic=g,this._subViewports=b?[]:null,this._pseudoMeters=x,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const e=this.getBounds(),r=Math.floor((e[0]+180)/360),n=Math.ceil((e[2]-180)/360);for(let i=r;i<=n;i++){const o=i?new qf({...this,worldOffset:i}):this;this._subViewports.push(o)}}return this._subViewports}projectPosition(e){if(this._pseudoMeters)return super.projectPosition(e);const[r,n]=this.projectFlat(e),i=(e[2]||0)*ap(e[1]);return[r,n,i]}unprojectPosition(e){if(this._pseudoMeters)return super.unprojectPosition(e);const[r,n]=this.unprojectFlat(e),i=(e[2]||0)/ap(n);return[r,n,i]}addMetersToLngLat(e,r){return D6(e,r)}panByPosition(e,r){const n=cE(r,this.pixelUnprojectionMatrix),i=this.projectFlat(e),o=jP([],i,EX([],n)),s=jP([],this.center,o),[a,l]=this.unprojectFlat(s);return{longitude:a,latitude:l}}getBounds(e={}){const r=jY(this,e.z||0);return[Math.min(r[0][0],r[1][0],r[2][0],r[3][0]),Math.min(r[0][1],r[1][1],r[2][1],r[3][1]),Math.max(r[0][0],r[1][0],r[2][0],r[3][0]),Math.max(r[0][1],r[1][1],r[2][1],r[3][1])]}fitBounds(e,r={}){const{width:n,height:i}=this,{longitude:o,latitude:s,zoom:a}=$Y({width:n,height:i,bounds:e,...r});return new qf({width:n,height:i,longitude:o,latitude:s,zoom:a})}}qf.displayName="WebMercatorViewport";const fE=qf,eC=[0,0,0];function T_(t,e,r=!1){const n=e.projectPosition(t);if(r&&e instanceof fE){const[i,o,s=0]=t,a=e.getDistanceScales([i,o]);n[2]=s*a.unitsPerMeter[2]}return n}function EK(t){const{viewport:e,modelMatrix:r,coordinateOrigin:n}=t;let{coordinateSystem:i,fromCoordinateSystem:o,fromCoordinateOrigin:s}=t;return i===Ot.DEFAULT&&(i=e.isGeospatial?Ot.LNGLAT:Ot.CARTESIAN),o===void 0&&(o=i),s===void 0&&(s=n),{viewport:e,coordinateSystem:i,coordinateOrigin:n,modelMatrix:r,fromCoordinateSystem:o,fromCoordinateOrigin:s}}function j6(t,{viewport:e,modelMatrix:r,coordinateSystem:n,coordinateOrigin:i,offsetMode:o}){let[s,a,l=0]=t;switch(r&&([s,a,l]=td([],[s,a,l,1],r)),n){case Ot.LNGLAT:return T_([s,a,l],e,o);case Ot.LNGLAT_OFFSETS:return T_([s+i[0],a+i[1],l+(i[2]||0)],e,o);case Ot.METER_OFFSETS:return T_(D6(i,[s,a,l]),e,o);case Ot.CARTESIAN:default:return e.isGeospatial?[s+i[0],a+i[1],l+i[2]]:e.projectPosition([s,a,l])}}function TK(t,e){const{viewport:r,coordinateSystem:n,coordinateOrigin:i,modelMatrix:o,fromCoordinateSystem:s,fromCoordinateOrigin:a}=EK(e),{autoOffset:l=!0}=e,{geospatialOrigin:A=eC,shaderCoordinateOrigin:p=eC,offsetMode:g=!1}=l?I6(r,n,i):{},v=j6(t,{viewport:r,modelMatrix:o,coordinateSystem:s,coordinateOrigin:a,offsetMode:g});if(g){const b=r.projectPosition(A||p);$X(v,v,b)}return v}let xK=1,PK=1;class z6{constructor(){F(this,"time",0);F(this,"channels",new Map);F(this,"animations",new Map);F(this,"playing",!1);F(this,"lastEngineTime",-1)}addChannel(e){const{delay:r=0,duration:n=Number.POSITIVE_INFINITY,rate:i=1,repeat:o=1}=e,s=xK++,a={time:0,delay:r,duration:n,rate:i,repeat:o};return this._setChannelTime(a,this.time),this.channels.set(s,a),s}removeChannel(e){this.channels.delete(e);for(const[r,n]of this.animations)n.channel===e&&this.detachAnimation(r)}isFinished(e){const r=this.channels.get(e);return r===void 0?!1:this.time>=r.delay+r.duration*r.repeat}getTime(e){if(e===void 0)return this.time;const r=this.channels.get(e);return r===void 0?-1:r.time}setTime(e){this.time=Math.max(0,e);const r=this.channels.values();for(const i of r)this._setChannelTime(i,this.time);const n=this.animations.values();for(const i of n){const{animation:o,channel:s}=i;o.setTime(this.getTime(s))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(e,r){const n=PK++;return this.animations.set(n,{animation:e,channel:r}),e.setTime(this.getTime(r)),n}detachAnimation(e){this.animations.delete(e)}update(e){this.playing&&(this.lastEngineTime===-1&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}_setChannelTime(e,r){const n=r-e.delay,i=e.duration*e.repeat;n>=i?e.time=e.duration*e.rate:(e.time=Math.max(0,n)%e.duration,e.time*=e.rate)}}let CK=0;const OK={device:null,onAddHTML:()=>"",onInitialize:async()=>null,onRender:()=>{},onFinalize:()=>{},onError:t=>console.error(t),stats:Iu.stats.get(`animation-loop-${CK++}`),useDevicePixels:!0,autoResizeViewport:!1,autoResizeDrawingBuffer:!1};class RK{constructor(e){F(this,"device",null);F(this,"canvas",null);F(this,"props");F(this,"animationProps",null);F(this,"timeline",null);F(this,"stats");F(this,"cpuTime");F(this,"gpuTime");F(this,"frameRate");F(this,"display");F(this,"needsRedraw","initialized");F(this,"_initialized",!1);F(this,"_running",!1);F(this,"_animationFrameId",null);F(this,"_nextFramePromise",null);F(this,"_resolveNextFrame",null);F(this,"_cpuStartTime",0);if(this.props={...OK,...e},e=this.props,!e.device)throw new Error("No device provided");const{useDevicePixels:r=!0}=this.props;this.stats=e.stats||new zm({id:"animation-loop-stats"}),this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this.setProps({autoResizeViewport:e.autoResizeViewport,autoResizeDrawingBuffer:e.autoResizeDrawingBuffer,useDevicePixels:r}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}destroy(){this.stop(),this._setDisplay(null)}delete(){this.destroy()}setNeedsRedraw(e){return this.needsRedraw=this.needsRedraw||e,this}setProps(e){return"autoResizeViewport"in e&&(this.props.autoResizeViewport=e.autoResizeViewport||!1),"autoResizeDrawingBuffer"in e&&(this.props.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer||!1),"useDevicePixels"in e&&(this.props.useDevicePixels=e.useDevicePixels||!1),this}async start(){if(this._running)return this;this._running=!0;try{let e;return this._initialized||(this._initialized=!0,await this._initDevice(),this._initialize(),await this.props.onInitialize(this._getAnimationProps())),this._running?(e!==!1&&(this._cancelAnimationFrame(),this._requestAnimationFrame()),this):null}catch(e){const r=e instanceof Error?e:new Error("Unknown error");throw this.props.onError(r),r}}stop(){return this._running&&(this.animationProps&&this.props.onFinalize(this.animationProps),this._cancelAnimationFrame(),this._nextFramePromise=null,this._resolveNextFrame=null,this._running=!1),this}redraw(){var e;return(e=this.device)!=null&&e.isLost?this:(this._beginFrameTimers(),this._setupFrame(),this._updateAnimationProps(),this._renderFrame(this._getAnimationProps()),this._clearNeedsRedraw(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endFrameTimers(),this)}attachTimeline(e){return this.timeline=e,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(e=>{this._resolveNextFrame=e})),this._nextFramePromise}async toDataURL(){if(this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.canvas instanceof HTMLCanvasElement)return this.canvas.toDataURL();throw new Error("OffscreenCanvas")}_initialize(){this._startEventHandling(),this._initializeAnimationProps(),this._updateAnimationProps(),this._resizeCanvasDrawingBuffer(),this._resizeViewport()}_setDisplay(e){this.display&&(this.display.destroy(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}_requestAnimationFrame(){this._running&&(this._animationFrameId=mH(this._animationFrame.bind(this)))}_cancelAnimationFrame(){this._animationFrameId!==null&&(yH(this._animationFrameId),this._animationFrameId=null)}_animationFrame(){this._running&&(this.redraw(),this._requestAnimationFrame())}_renderFrame(e){if(this.display){this.display._renderFrame(e);return}this.props.onRender(this._getAnimationProps()),this.device.submit()}_clearNeedsRedraw(){this.needsRedraw=!1}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport()}_initializeAnimationProps(){var e,r;if(!this.device)throw new Error("loop");this.animationProps={animationLoop:this,device:this.device,canvas:(r=(e=this.device)==null?void 0:e.canvasContext)==null?void 0:r.canvas,timeline:this.timeline,useDevicePixels:this.props.useDevicePixels,needsRedraw:!1,width:1,height:1,aspect:1,time:0,startTime:Date.now(),engineTime:0,tick:0,tock:0,_mousePosition:null}}_getAnimationProps(){if(!this.animationProps)throw new Error("animationProps");return this.animationProps}_updateAnimationProps(){if(!this.animationProps)return;const{width:e,height:r,aspect:n}=this._getSizeAndAspect();(e!==this.animationProps.width||r!==this.animationProps.height)&&this.setNeedsRedraw("drawing buffer resized"),n!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=r,this.animationProps.aspect=n,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime}async _initDevice(){var e;if(this.device=await this.props.device,!this.device)throw new Error("No device provided");this.canvas=((e=this.device.canvasContext)==null?void 0:e.canvas)||null}_createInfoDiv(){if(this.canvas&&this.props.onAddHTML){const e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";const r=document.createElement("div");r.style.position="absolute",r.style.left="10px",r.style.bottom="10px",r.style.width="300px",r.style.background="white",this.canvas instanceof HTMLCanvasElement&&e.appendChild(this.canvas),e.appendChild(r);const n=this.props.onAddHTML(r);n&&(r.innerHTML=n)}}_getSizeAndAspect(){var o,s,a,l;if(!this.device)return{width:1,height:1,aspect:1};const[e,r]=((s=(o=this.device)==null?void 0:o.canvasContext)==null?void 0:s.getPixelSize())||[1,1];let n=1;const i=(l=(a=this.device)==null?void 0:a.canvasContext)==null?void 0:l.canvas;return i&&i.clientHeight?n=i.clientWidth/i.clientHeight:e>0&&r>0&&(n=e/r),{width:e,height:r,aspect:n}}_resizeViewport(){this.props.autoResizeViewport&&this.device.gl&&this.device.gl.viewport(0,0,this.device.gl.drawingBufferWidth,this.device.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){var e,r;this.props.autoResizeDrawingBuffer&&((r=(e=this.device)==null?void 0:e.canvasContext)==null||r.resize({useDevicePixels:this.props.useDevicePixels}))}_beginFrameTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this.cpuTime.timeStart()}_endFrameTimers(){this.cpuTime.timeEnd()}_startEventHandling(){this.canvas&&(this.canvas.addEventListener("mousemove",this._onMousemove.bind(this)),this.canvas.addEventListener("mouseleave",this._onMouseleave.bind(this)))}_onMousemove(e){e instanceof MouseEvent&&(this._getAnimationProps()._mousePosition=[e.offsetX,e.offsetY])}_onMouseleave(e){this._getAnimationProps()._mousePosition=null}}class tC{constructor(e){F(this,"id");F(this,"userData",{});F(this,"topology");F(this,"bufferLayout",[]);F(this,"vertexCount");F(this,"indices");F(this,"attributes");this.id=e.id||gl("geometry"),this.topology=e.topology,this.indices=e.indices||null,this.attributes=e.attributes,this.vertexCount=e.vertexCount,this.bufferLayout=e.bufferLayout||[],this.indices&&rr(this.indices.usage===ur.INDEX)}destroy(){var e;(e=this.indices)==null||e.destroy();for(const r of Object.values(this.attributes))r.destroy()}getVertexCount(){return this.vertexCount}getAttributes(){return this.attributes}getIndexes(){return this.indices}_calculateVertexCount(e){return e.byteLength/12}}function MK(t,e){if(e instanceof tC)return e;const r=kK(t,e),{attributes:n,bufferLayout:i}=IK(t,e);return new tC({topology:e.topology||"triangle-list",bufferLayout:i,vertexCount:e.vertexCount,indices:r,attributes:n})}function kK(t,e){if(!e.indices)return;const r=e.indices.value;return t.createBuffer({usage:ur.INDEX,data:r})}function IK(t,e){const r=[],n={};for(const[o,s]of Object.entries(e.attributes)){let a=o;switch(o){case"POSITION":a="positions";break;case"NORMAL":a="normals";break;case"TEXCOORD_0":a="texCoords";break;case"COLOR_0":a="colors";break}n[a]=t.createBuffer({data:s.value,id:`${o}-buffer`});const{value:l,size:A,normalized:p}=s;r.push({name:a,format:fH(l,A,p)})}const i=e._calculateVertexCount(e.attributes,e.indices);return{attributes:n,bufferLayout:r,vertexCount:i}}class NK{constructor(e){F(this,"modules");F(this,"moduleUniforms");F(this,"moduleBindings");F(this,"moduleUniformsChanged");const r=Wm(Object.values(e).filter(n=>n.dependencies));for(const n of r)e[n.name]=n;ke.log(1,"Creating ShaderInputs with modules",Object.keys(e))(),this.modules=e,this.moduleUniforms={},this.moduleBindings={};for(const[n,i]of Object.entries(e)){const o=n;this.moduleUniforms[o]=i.defaultUniforms||{},this.moduleBindings[o]={}}}destroy(){}setProps(e){var r;for(const n of Object.keys(e)){const i=n,o=e[i],s=this.modules[i];if(!s){ke.warn(`Module ${n} not found`)();continue}const a=this.moduleUniforms[i],l=this.moduleBindings[i],A=((r=s.getUniforms)==null?void 0:r.call(s,o,a))||o,{uniforms:p,bindings:g}=sE(A);this.moduleUniforms[i]={...a,...p},this.moduleBindings[i]={...l,...g}}}getModules(){return Object.values(this.modules)}getUniformValues(){return this.moduleUniforms}getBindings(){const e={};for(const r of Object.values(this.moduleBindings))Object.assign(e,r);return e}getDebugTable(){var r;const e={};for(const[n,i]of Object.entries(this.moduleUniforms))for(const[o,s]of Object.entries(i))e[`${n}.${o}`]={type:(r=this.modules[n].uniformTypes)==null?void 0:r[o],value:String(s)};return e}}const Em=class Em{constructor(e){F(this,"device");F(this,"_hashCounter",0);F(this,"_hashes",{});F(this,"_renderPipelineCache",{});F(this,"_computePipelineCache",{});this.device=e}static getDefaultPipelineFactory(e){return e._lumaData.defaultPipelineFactory=e._lumaData.defaultPipelineFactory||new Em(e),e._lumaData.defaultPipelineFactory}createRenderPipeline(e){const r={...Gu.defaultProps,...e},n=this._hashRenderPipeline(r);if(!this._renderPipelineCache[n]){const i=this.device.createRenderPipeline({...r,id:r.id?`${r.id}-cached`:void 0});i.hash=n,this._renderPipelineCache[n]={pipeline:i,useCount:0}}return this._renderPipelineCache[n].useCount++,this._renderPipelineCache[n].pipeline}createComputePipeline(e){const r={...Zp.defaultProps,...e},n=this._hashComputePipeline(r);if(!this._computePipelineCache[n]){const i=this.device.createComputePipeline({...r,id:r.id?`${r.id}-cached`:void 0});i.hash=n,this._computePipelineCache[n]={pipeline:i,useCount:0}}return this._computePipelineCache[n].useCount++,this._computePipelineCache[n].pipeline}release(e){const r=e.hash,n=e instanceof Zp?this._computePipelineCache:this._renderPipelineCache;n[r].useCount--,n[r].useCount===0&&(n[r].pipeline.destroy(),delete n[r])}_hashComputePipeline(e){return`${this._getHash(e.shader.source)}`}_hashRenderPipeline(e){const r=this._getHash(e.vs.source),n=e.fs?this._getHash(e.fs.source):0,i="-",o=this._getHash(JSON.stringify(e.bufferLayout));switch(this.device.type){case"webgl":return`${r}/${n}V${i}BL${o}`;default:const s=this._getHash(JSON.stringify(e.parameters));return`${r}/${n}V${i}T${e.topology}P${s}BL${o}`}}_getHash(e){return this._hashes[e]===void 0&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}};F(Em,"defaultProps",{...Gu.defaultProps});let Kb=Em;const Tm=class Tm{constructor(e){F(this,"device");F(this,"_cache",{});this.device=e}static getDefaultShaderFactory(e){var r;return(r=e._lumaData).defaultShaderFactory||(r.defaultShaderFactory=new Tm(e)),e._lumaData.defaultShaderFactory}createShader(e){const r=this._hashShader(e);let n=this._cache[r];if(!n){const i=this.device.createShader({...e,id:e.id?`${e.id}-cached`:void 0});this._cache[r]=n={shader:i,useCount:0}}return n.useCount++,n.shader}release(e){const r=this._hashShader(e),n=this._cache[r];n&&(n.useCount--,n.useCount===0&&(delete this._cache[r],n.shader.destroy()))}_hashShader(e){return`${e.stage}:${e.source}`}};F(Tm,"defaultProps",{...Qp.defaultProps});let Qb=Tm;function DK(t,e){var i;const r={},n="Values";if(t.attributes.length===0&&!((i=t.varyings)!=null&&i.length))return{"No attributes or varyings":{[n]:"N/A"}};for(const o of t.attributes)if(o){const s=`${o.location} ${o.name}: ${o.type}`;r[`in ${s}`]={[n]:o.stepMode||"vertex"}}for(const o of t.varyings||[]){const s=`${o.location} ${o.name}`;r[`out ${s}`]={[n]:JSON.stringify(o.accessor)}}return r}let zr=null,x_=null;function BK(t,{id:e,minimap:r,opaque:n,top:i="0",left:o="0",rgbaScale:s=1}){zr||(zr=document.createElement("canvas"),zr.id=e,zr.title=e,zr.style.zIndex="100",zr.style.position="absolute",zr.style.top=i,zr.style.left=o,zr.style.border="blue 1px solid",zr.style.transform="scaleY(-1)",document.body.appendChild(zr),x_=zr.getContext("2d")),(zr.width!==t.width||zr.height!==t.height)&&(zr.width=t.width/2,zr.height=t.height/2,zr.style.width="400px",zr.style.height="400px");const a=t.device.readPixelsToArrayWebGL(t),l=x_.createImageData(t.width,t.height),A=0;for(let p=0;p<a.length;p+=4)l.data[A+p+0]=a[p+0]*s,l.data[A+p+1]=a[p+1]*s,l.data[A+p+2]=a[p+2]*s,l.data[A+p+3]=n?255:a[p+3]*s;x_.putImageData(l,0,0)}const Wl=2,FK=1e4,xm=class xm{constructor(e,r){F(this,"device");F(this,"id");F(this,"source");F(this,"vs");F(this,"fs");F(this,"pipelineFactory");F(this,"shaderFactory");F(this,"userData",{});F(this,"parameters");F(this,"topology");F(this,"bufferLayout");F(this,"isInstanced");F(this,"instanceCount",0);F(this,"vertexCount");F(this,"indexBuffer",null);F(this,"bufferAttributes",{});F(this,"constantAttributes",{});F(this,"bindings",{});F(this,"uniforms",{});F(this,"vertexArray");F(this,"transformFeedback",null);F(this,"pipeline");F(this,"shaderInputs");F(this,"_uniformStore");F(this,"_attributeInfos",{});F(this,"_gpuGeometry",null);F(this,"_getModuleUniforms");F(this,"props");F(this,"_pipelineNeedsUpdate","newly created");F(this,"_needsRedraw","initializing");F(this,"_destroyed",!1);F(this,"_lastDrawTimestamp",-1);F(this,"_lastLogTime",0);F(this,"_logOpen",!1);F(this,"_drawCount",0);var a,l,A,p;this.props={...xm.defaultProps,...r},r=this.props,this.id=r.id||gl("model"),this.device=e,Object.assign(this.userData,r.userData);const n=Object.fromEntries(((a=this.props.modules)==null?void 0:a.map(g=>[g.name,g]))||[]);this.setShaderInputs(r.shaderInputs||new NK(n));const i=LK(e),o=(((l=this.props.modules)==null?void 0:l.length)>0?this.props.modules:(A=this.shaderInputs)==null?void 0:A.getModules())||[];if(this.device.type==="webgpu"&&this.props.source){(p=this.props).shaderLayout||(p.shaderLayout=rX(this.props.source));const{source:g,getUniforms:v}=this.props.shaderAssembler.assembleShader({platformInfo:i,...this.props,modules:o});this.source=g,this._getModuleUniforms=v}else{const{vs:g,fs:v,getUniforms:b}=this.props.shaderAssembler.assembleShaderPair({platformInfo:i,...this.props,modules:o});this.vs=g,this.fs=v,this._getModuleUniforms=b}this.vertexCount=this.props.vertexCount,this.instanceCount=this.props.instanceCount,this.topology=this.props.topology,this.bufferLayout=this.props.bufferLayout,this.parameters=this.props.parameters,r.geometry&&this.setGeometry(r.geometry),this.pipelineFactory=r.pipelineFactory||Kb.getDefaultPipelineFactory(this.device),this.shaderFactory=r.shaderFactory||Qb.getDefaultShaderFactory(this.device),this.pipeline=this._updatePipeline(),this.vertexArray=e.createVertexArray({renderPipeline:this.pipeline}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry),"isInstanced"in r&&(this.isInstanced=r.isInstanced),r.instanceCount&&this.setInstanceCount(r.instanceCount),r.vertexCount&&this.setVertexCount(r.vertexCount),r.indexBuffer&&this.setIndexBuffer(r.indexBuffer),r.attributes&&this.setAttributes(r.attributes),r.constantAttributes&&this.setConstantAttributes(r.constantAttributes),r.bindings&&this.setBindings(r.bindings),r.uniforms&&this.setUniforms(r.uniforms),r.moduleSettings&&this.updateModuleSettings(r.moduleSettings),r.transformFeedback&&(this.transformFeedback=r.transformFeedback),Object.seal(this)}destroy(){var e;this._destroyed||(this.pipelineFactory.release(this.pipeline),this.shaderFactory.release(this.pipeline.vs),this.pipeline.fs&&this.shaderFactory.release(this.pipeline.fs),this._uniformStore.destroy(),(e=this._gpuGeometry)==null||e.destroy(),this._destroyed=!0)}needsRedraw(){this._getBindingsUpdateTimestamp()>this._lastDrawTimestamp&&this.setNeedsRedraw("contents of bound textures or buffers updated");const e=this._needsRedraw;return this._needsRedraw=!1,e}setNeedsRedraw(e){this._needsRedraw||(this._needsRedraw=e)}predraw(){this.updateShaderInputs(),this.pipeline=this._updatePipeline()}draw(e){this.predraw();let r;try{this._logDrawCallStart(),this.pipeline=this._updatePipeline(),this.pipeline.setBindings(this.bindings,{disableWarnings:this.props.disableWarnings}),Yp(this.uniforms)||this.pipeline.setUniformsWebGL(this.uniforms);const{indexBuffer:n}=this.vertexArray,i=n?n.byteLength/(n.indexType==="uint32"?4:2):void 0;r=this.pipeline.draw({renderPass:e,vertexArray:this.vertexArray,isInstanced:this.isInstanced,vertexCount:this.vertexCount,instanceCount:this.instanceCount,indexCount:i,transformFeedback:this.transformFeedback||void 0,parameters:this.parameters,topology:this.topology})}finally{this._logDrawCallEnd()}return this._logFramebuffer(e),r?(this._lastDrawTimestamp=this.device.timestamp,this._needsRedraw=!1):this._needsRedraw="waiting for resource initialization",r}setGeometry(e){var n;(n=this._gpuGeometry)==null||n.destroy();const r=e&&MK(this.device,e);r&&(this.setTopology(r.topology||"triangle-list"),this.bufferLayout=rC(r.bufferLayout,this.bufferLayout),this.vertexArray&&this._setGeometryAttributes(r)),this._gpuGeometry=r}setTopology(e){e!==this.topology&&(this.topology=e,this._setPipelineNeedsUpdate("topology"))}setBufferLayout(e){this.bufferLayout=this._gpuGeometry?rC(e,this._gpuGeometry.bufferLayout):e,this._setPipelineNeedsUpdate("bufferLayout"),this.pipeline=this._updatePipeline(),this.vertexArray=this.device.createVertexArray({renderPipeline:this.pipeline}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry)}setParameters(e){Lb(e,this.parameters,2)||(this.parameters=e,this._setPipelineNeedsUpdate("parameters"))}setInstanceCount(e){this.instanceCount=e,this.isInstanced===void 0&&e>0&&(this.isInstanced=!0),this.setNeedsRedraw("instanceCount")}setVertexCount(e){this.vertexCount=e,this.setNeedsRedraw("vertexCount")}setShaderInputs(e){this.shaderInputs=e,this._uniformStore=new AH(this.shaderInputs.modules);for(const r of Object.keys(this.shaderInputs.modules)){const n=this._uniformStore.getManagedUniformBuffer(this.device,r);this.bindings[`${r}Uniforms`]=n}this.setNeedsRedraw("shaderInputs")}updateShaderInputs(){this._uniformStore.setUniforms(this.shaderInputs.getUniformValues()),this.setBindings(this.shaderInputs.getBindings()),this.setNeedsRedraw("shaderInputs")}setBindings(e){Object.assign(this.bindings,e),this.setNeedsRedraw("bindings")}setTransformFeedback(e){this.transformFeedback=e,this.setNeedsRedraw("transformFeedback")}setIndexBuffer(e){this.vertexArray.setIndexBuffer(e),this.setNeedsRedraw("indexBuffer")}setAttributes(e,r){e.indices&&ke.warn(`Model:${this.id} setAttributes() - indexBuffer should be set using setIndexBuffer()`)();for(const[n,i]of Object.entries(e)){const o=this.bufferLayout.find(l=>nC(l).includes(n));if(!o){ke.warn(`Model(${this.id}): Missing layout for buffer "${n}".`)();continue}const s=nC(o);let a=!1;for(const l of s){const A=this._attributeInfos[l];A&&(this.vertexArray.setBuffer(A.location,i),a=!0)}!a&&!((r==null?void 0:r.disableWarnings)??this.props.disableWarnings)&&ke.warn(`Model(${this.id}): Ignoring buffer "${i.id}" for unknown attribute "${n}"`)()}this.setNeedsRedraw("attributes")}setConstantAttributes(e,r){for(const[n,i]of Object.entries(e)){const o=this._attributeInfos[n];o?this.vertexArray.setConstantWebGL(o.location,i):((r==null?void 0:r.disableWarnings)??this.props.disableWarnings)||ke.warn(`Model "${this.id}: Ignoring constant supplied for unknown attribute "${n}"`)()}this.setNeedsRedraw("constants")}setUniforms(e){Yp(e)||(this.pipeline.setUniformsWebGL(e),Object.assign(this.uniforms,e)),this.setNeedsRedraw("uniforms")}updateModuleSettings(e){const{bindings:r,uniforms:n}=sE(this._getModuleUniforms(e));Object.assign(this.bindings,r),Object.assign(this.uniforms,n),this.setNeedsRedraw("moduleSettings")}_getBindingsUpdateTimestamp(){let e=0;for(const r of Object.values(this.bindings))r instanceof Kp?e=Math.max(e,r.texture.updateTimestamp):r instanceof ur||r instanceof pi?e=Math.max(e,r.updateTimestamp):r instanceof qp||(e=Math.max(e,r.buffer.updateTimestamp));return e}_setGeometryAttributes(e){const r={...e.attributes};for(const[n]of Object.entries(r))!this.pipeline.shaderLayout.attributes.find(i=>i.name===n)&&n!=="positions"&&delete r[n];this.vertexCount=e.vertexCount,this.setIndexBuffer(e.indices||null),this.setAttributes(e.attributes,{disableWarnings:!0}),this.setAttributes(r,{disableWarnings:this.props.disableWarnings}),this.setNeedsRedraw("geometry attributes")}_setPipelineNeedsUpdate(e){this._pipelineNeedsUpdate||(this._pipelineNeedsUpdate=e),this.setNeedsRedraw(e)}_updatePipeline(){if(this._pipelineNeedsUpdate){let e=null,r=null;this.pipeline&&(ke.log(1,`Model ${this.id}: Recreating pipeline because "${this._pipelineNeedsUpdate}".`)(),e=this.pipeline.vs,r=this.pipeline.fs),this._pipelineNeedsUpdate=!1;const n=this.shaderFactory.createShader({id:`${this.id}-vertex`,stage:"vertex",source:this.source||this.vs,debug:this.props.debugShaders});let i=null;this.source?i=n:this.fs&&(i=this.shaderFactory.createShader({id:`${this.id}-fragment`,stage:"fragment",source:this.source||this.fs,debug:this.props.debugShaders})),this.pipeline=this.pipelineFactory.createRenderPipeline({...this.props,bufferLayout:this.bufferLayout,topology:this.topology,parameters:this.parameters,vs:n,fs:i}),this._attributeInfos=u6(this.pipeline.shaderLayout,this.bufferLayout),e&&this.shaderFactory.release(e),r&&this.shaderFactory.release(r)}return this.pipeline}_logDrawCallStart(){const e=ke.level>3?0:FK;ke.level<2||Date.now()-this._lastLogTime<e||(this._lastLogTime=Date.now(),this._logOpen=!0,ke.group(Wl,`>>> DRAWING MODEL ${this.id}`,{collapsed:ke.level<=2})())}_logDrawCallEnd(){if(this._logOpen){const e=DK(this.pipeline.shaderLayout,this.id);ke.table(Wl,e)();const r=this.shaderInputs.getDebugTable();for(const[i,o]of Object.entries(this.uniforms))r[i]={value:o};ke.table(Wl,r)();const n=this._getAttributeDebugTable();ke.table(Wl,this._attributeInfos)(),ke.table(Wl,n)(),ke.groupEnd(Wl)(),this._logOpen=!1}}_logFramebuffer(e){const r=ke.get("framebuffer");if(this._drawCount++,!r||this._drawCount++>3&&this._drawCount%60)return;const n=e.props.framebuffer;n&&BK(n,{id:n.id,minimap:!0})}_getAttributeDebugTable(){const e={};for(const[r,n]of Object.entries(this._attributeInfos))e[n.location]={name:r,type:n.shaderType,values:this._getBufferOrConstantValues(this.vertexArray.attributes[n.location],n.bufferDataType)};if(this.vertexArray.indexBuffer){const{indexBuffer:r}=this.vertexArray,n=r.indexType==="uint32"?new Uint32Array(r.debugData):new Uint16Array(r.debugData);e.indices={name:"indices",type:r.indexType,values:n.toString()}}return e}_getBufferOrConstantValues(e,r){const n=f6(r);return(e instanceof ur?new n(e.debugData):e).toString()}};F(xm,"defaultProps",{...Gu.defaultProps,source:null,vs:null,fs:null,id:"unnamed",handle:void 0,userData:{},defines:{},modules:[],moduleSettings:void 0,geometry:null,indexBuffer:null,attributes:{},constantAttributes:{},varyings:[],isInstanced:void 0,instanceCount:0,vertexCount:0,shaderInputs:void 0,pipelineFactory:void 0,shaderFactory:void 0,transformFeedback:void 0,shaderAssembler:Xp.getDefaultShaderAssembler(),debugShaders:void 0,disableWarnings:void 0});let Ki=xm;function rC(t,e){const r=[...t];for(const n of e){const i=r.findIndex(o=>o.name===n.name);i<0?r.push(n):r[i]=n}return r}function LK(t){return{type:t.type,shaderLanguage:t.info.shadingLanguage,shaderLanguageVersion:t.info.shadingLanguageVersion,gpu:t.info.gpu,features:t.features}}function nC(t){var e;return t.attributes?(e=t.attributes)==null?void 0:e.map(r=>r.attribute):[t.name]}class Gf{constructor(e,r=Ki.defaultProps){F(this,"device");F(this,"model");F(this,"transformFeedback");rr(Gf.isSupported(e),"BufferTransform not yet implemented on WebGPU"),this.device=e,this.model=new Ki(this.device,{id:r.id||"buffer-transform-model",fs:r.fs||hW(),topology:r.topology||"point-list",...r}),this.transformFeedback=this.device.createTransformFeedback({layout:this.model.pipeline.shaderLayout,buffers:r.feedbackBuffers}),this.model.setTransformFeedback(this.transformFeedback),Object.seal(this)}static isSupported(e){var r;return((r=e==null?void 0:e.info)==null?void 0:r.type)==="webgl"}destroy(){this.model&&this.model.destroy()}delete(){this.destroy()}run(e){const r=this.device.beginRenderPass(e);this.model.draw(r),r.end()}update(...e){console.warn("TextureTransform#update() not implemented")}getBuffer(e){return this.transformFeedback.getBuffer(e)}readAsync(e){const r=this.getBuffer(e);if(r instanceof ur)return r.readAsync();const{buffer:n,byteOffset:i=0,byteLength:o=n.byteLength}=r;return n.readAsync(i,o)}}class ic{constructor(e){F(this,"id");F(this,"topology");F(this,"vertexCount");F(this,"indices");F(this,"attributes");F(this,"userData",{});const{attributes:r={},indices:n=null,vertexCount:i=null}=e;this.id=e.id||gl("geometry"),this.topology=e.topology,n&&(this.indices=ArrayBuffer.isView(n)?{value:n,size:1}:n),this.attributes={};for(const[o,s]of Object.entries(r)){const a=ArrayBuffer.isView(s)?{value:s}:s;rr(ArrayBuffer.isView(a.value),`${this._print(o)}: must be typed array or object with value as typed array`),(o==="POSITION"||o==="positions")&&!a.size&&(a.size=3),o==="indices"?(rr(!this.indices),this.indices=a):this.attributes[o]=a}this.indices&&this.indices.isIndexed!==void 0&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this.vertexCount=i||this._calculateVertexCount(this.attributes,this.indices)}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(e){return`Geometry ${this.id} attribute ${e}`}_setAttributes(e,r){return this}_calculateVertexCount(e,r){if(r)return r.value.length;let n=1/0;for(const i of Object.values(e)){const{value:o,size:s,constant:a}=i;!a&&o&&s>=1&&(n=Math.min(n,o.length/s))}return rr(Number.isFinite(n)),n}}const $K={blendColorOperation:"add",blendColorSrcFactor:"one",blendColorDstFactor:"zero",blendAlphaOperation:"add",blendAlphaSrcFactor:"constant-alpha",blendAlphaDstFactor:"zero"};class V6 extends AE{constructor(){super(...arguments),this._colorEncoderState=null}render(e){return"pickingFBO"in e?this._drawPickingBuffer(e):super.render(e)}_drawPickingBuffer({layers:e,layerFilter:r,views:n,viewports:i,onViewportActive:o,pickingFBO:s,deviceRect:{x:a,y:l,width:A,height:p},cullRect:g,effects:v,pass:b="picking",pickZ:S,moduleParameters:E}){this.pickZ=S;const C=this._resetColorEncoder(S),x=[a,l,A,p],P=super.render({target:s,layers:e,layerFilter:r,views:n,viewports:i,onViewportActive:o,cullRect:g,effects:v==null?void 0:v.filter(M=>M.useInPicking),pass:b,isPicking:!0,moduleParameters:E,clearColor:[0,0,0,0],colorMask:15,scissorRect:x});return this._colorEncoderState=null,{decodePickingColor:C&&jK.bind(null,C),stats:P}}shouldDrawLayer(e){const{pickable:r,operation:n}=e.props;return r&&n.includes("draw")||n.includes("terrain")||n.includes("mask")}getModuleParameters(){return{picking:{isActive:1,isAttribute:this.pickZ},lightSources:{}}}getLayerParameters(e,r,n){const i={depthMask:!0,depthTest:!0,depthRange:[0,1],...e.props.parameters},{pickable:o,operation:s}=e.props;return!this._colorEncoderState||s.includes("terrain")?i.blend=!1:o&&s.includes("draw")&&(Object.assign(i,$K),i.blend=!0,i.blendColor=UK(this._colorEncoderState,e,n)),i}_resetColorEncoder(e){return this._colorEncoderState=e?null:{byLayer:new Map,byAlpha:[]},this._colorEncoderState}}function UK(t,e,r){const{byLayer:n,byAlpha:i}=t;let o,s=n.get(e);return s?(s.viewports.push(r),o=s.a):(o=n.size+1,o<=255?(s={a:o,layer:e,viewports:[r]},n.set(e,s),i[o]=s):(yt.warn("Too many pickable layers, only picking the first 255")(),o=0)),[0,0,0,o/255]}function jK(t,e){const r=t.byAlpha[e[3]];return r&&{pickedLayer:r.layer,pickedViewports:r.viewports,pickedObjectIndex:r.layer.decodePickingColor(e)}}const ru={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},og=Symbol.for("component"),Xs=Symbol.for("propTypes"),P_=Symbol.for("deprecatedProps"),Bu=Symbol.for("asyncPropDefaults"),nl=Symbol.for("asyncPropOriginal"),Is=Symbol.for("asyncPropResolved");function oc(t,e=()=>!0){return Array.isArray(t)?W6(t,e,[]):e(t)?[t]:[]}function W6(t,e,r){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?W6(i,e,r):e(i)&&r.push(i)}return r}function zK({target:t,source:e,start:r=0,count:n=1}){const i=e.length,o=n*i;let s=0;for(let a=r;s<i;s++)t[a++]=e[s];for(;s<o;)s<o-s?(t.copyWithin(r+s,r,r+s),s*=2):(t.copyWithin(r+s,r,r+o-s),s=o);return t}class VK{constructor(e,r,n){this._loadCount=0,this._subscribers=new Set,this.id=e,this.context=n,this.setData(r)}subscribe(e){this._subscribers.add(e)}unsubscribe(e){this._subscribers.delete(e)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData(e,r){if(e===this._data&&!r)return;this._data=e;const n=++this._loadCount;let i=e;typeof e=="string"&&(i=Hs(e)),i instanceof Promise?(this.isLoaded=!1,this._loader=i.then(o=>{this._loadCount===n&&(this.isLoaded=!0,this._error=void 0,this._content=o)}).catch(o=>{this._loadCount===n&&(this.isLoaded=!0,this._error=o||!0)})):(this.isLoaded=!0,this._error=void 0,this._content=e);for(const o of this._subscribers)o.onChange(this.getData())}}class WK{constructor(e){var r;this.protocol=e.protocol||"resource://",this._context={device:e.device,gl:(r=e.device)==null?void 0:r.gl,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(e){return e.startsWith(this.protocol)?!0:e in this._resources}add({resourceId:e,data:r,forceUpdate:n=!1,persistent:i=!0}){let o=this._resources[e];o?o.setData(r,n):(o=new VK(e,r,this._context),this._resources[e]=o),o.persistent=i}remove(e){const r=this._resources[e];r&&(r.delete(),delete this._resources[e])}unsubscribe({consumerId:e}){const r=this._consumers[e];if(r){for(const n in r){const i=r[n],o=this._resources[i.resourceId];o&&o.unsubscribe(i)}delete this._consumers[e],this.prune()}}subscribe({resourceId:e,onChange:r,consumerId:n,requestId:i="default"}){const{_resources:o,protocol:s}=this;e.startsWith(s)&&(e=e.replace(s,""),o[e]||this.add({resourceId:e,data:null,persistent:!1}));const a=o[e];if(this._track(n,i,a,r),a)return a.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout(()=>this._prune(),0))}finalize(){for(const e in this._resources)this._resources[e].delete()}_track(e,r,n,i){const o=this._consumers,s=o[e]=o[e]||{};let a=s[r];const l=a&&a.resourceId&&this._resources[a.resourceId];l&&(l.unsubscribe(a),this.prune()),n&&(a?(a.onChange=i,a.resourceId=n.id):a={onChange:i,resourceId:n.id},s[r]=a,n.subscribe(a))}_prune(){this._pruneRequest=null;for(const e of Object.keys(this._resources)){const r=this._resources[e];!r.persistent&&!r.inUse()&&(r.delete(),delete this._resources[e])}}}const HK="layerManager.setLayers",XK="layerManager.activateViewport";class YK{constructor(e,r){this._lastRenderedLayers=[],this._needsRedraw=!1,this._needsUpdate=!1,this._nextLayers=null,this._debug=!1,this._defaultShaderModulesChanged=!1,this.activateViewport=a=>{dn(XK,this,a),a&&(this.context.viewport=a)};const{deck:n,stats:i,viewport:o,timeline:s}=r||{};this.layers=[],this.resourceManager=new WK({device:e,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,device:e,gl:e==null?void 0:e.gl,deck:n,shaderAssembler:tK(),defaultShaderModules:[],renderPass:void 0,stats:i||new zm({id:"deck.gl"}),viewport:o||new U6({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:s||new z6,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const e of this.layers)this._finalizeLayer(e)}needsRedraw(e={clearRedrawFlags:!1}){let r=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);for(const n of this.layers){const i=n.getNeedsRedraw(e);r=r||i}return r}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._defaultShaderModulesChanged?"shader modules changed":this._needsUpdate}setNeedsRedraw(e){this._needsRedraw=this._needsRedraw||e}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e}getLayers({layerIds:e}={}){return e?this.layers.filter(r=>e.find(n=>r.id.indexOf(n)===0)):this.layers}setProps(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}setLayers(e,r){dn(HK,this,r,e),this._lastRenderedLayers=e;const n=oc(e,Boolean);for(const i of n)i.context=this.context;this._updateLayers(this.layers,n)}updateLayers(){const e=this.needsUpdate();e&&(this.setNeedsRedraw(`updating layers: ${e}`),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}addDefaultShaderModule(e){const{defaultShaderModules:r}=this.context;r.find(n=>n.name===e.name)||(r.push(e),this._defaultShaderModulesChanged=!0)}removeDefaultShaderModule(e){const{defaultShaderModules:r}=this.context,n=r.findIndex(i=>i.name===e.name);n>=0&&(r.splice(n,1),this._defaultShaderModulesChanged=!0)}_handleError(e,r,n){n.raiseError(r,`${e} of ${n}`)}_updateLayers(e,r){const n={};for(const s of e)n[s.id]?yt.warn(`Multiple old layers with same id ${s.id}`)():n[s.id]=s;if(this._defaultShaderModulesChanged){for(const s of e)s.setNeedsUpdate(),s.setChangeFlags({extensionsChanged:!0});this._defaultShaderModulesChanged=!1}const i=[];this._updateSublayersRecursively(r,n,i),this._finalizeOldLayers(n);let o=!1;for(const s of i)if(s.hasUniformTransition()){o=`Uniform transition in ${s}`;break}this._needsUpdate=o,this.layers=i}_updateSublayersRecursively(e,r,n){for(const i of e){i.context=this.context;const o=r[i.id];o===null&&yt.warn(`Multiple new layers with same id ${i.id}`)(),r[i.id]=null;let s=null;try{this._debug&&o!==i&&i.validateProps(),o?(this._transferLayerState(o,i),this._updateLayer(i)):this._initializeLayer(i),n.push(i),s=i.isComposite?i.getSubLayers():null}catch(a){this._handleError("matching",a,i)}s&&this._updateSublayersRecursively(s,r,n)}}_finalizeOldLayers(e){for(const r in e){const n=e[r];n&&this._finalizeLayer(n)}}_initializeLayer(e){try{e._initialize(),e.lifecycle=ru.INITIALIZED}catch(r){this._handleError("initialization",r,e)}}_transferLayerState(e,r){r._transferState(e),r.lifecycle=ru.MATCHED,r!==e&&(e.lifecycle=ru.AWAITING_GC)}_updateLayer(e){try{e._update()}catch(r){this._handleError("update",r,e)}}_finalizeLayer(e){this._needsRedraw=this._needsRedraw||`finalized ${e}`,e.lifecycle=ru.AWAITING_FINALIZATION;try{e._finalize(),e.lifecycle=ru.FINALIZED}catch(r){this._handleError("finalization",r,e)}}}function zi(t,e,r){if(t===e)return!0;if(!r||!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!zi(t[n],e[n],r-1))return!1;return!0}if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const o of n)if(!e.hasOwnProperty(o)||!zi(t[o],e[o],r-1))return!1;return!0}return!1}class KK{constructor(e){this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=e.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=e.eventManager,this._eventCallbacks={onViewStateChange:e.onViewStateChange,onInteractionStateChange:e.onInteractionStateChange},Object.seal(this),this.setProps(e)}finalize(){for(const e in this.controllers){const r=this.controllers[e];r&&r.finalize()}this.controllers={}}needsRedraw(e={clearRedrawFlags:!1}){const r=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),r}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}updateViewStates(){for(const e in this.controllers){const r=this.controllers[e];r&&r.updateTransition()}}getViewports(e){return e?this._viewports.filter(r=>r.containsPixel(e)):this._viewports}getViews(){const e={};return this.views.forEach(r=>{e[r.id]=r}),e}getView(e){return this.views.find(r=>r.id===e)}getViewState(e){const r=typeof e=="string"?this.getView(e):e,n=r&&this.viewState[r.getViewStateId()]||this.viewState;return r?r.filterViewState(n):n}getViewport(e){return this._viewportMap[e]}unproject(e,r){const n=this.getViewports(),i={x:e[0],y:e[1]};for(let o=n.length-1;o>=0;--o){const s=n[o];if(s.containsPixel(i)){const a=e.slice();return a[0]-=s.x,a[1]-=s.y,s.unproject(a,r)}}return null}setProps(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(e,r){(e!==this.width||r!==this.height)&&(this.width=e,this.height=r,this.setNeedsUpdate("Size changed"))}_setViews(e){e=oc(e,Boolean),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}_setViewState(e){e?(!zi(e,this.viewState,3)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):yt.warn("missing `viewState` or `initialViewState`")()}_createController(e,r){const n=r.type;return new n({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._eventCallbacks.onViewStateChange,onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:o=>{var s;return(s=this.getView(e.id))==null?void 0:s.makeViewport({viewState:o,width:this.width,height:this.height})}})}_updateController(e,r,n,i){const o=e.controller;if(o&&n){const s={...r,...o,id:e.id,x:n.x,y:n.y,width:n.width,height:n.height};return(!i||i.constructor!==o.type)&&(i=this._createController(e,s)),i&&i.setProps(s),i}return null}_rebuildViewports(){const{views:e}=this,r=this.controllers;this._viewports=[],this.controllers={};let n=!1;for(let i=e.length;i--;){const o=e[i],s=this.getViewState(o),a=o.makeViewport({viewState:s,width:this.width,height:this.height});let l=r[o.id];const A=!!o.controller;A&&!l&&(n=!0),(n||!A)&&l&&(l.finalize(),l=null),this.controllers[o.id]=this._updateController(o,s,a,l),a&&this._viewports.unshift(a)}for(const i in r){const o=r[i];o&&!this.controllers[i]&&o.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(e=>{e.id&&(this._viewportMap[e.id]=this._viewportMap[e.id]||e)})}_diffViews(e,r){return e.length!==r.length?!0:e.some((n,i)=>!e[i].equals(r[i]))}}const QK=/([0-9]+\.?[0-9]*)(%|px)/;function ys(t){switch(typeof t){case"number":return{position:t,relative:!1};case"string":const e=QK.exec(t);if(e&&e.length>=3){const r=e[2]==="%",n=parseFloat(e[1]);return{position:r?n/100:n,relative:r}}default:throw new Error(`Could not parse position string ${t}`)}}function vs(t,e){return t.relative?Math.round(t.position*e):t.position}class qK{constructor(e){const{id:r,x:n=0,y:i=0,width:o="100%",height:s="100%",padding:a=null}=e;this.id=r||this.constructor.displayName||"view",this.props={...e,id:this.id},this._x=ys(n),this._y=ys(i),this._width=ys(o),this._height=ys(s),this._padding=a&&{left:ys(a.left||0),right:ys(a.right||0),top:ys(a.top||0),bottom:ys(a.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(e){return this===e?!0:this.ViewportType===e.ViewportType&&zi(this.props,e.props,2)}makeViewport({width:e,height:r,viewState:n}){n=this.filterViewState(n);const i=this.getDimensions({width:e,height:r});return!i.height||!i.width?null:new this.ViewportType({...n,...this.props,...i})}getViewStateId(){const{viewState:e}=this.props;return typeof e=="string"?e:(e==null?void 0:e.id)||this.id}filterViewState(e){if(this.props.viewState&&typeof this.props.viewState=="object"){if(!this.props.viewState.id)return this.props.viewState;const r={...e};for(const n in this.props.viewState)n!=="id"&&(r[n]=this.props.viewState[n]);return r}return e}getDimensions({width:e,height:r}){const n={x:vs(this._x,e),y:vs(this._y,r),width:vs(this._width,e),height:vs(this._height,r)};return this._padding&&(n.padding={left:vs(this._padding.left,e),top:vs(this._padding.top,r),right:vs(this._padding.right,e),bottom:vs(this._padding.bottom,r)}),n}get controller(){const e=this.props.controller;return e?e===!0?{type:this.ControllerType}:typeof e=="function"?{type:e}:{type:this.ControllerType,...e}:null}}let Ym=class{constructor(e){this._inProgress=!1,this._handle=null,this.time=0,this.settings={duration:0},this._timeline=e}get inProgress(){return this._inProgress}start(e){var r,n;this.cancel(),this.settings=e,this._inProgress=!0,(n=(r=this.settings).onStart)==null||n.call(r,this)}end(){var e,r;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,(r=(e=this.settings).onEnd)==null||r.call(e,this))}cancel(){var e,r;this._inProgress&&((r=(e=this.settings).onInterrupt)==null||r.call(e,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){var e,r;if(!this._inProgress)return!1;if(this._handle===null){const{_timeline:n,settings:i}=this;this._handle=n.addChannel({delay:n.getTime(),duration:i.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),(r=(e=this.settings).onUpdate)==null||r.call(e,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}};const iC=()=>{},qb={BREAK:1,SNAP_TO_END:2,IGNORE:3},GK=t=>t,ZK=qb.BREAK;class JK{constructor(e){this._onTransitionUpdate=r=>{const{time:n,settings:{interpolator:i,startProps:o,endProps:s,duration:a,easing:l}}=r,A=l(n/a),p=i.interpolateProps(o,s,A);this.propsInTransition=this.getControllerState({...this.props,...p}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})},this.getControllerState=e.getControllerState,this.propsInTransition=null,this.transition=new Ym(e.timeline),this.onViewStateChange=e.onViewStateChange||iC,this.onStateChange=e.onStateChange||iC}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(e){let r=!1;const n=this.props;if(this.props=e,!n||this._shouldIgnoreViewportChange(n,e))return!1;if(this._isTransitionEnabled(e)){let i=n;if(this.transition.inProgress){const{interruption:o,endProps:s}=this.transition.settings;i={...n,...o===qb.SNAP_TO_END?s:this.propsInTransition||n}}this._triggerTransition(i,e),r=!0}else this.transition.cancel();return r}updateTransition(){this.transition.update()}_isTransitionEnabled(e){const{transitionDuration:r,transitionInterpolator:n}=e;return(r>0||r==="auto")&&!!n}_isUpdateDueToCurrentTransition(e){return this.transition.inProgress&&this.propsInTransition?this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition):!1}_shouldIgnoreViewportChange(e,r){return this.transition.inProgress?this.transition.settings.interruption===qb.IGNORE||this._isUpdateDueToCurrentTransition(r):this._isTransitionEnabled(r)?r.transitionInterpolator.arePropsEqual(e,r):!0}_triggerTransition(e,r){const n=this.getControllerState(e),i=this.getControllerState(r).shortestPathFrom(n),o=r.transitionInterpolator,s=o.getDuration?o.getDuration(e,r):r.transitionDuration;if(s===0)return;const a=o.initializeProps(e,i);this.propsInTransition={};const l={duration:s,easing:r.transitionEasing||GK,interpolator:o,interruption:r.transitionInterruption||ZK,startProps:a.start,endProps:a.end,onStart:r.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(r.onTransitionInterrupt),onEnd:this._onTransitionEnd(r.onTransitionEnd)};this.transition.start(l),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(e){return r=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),e==null||e(r)}}}function Rr(t,e){if(!t)throw new Error(e||"deck.gl: assertion failed.")}class eQ{constructor(e){const{compare:r,extract:n,required:i}=e;this._propsToCompare=r,this._propsToExtract=n||r,this._requiredProps=i}arePropsEqual(e,r){for(const n of this._propsToCompare)if(!(n in e)||!(n in r)||!Kf(e[n],r[n]))return!1;return!0}initializeProps(e,r){const n={},i={};for(const o of this._propsToExtract)(o in e||o in r)&&(n[o]=e[o],i[o]=r[o]);return this._checkRequiredProps(n),this._checkRequiredProps(i),{start:n,end:i}}getDuration(e,r){return r.transitionDuration}_checkRequiredProps(e){this._requiredProps&&this._requiredProps.forEach(r=>{const n=e[r];Rr(Number.isFinite(n)||Array.isArray(n),`${r} is required for transition`)})}}const tQ=["longitude","latitude","zoom","bearing","pitch"],rQ=["longitude","latitude","zoom"];class H6 extends eQ{constructor(e={}){const r=Array.isArray(e)?e:e.transitionProps,n=Array.isArray(e)?{}:e;n.transitionProps=Array.isArray(r)?{compare:r,required:r}:r||{compare:tQ,required:rQ},super(n.transitionProps),this.opts=n}initializeProps(e,r){const n=super.initializeProps(e,r),{makeViewport:i,around:o}=this.opts;if(i&&o){const s=i(e),a=i(r),l=s.unproject(o);n.start.around=o,Object.assign(n.end,{around:a.project(l),aroundPosition:l,width:r.width,height:r.height})}return n}interpolateProps(e,r,n){const i={};for(const o of this._propsToExtract)i[o]=tg(e[o]||0,r[o]||0,n);if(r.aroundPosition&&this.opts.makeViewport){const o=this.opts.makeViewport({...r,...i});Object.assign(i,o.panByPosition(r.aroundPosition,tg(e.around,r.around,n)))}return i}}const _s={transitionDuration:0},nQ=300,y0=t=>1-(1-t)*(1-t),Hl={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],TRIPLE_PAN:["tripanstart","tripanmove","tripanend"],DOUBLE_TAP:["doubletap"],KEYBOARD:["keydown"]},wa={};class iQ{constructor(e){this.state={},this._events={},this._interactionState={isDragging:!1},this._customEvents=[],this._eventStartBlocked=null,this._panMove=!1,this.invertPan=!1,this.dragMode="rotate",this.inertia=0,this.scrollZoom=!0,this.dragPan=!0,this.dragRotate=!0,this.doubleClickZoom=!0,this.touchZoom=!0,this.touchRotate=!1,this.keyboard=!0,this.transitionManager=new JK({...e,getControllerState:r=>new this.ControllerState(r),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=e.eventManager,this.onViewStateChange=e.onViewStateChange||(()=>{}),this.onStateChange=e.onStateChange||(()=>{}),this.makeViewport=e.makeViewport}set events(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}finalize(){var e;for(const r in this._events)this._events[r]&&((e=this.eventManager)==null||e.off(r,this.handleEvent));this.transitionManager.finalize()}handleEvent(e){this._controllerState=void 0;const r=this._eventStartBlocked;switch(e.type){case"panstart":return r?!1:this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return r?!1:this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"tripanstart":return r?!1:this._onTriplePanStart(e);case"tripanmove":return this._onTriplePan(e);case"tripanend":return this._onTriplePanEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(e){const{x:r,y:n}=this.props,{offsetCenter:i}=e;return[i.x-r,i.y-n]}isPointInBounds(e,r){const{width:n,height:i}=this.props;if(r&&r.handled)return!1;const o=e[0]>=0&&e[0]<=n&&e[1]>=0&&e[1]<=i;return o&&r&&r.stopPropagation(),o}isFunctionKeyPressed(e){const{srcEvent:r}=e;return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(e){const r=setTimeout(()=>{this._eventStartBlocked===r&&(this._eventStartBlocked=null)},e);this._eventStartBlocked=r}setProps(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);const{inertia:r}=e;this.inertia=Number.isFinite(r)?r:r===!0?nQ:0;const{scrollZoom:n=!0,dragPan:i=!0,dragRotate:o=!0,doubleClickZoom:s=!0,touchZoom:a=!0,touchRotate:l=!1,keyboard:A=!0}=e,p=!!this.onViewStateChange;this.toggleEvents(Hl.WHEEL,p&&n),this.toggleEvents(Hl.PAN,p),this.toggleEvents(Hl.PINCH,p&&(a||l)),this.toggleEvents(Hl.TRIPLE_PAN,p&&l),this.toggleEvents(Hl.DOUBLE_TAP,p&&s),this.toggleEvents(Hl.KEYBOARD,p&&A),this.scrollZoom=n,this.dragPan=i,this.dragRotate=o,this.doubleClickZoom=s,this.touchZoom=a,this.touchRotate=l,this.keyboard=A}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(e,r){this.eventManager&&e.forEach(n=>{this._events[n]!==r&&(this._events[n]=r,r?this.eventManager.on(n,this.handleEvent):this.eventManager.off(n,this.handleEvent))})}updateViewport(e,r=null,n={}){const i={...e.getViewportProps(),...r},o=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(n),o){const s=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:i,interactionState:this._interactionState,oldViewState:s,viewId:this.props.id})}}_onTransition(e){this.onViewStateChange({...e,interactionState:this._interactionState,viewId:this.props.id})}_setInteractionState(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}_onPanStart(e){const r=this.getCenter(e);if(!this.isPointInBounds(r,e))return!1;let n=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||this.dragMode==="pan")&&(n=!n);const i=this.controllerState[n?"panStart":"rotateStart"]({pos:r});return this._panMove=n,this.updateViewport(i,_s,{isDragging:!0}),!0}_onPan(e){return this.isDragging()?this._panMove?this._onPanMove(e):this._onPanRotate(e):!1}_onPanEnd(e){return this.isDragging()?this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e):!1}_onPanMove(e){if(!this.dragPan)return!1;const r=this.getCenter(e),n=this.controllerState.pan({pos:r});return this.updateViewport(n,_s,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(e){const{inertia:r}=this;if(this.dragPan&&r&&e.velocity){const n=this.getCenter(e),i=[n[0]+e.velocityX*r/2,n[1]+e.velocityY*r/2],o=this.controllerState.pan({pos:i}).panEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:r,transitionEasing:y0},{isDragging:!1,isPanning:!0})}else{const n=this.controllerState.panEnd();this.updateViewport(n,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(e){if(!this.dragRotate)return!1;const r=this.getCenter(e),n=this.controllerState.rotate({pos:r});return this.updateViewport(n,_s,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(e){const{inertia:r}=this;if(this.dragRotate&&r&&e.velocity){const n=this.getCenter(e),i=[n[0]+e.velocityX*r/2,n[1]+e.velocityY*r/2],o=this.controllerState.rotate({pos:i}).rotateEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:r,transitionEasing:y0},{isDragging:!1,isRotating:!0})}else{const n=this.controllerState.rotateEnd();this.updateViewport(n,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(e){if(!this.scrollZoom)return!1;const r=this.getCenter(e);if(!this.isPointInBounds(r,e))return!1;e.srcEvent.preventDefault();const{speed:n=.01,smooth:i=!1}=this.scrollZoom===!0?{}:this.scrollZoom,{delta:o}=e;let s=2/(1+Math.exp(-Math.abs(o*n)));o<0&&s!==0&&(s=1/s);const a=this.controllerState.zoom({pos:r,scale:s});return this.updateViewport(a,{...this._getTransitionProps({around:r}),transitionDuration:i?250:1},{isZooming:!0,isPanning:!0}),!0}_onTriplePanStart(e){const r=this.getCenter(e);if(!this.isPointInBounds(r,e))return!1;const n=this.controllerState.rotateStart({pos:r});return this.updateViewport(n,_s,{isDragging:!0}),!0}_onTriplePan(e){if(!this.touchRotate||!this.isDragging())return!1;const r=this.getCenter(e);r[0]-=e.deltaX;const n=this.controllerState.rotate({pos:r});return this.updateViewport(n,_s,{isDragging:!0,isRotating:!0}),!0}_onTriplePanEnd(e){if(!this.isDragging())return!1;const{inertia:r}=this;if(this.touchRotate&&r&&e.velocityY){const n=this.getCenter(e),i=[n[0],n[1]+=e.velocityY*r/2],o=this.controllerState.rotate({pos:i});this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:r,transitionEasing:y0},{isDragging:!1,isRotating:!0}),this.blockEvents(r)}else{const n=this.controllerState.rotateEnd();this.updateViewport(n,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(e){const r=this.getCenter(e);if(!this.isPointInBounds(r,e))return!1;const n=this.controllerState.zoomStart({pos:r}).rotateStart({pos:r});return wa._startPinchRotation=e.rotation,wa._lastPinchEvent=e,this.updateViewport(n,_s,{isDragging:!0}),!0}_onPinch(e){if(!this.touchZoom&&!this.touchRotate||!this.isDragging())return!1;let r=this.controllerState;if(this.touchZoom){const{scale:n}=e,i=this.getCenter(e);r=r.zoom({pos:i,scale:n})}if(this.touchRotate){const{rotation:n}=e;r=r.rotate({deltaAngleX:wa._startPinchRotation-n})}return this.updateViewport(r,_s,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),wa._lastPinchEvent=e,!0}_onPinchEnd(e){if(!this.isDragging())return!1;const{inertia:r}=this,{_lastPinchEvent:n}=wa;if(this.touchZoom&&r&&n&&e.scale!==n.scale){const i=this.getCenter(e);let o=this.controllerState.rotateEnd();const s=Math.log2(e.scale),a=(s-Math.log2(n.scale))/(e.deltaTime-n.deltaTime),l=Math.pow(2,s+a*r/2);o=o.zoom({pos:i,scale:l}).zoomEnd(),this.updateViewport(o,{...this._getTransitionProps({around:i}),transitionDuration:r,transitionEasing:y0},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(r)}else{const i=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(i,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return wa._startPinchRotation=null,wa._lastPinchEvent=null,!0}_onDoubleTap(e){if(!this.doubleClickZoom)return!1;const r=this.getCenter(e);if(!this.isPointInBounds(r,e))return!1;const n=this.isFunctionKeyPressed(e),i=this.controllerState.zoom({pos:r,scale:n?.5:2});return this.updateViewport(i,this._getTransitionProps({around:r}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(e){if(!this.keyboard)return!1;const r=this.isFunctionKeyPressed(e),{zoomSpeed:n,moveSpeed:i,rotateSpeedX:o,rotateSpeedY:s}=this.keyboard===!0?{}:this.keyboard,{controllerState:a}=this;let l;const A={};switch(e.srcEvent.code){case"Minus":l=r?a.zoomOut(n).zoomOut(n):a.zoomOut(n),A.isZooming=!0;break;case"Equal":l=r?a.zoomIn(n).zoomIn(n):a.zoomIn(n),A.isZooming=!0;break;case"ArrowLeft":r?(l=a.rotateLeft(o),A.isRotating=!0):(l=a.moveLeft(i),A.isPanning=!0);break;case"ArrowRight":r?(l=a.rotateRight(o),A.isRotating=!0):(l=a.moveRight(i),A.isPanning=!0);break;case"ArrowUp":r?(l=a.rotateUp(s),A.isRotating=!0):(l=a.moveUp(i),A.isPanning=!0);break;case"ArrowDown":r?(l=a.rotateDown(s),A.isRotating=!0):(l=a.moveDown(i),A.isPanning=!0);break;default:return!1}return this.updateViewport(l,this._getTransitionProps(),A),!0}_getTransitionProps(e){const{transition:r}=this;return!r||!r.transitionInterpolator?_s:e?{...r,transitionInterpolator:new H6({...e,...r.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:r}}class oQ{constructor(e,r){this._viewportProps=this.applyConstraints(e),this._state=r}getViewportProps(){return this._viewportProps}getState(){return this._state}}const oC=5,sQ=1.2;class aQ extends oQ{constructor(e){const{width:r,height:n,latitude:i,longitude:o,zoom:s,bearing:a=0,pitch:l=0,altitude:A=1.5,position:p=[0,0,0],maxZoom:g=20,minZoom:v=0,maxPitch:b=60,minPitch:S=0,startPanLngLat:E,startZoomLngLat:C,startRotatePos:x,startBearing:P,startPitch:T,startZoom:M,normalize:R=!0}=e;Rr(Number.isFinite(o)),Rr(Number.isFinite(i)),Rr(Number.isFinite(s)),super({width:r,height:n,latitude:i,longitude:o,zoom:s,bearing:a,pitch:l,altitude:A,maxZoom:g,minZoom:v,maxPitch:b,minPitch:S,normalize:R,position:p},{startPanLngLat:E,startZoomLngLat:C,startRotatePos:x,startBearing:P,startPitch:T,startZoom:M}),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanLngLat:this._unproject(e)})}pan({pos:e,startPos:r}){const n=this.getState().startPanLngLat||this._unproject(r);if(!n)return this;const o=this.makeViewport(this.getViewportProps()).panByPosition(n,e);return this._getUpdatedState(o)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:e,deltaAngleX:r=0,deltaAngleY:n=0}){const{startRotatePos:i,startBearing:o,startPitch:s}=this.getState();if(!i||o===void 0||s===void 0)return this;let a;return e?a=this._getNewRotation(e,i,s,o):a={bearing:o+r,pitch:s+n},this._getUpdatedState(a)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:e}){return this._getUpdatedState({startZoomLngLat:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:r,scale:n}){let{startZoom:i,startZoomLngLat:o}=this.getState();if(o||(i=this.getViewportProps().zoom,o=this._unproject(r)||this._unproject(e)),!o)return this;const{maxZoom:s,minZoom:a}=this.getViewportProps();let l=i+Math.log2(n);l=ks(l,a,s);const A=this.makeViewport({...this.getViewportProps(),zoom:l});return this._getUpdatedState({zoom:l,...A.panByPosition(o,e)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(e=2){return this._zoomFromCenter(e)}zoomOut(e=2){return this._zoomFromCenter(1/e)}moveLeft(e=100){return this._panFromCenter([e,0])}moveRight(e=100){return this._panFromCenter([-e,0])}moveUp(e=100){return this._panFromCenter([0,e])}moveDown(e=100){return this._panFromCenter([0,-e])}rotateLeft(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}rotateRight(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}rotateUp(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}rotateDown(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}shortestPathFrom(e){const r=e.getViewportProps(),n={...this.getViewportProps()},{bearing:i,longitude:o}=n;return Math.abs(i-r.bearing)>180&&(n.bearing=i<0?i+360:i-360),Math.abs(o-r.longitude)>180&&(n.longitude=o<0?o+360:o-360),n}applyConstraints(e){const{maxZoom:r,minZoom:n,zoom:i}=e;e.zoom=ks(i,n,r);const{maxPitch:o,minPitch:s,pitch:a}=e;e.pitch=ks(a,s,o);const{normalize:l=!0}=e;return l&&Object.assign(e,zY(e)),e}_zoomFromCenter(e){const{width:r,height:n}=this.getViewportProps();return this.zoom({pos:[r/2,n/2],scale:e})}_panFromCenter(e){const{width:r,height:n}=this.getViewportProps();return this.pan({startPos:[r/2,n/2],pos:[r/2+e[0],n/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}_unproject(e){const r=this.makeViewport(this.getViewportProps());return e&&r.unproject(e)}_getNewRotation(e,r,n,i){const o=e[0]-r[0],s=e[1]-r[1],a=e[1],l=r[1],{width:A,height:p}=this.getViewportProps(),g=o/A;let v=0;s>0?Math.abs(p-l)>oC&&(v=s/(l-p)*sQ):s<0&&l>oC&&(v=1-a/l),v=ks(v,-1,1);const{minPitch:b,maxPitch:S}=this.getViewportProps(),E=i+180*g;let C=n;return v>0?C=n+v*(S-n):v<0&&(C=n-v*(b-n)),{pitch:C,bearing:E}}}class lQ extends iQ{constructor(){super(...arguments),this.ControllerState=aQ,this.transition={transitionDuration:300,transitionInterpolator:new H6({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})},this.dragMode="pan"}setProps(e){e.position=e.position||[0,0,0];const r=this.props;super.setProps(e),(!r||r.height!==e.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...e,...this.state}))}}class X6 extends qK{constructor(e={}){super(e)}get ViewportType(){return fE}get ControllerType(){return lQ}}X6.displayName="MapView";const Y6=X6,uQ=new $6;function cQ(t,e){const r=t.order??1/0,n=e.order??1/0;return r-n}class AQ{constructor(e){this._resolvedEffects=[],this._defaultEffects=[],this.effects=[],this._context=e,this._needsRedraw="Initial render",this._setEffects([])}addDefaultEffect(e){const r=this._defaultEffects;if(!r.find(n=>n.id===e.id)){const n=r.findIndex(i=>cQ(i,e)>0);n<0?r.push(e):r.splice(n,0,e),e.setup(this._context),this._setEffects(this.effects)}}setProps(e){"effects"in e&&(zi(e.effects,this.effects,1)||this._setEffects(e.effects))}needsRedraw(e={clearRedrawFlags:!1}){const r=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),r}getEffects(){return this._resolvedEffects}_setEffects(e){const r={};for(const i of this.effects)r[i.id]=i;const n=[];for(const i of e){const o=r[i.id];let s=i;o&&o!==i?o.setProps?(o.setProps(i.props),s=o):o.cleanup(this._context):o||i.setup(this._context),n.push(s),delete r[i.id]}for(const i in r)r[i].cleanup(this._context);this.effects=n,this._resolvedEffects=n.concat(this._defaultEffects),e.some(i=>i instanceof $6)||this._resolvedEffects.push(uQ),this._needsRedraw="effects changed"}finalize(){for(const e of this._resolvedEffects)e.cleanup(this._context);this.effects.length=0,this._resolvedEffects.length=0,this._defaultEffects.length=0}}class fQ extends AE{shouldDrawLayer(e){const{operation:r}=e.props;return r.includes("draw")||r.includes("terrain")}}const hQ="deckRenderer.renderLayers";class dQ{constructor(e){this.device=e,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new fQ(e),this.pickLayersPass=new V6(e),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(e){this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(e){if(!e.viewports.length)return;const r=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass,n={layerFilter:this.layerFilter,isPicking:this.drawPickingColors,...e};n.effects&&this._preRender(n.effects,n);const i=this.lastPostProcessEffect?this.renderBuffers[0]:n.target;this.lastPostProcessEffect&&(n.clearColor=[0,0,0,0],n.clearCanvas=!0);const o=r.render({...n,target:i});n.effects&&this._postRender(n.effects,n),this.renderCount++,dn(hQ,this,o,e)}needsRedraw(e={clearRedrawFlags:!1}){const r=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),r}finalize(){const{renderBuffers:e}=this;for(const r of e)r.delete();e.length=0}_preRender(e,r){this.lastPostProcessEffect=null,r.preRenderStats=r.preRenderStats||{};for(const n of e)r.preRenderStats[n.id]=n.preRender(r),n.postRender&&(this.lastPostProcessEffect=n.id);this.lastPostProcessEffect&&this._resizeRenderBuffers()}_resizeRenderBuffers(){const{renderBuffers:e}=this,r=this.device.canvasContext.getDrawingBufferSize();e.length===0&&[0,1].map(n=>{const i=this.device.createTexture({sampler:{minFilter:"linear",magFilter:"linear"}});e.push(this.device.createFramebuffer({id:`deck-renderbuffer-${n}`,colorAttachments:[i]}))});for(const n of e)n.resize(r)}_postRender(e,r){const{renderBuffers:n}=this,i={...r,inputBuffer:n[0],swapBuffer:n[1]};for(const o of e)if(o.postRender){i.target=o.id===this.lastPostProcessEffect?r.target:void 0;const s=o.postRender(i);i.inputBuffer=s,i.swapBuffer=s===n[0]?n[1]:n[0]}}}const pQ={pickedColor:null,pickedObjectIndex:-1};function gQ({pickedColors:t,decodePickingColor:e,deviceX:r,deviceY:n,deviceRadius:i,deviceRect:o}){const{x:s,y:a,width:l,height:A}=o;let p=i*i,g=-1,v=0;for(let b=0;b<A;b++){const S=b+a-n,E=S*S;if(E>p)v+=4*l;else for(let C=0;C<l;C++){if(t[v+3]-1>=0){const P=C+s-r,T=P*P+E;T<=p&&(p=T,g=v)}v+=4}}if(g>=0){const b=t.slice(g,g+4),S=e(b);if(S){const E=Math.floor(g/4/l),C=g/4-E*l;return{...S,pickedColor:b,pickedX:s+C,pickedY:a+E}}yt.error("Picked non-existent layer. Is picking buffer corrupt?")()}return pQ}function mQ({pickedColors:t,decodePickingColor:e}){const r=new Map;if(t){for(let n=0;n<t.length;n+=4)if(t[n+3]-1>=0){const o=t.slice(n,n+4),s=o.join(",");if(!r.has(s)){const a=e(o);a?r.set(s,{...a,color:o}):yt.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(r.values())}function K6({pickInfo:t,viewports:e,pixelRatio:r,x:n,y:i,z:o}){let s=e[0];e.length>1&&(s=vQ((t==null?void 0:t.pickedViewports)||e,{x:n,y:i}));let a;if(s){const l=[n-s.x,i-s.y];o!==void 0&&(l[2]=o),a=s.unproject(l)}return{color:null,layer:null,viewport:s,index:-1,picked:!1,x:n,y:i,pixel:[n,i],coordinate:a,devicePixel:t&&"pickedX"in t?[t.pickedX,t.pickedY]:void 0,pixelRatio:r}}function yQ(t){const{pickInfo:e,lastPickedInfo:r,mode:n,layers:i}=t,{pickedColor:o,pickedLayer:s,pickedObjectIndex:a}=e,l=s?[s]:[];if(n==="hover"){const g=r.index,v=r.layerId,b=s?s.props.id:null;if(b!==v||a!==g){if(b!==v){const S=i.find(E=>E.props.id===v);S&&l.unshift(S)}r.layerId=b,r.index=a,r.info=null}}const A=K6(t),p=new Map;return p.set(null,A),l.forEach(g=>{let v={...A};g===s&&(v.color=o,v.index=a,v.picked=!0),v=Q6({layer:g,info:v,mode:n});const b=v.layer;g===s&&n==="hover"&&(r.info=v),p.set(b.id,v),n==="hover"&&b.updateAutoHighlight(v)}),p}function Q6({layer:t,info:e,mode:r}){for(;t&&e;){const n=e.layer||null;e.sourceLayer=n,e.layer=t,e=t.getPickingInfo({info:e,mode:r,sourceLayer:n}),t=t.parent}return e}function vQ(t,e){for(let r=t.length-1;r>=0;r--){const n=t[r];if(n.containsPixel(e))return n}return t[0]}class _Q{constructor(e){this._pickable=!0,this.device=e,this.pickLayersPass=new V6(e),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.destroy(),this.depthFBO&&this.depthFBO.destroy()}pickObject(e){return this._pickClosestObject(e)}pickObjects(e){return this._pickVisibleObjects(e)}getLastPickedObject({x:e,y:r,layers:n,viewports:i},o=this.lastPickedInfo.info){const s=o&&o.layer&&o.layer.id,a=o&&o.viewport&&o.viewport.id,l=s?n.find(v=>v.id===s):null,A=a&&i.find(v=>v.id===a)||i[0],p=A&&A.unproject([e-A.x,r-A.y]);return{...o,...{x:e,y:r,viewport:A,coordinate:p,layer:l}}}_resizeBuffer(){var r,n;if(!this.pickingFBO&&(this.pickingFBO=this.device.createFramebuffer({colorAttachments:["rgba8unorm"],depthStencilAttachment:"depth16unorm"}),this.device.isTextureFormatRenderable("rgba32float"))){const i=this.device.createFramebuffer({colorAttachments:["rgba32float"],depthStencilAttachment:"depth16unorm"});this.depthFBO=i}const{canvas:e}=this.device.getCanvasContext();(r=this.pickingFBO)==null||r.resize({width:e.width,height:e.height}),(n=this.depthFBO)==null||n.resize({width:e.width,height:e.height})}_getPickable(e){if(this._pickable===!1)return null;const r=e.filter(n=>this.pickLayersPass.shouldDrawLayer(n)&&!n.isComposite);return r.length?r:null}_pickClosestObject({layers:e,views:r,viewports:n,x:i,y:o,radius:s=0,depth:a=1,mode:l="query",unproject3D:A,onViewportActive:p,effects:g}){const v=this.device.canvasContext.cssToDeviceRatio(),b=this._getPickable(e);if(!b||n.length===0)return{result:[],emptyInfo:K6({viewports:n,x:i,y:o,pixelRatio:v})};this._resizeBuffer();const S=this.device.canvasContext.cssToDevicePixels([i,o],!0),E=[S.x+Math.floor(S.width/2),S.y+Math.floor(S.height/2)],C=Math.round(s*v),{width:x,height:P}=this.pickingFBO,T=this._getPickingRect({deviceX:E[0],deviceY:E[1],deviceRadius:C,deviceWidth:x,deviceHeight:P}),M={x:i-s,y:o-s,width:s*2+1,height:s*2+1};let R;const k=[],D=new Set;for(let $=0;$<a;$++){let W;if(T){const H=this._drawAndSample({layers:b,views:r,viewports:n,onViewportActive:p,deviceRect:T,cullRect:M,effects:g,pass:`picking:${l}`});W=gQ({...H,deviceX:E[0],deviceY:E[1],deviceRadius:C,deviceRect:T})}else W={pickedColor:null,pickedObjectIndex:-1};let N;if(W.pickedLayer&&A&&this.depthFBO){const{pickedColors:H}=this._drawAndSample({layers:[W.pickedLayer],views:r,viewports:n,onViewportActive:p,deviceRect:{x:W.pickedX,y:W.pickedY,width:1,height:1},cullRect:M,effects:g,pass:`picking:${l}:z`},!0);H[3]&&(N=H[0])}W.pickedLayer&&$+1<a&&(D.add(W.pickedLayer),W.pickedLayer.disablePickingIndex(W.pickedObjectIndex)),R=yQ({pickInfo:W,lastPickedInfo:this.lastPickedInfo,mode:l,layers:b,viewports:n,x:i,y:o,z:N,pixelRatio:v});for(const H of R.values())H.layer&&k.push(H);if(!W.pickedColor)break}for(const $ of D)$.restorePickingColors();return{result:k,emptyInfo:R.get(null)}}_pickVisibleObjects({layers:e,views:r,viewports:n,x:i,y:o,width:s=1,height:a=1,mode:l="query",maxObjects:A=null,onViewportActive:p,effects:g}){const v=this._getPickable(e);if(!v||n.length===0)return[];this._resizeBuffer();const b=this.device.canvasContext.cssToDeviceRatio(),S=this.device.canvasContext.cssToDevicePixels([i,o],!0),E=S.x,C=S.y+S.height,x=this.device.canvasContext.cssToDevicePixels([i+s,o+a],!0),P=x.x+x.width,T=x.y,M={x:E,y:T,width:P-E,height:C-T},R=this._drawAndSample({layers:v,views:r,viewports:n,onViewportActive:p,deviceRect:M,cullRect:{x:i,y:o,width:s,height:a},effects:g,pass:`picking:${l}`}),k=mQ(R),D=new Map,$=[],W=Number.isFinite(A);for(let N=0;N<k.length&&!(W&&$.length>=A);N++){const H=k[N];let Q={color:H.pickedColor,layer:null,index:H.pickedObjectIndex,picked:!0,x:i,y:o,pixelRatio:b};Q=Q6({layer:H.pickedLayer,info:Q,mode:l});const re=Q.layer.id;D.has(re)||D.set(re,new Set);const ne=D.get(re),J=Q.object??Q.index;ne.has(J)||(ne.add(J),$.push(Q))}return $}_drawAndSample({layers:e,views:r,viewports:n,onViewportActive:i,deviceRect:o,cullRect:s,effects:a,pass:l},A=!1){const p=A?this.depthFBO:this.pickingFBO,g={layers:e,layerFilter:this.layerFilter,views:r,viewports:n,onViewportActive:i,pickingFBO:p,deviceRect:o,cullRect:s,effects:a,pass:l,pickZ:A,preRenderStats:{}};for(const P of a)P.useInPicking&&(g.preRenderStats[P.id]=P.preRender(g));const{decodePickingColor:v}=this.pickLayersPass.render(g),{x:b,y:S,width:E,height:C}=o,x=new(A?Float32Array:Uint8Array)(E*C*4);return this.device.readPixelsToArrayWebGL(p,{sourceX:b,sourceY:S,sourceWidth:E,sourceHeight:C,target:x}),{pickedColors:x,decodePickingColor:v}}_getPickingRect({deviceX:e,deviceY:r,deviceRadius:n,deviceWidth:i,deviceHeight:o}){const s=Math.max(0,e-n),a=Math.max(0,r-n),l=Math.min(i,e+n+1)-s,A=Math.min(o,r+n+1)-a;return l<=0||A<=0?null:{x:s,y:a,width:l,height:A}}}const bQ={"top-left":{top:0,left:0},"top-right":{top:0,right:0},"bottom-left":{bottom:0,left:0},"bottom-right":{bottom:0,right:0},fill:{top:0,left:0,bottom:0,right:0}},wQ="top-left",sC="__root";class SQ{constructor({deck:e,parentElement:r}){this.defaultWidgets=[],this.widgets=[],this.resolvedWidgets=[],this.containers={},this.lastViewports={},this.deck=e,this.parentElement=r}getWidgets(){return this.resolvedWidgets}setProps(e){e.widgets&&!zi(e.widgets,this.widgets,1)&&this._setWidgets(e.widgets)}finalize(){for(const e of this.getWidgets())this._remove(e);this.defaultWidgets.length=0,this.resolvedWidgets.length=0;for(const e in this.containers)this.containers[e].remove()}addDefault(e){this.defaultWidgets.find(r=>r.id===e.id)||(this._add(e),this.defaultWidgets.push(e),this._setWidgets(this.widgets))}_setWidgets(e){const r={};for(const n of this.resolvedWidgets)r[n.id]=n;this.resolvedWidgets.length=0;for(const n of this.defaultWidgets)r[n.id]=null,this.resolvedWidgets.push(n);for(let n of e){const i=r[n.id];i?i.viewId!==n.viewId||i.placement!==n.placement?(this._remove(i),this._add(n)):n!==i&&(i.setProps(n.props),n=i):this._add(n),r[n.id]=null,this.resolvedWidgets.push(n)}for(const n in r){const i=r[n];i&&this._remove(i)}this.widgets=e}_add(e){const{viewId:r=null,placement:n=wQ}=e,i=e.onAdd({deck:this.deck,viewId:r});i&&this._getContainer(r,n).append(i),e._element=i}_remove(e){e.onRemove(),e._element&&e._element.remove(),e._element=void 0}_getContainer(e,r){var s;const n=e||sC;let i=this.containers[n];i||(i=document.createElement("div"),i.style.pointerEvents="none",i.style.position="absolute",i.style.overflow="hidden",(s=this.parentElement)==null||s.append(i),this.containers[n]=i);let o=i.querySelector(`.${r}`);return o||(o=document.createElement("div"),o.className=r,o.style.position="absolute",o.style.zIndex="2",Object.assign(o.style,bQ[r]),i.append(o)),o}_updateContainers(){const e=this.deck.width,r=this.deck.height;for(const n in this.containers){const i=this.lastViewports[n]||null,o=n===sC||i,s=this.containers[n];o?(s.style.display="block",s.style.left=`${i?i.x:0}px`,s.style.top=`${i?i.y:0}px`,s.style.width=`${i?i.width:e}px`,s.style.height=`${i?i.height:r}px`):s.style.display="none"}}onRedraw({viewports:e,layers:r}){var o,s;const n=e.reduce((a,l)=>(a[l.id]=l,a),{}),{lastViewports:i}=this;for(const a of this.getWidgets()){const{viewId:l}=a;if(l){const A=n[l];A&&(a.onViewportChange&&!A.equals(i[l])&&a.onViewportChange(A),(o=a.onRedraw)==null||o.call(a,{viewports:[A],layers:r}))}else{if(a.onViewportChange)for(const A of e)A.equals(i[A.id])||a.onViewportChange(A);(s=a.onRedraw)==null||s.call(a,{viewports:e,layers:r})}}this.lastViewports=n,this._updateContainers()}onHover(e,r){var n,i;for(const o of this.getWidgets()){const{viewId:s}=o;(!s||s===((n=e.viewport)==null?void 0:n.id))&&((i=o.onHover)==null||i.call(o,e,r))}}onEvent(e,r){var i,o;const n=Wb[r.type];if(n)for(const s of this.getWidgets()){const{viewId:a}=s;(!a||a===((i=e.viewport)==null?void 0:i.id))&&((o=s[n.handler])==null||o.call(s,e,r))}}}const EQ={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};let TQ=class{constructor(){this.id="default-tooltip",this.placement="fill",this.props={},this.isVisible=!1}onAdd({deck:e}){const r=document.createElement("div");return r.className="deck-tooltip",Object.assign(r.style,EQ),this.deck=e,this.element=r,r}onRemove(){this.deck=void 0,this.element=void 0}setProps(){}onViewportChange(e){var r;this.isVisible&&e.id===((r=this.lastViewport)==null?void 0:r.id)&&e!==this.lastViewport&&this.setTooltip(null)}onHover(e){const{deck:r}=this,n=r&&r.props.getTooltip;if(!n)return;const i=n(e);this.lastViewport=e.viewport,this.setTooltip(i,e.x,e.y)}setTooltip(e,r,n){const i=this.element;if(i){if(typeof e=="string")i.innerText=e;else if(e)e.text&&(i.innerText=e.text),e.html&&(i.innerHTML=e.html),e.className&&(i.className=e.className);else{this.isVisible=!1,i.style.display="none";return}this.isVisible=!0,i.style.display="block",i.style.transform=`translate(${r}px, ${n}px)`,e&&typeof e=="object"&&"style"in e&&Object.assign(i.style,e.style)}}};var mu;(function(t){t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.FUNC_ADD=32774]="FUNC_ADD",t[t.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",t[t.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",t[t.BLEND_EQUATION=32777]="BLEND_EQUATION",t[t.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",t[t.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",t[t.BLEND_DST_RGB=32968]="BLEND_DST_RGB",t[t.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",t[t.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",t[t.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",t[t.BLEND_COLOR=32773]="BLEND_COLOR",t[t.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",t[t.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t.LINE_WIDTH=2849]="LINE_WIDTH",t[t.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",t[t.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",t[t.CULL_FACE_MODE=2885]="CULL_FACE_MODE",t[t.FRONT_FACE=2886]="FRONT_FACE",t[t.DEPTH_RANGE=2928]="DEPTH_RANGE",t[t.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",t[t.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",t[t.DEPTH_FUNC=2932]="DEPTH_FUNC",t[t.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",t[t.STENCIL_FUNC=2962]="STENCIL_FUNC",t[t.STENCIL_FAIL=2964]="STENCIL_FAIL",t[t.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",t[t.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",t[t.STENCIL_REF=2967]="STENCIL_REF",t[t.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",t[t.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",t[t.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",t[t.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",t[t.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",t[t.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",t[t.VIEWPORT=2978]="VIEWPORT",t[t.SCISSOR_BOX=3088]="SCISSOR_BOX",t[t.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",t[t.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",t[t.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",t[t.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",t[t.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",t[t.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",t[t.RED_BITS=3410]="RED_BITS",t[t.GREEN_BITS=3411]="GREEN_BITS",t[t.BLUE_BITS=3412]="BLUE_BITS",t[t.ALPHA_BITS=3413]="ALPHA_BITS",t[t.DEPTH_BITS=3414]="DEPTH_BITS",t[t.STENCIL_BITS=3415]="STENCIL_BITS",t[t.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",t[t.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",t[t.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",t[t.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",t[t.SAMPLES=32937]="SAMPLES",t[t.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",t[t.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",t[t.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",t[t.VENDOR=7936]="VENDOR",t[t.RENDERER=7937]="RENDERER",t[t.VERSION=7938]="VERSION",t[t.IMPLEMENTATION_COLOR_READ_TYPE=35738]="IMPLEMENTATION_COLOR_READ_TYPE",t[t.IMPLEMENTATION_COLOR_READ_FORMAT=35739]="IMPLEMENTATION_COLOR_READ_FORMAT",t[t.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.BUFFER_SIZE=34660]="BUFFER_SIZE",t[t.BUFFER_USAGE=34661]="BUFFER_USAGE",t[t.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",t[t.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t.CULL_FACE=2884]="CULL_FACE",t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK",t[t.BLEND=3042]="BLEND",t[t.DEPTH_TEST=2929]="DEPTH_TEST",t[t.DITHER=3024]="DITHER",t[t.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",t[t.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",t[t.SCISSOR_TEST=3089]="SCISSOR_TEST",t[t.STENCIL_TEST=2960]="STENCIL_TEST",t[t.NO_ERROR=0]="NO_ERROR",t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",t[t.CW=2304]="CW",t[t.CCW=2305]="CCW",t[t.DONT_CARE=4352]="DONT_CARE",t[t.FASTEST=4353]="FASTEST",t[t.NICEST=4354]="NICEST",t[t.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.DOUBLE=5130]="DOUBLE",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER",t[t.COMPILE_STATUS=35713]="COMPILE_STATUS",t[t.DELETE_STATUS=35712]="DELETE_STATUS",t[t.LINK_STATUS=35714]="LINK_STATUS",t[t.VALIDATE_STATUS=35715]="VALIDATE_STATUS",t[t.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",t[t.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",t[t.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",t[t.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",t[t.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",t[t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t.SHADER_TYPE=35663]="SHADER_TYPE",t[t.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",t[t.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP",t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",t[t.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",t[t.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",t[t.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",t[t.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE=5890]="TEXTURE",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t.TEXTURE0=33984]="TEXTURE0",t[t.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",t[t.REPEAT=10497]="REPEAT",t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.TEXTURE_WIDTH=4096]="TEXTURE_WIDTH",t[t.TEXTURE_HEIGHT=4097]="TEXTURE_HEIGHT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.LOW_FLOAT=36336]="LOW_FLOAT",t[t.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",t[t.HIGH_FLOAT=36338]="HIGH_FLOAT",t[t.LOW_INT=36339]="LOW_INT",t[t.MEDIUM_INT=36340]="MEDIUM_INT",t[t.HIGH_INT=36341]="HIGH_INT",t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.RENDERBUFFER=36161]="RENDERBUFFER",t[t.RGBA4=32854]="RGBA4",t[t.RGB5_A1=32855]="RGB5_A1",t[t.RGB565=36194]="RGB565",t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX=6401]="STENCIL_INDEX",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",t[t.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",t[t.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",t[t.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",t[t.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",t[t.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",t[t.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",t[t.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",t[t.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",t[t.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",t[t.NONE=0]="NONE",t[t.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",t[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",t[t.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",t[t.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",t[t.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",t[t.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",t[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t.READ_BUFFER=3074]="READ_BUFFER",t[t.UNPACK_ROW_LENGTH=3314]="UNPACK_ROW_LENGTH",t[t.UNPACK_SKIP_ROWS=3315]="UNPACK_SKIP_ROWS",t[t.UNPACK_SKIP_PIXELS=3316]="UNPACK_SKIP_PIXELS",t[t.PACK_ROW_LENGTH=3330]="PACK_ROW_LENGTH",t[t.PACK_SKIP_ROWS=3331]="PACK_SKIP_ROWS",t[t.PACK_SKIP_PIXELS=3332]="PACK_SKIP_PIXELS",t[t.TEXTURE_BINDING_3D=32874]="TEXTURE_BINDING_3D",t[t.UNPACK_SKIP_IMAGES=32877]="UNPACK_SKIP_IMAGES",t[t.UNPACK_IMAGE_HEIGHT=32878]="UNPACK_IMAGE_HEIGHT",t[t.MAX_3D_TEXTURE_SIZE=32883]="MAX_3D_TEXTURE_SIZE",t[t.MAX_ELEMENTS_VERTICES=33e3]="MAX_ELEMENTS_VERTICES",t[t.MAX_ELEMENTS_INDICES=33001]="MAX_ELEMENTS_INDICES",t[t.MAX_TEXTURE_LOD_BIAS=34045]="MAX_TEXTURE_LOD_BIAS",t[t.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]="MAX_FRAGMENT_UNIFORM_COMPONENTS",t[t.MAX_VERTEX_UNIFORM_COMPONENTS=35658]="MAX_VERTEX_UNIFORM_COMPONENTS",t[t.MAX_ARRAY_TEXTURE_LAYERS=35071]="MAX_ARRAY_TEXTURE_LAYERS",t[t.MIN_PROGRAM_TEXEL_OFFSET=35076]="MIN_PROGRAM_TEXEL_OFFSET",t[t.MAX_PROGRAM_TEXEL_OFFSET=35077]="MAX_PROGRAM_TEXEL_OFFSET",t[t.MAX_VARYING_COMPONENTS=35659]="MAX_VARYING_COMPONENTS",t[t.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT",t[t.RASTERIZER_DISCARD=35977]="RASTERIZER_DISCARD",t[t.VERTEX_ARRAY_BINDING=34229]="VERTEX_ARRAY_BINDING",t[t.MAX_VERTEX_OUTPUT_COMPONENTS=37154]="MAX_VERTEX_OUTPUT_COMPONENTS",t[t.MAX_FRAGMENT_INPUT_COMPONENTS=37157]="MAX_FRAGMENT_INPUT_COMPONENTS",t[t.MAX_SERVER_WAIT_TIMEOUT=37137]="MAX_SERVER_WAIT_TIMEOUT",t[t.MAX_ELEMENT_INDEX=36203]="MAX_ELEMENT_INDEX",t[t.RED=6403]="RED",t[t.RGB8=32849]="RGB8",t[t.RGBA8=32856]="RGBA8",t[t.RGB10_A2=32857]="RGB10_A2",t[t.TEXTURE_3D=32879]="TEXTURE_3D",t[t.TEXTURE_WRAP_R=32882]="TEXTURE_WRAP_R",t[t.TEXTURE_MIN_LOD=33082]="TEXTURE_MIN_LOD",t[t.TEXTURE_MAX_LOD=33083]="TEXTURE_MAX_LOD",t[t.TEXTURE_BASE_LEVEL=33084]="TEXTURE_BASE_LEVEL",t[t.TEXTURE_MAX_LEVEL=33085]="TEXTURE_MAX_LEVEL",t[t.TEXTURE_COMPARE_MODE=34892]="TEXTURE_COMPARE_MODE",t[t.TEXTURE_COMPARE_FUNC=34893]="TEXTURE_COMPARE_FUNC",t[t.SRGB=35904]="SRGB",t[t.SRGB8=35905]="SRGB8",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.COMPARE_REF_TO_TEXTURE=34894]="COMPARE_REF_TO_TEXTURE",t[t.RGBA32F=34836]="RGBA32F",t[t.RGB32F=34837]="RGB32F",t[t.RGBA16F=34842]="RGBA16F",t[t.RGB16F=34843]="RGB16F",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_BINDING_2D_ARRAY=35869]="TEXTURE_BINDING_2D_ARRAY",t[t.R11F_G11F_B10F=35898]="R11F_G11F_B10F",t[t.RGB9_E5=35901]="RGB9_E5",t[t.RGBA32UI=36208]="RGBA32UI",t[t.RGB32UI=36209]="RGB32UI",t[t.RGBA16UI=36214]="RGBA16UI",t[t.RGB16UI=36215]="RGB16UI",t[t.RGBA8UI=36220]="RGBA8UI",t[t.RGB8UI=36221]="RGB8UI",t[t.RGBA32I=36226]="RGBA32I",t[t.RGB32I=36227]="RGB32I",t[t.RGBA16I=36232]="RGBA16I",t[t.RGB16I=36233]="RGB16I",t[t.RGBA8I=36238]="RGBA8I",t[t.RGB8I=36239]="RGB8I",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.R8=33321]="R8",t[t.RG8=33323]="RG8",t[t.R16F=33325]="R16F",t[t.R32F=33326]="R32F",t[t.RG16F=33327]="RG16F",t[t.RG32F=33328]="RG32F",t[t.R8I=33329]="R8I",t[t.R8UI=33330]="R8UI",t[t.R16I=33331]="R16I",t[t.R16UI=33332]="R16UI",t[t.R32I=33333]="R32I",t[t.R32UI=33334]="R32UI",t[t.RG8I=33335]="RG8I",t[t.RG8UI=33336]="RG8UI",t[t.RG16I=33337]="RG16I",t[t.RG16UI=33338]="RG16UI",t[t.RG32I=33339]="RG32I",t[t.RG32UI=33340]="RG32UI",t[t.R8_SNORM=36756]="R8_SNORM",t[t.RG8_SNORM=36757]="RG8_SNORM",t[t.RGB8_SNORM=36758]="RGB8_SNORM",t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGB10_A2UI=36975]="RGB10_A2UI",t[t.TEXTURE_IMMUTABLE_FORMAT=37167]="TEXTURE_IMMUTABLE_FORMAT",t[t.TEXTURE_IMMUTABLE_LEVELS=33503]="TEXTURE_IMMUTABLE_LEVELS",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.HALF_FLOAT=5131]="HALF_FLOAT",t[t.RG=33319]="RG",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.INT_2_10_10_10_REV=36255]="INT_2_10_10_10_REV",t[t.CURRENT_QUERY=34917]="CURRENT_QUERY",t[t.QUERY_RESULT=34918]="QUERY_RESULT",t[t.QUERY_RESULT_AVAILABLE=34919]="QUERY_RESULT_AVAILABLE",t[t.ANY_SAMPLES_PASSED=35887]="ANY_SAMPLES_PASSED",t[t.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]="ANY_SAMPLES_PASSED_CONSERVATIVE",t[t.MAX_DRAW_BUFFERS=34852]="MAX_DRAW_BUFFERS",t[t.DRAW_BUFFER0=34853]="DRAW_BUFFER0",t[t.DRAW_BUFFER1=34854]="DRAW_BUFFER1",t[t.DRAW_BUFFER2=34855]="DRAW_BUFFER2",t[t.DRAW_BUFFER3=34856]="DRAW_BUFFER3",t[t.DRAW_BUFFER4=34857]="DRAW_BUFFER4",t[t.DRAW_BUFFER5=34858]="DRAW_BUFFER5",t[t.DRAW_BUFFER6=34859]="DRAW_BUFFER6",t[t.DRAW_BUFFER7=34860]="DRAW_BUFFER7",t[t.DRAW_BUFFER8=34861]="DRAW_BUFFER8",t[t.DRAW_BUFFER9=34862]="DRAW_BUFFER9",t[t.DRAW_BUFFER10=34863]="DRAW_BUFFER10",t[t.DRAW_BUFFER11=34864]="DRAW_BUFFER11",t[t.DRAW_BUFFER12=34865]="DRAW_BUFFER12",t[t.DRAW_BUFFER13=34866]="DRAW_BUFFER13",t[t.DRAW_BUFFER14=34867]="DRAW_BUFFER14",t[t.DRAW_BUFFER15=34868]="DRAW_BUFFER15",t[t.MAX_COLOR_ATTACHMENTS=36063]="MAX_COLOR_ATTACHMENTS",t[t.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",t[t.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",t[t.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",t[t.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",t[t.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",t[t.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",t[t.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",t[t.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",t[t.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",t[t.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",t[t.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",t[t.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",t[t.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",t[t.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",t[t.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15",t[t.SAMPLER_3D=35679]="SAMPLER_3D",t[t.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",t[t.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",t[t.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",t[t.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",t[t.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",t[t.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",t[t.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",t[t.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",t[t.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",t[t.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",t[t.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",t[t.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",t[t.MAX_SAMPLES=36183]="MAX_SAMPLES",t[t.SAMPLER_BINDING=35097]="SAMPLER_BINDING",t[t.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",t[t.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",t[t.PIXEL_PACK_BUFFER_BINDING=35053]="PIXEL_PACK_BUFFER_BINDING",t[t.PIXEL_UNPACK_BUFFER_BINDING=35055]="PIXEL_UNPACK_BUFFER_BINDING",t[t.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",t[t.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",t[t.COPY_READ_BUFFER_BINDING=36662]="COPY_READ_BUFFER_BINDING",t[t.COPY_WRITE_BUFFER_BINDING=36663]="COPY_WRITE_BUFFER_BINDING",t[t.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",t[t.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",t[t.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",t[t.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",t[t.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",t[t.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",t[t.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",t[t.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",t[t.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",t[t.UNSIGNED_NORMALIZED=35863]="UNSIGNED_NORMALIZED",t[t.SIGNED_NORMALIZED=36764]="SIGNED_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_INTEGER=35069]="VERTEX_ATTRIB_ARRAY_INTEGER",t[t.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR",t[t.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]="TRANSFORM_FEEDBACK_BUFFER_MODE",t[t.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]="MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",t[t.TRANSFORM_FEEDBACK_VARYINGS=35971]="TRANSFORM_FEEDBACK_VARYINGS",t[t.TRANSFORM_FEEDBACK_BUFFER_START=35972]="TRANSFORM_FEEDBACK_BUFFER_START",t[t.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]="TRANSFORM_FEEDBACK_BUFFER_SIZE",t[t.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]="TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",t[t.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]="MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",t[t.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]="MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",t[t.INTERLEAVED_ATTRIBS=35980]="INTERLEAVED_ATTRIBS",t[t.SEPARATE_ATTRIBS=35981]="SEPARATE_ATTRIBS",t[t.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",t[t.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]="TRANSFORM_FEEDBACK_BUFFER_BINDING",t[t.TRANSFORM_FEEDBACK=36386]="TRANSFORM_FEEDBACK",t[t.TRANSFORM_FEEDBACK_PAUSED=36387]="TRANSFORM_FEEDBACK_PAUSED",t[t.TRANSFORM_FEEDBACK_ACTIVE=36388]="TRANSFORM_FEEDBACK_ACTIVE",t[t.TRANSFORM_FEEDBACK_BINDING=36389]="TRANSFORM_FEEDBACK_BINDING",t[t.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",t[t.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]="FRAMEBUFFER_ATTACHMENT_RED_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]="FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]="FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]="FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]="FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]="FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",t[t.FRAMEBUFFER_DEFAULT=33304]="FRAMEBUFFER_DEFAULT",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.DRAW_FRAMEBUFFER_BINDING=36006]="DRAW_FRAMEBUFFER_BINDING",t[t.READ_FRAMEBUFFER_BINDING=36010]="READ_FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_SAMPLES=36011]="RENDERBUFFER_SAMPLES",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",t[t.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t[t.UNIFORM_BUFFER_BINDING=35368]="UNIFORM_BUFFER_BINDING",t[t.UNIFORM_BUFFER_START=35369]="UNIFORM_BUFFER_START",t[t.UNIFORM_BUFFER_SIZE=35370]="UNIFORM_BUFFER_SIZE",t[t.MAX_VERTEX_UNIFORM_BLOCKS=35371]="MAX_VERTEX_UNIFORM_BLOCKS",t[t.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]="MAX_FRAGMENT_UNIFORM_BLOCKS",t[t.MAX_COMBINED_UNIFORM_BLOCKS=35374]="MAX_COMBINED_UNIFORM_BLOCKS",t[t.MAX_UNIFORM_BUFFER_BINDINGS=35375]="MAX_UNIFORM_BUFFER_BINDINGS",t[t.MAX_UNIFORM_BLOCK_SIZE=35376]="MAX_UNIFORM_BLOCK_SIZE",t[t.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]="MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",t[t.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]="MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",t[t.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]="UNIFORM_BUFFER_OFFSET_ALIGNMENT",t[t.ACTIVE_UNIFORM_BLOCKS=35382]="ACTIVE_UNIFORM_BLOCKS",t[t.UNIFORM_TYPE=35383]="UNIFORM_TYPE",t[t.UNIFORM_SIZE=35384]="UNIFORM_SIZE",t[t.UNIFORM_BLOCK_INDEX=35386]="UNIFORM_BLOCK_INDEX",t[t.UNIFORM_OFFSET=35387]="UNIFORM_OFFSET",t[t.UNIFORM_ARRAY_STRIDE=35388]="UNIFORM_ARRAY_STRIDE",t[t.UNIFORM_MATRIX_STRIDE=35389]="UNIFORM_MATRIX_STRIDE",t[t.UNIFORM_IS_ROW_MAJOR=35390]="UNIFORM_IS_ROW_MAJOR",t[t.UNIFORM_BLOCK_BINDING=35391]="UNIFORM_BLOCK_BINDING",t[t.UNIFORM_BLOCK_DATA_SIZE=35392]="UNIFORM_BLOCK_DATA_SIZE",t[t.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]="UNIFORM_BLOCK_ACTIVE_UNIFORMS",t[t.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]="UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",t[t.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]="UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",t[t.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]="UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",t[t.OBJECT_TYPE=37138]="OBJECT_TYPE",t[t.SYNC_CONDITION=37139]="SYNC_CONDITION",t[t.SYNC_STATUS=37140]="SYNC_STATUS",t[t.SYNC_FLAGS=37141]="SYNC_FLAGS",t[t.SYNC_FENCE=37142]="SYNC_FENCE",t[t.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",t[t.UNSIGNALED=37144]="UNSIGNALED",t[t.SIGNALED=37145]="SIGNALED",t[t.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",t[t.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",t[t.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",t[t.WAIT_FAILED=37149]="WAIT_FAILED",t[t.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",t[t.COLOR=6144]="COLOR",t[t.DEPTH=6145]="DEPTH",t[t.STENCIL=6146]="STENCIL",t[t.MIN=32775]="MIN",t[t.MAX=32776]="MAX",t[t.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",t[t.STREAM_READ=35041]="STREAM_READ",t[t.STREAM_COPY=35042]="STREAM_COPY",t[t.STATIC_READ=35045]="STATIC_READ",t[t.STATIC_COPY=35046]="STATIC_COPY",t[t.DYNAMIC_READ=35049]="DYNAMIC_READ",t[t.DYNAMIC_COPY=35050]="DYNAMIC_COPY",t[t.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",t[t.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",t[t.INVALID_INDEX=4294967295]="INVALID_INDEX",t[t.TIMEOUT_IGNORED=-1]="TIMEOUT_IGNORED",t[t.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]="MAX_CLIENT_WAIT_TIMEOUT_WEBGL",t[t.UNMASKED_VENDOR_WEBGL=37445]="UNMASKED_VENDOR_WEBGL",t[t.UNMASKED_RENDERER_WEBGL=37446]="UNMASKED_RENDERER_WEBGL",t[t.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047]="MAX_TEXTURE_MAX_ANISOTROPY_EXT",t[t.TEXTURE_MAX_ANISOTROPY_EXT=34046]="TEXTURE_MAX_ANISOTROPY_EXT",t[t.R16_EXT=33322]="R16_EXT",t[t.RG16_EXT=33324]="RG16_EXT",t[t.RGB16_EXT=32852]="RGB16_EXT",t[t.RGBA16_EXT=32859]="RGBA16_EXT",t[t.R16_SNORM_EXT=36760]="R16_SNORM_EXT",t[t.RG16_SNORM_EXT=36761]="RG16_SNORM_EXT",t[t.RGB16_SNORM_EXT=36762]="RGB16_SNORM_EXT",t[t.RGBA16_SNORM_EXT=36763]="RGBA16_SNORM_EXT",t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_RED_RGTC1_EXT=36283]="COMPRESSED_RED_RGTC1_EXT",t[t.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284]="COMPRESSED_SIGNED_RED_RGTC1_EXT",t[t.COMPRESSED_RED_GREEN_RGTC2_EXT=36285]="COMPRESSED_RED_GREEN_RGTC2_EXT",t[t.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286]="COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x4_KHR=37809]="COMPRESSED_RGBA_ASTC_5x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x5_KHR=37810]="COMPRESSED_RGBA_ASTC_5x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x5_KHR=37811]="COMPRESSED_RGBA_ASTC_6x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x6_KHR=37812]="COMPRESSED_RGBA_ASTC_6x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x5_KHR=37813]="COMPRESSED_RGBA_ASTC_8x5_KHR",t[t.COMPRESSED_RGBA_ASTC_8x6_KHR=37814]="COMPRESSED_RGBA_ASTC_8x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x8_KHR=37815]="COMPRESSED_RGBA_ASTC_8x8_KHR",t[t.COMPRESSED_RGBA_ASTC_10x5_KHR=37816]="COMPRESSED_RGBA_ASTC_10x5_KHR",t[t.COMPRESSED_RGBA_ASTC_10x6_KHR=37817]="COMPRESSED_RGBA_ASTC_10x6_KHR",t[t.COMPRESSED_RGBA_ASTC_10x8_KHR=37818]="COMPRESSED_RGBA_ASTC_10x8_KHR",t[t.COMPRESSED_RGBA_ASTC_10x10_KHR=37819]="COMPRESSED_RGBA_ASTC_10x10_KHR",t[t.COMPRESSED_RGBA_ASTC_12x10_KHR=37820]="COMPRESSED_RGBA_ASTC_12x10_KHR",t[t.COMPRESSED_RGBA_ASTC_12x12_KHR=37821]="COMPRESSED_RGBA_ASTC_12x12_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840]="COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37848]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=37851]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",t[t.QUERY_COUNTER_BITS_EXT=34916]="QUERY_COUNTER_BITS_EXT",t[t.CURRENT_QUERY_EXT=34917]="CURRENT_QUERY_EXT",t[t.QUERY_RESULT_EXT=34918]="QUERY_RESULT_EXT",t[t.QUERY_RESULT_AVAILABLE_EXT=34919]="QUERY_RESULT_AVAILABLE_EXT",t[t.TIME_ELAPSED_EXT=35007]="TIME_ELAPSED_EXT",t[t.TIMESTAMP_EXT=36392]="TIMESTAMP_EXT",t[t.GPU_DISJOINT_EXT=36795]="GPU_DISJOINT_EXT",t[t.COMPLETION_STATUS_KHR=37297]="COMPLETION_STATUS_KHR",t[t.DEPTH_CLAMP_EXT=34383]="DEPTH_CLAMP_EXT",t[t.FIRST_VERTEX_CONVENTION_WEBGL=36429]="FIRST_VERTEX_CONVENTION_WEBGL",t[t.LAST_VERTEX_CONVENTION_WEBGL=36430]="LAST_VERTEX_CONVENTION_WEBGL",t[t.PROVOKING_VERTEX_WEBL=36431]="PROVOKING_VERTEX_WEBL",t[t.POLYGON_MODE_WEBGL=2880]="POLYGON_MODE_WEBGL",t[t.POLYGON_OFFSET_LINE_WEBGL=10754]="POLYGON_OFFSET_LINE_WEBGL",t[t.LINE_WEBGL=6913]="LINE_WEBGL",t[t.FILL_WEBGL=6914]="FILL_WEBGL",t[t.MAX_CLIP_DISTANCES_WEBGL=3378]="MAX_CLIP_DISTANCES_WEBGL",t[t.MAX_CULL_DISTANCES_WEBGL=33529]="MAX_CULL_DISTANCES_WEBGL",t[t.MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL=33530]="MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL",t[t.CLIP_DISTANCE0_WEBGL=12288]="CLIP_DISTANCE0_WEBGL",t[t.CLIP_DISTANCE1_WEBGL=12289]="CLIP_DISTANCE1_WEBGL",t[t.CLIP_DISTANCE2_WEBGL=12290]="CLIP_DISTANCE2_WEBGL",t[t.CLIP_DISTANCE3_WEBGL=12291]="CLIP_DISTANCE3_WEBGL",t[t.CLIP_DISTANCE4_WEBGL=12292]="CLIP_DISTANCE4_WEBGL",t[t.CLIP_DISTANCE5_WEBGL=12293]="CLIP_DISTANCE5_WEBGL",t[t.CLIP_DISTANCE6_WEBGL=12294]="CLIP_DISTANCE6_WEBGL",t[t.CLIP_DISTANCE7_WEBGL=12295]="CLIP_DISTANCE7_WEBGL",t[t.POLYGON_OFFSET_CLAMP_EXT=36379]="POLYGON_OFFSET_CLAMP_EXT",t[t.LOWER_LEFT_EXT=36001]="LOWER_LEFT_EXT",t[t.UPPER_LEFT_EXT=36002]="UPPER_LEFT_EXT",t[t.NEGATIVE_ONE_TO_ONE_EXT=37726]="NEGATIVE_ONE_TO_ONE_EXT",t[t.ZERO_TO_ONE_EXT=37727]="ZERO_TO_ONE_EXT",t[t.CLIP_ORIGIN_EXT=37724]="CLIP_ORIGIN_EXT",t[t.CLIP_DEPTH_MODE_EXT=37725]="CLIP_DEPTH_MODE_EXT",t[t.SRC1_COLOR_WEBGL=35065]="SRC1_COLOR_WEBGL",t[t.SRC1_ALPHA_WEBGL=34185]="SRC1_ALPHA_WEBGL",t[t.ONE_MINUS_SRC1_COLOR_WEBGL=35066]="ONE_MINUS_SRC1_COLOR_WEBGL",t[t.ONE_MINUS_SRC1_ALPHA_WEBGL=35067]="ONE_MINUS_SRC1_ALPHA_WEBGL",t[t.MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL=35068]="MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL",t[t.MIRROR_CLAMP_TO_EDGE_EXT=34627]="MIRROR_CLAMP_TO_EDGE_EXT"})(mu||(mu={}));const hE={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,35725:null,36006:null,36007:null,34229:null,34964:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32926:!1,32928:!1,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],36389:null,36662:null,36663:null,35053:null,35055:null,35723:4352,36010:null,35977:!1,3333:4,3317:4,37440:!1,37441:!1,37443:37444,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},Cr=(t,e,r)=>e?t.enable(r):t.disable(r),aC=(t,e,r)=>t.hint(r,e),zn=(t,e,r)=>t.pixelStorei(r,e),lC=(t,e,r)=>{const n=r===36006?36009:36008;return t.bindFramebuffer(n,e)},TA=(t,e,r)=>{const i={34964:34962,36662:36662,36663:36663,35053:35051,35055:35052}[r];t.bindBuffer(i,e)};function C_(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}const xQ={3042:Cr,32773:(t,e)=>t.blendColor(...e),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(t,e)=>t.clearColor(...e),3107:(t,e)=>t.colorMask(...e),2884:Cr,2885:(t,e)=>t.cullFace(e),2929:Cr,2931:(t,e)=>t.clearDepth(e),2932:(t,e)=>t.depthFunc(e),2928:(t,e)=>t.depthRange(...e),2930:(t,e)=>t.depthMask(e),3024:Cr,35723:aC,35725:(t,e)=>t.useProgram(e),36007:(t,e)=>t.bindRenderbuffer(36161,e),36389:(t,e)=>{var r;return(r=t.bindTransformFeedback)==null?void 0:r.call(t,36386,e)},34229:(t,e)=>t.bindVertexArray(e),36006:lC,36010:lC,34964:TA,36662:TA,36663:TA,35053:TA,35055:TA,2886:(t,e)=>t.frontFace(e),33170:aC,2849:(t,e)=>t.lineWidth(e),32823:Cr,32824:"polygonOffset",10752:"polygonOffset",35977:Cr,32926:Cr,32928:Cr,32938:"sampleCoverage",32939:"sampleCoverage",3089:Cr,3088:(t,e)=>t.scissor(...e),2960:Cr,2961:(t,e)=>t.clearStencil(e),2968:(t,e)=>t.stencilMaskSeparate(1028,e),36005:(t,e)=>t.stencilMaskSeparate(1029,e),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(t,e)=>t.viewport(...e),34383:Cr,10754:Cr,12288:Cr,12289:Cr,12290:Cr,12291:Cr,12292:Cr,12293:Cr,12294:Cr,12295:Cr,3333:zn,3317:zn,37440:zn,37441:zn,37443:zn,3330:zn,3332:zn,3331:zn,3314:zn,32878:zn,3316:zn,3315:zn,32877:zn,framebuffer:(t,e)=>{const r=e&&"handle"in e?e.handle:e;return t.bindFramebuffer(36160,r)},blend:(t,e)=>e?t.enable(3042):t.disable(3042),blendColor:(t,e)=>t.blendColor(...e),blendEquation:(t,e)=>{const r=typeof e=="number"?[e,e]:e;t.blendEquationSeparate(...r)},blendFunc:(t,e)=>{const r=(e==null?void 0:e.length)===2?[...e,...e]:e;t.blendFuncSeparate(...r)},clearColor:(t,e)=>t.clearColor(...e),clearDepth:(t,e)=>t.clearDepth(e),clearStencil:(t,e)=>t.clearStencil(e),colorMask:(t,e)=>t.colorMask(...e),cull:(t,e)=>e?t.enable(2884):t.disable(2884),cullFace:(t,e)=>t.cullFace(e),depthTest:(t,e)=>e?t.enable(2929):t.disable(2929),depthFunc:(t,e)=>t.depthFunc(e),depthMask:(t,e)=>t.depthMask(e),depthRange:(t,e)=>t.depthRange(...e),dither:(t,e)=>e?t.enable(3024):t.disable(3024),derivativeHint:(t,e)=>{t.hint(35723,e)},frontFace:(t,e)=>t.frontFace(e),mipmapHint:(t,e)=>t.hint(33170,e),lineWidth:(t,e)=>t.lineWidth(e),polygonOffsetFill:(t,e)=>e?t.enable(32823):t.disable(32823),polygonOffset:(t,e)=>t.polygonOffset(...e),sampleCoverage:(t,e)=>t.sampleCoverage(...e),scissorTest:(t,e)=>e?t.enable(3089):t.disable(3089),scissor:(t,e)=>t.scissor(...e),stencilTest:(t,e)=>e?t.enable(2960):t.disable(2960),stencilMask:(t,e)=>{e=C_(e)?e:[e,e];const[r,n]=e;t.stencilMaskSeparate(1028,r),t.stencilMaskSeparate(1029,n)},stencilFunc:(t,e)=>{e=C_(e)&&e.length===3?[...e,...e]:e;const[r,n,i,o,s,a]=e;t.stencilFuncSeparate(1028,r,n,i),t.stencilFuncSeparate(1029,o,s,a)},stencilOp:(t,e)=>{e=C_(e)&&e.length===3?[...e,...e]:e;const[r,n,i,o,s,a]=e;t.stencilOpSeparate(1028,r,n,i),t.stencilOpSeparate(1029,o,s,a)},viewport:(t,e)=>t.viewport(...e)};function mr(t,e,r){return e[t]!==void 0?e[t]:r[t]}const PQ={blendEquation:(t,e,r)=>t.blendEquationSeparate(mr(32777,e,r),mr(34877,e,r)),blendFunc:(t,e,r)=>t.blendFuncSeparate(mr(32969,e,r),mr(32968,e,r),mr(32971,e,r),mr(32970,e,r)),polygonOffset:(t,e,r)=>t.polygonOffset(mr(32824,e,r),mr(10752,e,r)),sampleCoverage:(t,e,r)=>t.sampleCoverage(mr(32938,e,r),mr(32939,e,r)),stencilFuncFront:(t,e,r)=>t.stencilFuncSeparate(1028,mr(2962,e,r),mr(2967,e,r),mr(2963,e,r)),stencilFuncBack:(t,e,r)=>t.stencilFuncSeparate(1029,mr(34816,e,r),mr(36003,e,r),mr(36004,e,r)),stencilOpFront:(t,e,r)=>t.stencilOpSeparate(1028,mr(2964,e,r),mr(2965,e,r),mr(2966,e,r)),stencilOpBack:(t,e,r)=>t.stencilOpSeparate(1029,mr(34817,e,r),mr(34818,e,r),mr(34819,e,r))},uC={enable:(t,e)=>t({[e]:!0}),disable:(t,e)=>t({[e]:!1}),pixelStorei:(t,e,r)=>t({[e]:r}),hint:(t,e,r)=>t({[e]:r}),useProgram:(t,e)=>t({35725:e}),bindRenderbuffer:(t,e,r)=>t({36007:r}),bindTransformFeedback:(t,e,r)=>t({36389:r}),bindVertexArray:(t,e)=>t({34229:e}),bindFramebuffer:(t,e,r)=>{switch(e){case 36160:return t({36006:r,36010:r});case 36009:return t({36006:r});case 36008:return t({36010:r});default:return null}},bindBuffer:(t,e,r)=>{const n={34962:[34964],36662:[36662],36663:[36663],35051:[35053],35052:[35055]}[e];return n?t({[n]:r}):{valueChanged:!0}},blendColor:(t,e,r,n,i)=>t({32773:new Float32Array([e,r,n,i])}),blendEquation:(t,e)=>t({32777:e,34877:e}),blendEquationSeparate:(t,e,r)=>t({32777:e,34877:r}),blendFunc:(t,e,r)=>t({32969:e,32968:r,32971:e,32970:r}),blendFuncSeparate:(t,e,r,n,i)=>t({32969:e,32968:r,32971:n,32970:i}),clearColor:(t,e,r,n,i)=>t({3106:new Float32Array([e,r,n,i])}),clearDepth:(t,e)=>t({2931:e}),clearStencil:(t,e)=>t({2961:e}),colorMask:(t,e,r,n,i)=>t({3107:[e,r,n,i]}),cullFace:(t,e)=>t({2885:e}),depthFunc:(t,e)=>t({2932:e}),depthRange:(t,e,r)=>t({2928:new Float32Array([e,r])}),depthMask:(t,e)=>t({2930:e}),frontFace:(t,e)=>t({2886:e}),lineWidth:(t,e)=>t({2849:e}),polygonOffset:(t,e,r)=>t({32824:e,10752:r}),sampleCoverage:(t,e,r)=>t({32938:e,32939:r}),scissor:(t,e,r,n,i)=>t({3088:new Int32Array([e,r,n,i])}),stencilMask:(t,e)=>t({2968:e,36005:e}),stencilMaskSeparate:(t,e,r)=>t({[e===1028?2968:36005]:r}),stencilFunc:(t,e,r,n)=>t({2962:e,2967:r,2963:n,34816:e,36003:r,36004:n}),stencilFuncSeparate:(t,e,r,n,i)=>t({[e===1028?2962:34816]:r,[e===1028?2967:36003]:n,[e===1028?2963:36004]:i}),stencilOp:(t,e,r,n)=>t({2964:e,2965:r,2966:n,34817:e,34818:r,34819:n}),stencilOpSeparate:(t,e,r,n,i)=>t({[e===1028?2964:34817]:r,[e===1028?2965:34818]:n,[e===1028?2966:34819]:i}),viewport:(t,e,r,n,i)=>t({2978:[e,r,n,i]})},oo=(t,e)=>t.isEnabled(e),cC={3042:oo,2884:oo,2929:oo,3024:oo,32823:oo,32926:oo,32928:oo,3089:oo,2960:oo,35977:oo},CQ=new Set([34016,36388,36387,35983,35368,34965,35739,35738,3074,34853,34854,34855,34856,34857,34858,34859,34860,34861,34862,34863,34864,34865,34866,34867,34868,35097,32873,35869,32874,34068]);function Bc(t,e){if(RQ(e))return;const r={};for(const i in e){const o=Number(i),s=xQ[i];s&&(typeof s=="string"?r[s]=!0:s(t,e[i],o))}const n=t.state&&t.state.cache;if(n)for(const i in r){const o=PQ[i];o(t,e,n)}}function q6(t,e=hE){if(typeof e=="number"){const i=e,o=cC[i];return o?o(t,i):t.getParameter(i)}const r=Array.isArray(e)?e:Object.keys(e),n={};for(const i of r){const o=cC[i];n[i]=o?o(t,Number(i)):t.getParameter(Number(i))}return n}function OQ(t){Bc(t,hE)}function RQ(t){for(const e in t)return!1;return!0}function MQ(t,e){if(t===e)return!0;const r=Array.isArray(t)||ArrayBuffer.isView(t),n=Array.isArray(e)||ArrayBuffer.isView(e);if(r&&n&&t.length===e.length){for(let i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}return!1}class kQ{constructor(e,{copyState:r=!1,log:n=()=>{}}={}){F(this,"gl");F(this,"program",null);F(this,"stateStack",[]);F(this,"enable",!0);F(this,"cache");F(this,"log");this.gl=e,this.cache=r?q6(e):Object.assign({},hE),this.log=n,this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(e={}){this.stateStack.push({})}pop(){rr(this.stateStack.length>0);const e=this.stateStack[this.stateStack.length-1];Bc(this.gl,e),this.stateStack.pop()}_updateCache(e){let r=!1,n;const i=this.stateStack.length>0?this.stateStack[this.stateStack.length-1]:null;for(const o in e){rr(o!==void 0);const s=e[o],a=this.cache[o];MQ(s,a)||(r=!0,n=a,i&&!(o in i)&&(i[o]=a),this.cache[o]=s)}return{valueChanged:r,oldValue:n}}}function il(t){return t.state}function G6(t,e){const{enable:r=!0,copyState:n}=e;if(rr(n!==void 0),!t.state){t.state=new kQ(t,{copyState:n}),NQ(t);for(const o in uC){const s=uC[o];IQ(t,o,s)}AC(t,"getParameter"),AC(t,"isEnabled")}const i=il(t);return i.enable=r,t}function Km(t){let e=il(t);e||(G6(t,{copyState:!1}),e=il(t)),e.push()}function Zf(t){const e=il(t);rr(e),e.pop()}function AC(t,e){const r=t[e].bind(t);t[e]=function(i){if(i===void 0||CQ.has(i))return r(i);const o=il(t);return i in o.cache||(o.cache[i]=r(i)),o.enable?o.cache[i]:r(i)},Object.defineProperty(t[e],"name",{value:`${e}-from-cache`,configurable:!1})}function IQ(t,e,r){if(!t[e])return;const n=t[e].bind(t);t[e]=function(...o){const s=il(t),{valueChanged:a,oldValue:l}=r(s._updateCache,...o);return a&&n(...o),l},Object.defineProperty(t[e],"name",{value:`${e}-to-cache`,configurable:!1})}function NQ(t){const e=t.useProgram.bind(t);t.useProgram=function(n){const i=il(t);i.program!==n&&(e(n),i.program=n)}}const DQ={powerPreference:"high-performance",onContextLost:()=>console.error("WebGL context lost"),onContextRestored:()=>console.info("WebGL context restored")};function BQ(t,e){e={...DQ,...e};let r=null;const n=o=>r=o.statusMessage||r;t.addEventListener("webglcontextcreationerror",n,!1);let i=null;if(i||(i=t.getContext("webgl2",e)),t.removeEventListener("webglcontextcreationerror",n,!1),!i)throw new Error(`Failed to create WebGL context: ${r||"Unknown error"}`);if(e.onContextLost){const{onContextLost:o}=e;t.addEventListener("webglcontextlost",s=>o(s),!1)}if(e.onContextRestored){const{onContextRestored:o}=e;t.addEventListener("webglcontextrestored",s=>o(s),!1)}return i}function ea(t,e,r){return r[e]===void 0&&(r[e]=t.getExtension(e)||null),r[e]}function FQ(t,e){const r=t.getParameter(7936),n=t.getParameter(7937);ea(t,"WEBGL_debug_renderer_info",e);const i=e.WEBGL_debug_renderer_info,o=t.getParameter(i?i.UNMASKED_VENDOR_WEBGL:7936),s=t.getParameter(i?i.UNMASKED_RENDERER_WEBGL:7937),a=o||r,l=s||n,A=t.getParameter(7938),p=Z6(a,l),g=LQ(a,l),v=$Q(a,l);return{type:"webgl",gpu:p,gpuType:v,gpuBackend:g,vendor:a,renderer:l,version:A,shadingLanguage:"glsl",shadingLanguageVersion:300}}function Z6(t,e){return/NVIDIA/i.exec(t)||/NVIDIA/i.exec(e)?"nvidia":/INTEL/i.exec(t)||/INTEL/i.exec(e)?"intel":/Apple/i.exec(t)||/Apple/i.exec(e)?"apple":/AMD/i.exec(t)||/AMD/i.exec(e)||/ATI/i.exec(t)||/ATI/i.exec(e)?"amd":/SwiftShader/i.exec(t)||/SwiftShader/i.exec(e)?"software":"unknown"}function LQ(t,e){return/Metal/i.exec(t)||/Metal/i.exec(e)?"metal":/ANGLE/i.exec(t)||/ANGLE/i.exec(e)?"opengl":"unknown"}function $Q(t,e){if(/SwiftShader/i.exec(t)||/SwiftShader/i.exec(e))return"cpu";switch(Z6(t,e)){case"intel":return"integrated";case"software":return"cpu";case"unknown":return"unknown";default:return"discrete"}}function J6(t){switch(t){case"uint8":return 5121;case"sint8":return 5120;case"unorm8":return 5121;case"snorm8":return 5120;case"uint16":return 5123;case"sint16":return 5122;case"unorm16":return 5123;case"snorm16":return 5122;case"uint32":return 5125;case"sint32":return 5124;case"float16":return 5131;case"float32":return 5126}throw new Error(String(t))}const cn="texture-compression-bc",Vt="texture-compression-astc",so="texture-compression-etc2",UQ="texture-compression-etc1-webgl",v0="texture-compression-pvrtc-webgl",O_="texture-compression-atc-webgl",xA="float32-renderable-webgl",R_="float16-renderable-webgl",jQ="rgb9e5ufloat_renderable-webgl",M_="snorm8-renderable-webgl",PA="norm16-renderable-webgl",k_="snorm16-renderable-webgl",_0="float32-filterable",fC="float16-filterable-webgl",qA="WEBGL_compressed_texture_s3tc",GA="WEBGL_compressed_texture_s3tc_srgb",yu="EXT_texture_compression_rgtc",vu="EXT_texture_compression_bptc",zQ="WEBGL_compressed_texture_etc",VQ="WEBGL_compressed_texture_astc",WQ="WEBGL_compressed_texture_etc1",HQ="WEBGL_compressed_texture_pvrtc",XQ="WEBGL_compressed_texture_atc",hC="EXT_texture_norm16",dC="EXT_render_snorm",YQ="EXT_color_buffer_float",dE={"float32-renderable-webgl":["EXT_color_buffer_float"],"float16-renderable-webgl":["EXT_color_buffer_half_float"],"rgb9e5ufloat_renderable-webgl":["WEBGL_render_shared_exponent"],"snorm8-renderable-webgl":[dC],"norm16-renderable-webgl":[hC],"snorm16-renderable-webgl":[hC,dC],"float32-filterable":["OES_texture_float_linear"],"float16-filterable-webgl":["OES_texture_half_float_linear"],"texture-filterable-anisotropic-webgl":["EXT_texture_filter_anisotropic"],"texture-blend-float-webgl":["EXT_float_blend"],"texture-compression-bc":[qA,GA,yu,vu],"texture-compression-bc5-webgl":[yu],"texture-compression-bc7-webgl":[vu],"texture-compression-etc2":[zQ],"texture-compression-astc":[VQ],"texture-compression-etc1-webgl":[WQ],"texture-compression-pvrtc-webgl":[HQ],"texture-compression-atc-webgl":[XQ]};function KQ(t){return t in dE}function QQ(t,e,r){return(dE[e]||[]).every(i=>ea(t,i,r))}const Qm={"rgb8unorm-unsized":{gl:6407,b:4,c:2,bpp:4,dataFormat:6407,types:[5121,33635]},"rgba8unorm-unsized":{gl:6408,b:4,c:2,bpp:4,dataFormat:6408,types:[5121,32819,32820]},r8unorm:{gl:33321,b:1,c:1,rb:!0},r8snorm:{gl:36756,b:1,c:1,render:M_},r8uint:{gl:33330,b:1,c:1,rb:!0},r8sint:{gl:33329,b:1,c:1,rb:!0},rg8unorm:{gl:33323,b:2,c:2,rb:!0},rg8snorm:{gl:36757,b:2,c:2,render:M_},rg8uint:{gl:33336,b:2,c:2,rb:!0},rg8sint:{gl:33335,b:2,c:2,rb:!0},r16uint:{gl:33332,b:2,c:1,rb:!0},r16sint:{gl:33331,b:2,c:1,rb:!0},r16float:{gl:33325,b:2,c:1,render:R_,filter:"float16-filterable-webgl",rb:!0},"r16unorm-webgl":{gl:33322,b:2,c:1,f:PA,rb:!0},"r16snorm-webgl":{gl:36760,b:2,c:1,f:k_},"rgba4unorm-webgl":{gl:32854,b:2,c:4,wgpu:!1,rb:!0},"rgb565unorm-webgl":{gl:36194,b:2,c:4,wgpu:!1,rb:!0},"rgb5a1unorm-webgl":{gl:32855,b:2,c:4,wgpu:!1,rb:!0},"rgb8unorm-webgl":{gl:32849,b:3,c:3,wgpu:!1},"rgb8snorm-webgl":{gl:36758,b:3,c:3,wgpu:!1},rgba8unorm:{gl:32856,b:4,c:2,bpp:4},"rgba8unorm-srgb":{gl:35907,b:4,c:4,bpp:4},rgba8snorm:{gl:36759,b:4,c:4,render:M_},rgba8uint:{gl:36220,b:4,c:4,bpp:4},rgba8sint:{gl:36238,b:4,c:4,bpp:4},bgra8unorm:{b:4,c:4},"bgra8unorm-srgb":{b:4,c:4},rg16uint:{gl:33338,b:4,c:1,bpp:4},rg16sint:{gl:33337,b:4,c:2,bpp:4},rg16float:{gl:33327,bpp:4,b:4,c:2,render:R_,filter:fC,rb:!0},"rg16unorm-webgl":{gl:33324,b:2,c:2,render:PA},"rg16snorm-webgl":{gl:36761,b:2,c:2,render:k_},r32uint:{gl:33334,b:4,c:1,bpp:4,rb:!0},r32sint:{gl:33333,b:4,c:1,bpp:4,rb:!0},r32float:{gl:33326,bpp:4,b:4,c:1,render:xA,filter:_0},rgb9e5ufloat:{gl:35901,b:4,c:3,p:1,render:jQ},rg11b10ufloat:{gl:35898,b:4,c:3,p:1,render:xA,rb:!0},rgb10a2unorm:{gl:32857,b:4,c:4,p:1,rb:!0},"rgb10a2uint-webgl":{b:4,c:4,gl:36975,p:1,wgpu:!1,bpp:4,rb:!0},"rgb16unorm-webgl":{gl:32852,b:2,c:3,f:PA},"rgb16snorm-webgl":{gl:36762,b:2,c:3,f:PA},rg32uint:{gl:33340,b:8,c:2,rb:!0},rg32sint:{gl:33339,b:8,c:2,rb:!0},rg32float:{gl:33328,b:8,c:2,render:xA,filter:_0,rb:!0},rgba16uint:{gl:36214,b:8,c:4,rb:!0},rgba16sint:{gl:36232,b:8,c:4,rb:!0},rgba16float:{gl:34842,b:8,c:4,render:R_,filter:fC},"rgba16unorm-webgl":{gl:32859,b:2,c:4,render:PA,rb:!0},"rgba16snorm-webgl":{gl:36763,b:2,c:4,render:k_},"rgb32float-webgl":{gl:34837,render:xA,filter:_0,gl2ext:YQ,dataFormat:6407,types:[5126]},rgba32uint:{gl:36208,b:16,c:4,rb:!0},rgba32sint:{gl:36226,b:16,c:4,rb:!0},rgba32float:{gl:34836,b:16,c:4,render:xA,filter:_0,rb:!0},stencil8:{gl:36168,b:1,c:1,attachment:36128,rb:!0},depth16unorm:{gl:33189,b:2,c:1,attachment:36096,dataFormat:6402,types:[5123],rb:!0},depth24plus:{gl:33190,b:3,c:1,attachment:36096,dataFormat:6402,types:[5125]},depth32float:{gl:36012,b:4,c:1,attachment:36096,dataFormat:6402,types:[5126],rb:!0},"depth24plus-stencil8":{gl:35056,b:4,c:2,p:1,attachment:33306,rb:!0,depthTexture:!0,dataFormat:34041,types:[34042]},"depth24unorm-stencil8":{gl:35056,b:4,c:2,p:1,attachment:33306,dataFormat:34041,types:[34042],rb:!0},"depth32float-stencil8":{gl:36013,b:5,c:2,p:1,attachment:33306,dataFormat:34041,types:[36269],rb:!0},"bc1-rgb-unorm-webgl":{gl:33776,x:qA,f:cn},"bc1-rgb-unorm-srgb-webgl":{gl:35916,x:GA,f:cn},"bc1-rgba-unorm":{gl:33777,x:qA,f:cn},"bc1-rgba-unorm-srgb":{gl:35916,x:GA,f:cn},"bc2-rgba-unorm":{gl:33778,x:qA,f:cn},"bc2-rgba-unorm-srgb":{gl:35918,x:GA,f:cn},"bc3-rgba-unorm":{gl:33779,x:qA,f:cn},"bc3-rgba-unorm-srgb":{gl:35919,x:GA,f:cn},"bc4-r-unorm":{gl:36283,x:yu,f:cn},"bc4-r-snorm":{gl:36284,x:yu,f:cn},"bc5-rg-unorm":{gl:36285,x:yu,f:cn},"bc5-rg-snorm":{gl:36286,x:yu,f:cn},"bc6h-rgb-ufloat":{gl:36495,x:vu,f:cn},"bc6h-rgb-float":{gl:36494,x:vu,f:cn},"bc7-rgba-unorm":{gl:36492,x:vu,f:cn},"bc7-rgba-unorm-srgb":{gl:36493,x:vu,f:cn},"etc2-rgb8unorm":{gl:37492,f:so},"etc2-rgb8unorm-srgb":{gl:37494,f:so},"etc2-rgb8a1unorm":{gl:37496,f:so},"etc2-rgb8a1unorm-srgb":{gl:37497,f:so},"etc2-rgba8unorm":{gl:37493,f:so},"etc2-rgba8unorm-srgb":{gl:37495,f:so},"eac-r11unorm":{gl:37488,f:so},"eac-r11snorm":{gl:37489,f:so},"eac-rg11unorm":{gl:37490,f:so},"eac-rg11snorm":{gl:37491,f:so},"astc-4x4-unorm":{gl:37808,f:Vt},"astc-4x4-unorm-srgb":{gl:37840,f:Vt},"astc-5x4-unorm":{gl:37809,f:Vt},"astc-5x4-unorm-srgb":{gl:37841,f:Vt},"astc-5x5-unorm":{gl:37810,f:Vt},"astc-5x5-unorm-srgb":{gl:37842,f:Vt},"astc-6x5-unorm":{gl:37811,f:Vt},"astc-6x5-unorm-srgb":{gl:37843,f:Vt},"astc-6x6-unorm":{gl:37812,f:Vt},"astc-6x6-unorm-srgb":{gl:37844,f:Vt},"astc-8x5-unorm":{gl:37813,f:Vt},"astc-8x5-unorm-srgb":{gl:37845,f:Vt},"astc-8x6-unorm":{gl:37814,f:Vt},"astc-8x6-unorm-srgb":{gl:37846,f:Vt},"astc-8x8-unorm":{gl:37815,f:Vt},"astc-8x8-unorm-srgb":{gl:37847,f:Vt},"astc-10x5-unorm":{gl:37819,f:Vt},"astc-10x5-unorm-srgb":{gl:37851,f:Vt},"astc-10x6-unorm":{gl:37817,f:Vt},"astc-10x6-unorm-srgb":{gl:37849,f:Vt},"astc-10x8-unorm":{gl:37818,f:Vt},"astc-10x8-unorm-srgb":{gl:37850,f:Vt},"astc-10x10-unorm":{gl:37819,f:Vt},"astc-10x10-unorm-srgb":{gl:37851,f:Vt},"astc-12x10-unorm":{gl:37820,f:Vt},"astc-12x10-unorm-srgb":{gl:37852,f:Vt},"astc-12x12-unorm":{gl:37821,f:Vt},"astc-12x12-unorm-srgb":{gl:37853,f:Vt},"pvrtc-rgb4unorm-webgl":{gl:35840,f:v0},"pvrtc-rgba4unorm-webgl":{gl:35842,f:v0},"pvrtc-rbg2unorm-webgl":{gl:35841,f:v0},"pvrtc-rgba2unorm-webgl":{gl:35843,f:v0},"etc1-rbg-unorm-webgl":{gl:36196,f:UQ},"atc-rgb-unorm-webgl":{gl:35986,f:O_},"atc-rgba-unorm-webgl":{gl:35986,f:O_},"atc-rgbai-unorm-webgl":{gl:34798,f:O_}},qQ={6403:1,36244:1,33319:2,33320:2,6407:3,36248:3,6408:4,36249:4,6402:1,34041:1,6406:1,6409:1,6410:2},GQ={5126:4,5125:4,5124:4,5123:2,5122:2,5131:2,5120:1,5121:1};function pE(t,e,r){const n=Qm[e];if(!n||n.gl===void 0)return!1;const i=n.x||n.gl2ext;return i?!!ea(t,i,r):!0}function eB(t){const e=Qm[t],r=e==null?void 0:e.gl;if(r===void 0)throw new Error(`Unsupported texture format ${t}`);return r}function ZQ(t,e,r){if(!pE(t,e,r)||e.startsWith("depth")||e.startsWith("stencil"))return!1;try{if(o6(e).signed)return!1}catch{return!1}return e.endsWith("32float")?!!ea(t,"OES_texture_float_linear, extensions",r):e.endsWith("16float")?!!ea(t,"OES_texture_half_float_linear, extensions",r):!0}function JQ(t,e,r){return!(!pE(t,e,r)||typeof e=="number")}function sg(t){var i;const e=Qm[t],r=eB(t),n=o6(t);return{format:r,dataFormat:(e==null?void 0:e.dataFormat)||tq(n.format,n.integer,n.normalized,r),type:n.dataType?J6(n.dataType):((i=e==null?void 0:e.types)==null?void 0:i[0])||5121,compressed:n.compressed}}function eq(t){const e=Qm[t];if(!(e!=null&&e.attachment))throw new Error(`${t} is not a depth stencil format`);return e.attachment}function pC(t){const e=sg(t),r=qQ[e.dataFormat]||4,n=GQ[e.type]||1;return r*n}function tq(t,e,r,n){if(n===6408||n===6407)return n;switch(t){case"r":return e&&!r?36244:6403;case"rg":return e&&!r?33320:33319;case"rgb":return e&&!r?36248:6407;case"rgba":return e&&!r?36249:6408;default:return 6408}}const gC={"depth-clip-control":"EXT_depth_clamp","timer-query-webgl":"EXT_disjoint_timer_query_webgl2","compilation-status-async-webgl":"KHR_parallel_shader_compile","polygon-mode-webgl":"WEBGL_polygon_mode","provoking-vertex-webgl":"WEBGL_provoking_vertex","shader-clip-cull-distance-webgl":"WEBGL_clip_cull_distance","shader-noperspective-interpolation-webgl":"NV_shader_noperspective_interpolation","shader-conservative-depth-webgl":"EXT_conservative_depth"};class rq extends OW{constructor(r,n,i){super([],i);F(this,"gl");F(this,"extensions");F(this,"testedFeatures",new Set);this.gl=r,this.extensions=n,ea(r,"EXT_color_buffer_float",n)}*[Symbol.iterator](){const r=this.getFeatures();for(const n of r)this.has(n)&&(yield n);return[]}has(r){return this.disabledFeatures[r]?!1:(this.testedFeatures.has(r)||(this.testedFeatures.add(r),KQ(r)&&QQ(this.gl,r,this.extensions)&&this.features.add(r),this.getWebGLFeature(r)&&this.features.add(r)),this.features.has(r))}initializeFeatures(){const r=this.getFeatures().filter(n=>n!=="polygon-mode-webgl");for(const n of r)this.has(n)}getFeatures(){return[...Object.keys(gC),...Object.keys(dE)]}getWebGLFeature(r){const n=gC[r];return typeof n=="string"?!!ea(this.gl,n,this.extensions):!!n}}class nq extends CW{constructor(r){super();F(this,"gl");F(this,"limits",{});this.gl=r}get maxTextureDimension1D(){return 0}get maxTextureDimension2D(){return this.getParameter(3379)}get maxTextureDimension3D(){return this.getParameter(32883)}get maxTextureArrayLayers(){return this.getParameter(35071)}get maxBindGroups(){return 0}get maxDynamicUniformBuffersPerPipelineLayout(){return 0}get maxDynamicStorageBuffersPerPipelineLayout(){return 0}get maxSampledTexturesPerShaderStage(){return this.getParameter(35660)}get maxSamplersPerShaderStage(){return this.getParameter(35661)}get maxStorageBuffersPerShaderStage(){return 0}get maxStorageTexturesPerShaderStage(){return 0}get maxUniformBuffersPerShaderStage(){return this.getParameter(35375)}get maxUniformBufferBindingSize(){return this.getParameter(35376)}get maxStorageBufferBindingSize(){return 0}get minUniformBufferOffsetAlignment(){return this.getParameter(35380)}get minStorageBufferOffsetAlignment(){return 0}get maxVertexBuffers(){return 16}get maxVertexAttributes(){return this.getParameter(34921)}get maxVertexBufferArrayStride(){return 2048}get maxInterStageShaderComponents(){return this.getParameter(35659)}get maxComputeWorkgroupStorageSize(){return 0}get maxComputeInvocationsPerWorkgroup(){return 0}get maxComputeWorkgroupSizeX(){return 0}get maxComputeWorkgroupSizeY(){return 0}get maxComputeWorkgroupSizeZ(){return 0}get maxComputeWorkgroupsPerDimension(){return 0}getParameter(r){return this.limits[r]===void 0&&(this.limits[r]=this.gl.getParameter(r)),this.limits[r]}}function Ns(t,e,r){if(iq(e))return r(t);const{nocatch:n=!0}=e;Km(t),Bc(t,e);let i;if(n)i=r(t),Zf(t);else try{i=r(t)}finally{Zf(t)}return i}function iq(t){for(const e in t)return!1;return!0}function oq(t,e,r,n){if(Yp(e))return n(t);const i=t;Km(i.gl);try{return sq(t,e),Bc(i.gl,r),n(t)}finally{Zf(i.gl)}}function sq(t,e){const r=t,{gl:n}=r;if(e.cullMode)switch(e.cullMode){case"none":n.disable(2884);break;case"front":n.enable(2884),n.cullFace(1028);break;case"back":n.enable(2884),n.cullFace(1029);break}if(e.frontFace&&n.frontFace(Ka("frontFace",e.frontFace,{ccw:2305,cw:2304})),e.unclippedDepth&&t.features.has("depth-clip-control")&&n.enable(34383),e.depthBias!==void 0&&(n.enable(32823),n.polygonOffset(e.depthBias,e.depthBiasSlopeScale||0)),e.provokingVertex&&t.features.has("provoking-vertex-webgl")){const o=r.getExtension("WEBGL_provoking_vertex").WEBGL_provoking_vertex,s=Ka("provokingVertex",e.provokingVertex,{first:36429,last:36430});o==null||o.provokingVertexWEBGL(s)}if((e.polygonMode||e.polygonOffsetLine)&&t.features.has("polygon-mode-webgl")){if(e.polygonMode){const o=r.getExtension("WEBGL_polygon_mode").WEBGL_polygon_mode,s=Ka("polygonMode",e.polygonMode,{fill:6914,line:6913});o==null||o.polygonModeWEBGL(1028,s),o==null||o.polygonModeWEBGL(1029,s)}e.polygonOffsetLine&&n.enable(10754)}if(t.features.has("shader-clip-cull-distance-webgl")&&(e.clipDistance0&&n.enable(12288),e.clipDistance1&&n.enable(12289),e.clipDistance2&&n.enable(12290),e.clipDistance3&&n.enable(12291),e.clipDistance4&&n.enable(12292),e.clipDistance5&&n.enable(12293),e.clipDistance6&&n.enable(12294),e.clipDistance7&&n.enable(12295)),e.depthWriteEnabled!==void 0&&n.depthMask(lq("depthWriteEnabled",e.depthWriteEnabled)),e.depthCompare&&(e.depthCompare!=="always"?n.enable(2929):n.disable(2929),n.depthFunc(Gb("depthCompare",e.depthCompare))),e.stencilWriteMask){const i=e.stencilWriteMask;n.stencilMaskSeparate(1028,i),n.stencilMaskSeparate(1029,i)}if(e.stencilReadMask&&ke.warn("stencilReadMask not supported under WebGL"),e.stencilCompare){const i=e.stencilReadMask||4294967295,o=Gb("depthCompare",e.stencilCompare);e.stencilCompare!=="always"?n.enable(2960):n.disable(2960),n.stencilFuncSeparate(1028,o,0,i),n.stencilFuncSeparate(1029,o,0,i)}if(e.stencilPassOperation&&e.stencilFailOperation&&e.stencilDepthFailOperation){const i=I_("stencilPassOperation",e.stencilPassOperation),o=I_("stencilFailOperation",e.stencilFailOperation),s=I_("stencilDepthFailOperation",e.stencilDepthFailOperation);n.stencilOpSeparate(1028,o,s,i),n.stencilOpSeparate(1029,o,s,i)}if(e.blendColorOperation||e.blendAlphaOperation){n.enable(3042);const i=mC("blendColorOperation",e.blendColorOperation||"add"),o=mC("blendAlphaOperation",e.blendAlphaOperation||"add");n.blendEquationSeparate(i,o);const s=b0("blendColorSrcFactor",e.blendColorSrcFactor||"one"),a=b0("blendColorDstFactor",e.blendColorDstFactor||"zero"),l=b0("blendAlphaSrcFactor",e.blendAlphaSrcFactor||"one"),A=b0("blendAlphaDstFactor",e.blendAlphaDstFactor||"zero");n.blendFuncSeparate(s,a,l,A)}}function Gb(t,e){return Ka(t,e,{never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519})}function I_(t,e){return Ka(t,e,{keep:7680,zero:0,replace:7681,invert:5386,"increment-clamp":7682,"decrement-clamp":7683,"increment-wrap":34055,"decrement-wrap":34056})}function mC(t,e){return Ka(t,e,{add:32774,subtract:32778,"reverse-subtract":32779,min:32775,max:32776})}function b0(t,e){return Ka(t,e,{one:1,zero:0,"src-color":768,"one-minus-src-color":769,"dst-color":774,"one-minus-dst-color":775,"src-alpha":770,"one-minus-src-alpha":771,"dst-alpha":772,"one-minus-dst-alpha":773,"src-alpha-saturated":776,"constant-color":32769,"one-minus-constant-color":32770,"constant-alpha":32771,"one-minus-constant-alpha":32772})}function aq(t,e){return`Illegal parameter ${e} for ${t}`}function Ka(t,e,r){if(!(e in r))throw new Error(aq(t,e));return r[e]}function lq(t,e){return e}function tB(t){const e={};return t.addressModeU&&(e[10242]=N_(t.addressModeU)),t.addressModeV&&(e[10243]=N_(t.addressModeV)),t.addressModeW&&(e[32882]=N_(t.addressModeW)),t.magFilter&&(e[10240]=rB(t.magFilter)),(t.minFilter||t.mipmapFilter)&&(e[10241]=uq(t.minFilter||"linear",t.mipmapFilter)),t.lodMinClamp!==void 0&&(e[33082]=t.lodMinClamp),t.lodMaxClamp!==void 0&&(e[33083]=t.lodMaxClamp),t.type==="comparison-sampler"&&(e[34892]=34894),t.compare&&(e[34893]=Gb("compare",t.compare)),t.maxAnisotropy&&(e[34046]=t.maxAnisotropy),e}function N_(t){switch(t){case"clamp-to-edge":return 33071;case"repeat":return 10497;case"mirror-repeat":return 33648}}function rB(t){switch(t){case"nearest":return 9728;case"linear":return 9729}}function uq(t,e){if(!e)return rB(t);switch(t){case"nearest":return e==="nearest"?9984:9986;case"linear":return e==="nearest"?9985:9987}}class Ys extends ur{constructor(r,n={}){super(r,n);F(this,"device");F(this,"gl");F(this,"handle");F(this,"glTarget");F(this,"glUsage");F(this,"glIndexType",5123);F(this,"byteLength");F(this,"bytesUsed");this.device=r,this.gl=this.device.gl;const i=typeof n=="object"?n.handle:void 0;this.handle=i||this.gl.createBuffer(),r.setSpectorMetadata(this.handle,{...this.props,data:typeof this.props.data}),this.glTarget=cq(this.props.usage),this.glUsage=Aq(this.props.usage),this.glIndexType=this.props.indexType==="uint32"?5125:5123,n.data?this._initWithData(n.data,n.byteOffset,n.byteLength):this._initWithByteLength(n.byteLength||0)}_initWithData(r,n=0,i=r.byteLength+n){const o=this.glTarget;this.gl.bindBuffer(o,this.handle),this.gl.bufferData(o,i,this.glUsage),this.gl.bufferSubData(o,n,r),this.gl.bindBuffer(o,null),this.bytesUsed=i,this.byteLength=i,this._setDebugData(r,n,i),this.trackAllocatedMemory(i)}_initWithByteLength(r){rr(r>=0);let n=r;r===0&&(n=new Float32Array(0));const i=this.glTarget;return this.gl.bindBuffer(i,this.handle),this.gl.bufferData(i,n,this.glUsage),this.gl.bindBuffer(i,null),this.bytesUsed=r,this.byteLength=r,this._setDebugData(null,0,r),this.trackAllocatedMemory(r),this}destroy(){!this.destroyed&&this.handle&&(this.removeStats(),this.trackDeallocatedMemory(),this.gl.deleteBuffer(this.handle),this.destroyed=!0,this.handle=null)}write(r,n=0){this.gl.bindBuffer(36663,this.handle),this.gl.bufferSubData(36663,n,r),this.gl.bindBuffer(36663,null),this._setDebugData(r,n,r.byteLength)}async readAsync(r=0,n){return this.readSyncWebGL(r,n)}readSyncWebGL(r=0,n){n=n??this.byteLength-r;const i=new Uint8Array(n),o=0;return this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,r,i,o,n),this.gl.bindBuffer(36662,null),this._setDebugData(i,r,n),i}}function cq(t){return t&ur.INDEX?34963:t&ur.VERTEX?34962:t&ur.UNIFORM?35345:34962}function Aq(t){return t&ur.INDEX||t&ur.VERTEX?35044:t&ur.UNIFORM?35048:35044}class Zb extends qp{constructor(r,n){super(r,n);F(this,"device");F(this,"handle");F(this,"parameters");this.device=r,this.parameters=tB(n),this.handle=this.handle||this.device.gl.createSampler(),this._setSamplerParameters(this.parameters)}destroy(){this.handle&&(this.device.gl.deleteSampler(this.handle),this.handle=void 0)}toString(){return`Sampler(${this.id},${JSON.stringify(this.props)})`}_setSamplerParameters(r){for(const[n,i]of Object.entries(r)){const o=Number(n);switch(o){case 33082:case 33083:this.device.gl.samplerParameterf(this.handle,o,i);break;default:this.device.gl.samplerParameteri(this.handle,o,i);break}}}}class _u extends Kp{constructor(r,n){super(r,{...pi.defaultProps,...n});F(this,"device");F(this,"gl");F(this,"handle");F(this,"texture");this.device=r,this.gl=this.device.gl,this.handle=null,this.texture=n.texture}}const fq={parameters:{},pixelStore:{},pixels:null,border:0,dataFormat:void 0,textureUnit:void 0,target:void 0},Cf=class Cf extends pi{constructor(r,n){var i;super(r,{...fq,format:"rgba8unorm",...n});F(this,"MAX_ATTRIBUTES");F(this,"device");F(this,"gl");F(this,"handle");F(this,"sampler");F(this,"view");F(this,"glFormat");F(this,"type");F(this,"dataFormat");F(this,"mipmaps");F(this,"target");F(this,"textureUnit");F(this,"loaded",!1);F(this,"_video");this.device=r,this.gl=this.device.gl,this.handle=this.props.handle||this.gl.createTexture(),this.device.setSpectorMetadata(this.handle,{...this.props,data:typeof this.props.data}),this.glFormat=6408,this.target=hq(this.props),this.loaded=!1,typeof((i=this.props)==null?void 0:i.data)=="string"&&Object.assign(this.props,{data:gH(this.props.data)}),this.initialize(this.props),Object.seal(this)}destroy(){this.handle&&(this.gl.deleteTexture(this.handle),this.removeStats(),this.trackDeallocatedMemory("Texture"),this.destroyed=!0)}toString(){return`Texture(${this.id},${this.width}x${this.height})`}createView(r){return new _u(this.device,{...r,texture:this})}initialize(r={}){if(this.props.dimension==="cube")return this.initializeCube(r);let n=r.data;if(n instanceof Promise)return n.then(x=>this.initialize(Object.assign({},r,{pixels:x,data:x}))),this;const i=typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement;if(i&&n.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,n.addEventListener("loadeddata",()=>this.initialize(r)),this;const{parameters:o={}}=r,{pixels:s=null,pixelStore:a={},textureUnit:l=void 0,mipmaps:A=!0}=r;n||(n=s);let{width:p,height:g,dataFormat:v,type:b,compressed:S=!1}=r;const{depth:E=0}=r,C=eB(r.format);return{width:p,height:g,compressed:S,dataFormat:v,type:b}=this._deduceParameters({format:r.format,type:b,dataFormat:v,compressed:S,data:n,width:p,height:g}),this.width=p,this.height=g,this.glFormat=C,this.type=b,this.dataFormat=v,this.textureUnit=l,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),this.mipmaps=A,this.setImageData({data:n,width:p,height:g,depth:E,format:r.format,type:b,dataFormat:v,parameters:a,compressed:S}),this.setSampler(r.sampler),this._setSamplerParameters(o),this.view=this.createView({...this.props,mipLevelCount:1,arrayLayerCount:1}),A&&this.device.isTextureFormatFilterable(r.format)&&this.generateMipmap(),i&&(this._video={video:n,parameters:o,lastTime:n.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?n.currentTime:-1}),this}initializeCube(r){const{mipmaps:n=!0,parameters:i={}}=r;return this.setCubeMapImageData(r).then(()=>{this.loaded=!0,n&&this.generateMipmap(r),this.setSampler(r.sampler),this._setSamplerParameters(i)}),this}setSampler(r={}){let n;r instanceof Zb?(this.sampler=r,n=r.props):(this.sampler=new Zb(this.device,r),n=r);const i=tB(n);return this._setSamplerParameters(i),this}resize(r){const{height:n,width:i,mipmaps:o=!1}=r;return i!==this.width||n!==this.height?this.initialize({width:i,height:n,format:this.format,type:this.type,dataFormat:this.dataFormat,mipmaps:o}):this}update(){if(this._video){const{video:r,parameters:n,lastTime:i}=this._video;if(i===r.currentTime||r.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:r,parameters:n}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=r.currentTime}}generateMipmap(r={}){return this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),Ns(this.gl,r,()=>{this.gl.generateMipmap(this.target)}),this.gl.bindTexture(this.target,null),this}setImageData(r){if(this.props.dimension==="3d"||this.props.dimension==="2d-array")return this.setImageData3D(r);this.trackDeallocatedMemory("Texture");const{target:n=this.target,pixels:i=null,level:o=0,glFormat:s=this.glFormat,offset:a=0,parameters:l={}}=r;let{data:A=null,type:p=this.type,width:g=this.width,height:v=this.height,dataFormat:b=this.dataFormat,compressed:S=!1}=r;A||(A=i),{type:p,dataFormat:b,compressed:S,width:g,height:v}=this._deduceParameters({format:this.props.format,type:p,dataFormat:b,compressed:S,data:A,width:g,height:v});const{gl:E}=this;E.bindTexture(this.target,this.handle);let C=null;if({data:A,dataType:C}=this._getDataType({data:A,compressed:S}),Ns(this.gl,l,()=>{switch(C){case"null":E.texImage2D(n,o,s,g,v,0,b,p,A);break;case"typed-array":E.texImage2D(n,o,s,g,v,0,b,p,A,a);break;case"buffer":this.device.gl.bindBuffer(35052,A.handle||A),this.device.gl.texImage2D(n,o,s,g,v,0,b,p,a),this.device.gl.bindBuffer(35052,null);break;case"browser-object":E.texImage2D(n,o,s,g,v,0,b,p,A);break;case"compressed":for(const[x,P]of A.entries())E.compressedTexImage2D(n,x,P.format,P.width,P.height,0,P.data);break;default:rr(!1,"Unknown image data type")}}),A&&A.byteLength)this.trackAllocatedMemory(A.byteLength,"Texture");else{const x=pC(this.props.format);this.trackAllocatedMemory(this.width*this.height*x,"Texture")}return this.loaded=!0,this}setSubImageData({target:r=this.target,pixels:n=null,data:i=null,x:o=0,y:s=0,width:a=this.width,height:l=this.height,level:A=0,glFormat:p=this.glFormat,type:g=this.type,dataFormat:v=this.dataFormat,compressed:b=!1,offset:S=0,parameters:E={}}){if({type:g,dataFormat:v,compressed:b,width:a,height:l}=this._deduceParameters({format:this.props.format,type:g,dataFormat:v,compressed:b,data:i,width:a,height:l}),rr(this.depth===1,"texSubImage not supported for 3D textures"),i||(i=n),i&&i.data){const C=i;i=C.data,a=C.shape[0],l=C.shape[1]}i instanceof Ys&&(i=i.handle),this.gl.bindTexture(this.target,this.handle),Ns(this.gl,E,()=>{b?this.gl.compressedTexSubImage2D(r,A,o,s,a,l,p,i):i===null?this.gl.texSubImage2D(r,A,o,s,a,l,v,g,null):ArrayBuffer.isView(i)?this.gl.texSubImage2D(r,A,o,s,a,l,v,g,i,S):typeof WebGLBuffer<"u"&&i instanceof WebGLBuffer?(this.device.gl.bindBuffer(35052,i),this.device.gl.texSubImage2D(r,A,o,s,a,l,v,g,S),this.device.gl.bindBuffer(35052,null)):this.device.gl.texSubImage2D(r,A,o,s,a,l,v,g,i)}),this.gl.bindTexture(this.target,null)}copyFramebuffer(r={}){return ke.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(r=this.textureUnit){const{gl:n}=this;return r!==void 0&&(this.textureUnit=r,n.activeTexture(33984+r)),n.bindTexture(this.target,this.handle),r}unbind(r=this.textureUnit){const{gl:n}=this;return r!==void 0&&(this.textureUnit=r,n.activeTexture(33984+r)),n.bindTexture(this.target,null),r}_getDataType({data:r,compressed:n=!1}){return n?{data:r,dataType:"compressed"}:r===null?{data:r,dataType:"null"}:ArrayBuffer.isView(r)?{data:r,dataType:"typed-array"}:r instanceof Ys?{data:r.handle,dataType:"buffer"}:typeof WebGLBuffer<"u"&&r instanceof WebGLBuffer?{data:r,dataType:"buffer"}:{data:r,dataType:"browser-object"}}_deduceParameters(r){const{format:n,data:i}=r;let{width:o,height:s,dataFormat:a,type:l,compressed:A}=r;const p=sg(n);return a=a||p.dataFormat,l=l||p.type,A=A||p.compressed,{width:o,height:s}=this._deduceImageSize(i,o,s),{dataFormat:a,type:l,compressed:A,width:o,height:s,format:n,data:i}}_deduceImageSize(r,n,i){let o;return typeof ImageData<"u"&&r instanceof ImageData?o={width:r.width,height:r.height}:typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement?o={width:r.naturalWidth,height:r.naturalHeight}:typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement?o={width:r.width,height:r.height}:typeof ImageBitmap<"u"&&r instanceof ImageBitmap?o={width:r.width,height:r.height}:typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement?o={width:r.videoWidth,height:r.videoHeight}:r?o={width:n,height:i}:o={width:n>=0?n:1,height:i>=0?i:1},rr(o,"Could not deduced texture size"),rr(n===void 0||o.width===n,"Deduced texture width does not match supplied width"),rr(i===void 0||o.height===i,"Deduced texture height does not match supplied height"),o}async setCubeMapImageData(r){const{gl:n}=this,{width:i,height:o,pixels:s,data:a,format:l=6408,type:A=5121}=r,p=s||a,g=await Promise.all(Cf.FACES.map(v=>{const b=p[v];return Promise.all(Array.isArray(b)?b:[b])}));this.bind(),Cf.FACES.forEach((v,b)=>{g[b].length>1&&this.props.mipmaps!==!1&&ke.warn(`${this.id} has mipmap and multiple LODs.`)(),g[b].forEach((S,E)=>{i&&o?n.texImage2D(v,E,l,i,o,0,l,A,S):n.texImage2D(v,E,l,l,A,S)})}),this.unbind()}setImageDataForFace(r){const{face:n,width:i,height:o,pixels:s,data:a,format:l=6408,type:A=5121}=r,{gl:p}=this,g=s||a;return this.bind(),g instanceof Promise?g.then(v=>this.setImageDataForFace(Object.assign({},r,{face:n,data:v,pixels:v}))):this.width||this.height?p.texImage2D(n,0,l,i,o,0,l,A,g):p.texImage2D(n,0,l,l,A,g),this}setImageData3D(r){const{level:n=0,dataFormat:i,format:o,type:s,width:a,height:l,depth:A=1,offset:p=0,data:g,parameters:v={}}=r;this.trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle);const b=sg(o);if(Ns(this.gl,v,()=>{ArrayBuffer.isView(g)&&this.gl.texImage3D(this.target,n,b.format,a,l,A,0,b.dataFormat,b.type,g),g instanceof Ys&&(this.gl.bindBuffer(35052,g.handle),this.gl.texImage3D(this.target,n,i,a,l,A,0,o,s,p))}),g&&g.byteLength)this.trackAllocatedMemory(g.byteLength,"Texture");else{const S=pC(this.props.format);this.trackAllocatedMemory(this.width*this.height*this.depth*S,"Texture")}return this.loaded=!0,this}_setSamplerParameters(r){if(!Yp(r)){dq(r),this.gl.bindTexture(this.target,this.handle);for(const[n,i]of Object.entries(r)){const o=Number(n),s=i;switch(o){case 33082:case 33083:this.gl.texParameterf(this.target,o,s);break;default:this.gl.texParameteri(this.target,o,s);break}}this.gl.bindTexture(this.target,null)}}};F(Cf,"FACES",[34069,34070,34071,34072,34073,34074]);let yo=Cf;function hq(t){switch(t.dimension){case"2d":return 3553;case"cube":return 34067;case"2d-array":return 35866;case"3d":return 32879;case"1d":case"cube-array":default:throw new Error(t.dimension)}}function dq(t){ke.log(1,"texture sampler parameters",t)()}class pf extends Gp{constructor(r,n){super(r,n);F(this,"device");F(this,"gl");F(this,"handle");const i=n.handle===null;if(this.device=r,this.gl=r.gl,this.handle=this.props.handle||i?this.props.handle:this.gl.createFramebuffer(),!i){r.setSpectorMetadata(this.handle,{id:this.props.id,props:this.props}),this.autoCreateAttachmentTextures();const o=this.gl.bindFramebuffer(36160,this.handle);for(let s=0;s<this.colorAttachments.length;++s){const a=this.colorAttachments[s],l=36064+s;a&&this._attachOne(l,a)}if(this.depthStencilAttachment&&this._attachOne(eq(this.depthStencilAttachment.props.format),this.depthStencilAttachment),n.check!==!1){const s=this.gl.checkFramebufferStatus(36160);if(s!==36053)throw new Error(`Framebuffer ${gq(s)}`)}this.gl.bindFramebuffer(36160,o)}}get texture(){return this.colorAttachments[0]}destroy(){super.destroy(),!this.destroyed&&this.handle!==null&&this.gl.deleteFramebuffer(this.handle)}createDepthStencilTexture(r){return new yo(this.device,{id:`${this.id}-depth-stencil`,format:r,width:this.width,height:this.height,mipmaps:!1})}resizeAttachments(r,n){if(this.handle===null)return this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;r===void 0&&(r=this.gl.drawingBufferWidth),n===void 0&&(n=this.gl.drawingBufferHeight);for(const i of this.colorAttachments)i.texture.resize({width:r,height:n});return this.depthStencilAttachment&&this.depthStencilAttachment.texture.resize({width:r,height:n}),this}_attachOne(r,n){if(Array.isArray(n)){const[i,o=0,s=0]=n;return this._attachTexture(r,i,o,s),i}if(n instanceof yo)return this._attachTexture(r,n,0,0),n;if(n instanceof _u){const i=n;return this._attachTexture(r,i.texture,i.props.baseMipLevel,i.props.baseArrayLayer),n.texture}throw new Error("attach")}_attachTexture(r,n,i,o){const{gl:s}=this.device;switch(s.bindTexture(n.target,n.handle),n.target){case 35866:case 32879:s.framebufferTextureLayer(36160,r,n.target,o,i);break;case 34067:const a=pq(i);s.framebufferTexture2D(36160,r,a,n.handle,o);break;case 3553:s.framebufferTexture2D(36160,r,3553,n.handle,o);break;default:rr(!1,"Illegal texture type")}s.bindTexture(n.target,null)}}function pq(t){return t<34069?t+34069:t}function gq(t){switch(t){case 36053:return"success";case 36054:return"Mismatched attachments";case 36055:return"No attachments";case 36057:return"Height/width mismatch";case 36061:return"Unsupported or split attachments";case 36182:return"Samples mismatch";default:return`${t}`}}class mq extends oE{constructor(r,n){super(n);F(this,"device");F(this,"presentationSize");F(this,"_framebuffer",null);this.device=r,this.presentationSize=[-1,-1],this._setAutoCreatedCanvasId(`${this.device.id}-canvas`),this.update()}getCurrentFramebuffer(){return this.update(),this._framebuffer=this._framebuffer||new pf(this.device,{handle:null}),this._framebuffer}update(){const r=this.getPixelSize();(r[0]!==this.presentationSize[0]||r[1]!==this.presentationSize[1])&&(this.presentationSize=r,this.resize())}resize(r){if(this.device.gl&&this.canvas){const n=this.getDevicePixelRatio(r==null?void 0:r.useDevicePixels);this.setDevicePixelRatio(n,r);return}}commit(){}}const yq={spector:ke.get("spector")||ke.get("spectorjs")},vq="https://cdn.jsdelivr.net/npm/spectorjs@0.9.30/dist/spector.bundle.js",_q=1;let Wt=null,yC=!1;async function bq(t){if(!globalThis.SPECTOR)try{await h6(vq)}catch(e){ke.warn(String(e))}}function wq(t){if(t={...yq,...t},!(t!=null&&t.spector)||(!Wt&&globalThis.SPECTOR&&(ke.probe(_q,"SPECTOR found and initialized")(),Wt=new globalThis.SPECTOR.Spector,globalThis.luma&&(globalThis.luma.spector=Wt)),!Wt))return null;if(yC||(yC=!0,Wt.spyCanvases(),Wt==null||Wt.onCaptureStarted.add(e=>ke.info("Spector capture started:",e)()),Wt==null||Wt.onCapture.add(e=>{ke.info("Spector capture complete:",e)(),Wt==null||Wt.getResultUI(),Wt==null||Wt.resultView.display(),Wt==null||Wt.resultView.addCapture(e)})),t!=null&&t.canvas){if(typeof t.spector=="string"&&t.spector!==t.canvas.id)return Wt;Wt==null||Wt.startCapture(t==null?void 0:t.canvas,500),new Promise(e=>setTimeout(e,2e3)).then(e=>{ke.info("Spector capture stopped after 2 seconds")(),Wt==null||Wt.stopCapture()})}return Wt}const Sq="https://unpkg.com/webgl-debug@2.0.1/index.js";function nB(t){return t.luma=t.luma||{},t.luma}async function Eq(){oa()&&!globalThis.WebGLDebugUtils&&(globalThis.global=globalThis.global||globalThis,globalThis.global.module={},await h6(Sq))}function Tq(t,e={}){return t?e.debug?Pq(t,e):xq(t):null}function xq(t){const e=nB(t);return e.realContext?e.realContext:t}function Pq(t,e){if(!globalThis.WebGLDebugUtils)return ke.warn("webgl-debug not loaded")(),t;const r=nB(t);if(r.debugContext)return r.debugContext;globalThis.WebGLDebugUtils.init({...mu,...t});const n=globalThis.WebGLDebugUtils.makeDebugContext(t,Cq.bind(null,e),Oq.bind(null,e));for(const s in mu)!(s in n)&&typeof mu[s]=="number"&&(n[s]=mu[s]);class i{}Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.setPrototypeOf(i,n);const o=Object.create(i);return r.realContext=t,r.debugContext=o,o.debug=!0,o}function D_(t,e){e=Array.from(e).map(n=>n===void 0?"undefined":n);let r=globalThis.WebGLDebugUtils.glFunctionArgsToString(t,e);return r=`${r.slice(0,100)}${r.length>100?"...":""}`,`gl.${t}(${r})`}function Cq(t,e,r,n){n=Array.from(n).map(a=>a===void 0?"undefined":a);const i=globalThis.WebGLDebugUtils.glEnumToString(e),o=globalThis.WebGLDebugUtils.glFunctionArgsToString(r,n),s=`${i} in gl.${r}(${o})`;ke.error(s)();debugger;if(t.throwOnError)throw new Error(s)}function Oq(t,e,r){let n="";if(ke.level>=1&&(n=D_(e,r),ke.log(1,n)()),t.break&&t.break.length>0&&(n=n||D_(e,r),t.break.every(o=>n.indexOf(o)!==-1)))debugger;for(const i of r)if(i===void 0){if(n=n||D_(e,r),t.throwOnError)throw new Error(`Undefined argument: ${n}`);ke.error(`Undefined argument: ${n}`)();debugger}}function Rq(t){const e=t.split(/\r?\n/),r=[];for(const n of e){if(n.length<=1)continue;const i=n.split(":");if(i.length===2){const[g,v]=i;r.push({message:v.trim(),type:vC(g),lineNum:0,linePos:0});continue}const[o,s,a,...l]=i;let A=parseInt(a,10);isNaN(A)&&(A=0);let p=parseInt(s,10);isNaN(p)&&(p=0),r.push({message:l.join(":").trim(),type:vC(o),lineNum:A,linePos:p})}return r}function vC(t){const e=["warning","error","info"],r=t.toLowerCase();return e.includes(r)?r:"info"}class Mq extends Qp{constructor(r,n){super(r,n);F(this,"device");F(this,"handle");switch(this.device=r,this.props.stage){case"vertex":this.handle=this.props.handle||this.device.gl.createShader(35633);break;case"fragment":this.handle=this.props.handle||this.device.gl.createShader(35632);break;default:throw new Error(this.props.stage)}this._compile(this.source)}destroy(){this.handle&&(this.removeStats(),this.device.gl.deleteShader(this.handle),this.destroyed=!0)}async getCompilationInfo(){return await this._waitForCompilationComplete(),this.getCompilationInfoSync()}getCompilationInfoSync(){const r=this.device.gl.getShaderInfoLog(this.handle);return Rq(r)}getTranslatedSource(){const n=this.device.getExtension("WEBGL_debug_shaders").WEBGL_debug_shaders;return n==null?void 0:n.getTranslatedShaderSource(this.handle)}async _compile(r){r=(o=>o.startsWith("#version ")?o:`#version 100
${o}`)(r);const{gl:i}=this.device;if(i.shaderSource(this.handle,r),i.compileShader(this.handle),ke.level===0){this.compilationStatus="pending";return}if(!this.device.features.has("compilation-status-async-webgl")){if(this._getCompilationStatus(),this.debugShader(),this.compilationStatus==="error")throw new Error(`GLSL compilation errors in ${this.props.stage} shader ${this.props.id}`);return}ke.once(1,"Shader compilation is asynchronous")(),await this._waitForCompilationComplete(),ke.info(2,`Shader ${this.id} - async compilation complete: ${this.compilationStatus}`)(),this._getCompilationStatus(),this.debugShader()}async _waitForCompilationComplete(){const r=async o=>await new Promise(s=>setTimeout(s,o));if(!this.device.features.has("compilation-status-async-webgl")){await r(10);return}const{gl:i}=this.device;for(;;){if(i.getShaderParameter(this.handle,37297))return;await r(10)}}_getCompilationStatus(){this.compilationStatus=this.device.gl.getShaderParameter(this.handle,35713)?"success":"error"}}const kq=256,Iq=1024,Nq=16384,B_=6144,Dq=[1,2,4,8];class Bq extends kb{constructor(r,n){super(r,n);F(this,"device");F(this,"glParameters");this.device=r,Km(this.device.gl),this.setParameters(this.props.parameters),this.clear()}end(){Zf(this.device.gl)}pushDebugGroup(r){}popDebugGroup(){}insertDebugMarker(r){}setParameters(r={}){const n={...this.glParameters};this.props.framebuffer&&(n.framebuffer=this.props.framebuffer),this.props.depthReadOnly&&(n.depthMask=!this.props.depthReadOnly),n.stencilMask=this.props.stencilReadOnly?0:1,n[35977]=this.props.discard,r.viewport&&(r.viewport.length>=6?(n.viewport=r.viewport.slice(0,4),n.depthRange=[r.viewport[4],r.viewport[5]]):n.viewport=r.viewport),r.scissorRect&&(n.scissorTest=!0,n.scissor=r.scissorRect),r.blendConstant&&(n.blendColor=r.blendConstant),r.stencilReference&&(console.warn("RenderPassParameters.stencilReference not yet implemented in WebGL"),r[2967]=r.stencilReference),r.colorMask&&(n.colorMask=Dq.map(i=>!!(i&r.colorMask))),this.glParameters=n,Bc(this.device.gl,n)}beginOcclusionQuery(r){const n=this.props.occlusionQuerySet;n==null||n.beginOcclusionQuery()}endOcclusionQuery(){const r=this.props.occlusionQuerySet;r==null||r.endOcclusionQuery()}clear(){const r={...this.glParameters};let n=0;this.props.clearColor!==!1&&(n|=Nq,r.clearColor=this.props.clearColor),this.props.clearDepth!==!1&&(n|=kq,r.clearDepth=this.props.clearDepth),this.props.clearStencil!==!1&&(n|=Iq,r.clearStencil=this.props.clearStencil),n!==0&&Ns(this.device.gl,r,()=>{this.device.gl.clear(n)})}clearColorBuffer(r=0,n=[0,0,0,0]){Ns(this.device.gl,{framebuffer:this.props.framebuffer},()=>{switch(n.constructor){case Int32Array:this.device.gl.clearBufferiv(B_,r,n);break;case Uint32Array:this.device.gl.clearBufferuiv(B_,r,n);break;case Float32Array:default:this.device.gl.clearBufferfv(B_,r,n);break}})}}const Fq="Failed to deduce GL constant from typed array";function Lq(t){switch(ArrayBuffer.isView(t)?t.constructor:t){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:return 5121;case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error(Fq)}}function Jb(t,e){const{clamped:r=!0}=e||{};switch(t){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return r?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}const $q={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},Uq={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}};class gf{constructor(...e){F(this,"offset");F(this,"stride");F(this,"type");F(this,"size");F(this,"divisor");F(this,"normalized");F(this,"integer");F(this,"buffer");F(this,"index");e.forEach(r=>this._assign(r)),Object.freeze(this)}static getBytesPerElement(e){return Jb(e.type||5126).BYTES_PER_ELEMENT}static getBytesPerVertex(e){return rr(e.size),Jb(e.type||5126).BYTES_PER_ELEMENT*e.size}static resolve(...e){return new gf($q,...e)}toString(){return JSON.stringify(this)}get BYTES_PER_ELEMENT(){return gf.getBytesPerElement(this)}get BYTES_PER_VERTEX(){return gf.getBytesPerVertex(this)}_assign(e={}){return e=dH("Accessor",e,Uq),e.type!==void 0&&(this.type=e.type,(e.type===5124||e.type===5125)&&(this.integer=!0)),e.size!==void 0&&(this.size=e.size),e.offset!==void 0&&(this.offset=e.offset),e.stride!==void 0&&(this.stride=e.stride),e.normalize!==void 0&&(this.normalized=e.normalize),e.normalized!==void 0&&(this.normalized=e.normalized),e.integer!==void 0&&(this.integer=e.integer),e.divisor!==void 0&&(this.divisor=e.divisor),e.buffer!==void 0&&(this.buffer=e.buffer),e.index!==void 0&&(typeof e.index=="boolean"?this.index=e.index?1:0:this.index=e.index),e.instanced!==void 0&&(this.divisor=e.instanced?1:0),e.isInstanced!==void 0&&(this.divisor=e.isInstanced?1:0),this.offset===void 0&&delete this.offset,this.stride===void 0&&delete this.stride,this.type===void 0&&delete this.type,this.size===void 0&&delete this.size,this.divisor===void 0&&delete this.divisor,this.normalized===void 0&&delete this.normalized,this.integer===void 0&&delete this.integer,this.buffer===void 0&&delete this.buffer,this.index===void 0&&delete this.index,this}}function jq(t){return zq.includes(t)}const zq=[35678,35680,35679,35682,36289,36292,36293,36298,36299,36300,36303,36306,36307,36308,36311],iB={5126:[5126,1,"float","f32","float32"],35664:[5126,2,"vec2","vec2<f32>","float32x2"],35665:[5126,3,"vec3","vec3<f32>","float32x3"],35666:[5126,4,"vec4","vec4<f32>","float32x4"],5124:[5124,1,"int","i32","sint32"],35667:[5124,2,"ivec2","vec2<i32>","sint32x2"],35668:[5124,3,"ivec3","vec3<i32>","sint32x3"],35669:[5124,4,"ivec4","vec4<i32>","sint32x4"],5125:[5125,1,"uint","u32","uint32"],36294:[5125,2,"uvec2","vec2<u32>","uint32x2"],36295:[5125,3,"uvec3","vec3<u32>","uint32x3"],36296:[5125,4,"uvec4","vec4<u32>","uint32x4"],35670:[5126,1,"bool","f32","float32"],35671:[5126,2,"bvec2","vec2<f32>","float32x2"],35672:[5126,3,"bvec3","vec3<f32>","float32x3"],35673:[5126,4,"bvec4","vec4<f32>","float32x4"],35674:[5126,8,"mat2","mat2x2<f32>"],35685:[5126,8,"mat2x3","mat2x3<f32>"],35686:[5126,8,"mat2x4","mat2x4<f32>"],35687:[5126,12,"mat3x2","mat3x2<f32>"],35675:[5126,12,"mat3","mat3x3<f32>"],35688:[5126,12,"mat3x4","mat3x4<f32>"],35689:[5126,16,"mat4x2","mat4x2<f32>"],35690:[5126,16,"mat4x3","mat4x3<f32>"],35676:[5126,16,"mat4","mat4x4<f32>"]};function oB(t){const e=iB[t];if(!e)throw new Error("uniform");const[r,n,,i]=e;return{format:i,components:n,glType:r}}function Vq(t){const e=iB[t];if(!e)throw new Error("attribute");const[,r,,n,i]=e;return{attributeType:n,vertexFormat:i,components:r}}function Wq(t,e){const r={attributes:[],bindings:[]};r.attributes=Hq(t,e);const n=Kq(t,e);for(const a of n){const l=a.uniforms.map(A=>({name:A.name,format:A.format,byteOffset:A.byteOffset,byteStride:A.byteStride,arrayLength:A.arrayLength}));r.bindings.push({type:"uniform",name:a.name,location:a.location,visibility:(a.vertex?1:0)&(a.fragment?2:0),minBindingSize:a.byteLength,uniforms:l})}const i=Yq(t,e);let o=0;for(const a of i)if(jq(a.type)){const{viewDimension:l,sampleType:A}=qq(a.type);r.bindings.push({type:"texture",name:a.name,location:o,viewDimension:l,sampleType:A}),a.textureUnit=o,o+=1}i.length&&(r.uniforms=i);const s=Xq(t,e);return s!=null&&s.length&&(r.varyings=s),r}function Hq(t,e){const r=[],n=t.getProgramParameter(e,35721);for(let i=0;i<n;i++){const o=t.getActiveAttrib(e,i);if(!o)throw new Error("activeInfo");const{name:s,type:a}=o,l=t.getAttribLocation(e,s);if(l>=0){const{attributeType:A}=Vq(a),p=/instance/i.test(s)?"instance":"vertex";r.push({name:s,location:l,stepMode:p,type:A})}}return r.sort((i,o)=>i.location-o.location),r}function Xq(t,e){const r=[],n=t.getProgramParameter(e,35971);for(let i=0;i<n;i++){const o=t.getTransformFeedbackVarying(e,i);if(!o)throw new Error("activeInfo");const{name:s,type:a,size:l}=o,{glType:A,components:p}=oB(a),g=new gf({type:A,size:l*p}),v={location:i,name:s,accessor:g};r.push(v)}return r.sort((i,o)=>i.location-o.location),r}function Yq(t,e){const r=[],n=t.getProgramParameter(e,35718);for(let i=0;i<n;i++){const o=t.getActiveUniform(e,i);if(!o)throw new Error("activeInfo");const{name:s,size:a,type:l}=o,{name:A,isArray:p}=Gq(s);let g=t.getUniformLocation(e,A);const v={location:g,name:A,size:a,type:l,isArray:p};if(r.push(v),v.size>1)for(let b=0;b<v.size;b++){const S=`${A}[${b}]`;g=t.getUniformLocation(e,S);const E={...v,name:S,location:g};r.push(E)}}return r}function Kq(t,e){const r=(o,s)=>t.getActiveUniformBlockParameter(e,o,s),n=[],i=t.getProgramParameter(e,35382);for(let o=0;o<i;o++){const s={name:t.getActiveUniformBlockName(e,o)||"",location:r(o,35391),byteLength:r(o,35392),vertex:r(o,35396),fragment:r(o,35398),uniformCount:r(o,35394),uniforms:[]},a=r(o,35395)||[],l=t.getActiveUniforms(e,a,35383),A=t.getActiveUniforms(e,a,35384),p=t.getActiveUniforms(e,a,35387),g=t.getActiveUniforms(e,a,35388);for(let v=0;v<s.uniformCount;++v){const b=t.getActiveUniform(e,a[v]);if(!b)throw new Error("activeInfo");s.uniforms.push({name:b.name,format:oB(l[v]).format,type:l[v],arrayLength:A[v],byteOffset:p[v],byteStride:g[v]})}n.push(s)}return n.sort((o,s)=>o.location-s.location),n}const Qq={35678:["2d","float"],35680:["cube","float"],35679:["3d","float"],35682:["3d","depth"],36289:["2d-array","float"],36292:["2d-array","depth"],36293:["cube","float"],36298:["2d","sint"],36299:["3d","sint"],36300:["cube","sint"],36303:["2d-array","uint"],36306:["2d","uint"],36307:["3d","uint"],36308:["cube","uint"],36311:["2d-array","uint"]};function qq(t){const e=Qq[t];if(!e)throw new Error("sampler");const[r,n]=e;return{viewDimension:r,sampleType:n}}function Gq(t){if(t[t.length-1]!=="]")return{name:t,length:1,isArray:!1};const r=/([^[]*)(\[[0-9]+\])?/.exec(t);if(!r||r.length<2)throw new Error(`Failed to parse GLSL uniform name ${t}`);return{name:r[1],length:r[2]?1:0,isArray:!!r[2]}}function Zq(t,e,r,n){const i=t;let o=n;o===!0&&(o=1),o===!1&&(o=0);const s=typeof o=="number"?[o]:o;switch(r){case 35678:case 35680:case 35679:case 35682:case 36289:case 36292:case 36293:case 36298:case 36299:case 36300:case 36303:case 36306:case 36307:case 36308:case 36311:if(typeof n!="number")throw new Error("samplers must be set to integers");return t.uniform1i(e,n);case 5126:return t.uniform1fv(e,s);case 35664:return t.uniform2fv(e,s);case 35665:return t.uniform3fv(e,s);case 35666:return t.uniform4fv(e,s);case 5124:return t.uniform1iv(e,s);case 35667:return t.uniform2iv(e,s);case 35668:return t.uniform3iv(e,s);case 35669:return t.uniform4iv(e,s);case 35670:return t.uniform1iv(e,s);case 35671:return t.uniform2iv(e,s);case 35672:return t.uniform3iv(e,s);case 35673:return t.uniform4iv(e,s);case 5125:return i.uniform1uiv(e,s,1);case 36294:return i.uniform2uiv(e,s,2);case 36295:return i.uniform3uiv(e,s,3);case 36296:return i.uniform4uiv(e,s,4);case 35674:return t.uniformMatrix2fv(e,!1,s);case 35675:return t.uniformMatrix3fv(e,!1,s);case 35676:return t.uniformMatrix4fv(e,!1,s);case 35685:return i.uniformMatrix2x3fv(e,!1,s);case 35686:return i.uniformMatrix2x4fv(e,!1,s);case 35687:return i.uniformMatrix3x2fv(e,!1,s);case 35688:return i.uniformMatrix3x4fv(e,!1,s);case 35689:return i.uniformMatrix4x2fv(e,!1,s);case 35690:return i.uniformMatrix4x3fv(e,!1,s)}throw new Error("Illegal uniform")}function Jq(t){switch(t){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 3;case"line-loop-webgl":return 2;case"triangle-list":return 4;case"triangle-strip":return 5;case"triangle-fan-webgl":return 6;default:throw new Error(t)}}function eG(t){switch(t){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 1;case"line-loop-webgl":return 1;case"triangle-list":return 4;case"triangle-strip":return 4;case"triangle-fan-webgl":return 4;default:throw new Error(t)}}const _C=4;class tG extends Gu{constructor(r,n){super(r,n);F(this,"device");F(this,"handle");F(this,"vs");F(this,"fs");F(this,"introspectedLayout");F(this,"uniforms",{});F(this,"bindings",{});F(this,"varyings",null);F(this,"_uniformCount",0);F(this,"_uniformSetters",{});this.device=r,this.handle=this.props.handle||this.device.gl.createProgram(),this.device.setSpectorMetadata(this.handle,{id:this.props.id}),this.vs=n.vs,this.fs=n.fs;const{varyings:i,bufferMode:o=35981}=n;switch(i&&i.length>0&&(this.varyings=i,this.device.gl.transformFeedbackVaryings(this.handle,i,o)),this._linkShaders(),ke.time(1,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.introspectedLayout=Wq(this.device.gl,this.handle),ke.timeEnd(1,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.shaderLayout=tH(this.introspectedLayout,n.shaderLayout),this.props.topology){case"triangle-fan-webgl":case"line-loop-webgl":ke.warn(`Primitive topology ${this.props.topology} is deprecated and will be removed in v9.1`);break}}destroy(){this.handle&&(this.device.gl.deleteProgram(this.handle),this.destroyed=!0)}setBindings(r,n){for(const[i,o]of Object.entries(r)){const s=this.shaderLayout.bindings.find(a=>a.name===i)||this.shaderLayout.bindings.find(a=>a.name===`${i}Uniforms`);if(!s){const a=this.shaderLayout.bindings.map(l=>`"${l.name}"`).join(", ");n!=null&&n.disableWarnings||ke.warn(`Unknown binding "${i}" in render pipeline "${this.id}", expected one of ${a}`)();continue}switch(o||ke.warn(`Unsetting binding "${i}" in render pipeline "${this.id}"`)(),s.type){case"uniform":if(!(o instanceof Ys)&&!(o.buffer instanceof Ys))throw new Error("buffer value");break;case"texture":if(!(o instanceof _u||o instanceof yo||o instanceof pf))throw new Error("texture value");break;case"sampler":ke.warn(`Ignoring sampler ${i}`)();break;default:throw new Error(s.type)}this.bindings[i]=o}}draw(r){var C;const{renderPass:n,parameters:i=this.props.parameters,topology:o=this.props.topology,vertexArray:s,vertexCount:a,instanceCount:l,isInstanced:A=!1,firstVertex:p=0,transformFeedback:g}=r,v=Jq(o),b=!!s.indexBuffer,S=(C=s.indexBuffer)==null?void 0:C.glIndexType;if(this.linkStatus!=="success")return ke.info(2,`RenderPipeline:${this.id}.draw() aborted - waiting for shader linking`)(),!1;if(!this._areTexturesRenderable()||a===0)return ke.info(2,`RenderPipeline:${this.id}.draw() aborted - textures not yet loaded`)(),!1;if(a===0)return ke.info(2,`RenderPipeline:${this.id}.draw() aborted - no vertices to draw`)(),!0;this.device.gl.useProgram(this.handle),s.bindBeforeRender(n),g&&g.begin(this.props.topology),this._applyBindings(),this._applyUniforms();const E=n;return oq(this.device,i,E.glParameters,()=>{b&&A?this.device.gl.drawElementsInstanced(v,a||0,S,p,l||0):b?this.device.gl.drawElements(v,a||0,S,p):A?this.device.gl.drawArraysInstanced(v,p,a||0,l||0):this.device.gl.drawArrays(v,p,a||0),g&&g.end()}),s.unbindAfterRender(n),!0}setUniformsWebGL(r){const{bindings:n}=sE(r);Object.keys(n).forEach(i=>{ke.warn(`Unsupported value "${JSON.stringify(n[i])}" used in setUniforms() for key ${i}. Use setBindings() instead?`)()}),Object.assign(this.uniforms,r)}async _linkShaders(){const{gl:r}=this.device;if(r.attachShader(this.handle,this.vs.handle),r.attachShader(this.handle,this.fs.handle),ke.time(_C,`linkProgram for ${this.id}`)(),r.linkProgram(this.handle),ke.timeEnd(_C,`linkProgram for ${this.id}`)(),ke.level,!this.device.features.has("compilation-status-async-webgl")){const i=this._getLinkStatus();this._reportLinkStatus(i);return}ke.once(1,"RenderPipeline linking is asynchronous")(),await this._waitForLinkComplete(),ke.info(2,`RenderPipeline ${this.id} - async linking complete: ${this.linkStatus}`)();const n=this._getLinkStatus();this._reportLinkStatus(n)}_reportLinkStatus(r){var n;switch(r){case"success":return;default:throw this.vs.compilationStatus==="error"?(this.vs.debugShader(),new Error(`Error during compilation of shader ${this.vs.id}`)):((n=this.fs)==null?void 0:n.compilationStatus)==="error"?(this.fs.debugShader(),new Error(`Error during compilation of shader ${this.fs.id}`)):new Error(`Error during ${r}: ${this.device.gl.getProgramInfoLog(this.handle)}`)}}_getLinkStatus(){const{gl:r}=this.device;return r.getProgramParameter(this.handle,35714)?(r.validateProgram(this.handle),r.getProgramParameter(this.handle,35715)?(this.linkStatus="success","success"):(this.linkStatus="error","validation")):(this.linkStatus="error","linking")}async _waitForLinkComplete(){const r=async o=>await new Promise(s=>setTimeout(s,o));if(!this.device.features.has("compilation-status-async-webgl")){await r(10);return}const{gl:i}=this.device;for(;;){if(i.getProgramParameter(this.handle,37297))return;await r(10)}}_areTexturesRenderable(){let r=!0;for(const[,n]of Object.entries(this.bindings))n instanceof yo&&(n.update(),r=r&&n.loaded);return r}_applyBindings(){if(this.linkStatus!=="success")return;const{gl:r}=this.device;r.useProgram(this.handle);let n=0,i=0;for(const o of this.shaderLayout.bindings){const s=this.bindings[o.name]||this.bindings[o.name.replace(/Uniforms$/,"")];if(!s)throw new Error(`No value for binding ${o.name} in ${this.id}`);switch(o.type){case"uniform":const{name:a}=o,l=r.getUniformBlockIndex(this.handle,a);if(l===4294967295)throw new Error(`Invalid uniform block name ${a}`);r.uniformBlockBinding(this.handle,i,l),s instanceof Ys?r.bindBufferBase(35345,i,s.handle):r.bindBufferRange(35345,i,s.buffer.handle,s.offset||0,s.size||s.buffer.byteLength-s.offset),i+=1;break;case"texture":if(!(s instanceof _u||s instanceof yo||s instanceof pf))throw new Error("texture");let A;if(s instanceof _u)A=s.texture;else if(s instanceof yo)A=s;else if(s instanceof pf&&s.colorAttachments[0]instanceof _u)ke.warn("Passing framebuffer in texture binding may be deprecated. Use fbo.colorAttachments[0] instead")(),A=s.colorAttachments[0].texture;else throw new Error("No texture");r.activeTexture(33984+n),r.bindTexture(A.target,A.handle),n+=1;break;case"sampler":break;case"storage":case"read-only-storage":throw new Error(`binding type '${o.type}' not supported in WebGL`)}}}_applyUniforms(){for(const r of this.shaderLayout.uniforms||[]){const{name:n,location:i,type:o,textureUnit:s}=r,a=this.uniforms[n]??s;a!==void 0&&Zq(this.device.gl,i,o,a)}}}class rG extends Nb{constructor(r){super(r,{});F(this,"device");F(this,"commands",[]);this.device=r}submitCommands(r=this.commands){for(const n of r)switch(n.name){case"copy-buffer-to-buffer":nG(this.device,n.options);break;case"copy-buffer-to-texture":iG(this.device,n.options);break;case"copy-texture-to-buffer":oG(this.device,n.options);break;case"copy-texture-to-texture":sG(this.device,n.options);break}}}function nG(t,e){const r=e.source,n=e.destination;t.gl.bindBuffer(36662,r.handle),t.gl.bindBuffer(36663,n.handle),t.gl.copyBufferSubData(36662,36663,e.sourceOffset??0,e.destinationOffset??0,e.size),t.gl.bindBuffer(36662,null),t.gl.bindBuffer(36663,null)}function iG(t,e){throw new Error("Not implemented")}function oG(t,e){const{source:r,mipLevel:n=0,aspect:i="all",width:o=e.source.width,height:s=e.source.height,depthOrArrayLayers:a=0,origin:l=[0,0],destination:A,byteOffset:p=0,bytesPerRow:g,rowsPerImage:v}=e;if(i!=="all")throw new Error("not supported");if(n!==0||a!==0||g||v)throw new Error("not implemented");const{framebuffer:b,destroyFramebuffer:S}=sB(r);let E;try{const C=A,x=o||b.width,P=s||b.height,T=sg(b.texture.props.format),M=T.dataFormat,R=T.type;t.gl.bindBuffer(35051,C.handle),E=t.gl.bindFramebuffer(36160,b.handle),t.gl.readPixels(l[0],l[1],x,P,M,R,p)}finally{t.gl.bindBuffer(35051,null),E!==void 0&&t.gl.bindFramebuffer(36160,E),S&&b.destroy()}}function sG(t,e){const{source:r,destinationMipLevel:n=0,origin:i=[0,0],destinationOrigin:o=[0,0],destination:s}=e;let{width:a=e.destination.width,height:l=e.destination.height}=e;const{framebuffer:A,destroyFramebuffer:p}=sB(r),[g,v]=i,[b,S,E]=o,C=t.gl.bindFramebuffer(36160,A.handle);let x=null,P;if(s instanceof yo)x=s,a=Number.isFinite(a)?a:x.width,l=Number.isFinite(l)?l:x.height,x.bind(0),P=x.target;else throw new Error("invalid destination");switch(P){case 3553:case 34067:t.gl.copyTexSubImage2D(P,n,b,S,g,v,a,l);break;case 35866:case 32879:t.gl.copyTexSubImage3D(P,n,b,S,E,g,v,a,l);break}x&&x.unbind(),t.gl.bindFramebuffer(36160,C),p&&A.destroy()}function sB(t){if(t instanceof pi){const{width:e,height:r,id:n}=t;return{framebuffer:t.device.createFramebuffer({id:`framebuffer-for-${n}`,width:e,height:r,colorAttachments:[t]}),destroyFramebuffer:!0}}return{framebuffer:t,destroyFramebuffer:!1}}class aG extends Ib{constructor(r,n){super(r,n);F(this,"device");F(this,"commandBuffer");this.device=r,this.commandBuffer=new rG(r)}destroy(){}finish(){this.commandBuffer.submitCommands()}copyBufferToBuffer(r){this.commandBuffer.commands.push({name:"copy-buffer-to-buffer",options:r})}copyBufferToTexture(r){this.commandBuffer.commands.push({name:"copy-buffer-to-texture",options:r})}copyTextureToBuffer(r){this.commandBuffer.commands.push({name:"copy-texture-to-buffer",options:r})}copyTextureToTexture(r){this.commandBuffer.commands.push({name:"copy-texture-to-texture",options:r})}pushDebugGroup(r){}popDebugGroup(){}insertDebugMarker(r){}resolveQuerySet(r,n,i){}}class gE extends Db{constructor(r,n){super(r,n);F(this,"device");F(this,"handle");F(this,"buffer",null);F(this,"bufferValue",null);this.device=r,this.handle=this.device.gl.createVertexArray()}get[Symbol.toStringTag](){return"VertexArray"}static isConstantAttributeZeroSupported(r){return c9()==="Chrome"}destroy(){var r;super.destroy(),this.buffer&&((r=this.buffer)==null||r.destroy()),this.handle&&(this.device.gl.deleteVertexArray(this.handle),this.handle=void 0)}setIndexBuffer(r){const n=r;if(n&&n.glTarget!==34963)throw new Error("Use .setBuffer()");this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34963,n?n.handle:null),this.indexBuffer=n,this.device.gl.bindVertexArray(null)}setBuffer(r,n){const i=n;if(i.glTarget===34963)throw new Error("Use .setIndexBuffer()");const{size:o,type:s,stride:a,offset:l,normalized:A,integer:p,divisor:g}=this._getAccessor(r);this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34962,i.handle),p?this.device.gl.vertexAttribIPointer(r,o,s,a,l):this.device.gl.vertexAttribPointer(r,o,s,A,a,l),this.device.gl.bindBuffer(34962,null),this.device.gl.enableVertexAttribArray(r),this.device.gl.vertexAttribDivisor(r,g||0),this.attributes[r]=i,this.device.gl.bindVertexArray(null)}setConstantWebGL(r,n){this._enable(r,!1),this.attributes[r]=n}bindBeforeRender(){this.device.gl.bindVertexArray(this.handle),this._applyConstantAttributes()}unbindAfterRender(){this.device.gl.bindVertexArray(null)}_applyConstantAttributes(){for(let r=0;r<this.maxVertexAttributes;++r){const n=this.attributes[r];ArrayBuffer.isView(n)&&this.device.setConstantAttributeWebGL(r,n)}}_getAccessor(r){const n=this.attributeInfos[r];if(!n)throw new Error(`Unknown attribute location ${r}`);const i=J6(n.bufferDataType);return{size:n.bufferComponents,type:i,stride:n.byteStride,offset:n.byteOffset,normalized:n.normalized,integer:n.integer,divisor:n.stepMode==="instance"?1:0}}_enable(r,n=!0){const o=gE.isConstantAttributeZeroSupported(this.device)||r!==0;(n||o)&&(r=Number(r),this.device.gl.bindVertexArray(this.handle),n?this.device.gl.enableVertexAttribArray(r):this.device.gl.disableVertexAttribArray(r),this.device.gl.bindVertexArray(null))}getConstantBuffer(r,n){const i=lG(n),o=i.byteLength*r,s=i.length*r;if(this.buffer&&o!==this.buffer.byteLength)throw new Error(`Buffer size is immutable, byte length ${o} !== ${this.buffer.byteLength}.`);let a=!this.buffer;if(this.buffer=this.buffer||this.device.createBuffer({byteLength:o}),a=a||!uG(i,this.bufferValue),a){const l=oH(n.constructor,s);sH({target:l,source:i,start:0,count:s}),this.buffer.write(l),this.bufferValue=n}return this.buffer}}function lG(t){return Array.isArray(t)?new Float32Array(t):t}function uG(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}class cG extends Bb{constructor(r,n){super(r,n);F(this,"device");F(this,"gl");F(this,"handle");F(this,"layout");F(this,"buffers",{});F(this,"unusedBuffers",{});F(this,"bindOnUse",!0);F(this,"_bound",!1);this.device=r,this.gl=r.gl,this.handle=this.props.handle||this.gl.createTransformFeedback(),this.layout=this.props.layout,n.buffers&&this.setBuffers(n.buffers),Object.seal(this)}destroy(){this.gl.deleteTransformFeedback(this.handle),super.destroy()}begin(r="point-list"){this.gl.bindTransformFeedback(36386,this.handle),this.bindOnUse&&this._bindBuffers(),this.gl.beginTransformFeedback(eG(r))}end(){this.gl.endTransformFeedback(),this.bindOnUse&&this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null)}setBuffers(r){this.buffers={},this.unusedBuffers={},this.bind(()=>{for(const n in r)this.setBuffer(n,r[n])})}setBuffer(r,n){const i=this._getVaryingIndex(r),{buffer:o,byteLength:s,byteOffset:a}=this._getBufferRange(n);if(i<0){this.unusedBuffers[r]=o,ke.warn(`${this.id} unusedBuffers varying buffer ${r}`)();return}this.buffers[i]={buffer:o,byteLength:s,byteOffset:a},this.bindOnUse||this._bindBuffer(i,o,a,s)}getBuffer(r){if(bC(r))return this.buffers[r]||null;const n=this._getVaryingIndex(r);return n>=0?this.buffers[n]:null}bind(r=this.handle){if(typeof r!="function")return this.gl.bindTransformFeedback(36386,r),this;let n;return this._bound?n=r():(this.gl.bindTransformFeedback(36386,this.handle),this._bound=!0,n=r(),this._bound=!1,this.gl.bindTransformFeedback(36386,null)),n}unbind(){this.bind(null)}_getBufferRange(r){if(r instanceof Ys)return{buffer:r,byteOffset:0,byteLength:r.byteLength};const{buffer:n,byteOffset:i=0,byteLength:o=r.buffer.byteLength}=r;return{buffer:n,byteOffset:i,byteLength:o}}_getVaryingIndex(r){if(bC(r))return Number(r);for(const n of this.layout.varyings)if(r===n.name)return n.location;return-1}_bindBuffers(){for(const r in this.buffers){const{buffer:n,byteLength:i,byteOffset:o}=this._getBufferRange(this.buffers[r]);this._bindBuffer(Number(r),n,o,i)}}_unbindBuffers(){for(const r in this.buffers)this.gl.bindBufferBase(35982,Number(r),null)}_bindBuffer(r,n,i=0,o){const s=n&&n.handle;!s||o===void 0?this.gl.bindBufferBase(35982,r,s):this.gl.bindBufferRange(35982,r,s,i,o)}}function bC(t){return typeof t=="number"?Number.isInteger(t):/^\d+$/.test(t)}class AG extends Fb{constructor(r,n){super(r,n);F(this,"device");F(this,"handle");F(this,"target",null);F(this,"_queryPending",!1);F(this,"_pollingPromise",null);if(this.device=r,n.count>1)throw new Error("WebGL QuerySet can only have one value");this.handle=this.device.gl.createQuery(),Object.seal(this)}get[Symbol.toStringTag](){return"Query"}destroy(){this.device.gl.deleteQuery(this.handle)}beginTimestampQuery(){return this._begin(35007)}endTimestampQuery(){this._end()}beginOcclusionQuery(r){return this._begin(r!=null&&r.conservative?36202:35887)}endOcclusionQuery(){this._end()}beginTransformFeedbackQuery(){return this._begin(35976)}endTransformFeedbackQuery(){this._end()}async resolveQuery(){return[await this.pollQuery()]}_begin(r){this._queryPending||(this.target=r,this.device.gl.beginQuery(this.target,this.handle))}_end(){this._queryPending||this.target&&(this.device.gl.endQuery(this.target),this.target=null,this._queryPending=!0)}isResultAvailable(){if(!this._queryPending)return!1;const r=this.device.gl.getQueryParameter(this.handle,34919);return r&&(this._queryPending=!1),r}isTimerDisjoint(){return this.device.gl.getParameter(36795)}getResult(){return this.device.gl.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}pollQuery(r=Number.POSITIVE_INFINITY){if(this._pollingPromise)return this._pollingPromise;let n=0;return this._pollingPromise=new Promise((i,o)=>{const s=()=>{this.isResultAvailable()?(i(this.getResult()),this._pollingPromise=null):n++>r?(o("Timed out"),this._pollingPromise=null):requestAnimationFrame(s)};requestAnimationFrame(s)}),this._pollingPromise}}function aB(t){switch(t){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return rr(!1),0}}function fG(t){switch(t){case 5121:return 1;case 33635:case 32819:case 32820:return 2;case 5126:return 4;default:return rr(!1),0}}function hG(t,e){var C,x;const{sourceX:r=0,sourceY:n=0,sourceFormat:i=6408,sourceAttachment:o=36064}=e||{};let{target:s=null,sourceWidth:a,sourceHeight:l,sourceType:A}=e||{};const{framebuffer:p,deleteFramebuffer:g}=lB(t);rr(p);const{gl:v,handle:b}=p;a=a||p.width,l=l||p.height;const S=o-36064;A=A||((x=(C=p.colorAttachments[S])==null?void 0:C.texture)==null?void 0:x.type)||5121,s=gG(s,A,i,a,l),A=A||Lq(s);const E=v.bindFramebuffer(36160,b);return v.readPixels(r,n,a,l,i,A,s),v.bindFramebuffer(36160,E||null),g&&p.destroy(),s}function dG(t,e){const{target:r,sourceX:n=0,sourceY:i=0,sourceFormat:o=6408,targetByteOffset:s=0}=e||{};let{sourceWidth:a,sourceHeight:l,sourceType:A}=e||{};const{framebuffer:p,deleteFramebuffer:g}=lB(t);rr(p),a=a||p.width,l=l||p.height;const v=p;A=A||5121;let b=r;if(!b){const E=aB(o),C=fG(A),x=s+a*l*E*C;b=v.device.createBuffer({byteLength:x})}const S=t.device.createCommandEncoder();return S.copyTextureToBuffer({source:t,width:a,height:l,origin:[n,i],destination:b,byteOffset:s}),S.destroy(),g&&p.destroy(),b}function lB(t){return t instanceof Gp?{framebuffer:t,deleteFramebuffer:!1}:{framebuffer:pG(t),deleteFramebuffer:!0}}function pG(t,e){const{device:r,width:n,height:i,id:o}=t;return r.createFramebuffer({...e,id:`framebuffer-for-${o}`,width:n,height:i,colorAttachments:[t]})}function gG(t,e,r,n,i){if(t)return t;e=e||5121;const o=Jb(e,{clamped:!1}),s=aB(r);return new o(n*i*s)}const mG=256,yG=1024,vG=16384,_G="clear: bad arguments";function bG(t,e){const{framebuffer:r=null,color:n=null,depth:i=null,stencil:o=null}=e||{},s={};r&&(s.framebuffer=r);let a=0;n&&(a|=vG,n!==!0&&(s.clearColor=n)),i&&(a|=mG,i!==!0&&(s.clearDepth=i)),o&&(a|=yG,i!==!0&&(s.clearStencil=i)),rr(a!==0,_G);const l=t.gl;Ns(l,s,()=>{l.clear(a)})}const CA=1,Na=class Na extends qu{constructor(r){var l,A;super({...r,id:r.id||gl("webgl-device")});F(this,"type","webgl");F(this,"handle");F(this,"features");F(this,"limits");F(this,"info");F(this,"canvasContext");F(this,"lost");F(this,"_resolveContextLost");F(this,"renderPass",null);F(this,"gl");F(this,"debug",!1);F(this,"_canvasSizeInfo",{clientWidth:0,clientHeight:0,devicePixelRatio:1});F(this,"_extensions",{});F(this,"_polyfilled",!1);F(this,"spectorJS");F(this,"_constants");const n=(l=r.gl)==null?void 0:l.device;if(n)throw new Error(`WebGL context already attached to device ${n.id}`);const i=((A=r.gl)==null?void 0:A.canvas)||r.canvas;this.canvasContext=new mq(this,{...r,canvas:i}),this.lost=new Promise(p=>{this._resolveContextLost=p});let o=r.gl||null;if(o||(o=BQ(this.canvasContext.canvas,{...r,onContextLost:p=>{var g;return(g=this._resolveContextLost)==null?void 0:g.call(this,{reason:"destroyed",message:"Entered sleep mode, or too many apps or browser tabs are using the GPU."})}})),!o)throw new Error("WebGL context creation failed");this.handle=o,this.gl=o,this.gl.device=this,this.gl._version=2,r.spector&&(this.spectorJS=wq({...this.props,canvas:this.handle.canvas})),this.info=FQ(this.gl,this._extensions),this.limits=new nq(this.gl),this.features=new rq(this.gl,this._extensions,this.props.disabledFeatures),this.props.initalizeFeatures&&this.features.initializeFeatures(),this.canvasContext.resize();const{enable:s=!0,copyState:a=!1}=r;G6(this.gl,{enable:s,copyState:a,log:(...p)=>ke.log(1,...p)()}),r.debug&&(this.gl=Tq(this.gl,{...r,throwOnError:!0}),this.debug=!0,ke.level=Math.max(ke.level,1),ke.warn("WebGL debug mode activated. Performance reduced.")())}static isSupported(){return typeof WebGL2RenderingContext<"u"}static attach(r){if(r instanceof Na)return r;if((r==null?void 0:r.device)instanceof qu)return r.device;if(!wG(r))throw new Error("Invalid WebGL2RenderingContext");return new Na({gl:r})}static async create(r={}){var a;ke.groupCollapsed(CA,"WebGLDevice created")();const n=[];r.debug&&n.push(Eq()),r.spector&&n.push(bq()),typeof r.canvas=="string"&&n.push(oE.pageLoaded);const i=await Promise.allSettled(n);for(const l of i)l.status==="rejected"&&ke.error(`Failed to initialize debug libraries ${l.reason}`)();if(ke.probe(CA+1,"DOM is loaded")(),(a=r.gl)!=null&&a.device)return ke.warn("reattaching existing device")(),Na.attach(r.gl);const o=new Na(r),s=`Created ${o.type}${o.debug?" debug":""} context: ${o.info.vendor}, ${o.info.renderer} for canvas: ${o.canvasContext.id}`;return ke.probe(CA,s)(),ke.table(CA,o.info)(),ke.groupEnd(CA)(),o}destroy(){}get isLost(){return this.gl.isContextLost()}getSize(){return[this.gl.drawingBufferWidth,this.gl.drawingBufferHeight]}isTextureFormatSupported(r){return pE(this.gl,r,this._extensions)}isTextureFormatFilterable(r){return ZQ(this.gl,r,this._extensions)}isTextureFormatRenderable(r){return JQ(this.gl,r,this._extensions)}createCanvasContext(r){throw new Error("WebGL only supports a single canvas")}createBuffer(r){const n=this._getBufferProps(r);return new Ys(this,n)}_createTexture(r){return new yo(this,r)}createExternalTexture(r){throw new Error("createExternalTexture() not implemented")}createSampler(r){return new Zb(this,r)}createShader(r){return new Mq(this,r)}createFramebuffer(r){return new pf(this,r)}createVertexArray(r){return new gE(this,r)}createTransformFeedback(r){return new cG(this,r)}createQuerySet(r){return new AG(this,r)}createRenderPipeline(r){return new tG(this,r)}beginRenderPass(r){return new Bq(this,r)}createComputePipeline(r){throw new Error("ComputePipeline not supported in WebGL")}beginComputePass(r){throw new Error("ComputePass not supported in WebGL")}createCommandEncoder(r){return new aG(this,r)}submit(){var r;(r=this.renderPass)==null||r.end(),this.renderPass=null}readPixelsToArrayWebGL(r,n){return hG(r,n)}readPixelsToBufferWebGL(r,n){return dG(r,n)}setParametersWebGL(r){Bc(this.gl,r)}getParametersWebGL(r){return q6(this.gl,r)}withParametersWebGL(r,n){return Ns(this.gl,r,n)}clearWebGL(r){bG(this,r)}resetWebGL(){ke.warn("WebGLDevice.resetWebGL is deprecated, use only for debugging")(),OQ(this.gl)}loseDevice(){var o;let r=!1;const i=this.getExtension("WEBGL_lose_context").WEBGL_lose_context;return i&&(r=!0,i.loseContext()),(o=this._resolveContextLost)==null||o.call(this,{reason:"destroyed",message:"Application triggered context loss"}),r}pushState(){Km(this.gl)}popState(){Zf(this.gl)}setSpectorMetadata(r,n){r.__SPECTOR_Metadata=n}getGLKey(r,n){n=n||this.gl2||this.gl;const i=Number(r);for(const o in n)if(n[o]===i)return`GL.${o}`;return String(r)}setConstantAttributeWebGL(r,n){const i=this.limits.maxVertexAttributes;this._constants=this._constants||new Array(i).fill(null);const o=this._constants[r];switch(o&&xG(o,n)&&ke.info(1,`setConstantAttributeWebGL(${r}) could have been skipped, value unchanged`)(),this._constants[r]=n,n.constructor){case Float32Array:SG(this,r,n);break;case Int32Array:EG(this,r,n);break;case Uint32Array:TG(this,r,n);break;default:rr(!1)}}getExtension(r){return ea(this.gl,r,this._extensions),this._extensions}};F(Na,"type","webgl");let mf=Na;function wG(t){return typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext?!0:!!(t&&Number.isFinite(t._version))}function SG(t,e,r){switch(r.length){case 1:t.gl.vertexAttrib1fv(e,r);break;case 2:t.gl.vertexAttrib2fv(e,r);break;case 3:t.gl.vertexAttrib3fv(e,r);break;case 4:t.gl.vertexAttrib4fv(e,r);break;default:rr(!1)}}function EG(t,e,r){t.gl.vertexAttribI4iv(e,r)}function TG(t,e,r){t.gl.vertexAttribI4uiv(e,r)}function xG(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}var uB={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(t){(function(e,r,n,i){var o=["","webkit","Moz","MS","ms","o"],s=r.createElement("div"),a="function",l=Math.round,A=Math.abs,p=Date.now;function g(L,z,G){return setTimeout(T(L,G),z)}function v(L,z,G){return Array.isArray(L)?(b(L,G[z],G),!0):!1}function b(L,z,G){var de;if(L)if(L.forEach)L.forEach(z,G);else if(L.length!==i)for(de=0;de<L.length;)z.call(G,L[de],de,L),de++;else for(de in L)L.hasOwnProperty(de)&&z.call(G,L[de],de,L)}function S(L,z,G){var de="DEPRECATED METHOD: "+z+`
`+G+` AT 
`;return function(){var xe=new Error("get-stack-trace"),$e=xe&&xe.stack?xe.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ft=e.console&&(e.console.warn||e.console.log);return ft&&ft.call(e.console,de,$e),L.apply(this,arguments)}}var E;typeof Object.assign!="function"?E=function(z){if(z===i||z===null)throw new TypeError("Cannot convert undefined or null to object");for(var G=Object(z),de=1;de<arguments.length;de++){var xe=arguments[de];if(xe!==i&&xe!==null)for(var $e in xe)xe.hasOwnProperty($e)&&(G[$e]=xe[$e])}return G}:E=Object.assign;var C=S(function(z,G,de){for(var xe=Object.keys(G),$e=0;$e<xe.length;)(!de||de&&z[xe[$e]]===i)&&(z[xe[$e]]=G[xe[$e]]),$e++;return z},"extend","Use `assign`."),x=S(function(z,G){return C(z,G,!0)},"merge","Use `assign`.");function P(L,z,G){var de=z.prototype,xe;xe=L.prototype=Object.create(de),xe.constructor=L,xe._super=de,G&&E(xe,G)}function T(L,z){return function(){return L.apply(z,arguments)}}function M(L,z){return typeof L==a?L.apply(z&&z[0]||i,z):L}function R(L,z){return L===i?z:L}function k(L,z,G){b(N(z),function(de){L.addEventListener(de,G,!1)})}function D(L,z,G){b(N(z),function(de){L.removeEventListener(de,G,!1)})}function $(L,z){for(;L;){if(L==z)return!0;L=L.parentNode}return!1}function W(L,z){return L.indexOf(z)>-1}function N(L){return L.trim().split(/\s+/g)}function H(L,z,G){if(L.indexOf&&!G)return L.indexOf(z);for(var de=0;de<L.length;){if(G&&L[de][G]==z||!G&&L[de]===z)return de;de++}return-1}function Q(L){return Array.prototype.slice.call(L,0)}function re(L,z,G){for(var de=[],xe=[],$e=0;$e<L.length;){var ft=z?L[$e][z]:L[$e];H(xe,ft)<0&&de.push(L[$e]),xe[$e]=ft,$e++}return G&&(z?de=de.sort(function(Dr,Qr){return Dr[z]>Qr[z]}):de=de.sort()),de}function ne(L,z){for(var G,de,xe=z[0].toUpperCase()+z.slice(1),$e=0;$e<o.length;){if(G=o[$e],de=G?G+xe:z,de in L)return de;$e++}return i}var J=1;function ue(){return J++}function pe(L){var z=L.ownerDocument||L;return z.defaultView||z.parentWindow||e}var le=/mobile|tablet|ip(ad|hone|od)|android/i,ge="ontouchstart"in e,Ee=ne(e,"PointerEvent")!==i,Te=ge&&le.test(navigator.userAgent),be="touch",Me="pen",He="mouse",it="kinect",Mt=25,Et=1,zt=2,Oe=4,We=8,Ke=1,Se=2,pt=4,Ge=8,Yt=16,Ct=Se|pt,Dt=Ge|Yt,Yr=Ct|Dt,Ci=["x","y"],Oi=["clientX","clientY"];function Bt(L,z){var G=this;this.manager=L,this.callback=z,this.element=L.element,this.target=L.options.inputTarget,this.domHandler=function(de){M(L.options.enable,[L])&&G.handler(de)},this.init()}Bt.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(pe(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&D(this.element,this.evEl,this.domHandler),this.evTarget&&D(this.target,this.evTarget,this.domHandler),this.evWin&&D(pe(this.element),this.evWin,this.domHandler)}};function jn(L){var z,G=L.options.inputClass;return G?z=G:Ee?z=Ce:Te?z=pa:ge?z=Ae:z=Cl,new z(L,As)}function As(L,z,G){var de=G.pointers.length,xe=G.changedPointers.length,$e=z&Et&&de-xe===0,ft=z&(Oe|We)&&de-xe===0;G.isFirst=!!$e,G.isFinal=!!ft,$e&&(L.session={}),G.eventType=z,Ri(L,G),L.emit("hammer.input",G),L.recognize(G),L.session.prevInput=G}function Ri(L,z){var G=L.session,de=z.pointers,xe=de.length;G.firstInput||(G.firstInput=Sd(z)),xe>1&&!G.firstMultiple?G.firstMultiple=Sd(z):xe===1&&(G.firstMultiple=!1);var $e=G.firstInput,ft=G.firstMultiple,xr=ft?ft.center:$e.center,Dr=z.center=eA(de);z.timeStamp=p(),z.deltaTime=z.timeStamp-$e.timeStamp,z.angle=Pl(xr,Dr),z.distance=xl(xr,Dr),fs(G,z),z.offsetDirection=Ed(z.deltaX,z.deltaY);var Qr=tA(z.deltaTime,z.deltaX,z.deltaY);z.overallVelocityX=Qr.x,z.overallVelocityY=Qr.y,z.overallVelocity=A(Qr.x)>A(Qr.y)?Qr.x:Qr.y,z.scale=ft?dv(ft.pointers,de):1,z.rotation=ft?hv(ft.pointers,de):0,z.maxPointers=G.prevInput?z.pointers.length>G.prevInput.maxPointers?z.pointers.length:G.prevInput.maxPointers:z.pointers.length,fv(G,z);var mt=L.element;$(z.srcEvent.target,mt)&&(mt=z.srcEvent.target),z.target=mt}function fs(L,z){var G=z.center,de=L.offsetDelta||{},xe=L.prevDelta||{},$e=L.prevInput||{};(z.eventType===Et||$e.eventType===Oe)&&(xe=L.prevDelta={x:$e.deltaX||0,y:$e.deltaY||0},de=L.offsetDelta={x:G.x,y:G.y}),z.deltaX=xe.x+(G.x-de.x),z.deltaY=xe.y+(G.y-de.y)}function fv(L,z){var G=L.lastInterval||z,de=z.timeStamp-G.timeStamp,xe,$e,ft,xr;if(z.eventType!=We&&(de>Mt||G.velocity===i)){var Dr=z.deltaX-G.deltaX,Qr=z.deltaY-G.deltaY,mt=tA(de,Dr,Qr);$e=mt.x,ft=mt.y,xe=A(mt.x)>A(mt.y)?mt.x:mt.y,xr=Ed(Dr,Qr),L.lastInterval=z}else xe=G.velocity,$e=G.velocityX,ft=G.velocityY,xr=G.direction;z.velocity=xe,z.velocityX=$e,z.velocityY=ft,z.direction=xr}function Sd(L){for(var z=[],G=0;G<L.pointers.length;)z[G]={clientX:l(L.pointers[G].clientX),clientY:l(L.pointers[G].clientY)},G++;return{timeStamp:p(),pointers:z,center:eA(z),deltaX:L.deltaX,deltaY:L.deltaY}}function eA(L){var z=L.length;if(z===1)return{x:l(L[0].clientX),y:l(L[0].clientY)};for(var G=0,de=0,xe=0;xe<z;)G+=L[xe].clientX,de+=L[xe].clientY,xe++;return{x:l(G/z),y:l(de/z)}}function tA(L,z,G){return{x:z/L||0,y:G/L||0}}function Ed(L,z){return L===z?Ke:A(L)>=A(z)?L<0?Se:pt:z<0?Ge:Yt}function xl(L,z,G){G||(G=Ci);var de=z[G[0]]-L[G[0]],xe=z[G[1]]-L[G[1]];return Math.sqrt(de*de+xe*xe)}function Pl(L,z,G){G||(G=Ci);var de=z[G[0]]-L[G[0]],xe=z[G[1]]-L[G[1]];return Math.atan2(xe,de)*180/Math.PI}function hv(L,z){return Pl(z[1],z[0],Oi)+Pl(L[1],L[0],Oi)}function dv(L,z){return xl(z[0],z[1],Oi)/xl(L[0],L[1],Oi)}var pv={mousedown:Et,mousemove:zt,mouseup:Oe},Td="mousedown",gv="mousemove mouseup";function Cl(){this.evEl=Td,this.evWin=gv,this.pressed=!1,Bt.apply(this,arguments)}P(Cl,Bt,{handler:function(z){var G=pv[z.type];G&Et&&z.button===0&&(this.pressed=!0),G&zt&&z.which!==1&&(G=Oe),this.pressed&&(G&Oe&&(this.pressed=!1),this.callback(this.manager,G,{pointers:[z],changedPointers:[z],pointerType:He,srcEvent:z}))}});var mv={pointerdown:Et,pointermove:zt,pointerup:Oe,pointercancel:We,pointerout:We},rA={2:be,3:Me,4:He,5:it},xd="pointerdown",Pd="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(xd="MSPointerDown",Pd="MSPointerMove MSPointerUp MSPointerCancel");function Ce(){this.evEl=xd,this.evWin=Pd,Bt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}P(Ce,Bt,{handler:function(z){var G=this.store,de=!1,xe=z.type.toLowerCase().replace("ms",""),$e=mv[xe],ft=rA[z.pointerType]||z.pointerType,xr=ft==be,Dr=H(G,z.pointerId,"pointerId");$e&Et&&(z.button===0||xr)?Dr<0&&(G.push(z),Dr=G.length-1):$e&(Oe|We)&&(de=!0),!(Dr<0)&&(G[Dr]=z,this.callback(this.manager,$e,{pointers:G,changedPointers:[z],pointerType:ft,srcEvent:z}),de&&G.splice(Dr,1))}});var yv={touchstart:Et,touchmove:zt,touchend:Oe,touchcancel:We},Cd="touchstart",vv="touchstart touchmove touchend touchcancel";function Od(){this.evTarget=Cd,this.evWin=vv,this.started=!1,Bt.apply(this,arguments)}P(Od,Bt,{handler:function(z){var G=yv[z.type];if(G===Et&&(this.started=!0),!!this.started){var de=nA.call(this,z,G);G&(Oe|We)&&de[0].length-de[1].length===0&&(this.started=!1),this.callback(this.manager,G,{pointers:de[0],changedPointers:de[1],pointerType:be,srcEvent:z})}}});function nA(L,z){var G=Q(L.touches),de=Q(L.changedTouches);return z&(Oe|We)&&(G=re(G.concat(de),"identifier",!0)),[G,de]}var Rd={touchstart:Et,touchmove:zt,touchend:Oe,touchcancel:We},Md="touchstart touchmove touchend touchcancel";function pa(){this.evTarget=Md,this.targetIds={},Bt.apply(this,arguments)}P(pa,Bt,{handler:function(z){var G=Rd[z.type],de=Ol.call(this,z,G);de&&this.callback(this.manager,G,{pointers:de[0],changedPointers:de[1],pointerType:be,srcEvent:z})}});function Ol(L,z){var G=Q(L.touches),de=this.targetIds;if(z&(Et|zt)&&G.length===1)return de[G[0].identifier]=!0,[G,G];var xe,$e,ft=Q(L.changedTouches),xr=[],Dr=this.target;if($e=G.filter(function(Qr){return $(Qr.target,Dr)}),z===Et)for(xe=0;xe<$e.length;)de[$e[xe].identifier]=!0,xe++;for(xe=0;xe<ft.length;)de[ft[xe].identifier]&&xr.push(ft[xe]),z&(Oe|We)&&delete de[ft[xe].identifier],xe++;if(xr.length)return[re($e.concat(xr),"identifier",!0),xr]}var iA=2500,eo=25;function Ae(){Bt.apply(this,arguments);var L=T(this.handler,this);this.touch=new pa(this.manager,L),this.mouse=new Cl(this.manager,L),this.primaryTouch=null,this.lastTouches=[]}P(Ae,Bt,{handler:function(z,G,de){var xe=de.pointerType==be,$e=de.pointerType==He;if(!($e&&de.sourceCapabilities&&de.sourceCapabilities.firesTouchEvents)){if(xe)we.call(this,G,de);else if($e&&Ye.call(this,de))return;this.callback(z,G,de)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function we(L,z){L&Et?(this.primaryTouch=z.changedPointers[0].identifier,Ne.call(this,z)):L&(Oe|We)&&Ne.call(this,z)}function Ne(L){var z=L.changedPointers[0];if(z.identifier===this.primaryTouch){var G={x:z.clientX,y:z.clientY};this.lastTouches.push(G);var de=this.lastTouches,xe=function(){var $e=de.indexOf(G);$e>-1&&de.splice($e,1)};setTimeout(xe,iA)}}function Ye(L){for(var z=L.srcEvent.clientX,G=L.srcEvent.clientY,de=0;de<this.lastTouches.length;de++){var xe=this.lastTouches[de],$e=Math.abs(z-xe.x),ft=Math.abs(G-xe.y);if($e<=eo&&ft<=eo)return!0}return!1}var f=ne(s.style,"touchAction"),j=f!==i,gt="compute",xt="auto",gr="manipulation",Ze="none",At="pan-x",Cn="pan-y",bt=Rl();function nt(L,z){this.manager=L,this.set(z)}nt.prototype={set:function(L){L==gt&&(L=this.compute()),j&&this.manager.element.style&&bt[L]&&(this.manager.element.style[f]=L),this.actions=L.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var L=[];return b(this.manager.recognizers,function(z){M(z.options.enable,[z])&&(L=L.concat(z.getTouchAction()))}),On(L.join(" "))},preventDefaults:function(L){var z=L.srcEvent,G=L.offsetDirection;if(this.manager.session.prevented){z.preventDefault();return}var de=this.actions,xe=W(de,Ze)&&!bt[Ze],$e=W(de,Cn)&&!bt[Cn],ft=W(de,At)&&!bt[At];if(xe){var xr=L.pointers.length===1,Dr=L.distance<2,Qr=L.deltaTime<250;if(xr&&Dr&&Qr)return}if(!(ft&&$e)&&(xe||$e&&G&Ct||ft&&G&Dt))return this.preventSrc(z)},preventSrc:function(L){this.manager.session.prevented=!0,L.preventDefault()}};function On(L){if(W(L,Ze))return Ze;var z=W(L,At),G=W(L,Cn);return z&&G?Ze:z||G?z?At:Cn:W(L,gr)?gr:xt}function Rl(){if(!j)return!1;var L={},z=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(G){L[G]=z?e.CSS.supports("touch-action",G):!0}),L}var Ml=1,nn=2,Nr=4,vn=8,Tr=vn,Mo=16,oi=32;function Kr(L){this.options=E({},this.defaults,L||{}),this.id=ue(),this.manager=null,this.options.enable=R(this.options.enable,!0),this.state=Ml,this.simultaneous={},this.requireFail=[]}Kr.prototype={defaults:{},set:function(L){return E(this.options,L),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(L){if(v(L,"recognizeWith",this))return this;var z=this.simultaneous;return L=Xe(L,this),z[L.id]||(z[L.id]=L,L.recognizeWith(this)),this},dropRecognizeWith:function(L){return v(L,"dropRecognizeWith",this)?this:(L=Xe(L,this),delete this.simultaneous[L.id],this)},requireFailure:function(L){if(v(L,"requireFailure",this))return this;var z=this.requireFail;return L=Xe(L,this),H(z,L)===-1&&(z.push(L),L.requireFailure(this)),this},dropRequireFailure:function(L){if(v(L,"dropRequireFailure",this))return this;L=Xe(L,this);var z=H(this.requireFail,L);return z>-1&&this.requireFail.splice(z,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(L){return!!this.simultaneous[L.id]},emit:function(L){var z=this,G=this.state;function de(xe){z.manager.emit(xe,L)}G<vn&&de(z.options.event+ot(G)),de(z.options.event),L.additionalEvent&&de(L.additionalEvent),G>=vn&&de(z.options.event+ot(G))},tryEmit:function(L){if(this.canEmit())return this.emit(L);this.state=oi},canEmit:function(){for(var L=0;L<this.requireFail.length;){if(!(this.requireFail[L].state&(oi|Ml)))return!1;L++}return!0},recognize:function(L){var z=E({},L);if(!M(this.options.enable,[this,z])){this.reset(),this.state=oi;return}this.state&(Tr|Mo|oi)&&(this.state=Ml),this.state=this.process(z),this.state&(nn|Nr|vn|Mo)&&this.tryEmit(z)},process:function(L){},getTouchAction:function(){},reset:function(){}};function ot(L){return L&Mo?"cancel":L&vn?"end":L&Nr?"move":L&nn?"start":""}function X(L){return L==Yt?"down":L==Ge?"up":L==Se?"left":L==pt?"right":""}function Xe(L,z){var G=z.manager;return G?G.get(L):L}function Rn(){Kr.apply(this,arguments)}P(Rn,Kr,{defaults:{pointers:1},attrTest:function(L){var z=this.options.pointers;return z===0||L.pointers.length===z},process:function(L){var z=this.state,G=L.eventType,de=z&(nn|Nr),xe=this.attrTest(L);return de&&(G&We||!xe)?z|Mo:de||xe?G&Oe?z|vn:z&nn?z|Nr:nn:oi}});function kl(){Rn.apply(this,arguments),this.pX=null,this.pY=null}P(kl,Rn,{defaults:{event:"pan",threshold:10,pointers:1,direction:Yr},getTouchAction:function(){var L=this.options.direction,z=[];return L&Ct&&z.push(Cn),L&Dt&&z.push(At),z},directionTest:function(L){var z=this.options,G=!0,de=L.distance,xe=L.direction,$e=L.deltaX,ft=L.deltaY;return xe&z.direction||(z.direction&Ct?(xe=$e===0?Ke:$e<0?Se:pt,G=$e!=this.pX,de=Math.abs(L.deltaX)):(xe=ft===0?Ke:ft<0?Ge:Yt,G=ft!=this.pY,de=Math.abs(L.deltaY))),L.direction=xe,G&&de>z.threshold&&xe&z.direction},attrTest:function(L){return Rn.prototype.attrTest.call(this,L)&&(this.state&nn||!(this.state&nn)&&this.directionTest(L))},emit:function(L){this.pX=L.deltaX,this.pY=L.deltaY;var z=X(L.direction);z&&(L.additionalEvent=this.options.event+z),this._super.emit.call(this,L)}});function oA(){Rn.apply(this,arguments)}P(oA,Rn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ze]},attrTest:function(L){return this._super.attrTest.call(this,L)&&(Math.abs(L.scale-1)>this.options.threshold||this.state&nn)},emit:function(L){if(L.scale!==1){var z=L.scale<1?"in":"out";L.additionalEvent=this.options.event+z}this._super.emit.call(this,L)}});function sA(){Kr.apply(this,arguments),this._timer=null,this._input=null}P(sA,Kr,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[xt]},process:function(L){var z=this.options,G=L.pointers.length===z.pointers,de=L.distance<z.threshold,xe=L.deltaTime>z.time;if(this._input=L,!de||!G||L.eventType&(Oe|We)&&!xe)this.reset();else if(L.eventType&Et)this.reset(),this._timer=g(function(){this.state=Tr,this.tryEmit()},z.time,this);else if(L.eventType&Oe)return Tr;return oi},reset:function(){clearTimeout(this._timer)},emit:function(L){this.state===Tr&&(L&&L.eventType&Oe?this.manager.emit(this.options.event+"up",L):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}});function aA(){Rn.apply(this,arguments)}P(aA,Rn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ze]},attrTest:function(L){return this._super.attrTest.call(this,L)&&(Math.abs(L.rotation)>this.options.threshold||this.state&nn)}});function U(){Rn.apply(this,arguments)}P(U,Rn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ct|Dt,pointers:1},getTouchAction:function(){return kl.prototype.getTouchAction.call(this)},attrTest:function(L){var z=this.options.direction,G;return z&(Ct|Dt)?G=L.overallVelocity:z&Ct?G=L.overallVelocityX:z&Dt&&(G=L.overallVelocityY),this._super.attrTest.call(this,L)&&z&L.offsetDirection&&L.distance>this.options.threshold&&L.maxPointers==this.options.pointers&&A(G)>this.options.velocity&&L.eventType&Oe},emit:function(L){var z=X(L.offsetDirection);z&&this.manager.emit(this.options.event+z,L),this.manager.emit(this.options.event,L)}});function Il(){Kr.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}P(Il,Kr,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[gr]},process:function(L){var z=this.options,G=L.pointers.length===z.pointers,de=L.distance<z.threshold,xe=L.deltaTime<z.time;if(this.reset(),L.eventType&Et&&this.count===0)return this.failTimeout();if(de&&xe&&G){if(L.eventType!=Oe)return this.failTimeout();var $e=this.pTime?L.timeStamp-this.pTime<z.interval:!0,ft=!this.pCenter||xl(this.pCenter,L.center)<z.posThreshold;this.pTime=L.timeStamp,this.pCenter=L.center,!ft||!$e?this.count=1:this.count+=1,this._input=L;var xr=this.count%z.taps;if(xr===0)return this.hasRequireFailures()?(this._timer=g(function(){this.state=Tr,this.tryEmit()},z.interval,this),nn):Tr}return oi},failTimeout:function(){return this._timer=g(function(){this.state=oi},this.options.interval,this),oi},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Tr&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Mi(L,z){return z=z||{},z.recognizers=R(z.recognizers,Mi.defaults.preset),new lA(L,z)}Mi.VERSION="2.0.7",Mi.defaults={domEvents:!1,touchAction:gt,enable:!0,inputTarget:null,inputClass:null,preset:[[aA,{enable:!1}],[oA,{enable:!1},["rotate"]],[U,{direction:Ct}],[kl,{direction:Ct},["swipe"]],[Il],[Il,{event:"doubletap",taps:2},["tap"]],[sA]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var _v=1,kd=2;function lA(L,z){this.options=E({},Mi.defaults,z||{}),this.options.inputTarget=this.options.inputTarget||L,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=L,this.input=jn(this),this.touchAction=new nt(this,this.options.touchAction),Id(this,!0),b(this.options.recognizers,function(G){var de=this.add(new G[0](G[1]));G[2]&&de.recognizeWith(G[2]),G[3]&&de.requireFailure(G[3])},this)}lA.prototype={set:function(L){return E(this.options,L),L.touchAction&&this.touchAction.update(),L.inputTarget&&(this.input.destroy(),this.input.target=L.inputTarget,this.input.init()),this},stop:function(L){this.session.stopped=L?kd:_v},recognize:function(L){var z=this.session;if(!z.stopped){this.touchAction.preventDefaults(L);var G,de=this.recognizers,xe=z.curRecognizer;(!xe||xe&&xe.state&Tr)&&(xe=z.curRecognizer=null);for(var $e=0;$e<de.length;)G=de[$e],z.stopped!==kd&&(!xe||G==xe||G.canRecognizeWith(xe))?G.recognize(L):G.reset(),!xe&&G.state&(nn|Nr|vn)&&(xe=z.curRecognizer=G),$e++}},get:function(L){if(L instanceof Kr)return L;for(var z=this.recognizers,G=0;G<z.length;G++)if(z[G].options.event==L)return z[G];return null},add:function(L){if(v(L,"add",this))return this;var z=this.get(L.options.event);return z&&this.remove(z),this.recognizers.push(L),L.manager=this,this.touchAction.update(),L},remove:function(L){if(v(L,"remove",this))return this;if(L=this.get(L),L){var z=this.recognizers,G=H(z,L);G!==-1&&(z.splice(G,1),this.touchAction.update())}return this},on:function(L,z){if(L!==i&&z!==i){var G=this.handlers;return b(N(L),function(de){G[de]=G[de]||[],G[de].push(z)}),this}},off:function(L,z){if(L!==i){var G=this.handlers;return b(N(L),function(de){z?G[de]&&G[de].splice(H(G[de],z),1):delete G[de]}),this}},emit:function(L,z){this.options.domEvents&&Nd(L,z);var G=this.handlers[L]&&this.handlers[L].slice();if(!(!G||!G.length)){z.type=L,z.preventDefault=function(){z.srcEvent.preventDefault()};for(var de=0;de<G.length;)G[de](z),de++}},destroy:function(){this.element&&Id(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Id(L,z){var G=L.element;if(G.style){var de;b(L.options.cssProps,function(xe,$e){de=ne(G.style,$e),z?(L.oldCssProps[de]=G.style[de],G.style[de]=xe):G.style[de]=L.oldCssProps[de]||""}),z||(L.oldCssProps={})}}function Nd(L,z){var G=r.createEvent("Event");G.initEvent(L,!0,!0),G.gesture=z,z.target.dispatchEvent(G)}E(Mi,{INPUT_START:Et,INPUT_MOVE:zt,INPUT_END:Oe,INPUT_CANCEL:We,STATE_POSSIBLE:Ml,STATE_BEGAN:nn,STATE_CHANGED:Nr,STATE_ENDED:vn,STATE_RECOGNIZED:Tr,STATE_CANCELLED:Mo,STATE_FAILED:oi,DIRECTION_NONE:Ke,DIRECTION_LEFT:Se,DIRECTION_RIGHT:pt,DIRECTION_UP:Ge,DIRECTION_DOWN:Yt,DIRECTION_HORIZONTAL:Ct,DIRECTION_VERTICAL:Dt,DIRECTION_ALL:Yr,Manager:lA,Input:Bt,TouchAction:nt,TouchInput:pa,MouseInput:Cl,PointerEventInput:Ce,TouchMouseInput:Ae,SingleTouchInput:Od,Recognizer:Kr,AttrRecognizer:Rn,Tap:Il,Pan:kl,Swipe:U,Pinch:oA,Rotate:aA,Press:sA,on:k,off:D,each:b,merge:x,extend:C,assign:E,inherit:P,bindFn:T,prefixed:ne});var Dd=typeof e<"u"?e:typeof self<"u"?self:{};Dd.Hammer=Mi,typeof i=="function"&&i.amd?i(function(){return Mi}):t.exports?t.exports=Mi:e[n]=Mi})(window,document,"Hammer")})(uB);var od=uB.exports;const PG=Lt(od),ao=g4({__proto__:null,default:PG},[od]),cB=1,AB=2,e2=4,CG={mousedown:cB,mousemove:AB,mouseup:e2};function OG(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return!0;return!1}function RG(t){const e=t.prototype.handler;t.prototype.handler=function(n){const i=this.store;n.button>0&&n.type==="pointerdown"&&(OG(i,o=>o.pointerId===n.pointerId)||i.push(n)),e.call(this,n)}}function MG(t){t.prototype.handler=function(r){let n=CG[r.type];n&cB&&r.button>=0&&(this.pressed=!0),n&AB&&r.buttons===0&&(n=e2),this.pressed&&(n&e2&&(this.pressed=!1),this.callback(this.manager,n,{pointers:[r],changedPointers:[r],pointerType:"mouse",srcEvent:r}))}}RG(od.PointerEventInput);MG(od.MouseInput);const kG=od.Manager;class qm{constructor(e,r,n){this.element=e,this.callback=r,this.options={enable:!0,...n}}}const IG=ao?[[ao.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[ao.Rotate,{enable:!1}],[ao.Pinch,{enable:!1}],[ao.Swipe,{enable:!1}],[ao.Pan,{threshold:0,enable:!1}],[ao.Press,{enable:!1}],[ao.Tap,{event:"doubletap",taps:2,enable:!1}],[ao.Tap,{event:"anytap",enable:!1}],[ao.Tap,{enable:!1}]]:null,wC={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},NG={doubletap:["tap"]},DG={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},mE={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},BG={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},SC={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},FG=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",bu=typeof window<"u"?window:global;let t2=!1;try{const t={get passive(){return t2=!0,!0}};bu.addEventListener("test",null,t),bu.removeEventListener("test",null)}catch{t2=!1}const LG=FG.indexOf("firefox")!==-1,{WHEEL_EVENTS:$G}=mE,EC="wheel",TC=4.000244140625,UG=40,jG=.25;class zG extends qm{constructor(e,r,n){super(e,r,n),this.handleEvent=i=>{if(!this.options.enable)return;let o=i.deltaY;bu.WheelEvent&&(LG&&i.deltaMode===bu.WheelEvent.DOM_DELTA_PIXEL&&(o/=bu.devicePixelRatio),i.deltaMode===bu.WheelEvent.DOM_DELTA_LINE&&(o*=UG)),o!==0&&o%TC===0&&(o=Math.floor(o/TC)),i.shiftKey&&o&&(o=o*jG),this.callback({type:EC,center:{x:i.clientX,y:i.clientY},delta:-o,srcEvent:i,pointerType:"mouse",target:i.target})},this.events=(this.options.events||[]).concat($G),this.events.forEach(i=>e.addEventListener(i,this.handleEvent,t2?{passive:!1}:!1))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,r){e===EC&&(this.options.enable=r)}}const{MOUSE_EVENTS:VG}=mE,xC="pointermove",PC="pointerover",CC="pointerout",OC="pointerenter",RC="pointerleave";class WG extends qm{constructor(e,r,n){super(e,r,n),this.handleEvent=o=>{this.handleOverEvent(o),this.handleOutEvent(o),this.handleEnterEvent(o),this.handleLeaveEvent(o),this.handleMoveEvent(o)},this.pressed=!1;const{enable:i}=this.options;this.enableMoveEvent=i,this.enableLeaveEvent=i,this.enableEnterEvent=i,this.enableOutEvent=i,this.enableOverEvent=i,this.events=(this.options.events||[]).concat(VG),this.events.forEach(o=>e.addEventListener(o,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,r){e===xC&&(this.enableMoveEvent=r),e===PC&&(this.enableOverEvent=r),e===CC&&(this.enableOutEvent=r),e===OC&&(this.enableEnterEvent=r),e===RC&&(this.enableLeaveEvent=r)}handleOverEvent(e){this.enableOverEvent&&e.type==="mouseover"&&this._emit(PC,e)}handleOutEvent(e){this.enableOutEvent&&e.type==="mouseout"&&this._emit(CC,e)}handleEnterEvent(e){this.enableEnterEvent&&e.type==="mouseenter"&&this._emit(OC,e)}handleLeaveEvent(e){this.enableLeaveEvent&&e.type==="mouseleave"&&this._emit(RC,e)}handleMoveEvent(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":e.buttons===0&&(this.pressed=!1),this.pressed||this._emit(xC,e);break;case"mouseup":this.pressed=!1;break}}_emit(e,r){this.callback({type:e,center:{x:r.clientX,y:r.clientY},srcEvent:r,pointerType:"mouse",target:r.target})}}const{KEY_EVENTS:HG}=mE,MC="keydown",kC="keyup";class XG extends qm{constructor(e,r,n){super(e,r,n),this.handleEvent=i=>{const o=i.target||i.srcElement;o.tagName==="INPUT"&&o.type==="text"||o.tagName==="TEXTAREA"||(this.enableDownEvent&&i.type==="keydown"&&this.callback({type:MC,srcEvent:i,key:i.key,target:i.target}),this.enableUpEvent&&i.type==="keyup"&&this.callback({type:kC,srcEvent:i,key:i.key,target:i.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(HG),e.tabIndex=this.options.tabIndex||0,e.style.outline="none",this.events.forEach(i=>e.addEventListener(i,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,r){e===MC&&(this.enableDownEvent=r),e===kC&&(this.enableUpEvent=r)}}const IC="contextmenu";class YG extends qm{constructor(e,r,n){super(e,r,n),this.handleEvent=i=>{this.options.enable&&this.callback({type:IC,center:{x:i.clientX,y:i.clientY},srcEvent:i,pointerType:"mouse",target:i.target})},e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(e,r){e===IC&&(this.options.enable=r)}}const NC=1,r2=2,DC=4,KG={pointerdown:NC,pointermove:r2,pointerup:DC,mousedown:NC,mousemove:r2,mouseup:DC},QG=0,qG=1,GG=2,ZG=1,JG=2,eZ=4;function tZ(t){const e=KG[t.srcEvent.type];if(!e)return null;const{buttons:r,button:n}=t.srcEvent;let i=!1,o=!1,s=!1;return e===r2?(i=!!(r&ZG),o=!!(r&eZ),s=!!(r&JG)):(i=n===QG,o=n===qG,s=n===GG),{leftButton:i,middleButton:o,rightButton:s}}function rZ(t,e){const r=t.center;if(!r)return null;const n=e.getBoundingClientRect(),i=n.width/e.offsetWidth||1,o=n.height/e.offsetHeight||1,s={x:(r.x-n.left-e.clientLeft)/i,y:(r.y-n.top-e.clientTop)/o};return{center:r,offsetCenter:s}}const F_={srcElement:"root",priority:0};class nZ{constructor(e){this.handleEvent=r=>{if(this.isEmpty())return;const n=this._normalizeEvent(r);let i=r.srcEvent.target;for(;i&&i!==n.rootElement;){if(this._emit(n,i),n.handled)return;i=i.parentNode}this._emit(n,"root")},this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,r,n,i=!1,o=!1){const{handlers:s,handlersByElement:a}=this;let l=F_;typeof n=="string"||n&&n.addEventListener?l={...F_,srcElement:n}:n&&(l={...F_,...n});let A=a.get(l.srcElement);A||(A=[],a.set(l.srcElement,A));const p={type:e,handler:r,srcElement:l.srcElement,priority:l.priority};i&&(p.once=!0),o&&(p.passive=!0),s.push(p),this._active=this._active||!p.passive;let g=A.length-1;for(;g>=0&&!(A[g].priority>=p.priority);)g--;A.splice(g+1,0,p)}remove(e,r){const{handlers:n,handlersByElement:i}=this;for(let o=n.length-1;o>=0;o--){const s=n[o];if(s.type===e&&s.handler===r){n.splice(o,1);const a=i.get(s.srcElement);a.splice(a.indexOf(s),1),a.length===0&&i.delete(s.srcElement)}}this._active=n.some(o=>!o.passive)}_emit(e,r){const n=this.handlersByElement.get(r);if(n){let i=!1;const o=()=>{e.handled=!0},s=()=>{e.handled=!0,i=!0},a=[];for(let l=0;l<n.length;l++){const{type:A,handler:p,once:g}=n[l];if(p({...e,type:A,stopPropagation:o,stopImmediatePropagation:s}),g&&a.push(n[l]),i)break}for(let l=0;l<a.length;l++){const{type:A,handler:p}=a[l];this.remove(A,p)}}}_normalizeEvent(e){const r=this.eventManager.getElement();return{...e,...tZ(e),...rZ(e,r),preventDefault:()=>{e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:r}}}const iZ={events:null,recognizers:null,recognizerOptions:{},Manager:kG,touchAction:"none",tabIndex:0};class oZ{constructor(e=null,r){this._onBasicInput=i=>{const{srcEvent:o}=i,s=DG[o.type];s&&this.manager.emit(s,i)},this._onOtherEvent=i=>{this.manager.emit(i.type,i)},this.options={...iZ,...r},this.events=new Map,this.setElement(e);const{events:n}=this.options;n&&this.on(n)}getElement(){return this.element}setElement(e){if(this.element&&this.destroy(),this.element=e,!e)return;const{options:r}=this,n=r.Manager;this.manager=new n(e,{touchAction:r.touchAction,recognizers:r.recognizers||IG}).on("hammer.input",this._onBasicInput),r.recognizers||Object.keys(wC).forEach(i=>{const o=this.manager.get(i);o&&wC[i].forEach(s=>{o.recognizeWith(s)})});for(const i in r.recognizerOptions){const o=this.manager.get(i);if(o){const s=r.recognizerOptions[i];delete s.enable,o.set(s)}}this.wheelInput=new zG(e,this._onOtherEvent,{enable:!1}),this.moveInput=new WG(e,this._onOtherEvent,{enable:!1}),this.keyInput=new XG(e,this._onOtherEvent,{enable:!1,tabIndex:r.tabIndex}),this.contextmenuInput=new YG(e,this._onOtherEvent,{enable:!1});for(const[i,o]of this.events)o.isEmpty()||(this._toggleRecognizer(o.recognizerName,!0),this.manager.on(i,o.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(e,r,n){this._addEventHandler(e,r,n,!1)}once(e,r,n){this._addEventHandler(e,r,n,!0)}watch(e,r,n){this._addEventHandler(e,r,n,!1,!0)}off(e,r){this._removeEventHandler(e,r)}_toggleRecognizer(e,r){const{manager:n}=this;if(!n)return;const i=n.get(e);if(i&&i.options.enable!==r){i.set({enable:r});const o=NG[e];o&&!this.options.recognizers&&o.forEach(s=>{const a=n.get(s);r?(a.requireFailure(e),i.dropRequireFailure(s)):a.dropRequireFailure(e)})}this.wheelInput.enableEventType(e,r),this.moveInput.enableEventType(e,r),this.keyInput.enableEventType(e,r),this.contextmenuInput.enableEventType(e,r)}_addEventHandler(e,r,n,i,o){if(typeof e!="string"){n=r;for(const p in e)this._addEventHandler(p,e[p],n,i,o);return}const{manager:s,events:a}=this,l=SC[e]||e;let A=a.get(l);A||(A=new nZ(this),a.set(l,A),A.recognizerName=BG[l]||l,s&&s.on(l,A.handleEvent)),A.add(e,r,n,i,o),A.isEmpty()||this._toggleRecognizer(A.recognizerName,!0)}_removeEventHandler(e,r){if(typeof e!="string"){for(const s in e)this._removeEventHandler(s,e[s]);return}const{events:n}=this,i=SC[e]||e,o=n.get(i);if(o&&(o.remove(e,r),o.isEmpty())){const{recognizerName:s}=o;let a=!1;for(const l of n.values())if(l.recognizerName===s&&!l.isEmpty()){a=!0;break}a||this._toggleRecognizer(s,!1)}}}function bs(){}const sZ=({isDragging:t})=>t?"grabbing":"grab",fB={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,parameters:{},parent:null,device:null,deviceProps:{type:"webgl"},gl:null,glOptions:{},canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,widgets:[],onDeviceInitialized:bs,onWebGLInitialized:bs,onResize:bs,onViewStateChange:bs,onInteractionStateChange:bs,onBeforeRender:bs,onAfterRender:bs,onLoad:bs,onError:t=>yt.error(t.message,t.cause)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:sZ,getTooltip:null,debug:!1,drawPickingColors:!1};class yE{constructor(e){this.width=0,this.height=0,this.userData={},this.device=null,this.canvas=null,this.viewManager=null,this.layerManager=null,this.effectManager=null,this.deckRenderer=null,this.deckPicker=null,this.eventManager=null,this.widgetManager=null,this.tooltip=null,this.animationLoop=null,this.cursorState={isHovering:!1,isDragging:!1},this.stats=new zm({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this._lastPointerDownInfo=null,this._onPointerMove=n=>{const{_pickRequest:i}=this;if(n.type==="pointerleave")i.x=-1,i.y=-1,i.radius=0;else{if(n.leftButton||n.rightButton)return;{const o=n.offsetCenter;if(!o)return;i.x=o.x,i.y=o.y,i.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:i.x,y:i.y}),i.event=n},this._onEvent=n=>{const i=Wb[n.type],o=n.offsetCenter;if(!i||!o||!this.layerManager)return;const s=this.layerManager.getLayers(),a=this.deckPicker.getLastPickedObject({x:o.x,y:o.y,layers:s,viewports:this.getViewports(o)},this._lastPointerDownInfo),{layer:l}=a,A=l&&(l[i.handler]||l.props[i.handler]),p=this.props[i.handler];let g=!1;A&&(g=A.call(l,a,n)),g||(p==null||p(a,n),this.widgetManager.onEvent(a,n))},this._onPointerDown=n=>{const i=n.offsetCenter,o=this._pick("pickObject","pickObject Time",{x:i.x,y:i.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=o.result[0]||o.emptyInfo},this.props={...fB,...e},e=this.props,e.viewState&&e.initialViewState&&yt.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),this.viewState=this.props.initialViewState,e.device?this.device=e.device:e.gl&&(e.gl instanceof WebGLRenderingContext&&yt.error("WebGL1 context not supported.")(),this.device=mf.attach(e.gl));let r=this.device;r||(Iu.registerDevices([mf]),r=Iu.createDevice({...e.deviceProps,canvas:this._createCanvas(e)})),this.animationLoop=this._createAnimationLoop(r,e),this.setProps(e),e._typedArrayManagerProps&&nc.setOptions(e._typedArrayManagerProps),this.animationLoop.start()}finalize(){var e,r,n,i,o,s,a,l,A,p;(e=this.animationLoop)==null||e.stop(),(r=this.animationLoop)==null||r.destroy(),this.animationLoop=null,this._lastPointerDownInfo=null,(n=this.layerManager)==null||n.finalize(),this.layerManager=null,(i=this.viewManager)==null||i.finalize(),this.viewManager=null,(o=this.effectManager)==null||o.finalize(),this.effectManager=null,(s=this.deckRenderer)==null||s.finalize(),this.deckRenderer=null,(a=this.deckPicker)==null||a.finalize(),this.deckPicker=null,(l=this.eventManager)==null||l.destroy(),this.eventManager=null,(A=this.widgetManager)==null||A.finalize(),this.widgetManager=null,!this.props.canvas&&!this.props.device&&!this.props.gl&&this.canvas&&((p=this.canvas.parentElement)==null||p.removeChild(this.canvas),this.canvas=null)}setProps(e){var n;this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&yt.removed("onLayerHover","onHover")(),"onLayerClick"in e&&yt.removed("onLayerClick","onClick")(),e.initialViewState&&!zi(this.props.initialViewState,e.initialViewState,3)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);const r=Object.create(this.props);Object.assign(r,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),(n=this.animationLoop)==null||n.setProps(r),this.layerManager&&(this.viewManager.setProps(r),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(r),this.effectManager.setProps(r),this.deckRenderer.setProps(r),this.deckPicker.setProps(r),this.widgetManager.setProps(r)),this.stats.get("setProps Time").timeEnd()}needsRedraw(e={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let r=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);const n=this.viewManager.needsRedraw(e),i=this.layerManager.needsRedraw(e),o=this.effectManager.needsRedraw(e),s=this.deckRenderer.needsRedraw(e);return r=r||n||i||o||s,r}redraw(e){if(!this.layerManager)return;let r=this.needsRedraw({clearRedrawFlags:!0});r=e||r,r&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(r):this._drawLayers(r))}get isInitialized(){return this.viewManager!==null}getViews(){return Rr(this.viewManager),this.viewManager.views}getViewports(e){return Rr(this.viewManager),this.viewManager.getViewports(e)}getCanvas(){return this.canvas}pickObject(e){const r=this._pick("pickObject","pickObject Time",e).result;return r.length?r[0]:null}pickMultipleObjects(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}pickObjects(e){return this._pick("pickObjects","pickObjects Time",e)}_addResources(e,r=!1){for(const n in e)this.layerManager.resourceManager.add({resourceId:n,data:e[n],forceUpdate:r})}_removeResources(e){for(const r of e)this.layerManager.resourceManager.remove(r)}_addDefaultEffect(e){this.effectManager.addDefaultEffect(e)}_addDefaultShaderModule(e){this.layerManager.addDefaultShaderModule(e)}_removeDefaultShaderModule(e){var r;(r=this.layerManager)==null||r.removeDefaultShaderModule(e)}_pick(e,r,n){Rr(this.deckPicker);const{stats:i}=this;i.get("Pick Count").incrementCount(),i.get(r).timeStart();const o=this.deckPicker[e]({layers:this.layerManager.getLayers(n),views:this.viewManager.getViews(),viewports:this.getViewports(n),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...n});return i.get(r).timeEnd(),o}_createCanvas(e){let r=e.canvas;return typeof r=="string"&&(r=document.getElementById(r),Rr(r)),r||(r=document.createElement("canvas"),r.id=e.id||"deckgl-overlay",(e.parent||document.body).appendChild(r)),Object.assign(r.style,e.style),r}_setCanvasSize(e){var i;if(!this.canvas)return;const{width:r,height:n}=e;if(r||r===0){const o=Number.isFinite(r)?`${r}px`:r;this.canvas.style.width=o}if(n||n===0){const o=Number.isFinite(n)?`${n}px`:n;this.canvas.style.position=((i=e.style)==null?void 0:i.position)||"absolute",this.canvas.style.height=o}}_updateCanvasSize(){var i,o;const{canvas:e}=this;if(!e)return;const r=e.clientWidth??e.width,n=e.clientHeight??e.height;(r!==this.width||n!==this.height)&&(this.width=r,this.height=n,(i=this.viewManager)==null||i.setProps({width:r,height:n}),(o=this.layerManager)==null||o.activateViewport(this.getViewports()[0]),this.props.onResize({width:r,height:n}))}_createAnimationLoop(e,r){const{gl:n,onError:i,useDevicePixels:o}=r;return new RK({device:e,useDevicePixels:o,autoResizeDrawingBuffer:!n,autoResizeViewport:!1,onInitialize:s=>this._setDevice(s.device),onRender:this._onRenderFrame.bind(this),onError:i})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){const{views:e}=this.props,r=Array.isArray(e)?e:e?[e]:[new Y6({id:"default-view"})];return r.length&&this.props.controller&&(r[0].props.controller=this.props.controller),r}_onContextLost(){const{onError:e}=this.props;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}_pickAndCallback(){var r,n,i;const{_pickRequest:e}=this;if(e.event){const{result:o,emptyInfo:s}=this._pick("pickObject","pickObject Time",e);this.cursorState.isHovering=o.length>0;let a=s,l=!1;for(const A of o)a=A,l=((r=A.layer)==null?void 0:r.onHover(A,e.event))||l;l||((i=(n=this.props).onHover)==null||i.call(n,a,e.event),this.widgetManager.onHover(a,e.event)),e.event=null}}_updateCursor(){const e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}_setDevice(e){var i,o;if(this.device=e,!this.animationLoop)return;this.canvas||(this.canvas=(i=this.device.canvasContext)==null?void 0:i.canvas),this.device.setParametersWebGL({blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onDeviceInitialized(this.device),this.device instanceof mf&&this.props.onWebGLInitialized(this.device.gl);const r=new z6;r.play(),this.animationLoop.attachTimeline(r),this.eventManager=new oZ(this.props.parent||this.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const s in Wb)this.eventManager.on(s,this._onEvent);this.viewManager=new KK({timeline:r,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const n=this.viewManager.getViewports()[0];this.layerManager=new YK(this.device,{deck:this,stats:this.stats,viewport:n,timeline:r}),this.effectManager=new AQ({deck:this,device:this.device}),this.deckRenderer=new dQ(this.device),this.deckPicker=new _Q(this.device),this.widgetManager=new SQ({deck:this,parentElement:(o=this.canvas)==null?void 0:o.parentElement}),this.widgetManager.addDefault(new TQ),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(e,r){var s;const{device:n,gl:i}=this.layerManager.context;this.props.onBeforeRender({device:n,gl:i});const o={target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",effects:this.effectManager.getEffects(),...r};(s=this.deckRenderer)==null||s.renderLayers(o),o.pass==="screen"&&this.widgetManager.onRedraw({viewports:o.viewports,layers:o.layers}),this.props.onAfterRender({device:n,gl:i})}_onRenderFrame(){this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),yt.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(e){const r=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState={...this.viewState,[e.viewId]:r},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}_getFrameStats(){const{stats:e}=this;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();const r=this.animationLoop.stats;e.get("GPU Time").addTime(r.get("GPU Time").lastTiming),e.get("CPU Time").addTime(r.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:e,stats:r}=this;e.fps=r.get("frameRate").getHz(),e.setPropsTime=r.get("setProps Time").time,e.updateAttributesTime=r.get("Update Attributes").time,e.framesRedrawn=r.get("Redraw Count").count,e.pickTime=r.get("pickObject Time").time+r.get("pickMultipleObjects Time").time+r.get("pickObjects Time").time,e.pickCount=r.get("Pick Count").count,e.gpuTime=r.get("GPU Time").time,e.cpuTime=r.get("CPU Time").time,e.gpuTimePerFrame=r.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=r.get("CPU Time").getAverageTime();const n=Iu.stats.get("Memory Usage");e.bufferMemory=n.get("Buffer Memory").count,e.textureMemory=n.get("Texture Memory").count,e.renderbufferMemory=n.get("Renderbuffer Memory").count,e.gpuMemory=n.get("GPU Memory").count}}yE.defaultProps=fB;yE.VERSION=jV;const n2=yE;function aZ(t){switch(t){case"float64":return Float64Array;case"uint8":case"unorm8":return Uint8ClampedArray;default:return f6(t)}}const lZ=A6;function w0(t,e){return{attribute:t,format:e.size>1?`${e.type}x${e.size}`:e.type,byteOffset:e.offset||0}}function Ua(t){return t.stride||t.size*t.bytesPerElement}function uZ(t,e){return t.type===e.type&&t.size===e.size&&Ua(t)===Ua(e)&&(t.offset||0)===(e.offset||0)}function i2(t,e){e.offset&&yt.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const r=Ua(t),n=e.vertexOffset!==void 0?e.vertexOffset:t.vertexOffset||0,i=e.elementOffset||0,o=n*r+i*t.bytesPerElement+(t.offset||0);return{...e,offset:o,stride:r}}function cZ(t,e){const r=i2(t,e);return{high:r,low:{...r,offset:r.offset+t.size*4}}}class AZ{constructor(e,r,n){this._buffer=null,this.device=e,this.id=r.id||"",this.size=r.size||1;const i=r.logicalType||r.type,o=i==="float64";let{defaultValue:s}=r;s=Number.isFinite(s)?[s]:s||new Array(this.size).fill(0);let a;o?a="float32":!i&&r.isIndexed?a="uint32":a=i||"float32";let l=aZ(i||a);this.doublePrecision=o,o&&r.fp64===!1&&(l=Float32Array),this.value=null,this.settings={...r,defaultType:l,defaultValue:s,logicalType:i,type:a,normalized:a.includes("norm"),size:this.size,bytesPerElement:l.BYTES_PER_ELEMENT},this.state={...n,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1}}get isConstant(){return this.state.constant}get buffer(){return this._buffer}get byteOffset(){const e=this.getAccessor();return e.vertexOffset?e.vertexOffset*Ua(e):0}get numInstances(){return this.state.numInstances}set numInstances(e){this.state.numInstances=e}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),nc.release(this.state.allocatedValue)}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(e=this.id,r=null){const n={};if(this.state.constant){const i=this.value;if(r){const o=i2(this.getAccessor(),r),s=o.offset/i.BYTES_PER_ELEMENT,a=o.size||this.size;n[e]=i.subarray(s,s+a)}else n[e]=i}else n[e]=this.getBuffer();return this.doublePrecision&&(this.value instanceof Float64Array?n[`${e}64Low`]=n[e]:n[`${e}64Low`]=new Float32Array(this.size)),n}_getBufferLayout(e=this.id,r=null){const n=this.getAccessor(),i=[],o={name:this.id,byteStride:Ua(n),attributes:i};if(this.doublePrecision){const s=cZ(n,r||{});i.push(w0(e,{...n,...s.high}),w0(`${e}64Low`,{...n,...s.low}))}else if(r){const s=i2(n,r);i.push(w0(e,{...n,...s}))}else i.push(w0(e,n));return o}setAccessor(e){this.state.bufferAccessor=e}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let e=null;if(this.state.constant&&this.value){const r=Array.from(this.value);e=[r,r]}else{const{value:r,numInstances:n,size:i}=this,o=n*i;if(r&&o&&r.length>=o){const s=new Array(i).fill(1/0),a=new Array(i).fill(-1/0);for(let l=0;l<o;)for(let A=0;A<i;A++){const p=r[l++];p<s[A]&&(s[A]=p),p>a[A]&&(a[A]=p)}e=[s,a]}}return this.state.bounds=e,e}setData(e){const{state:r}=this;let n;ArrayBuffer.isView(e)?n={value:e}:e instanceof ur?n={buffer:e}:n=e;const i={...this.settings,...n};if(ArrayBuffer.isView(n.value)){if(!n.type)if(this.doublePrecision&&n.value instanceof Float64Array)i.type="float32";else{const s=lZ(n.value);i.type=i.normalized?s.replace("int","norm"):s}i.bytesPerElement=n.value.BYTES_PER_ELEMENT,i.stride=Ua(i)}if(r.bounds=null,n.constant){let o=n.value;if(o=this._normalizeValue(o,[],0),this.settings.normalized&&(o=this.normalizeConstant(o)),!(!r.constant||!this._areValuesEqual(o,this.value)))return!1;r.externalBuffer=null,r.constant=!0,this.value=ArrayBuffer.isView(o)?o:new Float32Array(o)}else if(n.buffer){const o=n.buffer;r.externalBuffer=o,r.constant=!1,this.value=n.value||null}else if(n.value){this._checkExternalBuffer(n);let o=n.value;r.externalBuffer=null,r.constant=!1,this.value=o;let{buffer:s}=this;const a=Ua(i),l=(i.vertexOffset||0)*a;if(this.doublePrecision&&o instanceof Float64Array&&(o=E_(o,i)),this.settings.isIndexed){const p=this.settings.defaultType;o.constructor!==p&&(o=new p(o))}const A=o.byteLength+l+a*2;(!s||s.byteLength<A)&&(s=this._createBuffer(A)),s.write(o,l)}return this.setAccessor(i),!0}updateSubBuffer(e={}){this.state.bounds=null;const r=this.value,{startOffset:n=0,endOffset:i}=e;this.buffer.write(this.doublePrecision&&r instanceof Float64Array?E_(r,{size:this.size,startIndex:n,endIndex:i}):r.subarray(n,i),n*r.BYTES_PER_ELEMENT+this.byteOffset)}allocate(e,r=!1){const{state:n}=this,i=n.allocatedValue,o=nc.allocate(i,e+1,{size:this.size,type:this.settings.defaultType,copy:r});this.value=o;const{byteOffset:s}=this;let{buffer:a}=this;return(!a||a.byteLength<o.byteLength+s)&&(a=this._createBuffer(o.byteLength+s),r&&i&&a.write(i instanceof Float64Array?E_(i,this):i,s)),n.allocatedValue=o,n.constant=!1,n.externalBuffer=null,this.setAccessor(this.settings),!0}_checkExternalBuffer(e){const{value:r}=e;if(!ArrayBuffer.isView(r))throw new Error(`Attribute ${this.id} value is not TypedArray`);const n=this.settings.defaultType;let i=!1;if(this.doublePrecision&&(i=r.BYTES_PER_ELEMENT<4),i)throw new Error(`Attribute ${this.id} does not support ${r.constructor.name}`);!(r instanceof n)&&this.settings.normalized&&!("normalized"in e)&&yt.warn(`Attribute ${this.id} is normalized`)()}normalizeConstant(e){switch(this.settings.type){case"snorm8":return new Float32Array(e).map(r=>(r+128)/255*2-1);case"snorm16":return new Float32Array(e).map(r=>(r+32768)/65535*2-1);case"unorm8":return new Float32Array(e).map(r=>r/255);case"unorm16":return new Float32Array(e).map(r=>r/65535);default:return e}}_normalizeValue(e,r,n){const{defaultValue:i,size:o}=this.settings;if(Number.isFinite(e))return r[n]=e,r;if(!e){let s=o;for(;--s>=0;)r[n+s]=i[s];return r}switch(o){case 4:r[n+3]=Number.isFinite(e[3])?e[3]:i[3];case 3:r[n+2]=Number.isFinite(e[2])?e[2]:i[2];case 2:r[n+1]=Number.isFinite(e[1])?e[1]:i[1];case 1:r[n+0]=Number.isFinite(e[0])?e[0]:i[0];break;default:let s=o;for(;--s>=0;)r[n+s]=Number.isFinite(e[s])?e[s]:i[s]}return r}_areValuesEqual(e,r){if(!e||!r)return!1;const{size:n}=this;for(let i=0;i<n;i++)if(e[i]!==r[i])return!1;return!0}_createBuffer(e){var i;this._buffer&&this._buffer.destroy();const{isIndexed:r,type:n}=this.settings;return this._buffer=this.device.createBuffer({...(i=this._buffer)==null?void 0:i.props,id:this.id,usage:r?ur.INDEX:ur.VERTEX,indexType:r?n:void 0,byteLength:e}),this._buffer}}const BC=[],FC=[];function Gm(t,e=0,r=1/0){let n=BC;const i={index:-1,data:t,target:[]};return t?typeof t[Symbol.iterator]=="function"?n=t:t.length>0&&(FC.length=t.length,n=FC):n=BC,(e>0||Number.isFinite(r))&&(n=(Array.isArray(n)?n:Array.from(n)).slice(e,r),i.index=e-1),{iterable:n,objectInfo:i}}function hB(t){return t&&t[Symbol.asyncIterator]}function dB(t,e){const{size:r,stride:n,offset:i,startIndices:o,nested:s}=e,a=t.BYTES_PER_ELEMENT,l=n?n/a:r,A=i?i/a:0,p=Math.floor((t.length-A)/l);return(g,{index:v,target:b})=>{if(!o){const x=v*l+A;for(let P=0;P<r;P++)b[P]=t[x+P];return b}const S=o[v],E=o[v+1]||p;let C;if(s){C=new Array(E-S);for(let x=S;x<E;x++){const P=x*l+A;b=new Array(r);for(let T=0;T<r;T++)b[T]=t[P+T];C[x-S]=b}}else if(l===r)C=t.subarray(S*r+A,E*r+A);else{C=new t.constructor((E-S)*r);let x=0;for(let P=S;P<E;P++){const T=P*l+A;for(let M=0;M<r;M++)C[x++]=t[T+M]}}return C}}const fZ=[],lp=[[0,1/0]];function hZ(t,e){if(t===lp||(e[0]<0&&(e[0]=0),e[0]>=e[1]))return t;const r=[],n=t.length;let i=0;for(let o=0;o<n;o++){const s=t[o];s[1]<e[0]?(r.push(s),i=o+1):s[0]>e[1]?r.push(s):e=[Math.min(s[0],e[0]),Math.max(s[1],e[1])]}return r.splice(i,0,e),r}const dZ={interpolation:{duration:0,easing:t=>t},spring:{stiffness:.05,damping:.5}};function pB(t,e){if(!t)return null;Number.isFinite(t)&&(t={type:"interpolation",duration:t});const r=t.type||"interpolation";return{...dZ[r],...e,...t,type:r}}class gB extends AZ{constructor(e,r){super(e,r,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,layoutChanged:!1,updateRanges:lp}),this.constant=!1,this.settings.update=r.update||(r.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(e){this.state.startIndices=e}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:e=!1}={}){const r=this.state.needsRedraw;return this.state.needsRedraw=r&&!e,r}layoutChanged(){return this.state.layoutChanged}setAccessor(e){var r;(r=this.state).layoutChanged||(r.layoutChanged=!uZ(e,this.getAccessor())),super.setAccessor(e)}getUpdateTriggers(){const{accessor:e}=this.settings;return[this.id].concat(typeof e!="function"&&e||[])}supportsTransition(){return!!this.settings.transition}getTransitionSetting(e){if(!e||!this.supportsTransition())return null;const{accessor:r}=this.settings,n=this.settings.transition,i=Array.isArray(r)?e[r.find(o=>e[o])]:e[r];return pB(i,n)}setNeedsUpdate(e=this.id,r){if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),r){const{startRow:n=0,endRow:i=1/0}=r;this.state.updateRanges=hZ(this.state.updateRanges,[n,i])}else this.state.updateRanges=lp}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=fZ}setNeedsRedraw(e=this.id){this.state.needsRedraw=this.state.needsRedraw||e}allocate(e){const{state:r,settings:n}=this;return n.noAlloc?!1:n.update?(super.allocate(e,r.updateRanges!==lp),!0):!1}updateBuffer({numInstances:e,data:r,props:n,context:i}){if(!this.needsUpdate())return!1;const{state:{updateRanges:o},settings:{update:s,noAlloc:a}}=this;let l=!0;if(s){for(const[A,p]of o)s.call(i,this,{data:r,startRow:A,endRow:p,props:n,numInstances:e});if(this.value)if(this.constant||!this.buffer||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[A,p]of o){const g=Number.isFinite(A)?this.getVertexOffset(A):0,v=Number.isFinite(p)?this.getVertexOffset(p):a||!Number.isFinite(e)?this.value.length:e*this.size;super.updateSubBuffer({startOffset:g,endOffset:v})}this._checkAttributeArray()}else l=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),l}setConstantValue(e){return e===void 0||typeof e=="function"?!1:(this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}setExternalBuffer(e){const{state:r}=this;return e?(this.clearNeedsUpdate(),r.lastExternalBuffer===e||(r.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(r.lastExternalBuffer=null,!1)}setBinaryValue(e,r=null){const{state:n,settings:i}=this;if(!e)return n.binaryValue=null,n.binaryAccessor=null,!1;if(i.noAlloc)return!1;if(n.binaryValue===e)return this.clearNeedsUpdate(),!0;if(n.binaryValue=e,this.setNeedsRedraw(),i.transform||r!==this.startIndices){ArrayBuffer.isView(e)&&(e={value:e});const s=e;Rr(ArrayBuffer.isView(s.value),`invalid ${i.accessor}`);const a=!!s.size&&s.size!==this.size;return n.binaryAccessor=dB(s.value,{size:s.size||this.size,stride:s.stride,offset:s.offset,startIndices:r,nested:a}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}getVertexOffset(e){const{startIndices:r}=this;return(r?e<r.length?r[e]:this.numInstances:e)*this.size}getValue(){const e=this.settings.shaderAttributes,r=super.getValue();if(!e)return r;for(const n in e)Object.assign(r,super.getValue(n,e[n]));return r}getBufferLayout(e){this.state.layoutChanged=!1;const r=this.settings.shaderAttributes,n=super._getBufferLayout(),{stepMode:i}=this.settings;if(i==="dynamic"?n.stepMode=e?e.isInstanced?"instance":"vertex":"instance":n.stepMode=i??"vertex",!r)return n;for(const o in r){const s=super._getBufferLayout(o,r[o]);n.attributes.push(...s.attributes)}return n}_autoUpdater(e,{data:r,startRow:n,endRow:i,props:o,numInstances:s}){if(e.constant)return;const{settings:a,state:l,value:A,size:p,startIndices:g}=e,{accessor:v,transform:b}=a,S=l.binaryAccessor||(typeof v=="function"?v:o[v]);Rr(typeof S=="function",`accessor "${v}" is not a function`);let E=e.getVertexOffset(n);const{iterable:C,objectInfo:x}=Gm(r,n,i);for(const P of C){x.index++;let T=S(P,x);if(b&&(T=b.call(this,T)),g){const M=(x.index<g.length-1?g[x.index+1]:s)-g[x.index];if(T&&Array.isArray(T[0])){let R=E;for(const k of T)e._normalizeValue(k,A,R),R+=p}else T&&T.length>p?A.set(T,E):(e._normalizeValue(T,x.target,0),zK({target:A,source:x.target,start:E,count:M}));E+=M*p}else e._normalizeValue(T,A,E),E+=p}}_validateAttributeUpdaters(){const{settings:e}=this;if(!(e.noAlloc||typeof e.update=="function"))throw new Error(`Attribute ${this.id} missing update or accessor`)}_checkAttributeArray(){const{value:e}=this,r=Math.min(4,this.size);if(e&&e.length>=r){let n=!0;switch(r){case 4:n=n&&Number.isFinite(e[3]);case 3:n=n&&Number.isFinite(e[2]);case 2:n=n&&Number.isFinite(e[1]);case 1:n=n&&Number.isFinite(e[0]);break;default:n=!1}if(!n)throw new Error(`Illegal attribute generated for ${this.id}`)}}}function L_(t){const{source:e,target:r,start:n=0,size:i,getData:o}=t,s=t.end||r.length,a=e.length,l=s-n;if(a>l){r.set(e.subarray(0,l),n);return}if(r.set(e,n),!o)return;let A=a;for(;A<l;){const p=o(A,e);for(let g=0;g<i;g++)r[n+A]=p[g]||0,A++}}function pZ({source:t,target:e,size:r,getData:n,sourceStartIndices:i,targetStartIndices:o}){if(!i||!o)return L_({source:t,target:e,size:r,getData:n}),e;let s=0,a=0;const l=n&&((p,g)=>n(p+a,g)),A=Math.min(i.length,o.length);for(let p=1;p<A;p++){const g=i[p]*r,v=o[p]*r;L_({source:t.subarray(s,g),target:e,start:a,end:v,size:r,getData:l}),s=g,a=v}return a<e.length&&L_({source:[],target:e,start:a,size:r,getData:l}),e}function gZ(t){const{device:e,settings:r,value:n}=t,i=new gB(e,r);return i.setData({value:n instanceof Float64Array?new Float64Array(0):new Float32Array(0),normalized:r.normalized}),i}function mB(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error(`No defined attribute type for size "${t}"`)}}function yB(t){switch(t){case 1:return"float32";case 2:return"float32x2";case 3:return"float32x3";case 4:return"float32x4";default:throw new Error("invalid type size")}}function vB(t){t.push(t.shift())}function mZ(t,e){const{doublePrecision:r,settings:n,value:i,size:o}=t,s=r&&i instanceof Float64Array?2:1;let a=0;const{shaderAttributes:l}=t.settings;if(l)for(const A of Object.values(l))a=Math.max(a,A.vertexOffset??0);return(n.noAlloc?i.length:(e+a)*o)*s}function _B({device:t,source:e,target:r}){return(!r||r.byteLength<e.byteLength)&&(r==null||r.destroy(),r=t.createBuffer({byteLength:e.byteLength,usage:e.usage})),r}function bB({device:t,buffer:e,attribute:r,fromLength:n,toLength:i,fromStartIndices:o,getData:s=a=>a}){const a=r.doublePrecision&&r.value instanceof Float64Array?2:1,l=r.size*a,A=r.byteOffset,p=r.settings.bytesPerElement<4?A/r.settings.bytesPerElement*4:A,g=r.startIndices,v=o&&g,b=r.isConstant;if(!v&&e&&n>=i)return e;const S=r.value instanceof Float64Array?Float32Array:r.value.constructor,E=b?r.value:new S(r.getBuffer().readSyncWebGL(A,i*S.BYTES_PER_ELEMENT).buffer);if(r.settings.normalized&&!b){const T=s;s=(M,R)=>r.normalizeConstant(T(M,R))}const C=b?(T,M)=>s(E,M):(T,M)=>s(E.subarray(T+A,T+A+l),M),x=e?new Float32Array(e.readSyncWebGL(p,n*4).buffer):new Float32Array(0),P=new Float32Array(i);return pZ({source:x,target:P,sourceStartIndices:o,targetStartIndices:g,size:l,getData:C}),(!e||e.byteLength<P.byteLength+p)&&(e==null||e.destroy(),e=t.createBuffer({byteLength:P.byteLength+p,usage:35050})),e.write(P,p),e}class wB{constructor({device:e,attribute:r,timeline:n}){this.buffers=[],this.currentLength=0,this.device=e,this.transition=new Ym(n),this.attribute=r,this.attributeInTransition=gZ(r),this.currentStartIndices=r.startIndices}get inProgress(){return this.transition.inProgress}start(e,r,n=1/0){this.settings=e,this.currentStartIndices=this.attribute.startIndices,this.currentLength=mZ(this.attribute,r),this.transition.start({...e,duration:n})}update(){const e=this.transition.update();return e&&this.onUpdate(),e}setBuffer(e){this.attributeInTransition.setData({buffer:e,normalized:this.attribute.settings.normalized,value:this.attributeInTransition.value})}cancel(){this.transition.cancel()}delete(){this.cancel();for(const e of this.buffers)e.destroy();this.buffers.length=0}}class yZ extends wB{constructor({device:e,attribute:r,timeline:n}){super({device:e,attribute:r,timeline:n}),this.type="interpolation",this.transform=bZ(e,r)}start(e,r){const n=this.currentLength,i=this.currentStartIndices;if(super.start(e,r,e.duration),e.duration<=0){this.transition.cancel();return}const{buffers:o,attribute:s}=this;vB(o),o[0]=bB({device:this.device,buffer:o[0],attribute:s,fromLength:n,toLength:this.currentLength,fromStartIndices:i,getData:e.enter}),o[1]=_B({device:this.device,source:o[0],target:o[1]}),this.setBuffer(o[1]);const{transform:a}=this,l=a.model;let A=Math.floor(this.currentLength/s.size);SB(s)&&(A/=2),l.setVertexCount(A),s.isConstant?(l.setAttributes({aFrom:o[0]}),l.setConstantAttributes({aTo:s.value})):l.setAttributes({aFrom:o[0],aTo:s.getBuffer()}),a.transformFeedback.setBuffers({vCurrent:o[1]})}onUpdate(){const{duration:e,easing:r}=this.settings,{time:n}=this.transition;let i=n/e;r&&(i=r(i));const{model:o}=this.transform;o.setUniforms({time:i}),this.transform.run({discard:!0})}delete(){super.delete(),this.transform.destroy()}}const vZ=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

uniform float time;
in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vCurrent;

void main(void) {
  vCurrent = mix(aFrom, aTo, time);
  gl_Position = vec4(0.0);
}
`,_Z=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

uniform float time;
in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aFrom64Low;
in ATTRIBUTE_TYPE aTo;
in ATTRIBUTE_TYPE aTo64Low;
out ATTRIBUTE_TYPE vCurrent;
out ATTRIBUTE_TYPE vCurrent64Low;

vec2 mix_fp64(vec2 a, vec2 b, float x) {
  vec2 range = sub_fp64(b, a);
  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));
}

void main(void) {
  for (int i=0; i<ATTRIBUTE_SIZE; i++) {
    vec2 value = mix_fp64(vec2(aFrom[i], aFrom64Low[i]), vec2(aTo[i], aTo64Low[i]), time);
    vCurrent[i] = value.x;
    vCurrent64Low[i] = value.y;
  }
  gl_Position = vec4(0.0);
}
`;function SB(t){return t.doublePrecision&&t.value instanceof Float64Array}function bZ(t,e){const r=e.size,n=mB(r),i=yB(r),o=e.getBufferLayout();return SB(e)?new Gf(t,{vs:_Z,bufferLayout:[{name:"aFrom",byteStride:8*r,attributes:[{attribute:"aFrom",format:i,byteOffset:0},{attribute:"aFrom64Low",format:i,byteOffset:4*r}]},{name:"aTo",byteStride:8*r,attributes:[{attribute:"aTo",format:i,byteOffset:0},{attribute:"aTo64Low",format:i,byteOffset:4*r}]}],modules:[pX],defines:{ATTRIBUTE_TYPE:n,ATTRIBUTE_SIZE:r},moduleSettings:{},varyings:["vCurrent","vCurrent64Low"],bufferMode:35980,disableWarnings:!0}):new Gf(t,{vs:vZ,bufferLayout:[{name:"aFrom",format:i},{name:"aTo",format:o.attributes[0].format}],defines:{ATTRIBUTE_TYPE:n},varyings:["vCurrent"],disableWarnings:!0})}class wZ extends wB{constructor({device:e,attribute:r,timeline:n}){super({device:e,attribute:r,timeline:n}),this.type="spring",this.texture=xZ(e),this.framebuffer=PZ(e,this.texture),this.transform=TZ(e,r)}start(e,r){const n=this.currentLength,i=this.currentStartIndices;super.start(e,r);const{buffers:o,attribute:s}=this;for(let l=0;l<2;l++)o[l]=bB({device:this.device,buffer:o[l],attribute:s,fromLength:n,toLength:this.currentLength,fromStartIndices:i,getData:e.enter});o[2]=_B({device:this.device,source:o[0],target:o[2]}),this.setBuffer(o[1]);const{model:a}=this.transform;a.setVertexCount(Math.floor(this.currentLength/s.size)),s.isConstant?a.setConstantAttributes({aTo:s.value}):a.setAttributes({aTo:s.getBuffer()})}onUpdate(){const{buffers:e,transform:r,framebuffer:n,transition:i}=this,o=this.settings;r.model.setAttributes({aPrev:e[0],aCur:e[1]}),r.transformFeedback.setBuffers({vNext:e[2]}),r.model.setUniforms({stiffness:o.stiffness,damping:o.damping}),r.run({framebuffer:n,discard:!1,parameters:{viewport:[0,0,1,1]},clearColor:[0,0,0,0]}),vB(e),this.setBuffer(e[1]),this.device.readPixelsToArrayWebGL(n)[0]>0||i.end()}delete(){super.delete(),this.transform.destroy(),this.texture.destroy(),this.framebuffer.destroy()}}const SZ=`#version 300 es
#define SHADER_NAME spring-transition-vertex-shader

#define EPSILON 0.00001

uniform float stiffness;
uniform float damping;
in ATTRIBUTE_TYPE aPrev;
in ATTRIBUTE_TYPE aCur;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vNext;
out float vIsTransitioningFlag;

ATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {
  ATTRIBUTE_TYPE velocity = cur - prev;
  ATTRIBUTE_TYPE delta = dest - cur;
  ATTRIBUTE_TYPE spring = delta * stiffness;
  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;
  return spring + damper + velocity + cur;
}

void main(void) {
  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;
  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;

  vNext = getNextValue(aCur, aPrev, aTo);
  gl_Position = vec4(0, 0, 0, 1);
  gl_PointSize = 100.0;
}
`,EZ=`#version 300 es
#define SHADER_NAME spring-transition-is-transitioning-fragment-shader

in float vIsTransitioningFlag;

out vec4 fragColor;

void main(void) {
  if (vIsTransitioningFlag == 0.0) {
    discard;
  }
  fragColor = vec4(1.0);
}`;function TZ(t,e){const r=mB(e.size),n=yB(e.size);return new Gf(t,{vs:SZ,fs:EZ,bufferLayout:[{name:"aPrev",format:n},{name:"aCur",format:n},{name:"aTo",format:e.getBufferLayout().attributes[0].format}],varyings:["vNext"],defines:{ATTRIBUTE_TYPE:r},parameters:{depthCompare:"always",blendColorOperation:"max",blendColorSrcFactor:"one",blendColorDstFactor:"one",blendAlphaOperation:"max",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one"}})}function xZ(t){return t.createTexture({data:new Uint8Array(4),format:"rgba8unorm",mipmaps:!1,width:1,height:1})}function PZ(t,e){return t.createFramebuffer({id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,colorAttachments:[e]})}const CZ={interpolation:yZ,spring:wZ};class OZ{constructor(e,{id:r,timeline:n}){if(!e)throw new Error("AttributeTransitionManager is constructed without device");this.id=r,this.device=e,this.timeline=n,this.transitions={},this.needsRedraw=!1,this.numInstances=1}finalize(){for(const e in this.transitions)this._removeTransition(e)}update({attributes:e,transitions:r,numInstances:n}){this.numInstances=n||1;for(const i in e){const o=e[i],s=o.getTransitionSetting(r);s&&this._updateAttribute(i,o,s)}for(const i in this.transitions){const o=e[i];(!o||!o.getTransitionSetting(r))&&this._removeTransition(i)}}hasAttribute(e){const r=this.transitions[e];return r&&r.inProgress}getAttributes(){const e={};for(const r in this.transitions){const n=this.transitions[r];n.inProgress&&(e[r]=n.attributeInTransition)}return e}run(){if(this.numInstances===0)return!1;for(const r in this.transitions)this.transitions[r].update()&&(this.needsRedraw=!0);const e=this.needsRedraw;return this.needsRedraw=!1,e}_removeTransition(e){this.transitions[e].delete(),delete this.transitions[e]}_updateAttribute(e,r,n){const i=this.transitions[e];let o=!i||i.type!==n.type;if(o){i&&this._removeTransition(e);const s=CZ[n.type];s?this.transitions[e]=new s({attribute:r,timeline:this.timeline,device:this.device}):(yt.error(`unsupported transition type '${n.type}'`)(),o=!1)}(o||r.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(n,this.numInstances))}}const LC="attributeManager.invalidate",RZ="attributeManager.updateStart",MZ="attributeManager.updateEnd",kZ="attribute.updateStart",IZ="attribute.allocate",NZ="attribute.updateEnd";class DZ{constructor(e,{id:r="attribute-manager",stats:n,timeline:i}={}){this.mergeBoundsMemoized=rd(vK),this.id=r,this.device=e,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=n,this.attributeTransitionManager=new OZ(e,{id:`${r}-transitions`,timeline:i}),Object.seal(this)}finalize(){for(const e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(e={clearRedrawFlags:!1}){const r=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,r&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(e){this._add(e)}addInstanced(e){this._add(e,{stepMode:"instance"})}remove(e){for(const r of e)this.attributes[r]!==void 0&&(this.attributes[r].delete(),delete this.attributes[r])}invalidate(e,r){const n=this._invalidateTrigger(e,r);dn(LC,this,e,n)}invalidateAll(e){for(const r in this.attributes)this.attributes[r].setNeedsUpdate(r,e);dn(LC,this,"all")}update({data:e,numInstances:r,startIndices:n=null,transitions:i,props:o={},buffers:s={},context:a={}}){let l=!1;dn(RZ,this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const A in this.attributes){const p=this.attributes[A],g=p.settings.accessor;p.startIndices=n,p.numInstances=r,o[A]&&yt.removed(`props.${A}`,`data.attributes.${A}`)(),p.setExternalBuffer(s[A])||p.setBinaryValue(typeof g=="string"?s[g]:void 0,e.startIndices)||typeof g=="string"&&!s[g]&&p.setConstantValue(o[g])||p.needsUpdate()&&(l=!0,this._updateAttribute({attribute:p,numInstances:r,data:e,props:o,context:a})),this.needsRedraw=this.needsRedraw||p.needsRedraw()}l&&dn(MZ,this,r),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:r,transitions:i})}updateTransition(){const{attributeTransitionManager:e}=this,r=e.run();return this.needsRedraw=this.needsRedraw||r,r}getAttributes(){return{...this.attributes,...this.attributeTransitionManager.getAttributes()}}getBounds(e){const r=e.map(n=>{var i;return(i=this.attributes[n])==null?void 0:i.getBounds()});return this.mergeBoundsMemoized(r)}getChangedAttributes(e={clearChangedFlags:!1}){const{attributes:r,attributeTransitionManager:n}=this,i={...n.getAttributes()};for(const o in r){const s=r[o];s.needsRedraw(e)&&!n.hasAttribute(o)&&(i[o]=s)}return i}getBufferLayouts(e){return Object.values(this.getAttributes()).map(r=>r.getBufferLayout(e))}_add(e,r){for(const n in e){const i=e[n],o={...i,id:n,size:i.isIndexed&&1||i.size||1,...r};this.attributes[n]=new gB(this.device,o)}this._mapUpdateTriggersToAttributes()}_mapUpdateTriggersToAttributes(){const e={};for(const r in this.attributes)this.attributes[r].getUpdateTriggers().forEach(i=>{e[i]||(e[i]=[]),e[i].push(r)});this.updateTriggers=e}_invalidateTrigger(e,r){const{attributes:n,updateTriggers:i}=this,o=i[e];return o&&o.forEach(s=>{const a=n[s];a&&a.setNeedsUpdate(a.id,r)}),o}_updateAttribute(e){const{attribute:r,numInstances:n}=e;if(dn(kZ,r),r.constant){r.setConstantValue(r.value);return}r.allocate(n)&&dn(IZ,r,n),r.updateBuffer(e)&&(this.needsRedraw=!0,dn(NZ,r,n))}}class BZ extends Ym{get value(){return this._value}_onUpdate(){const{time:e,settings:{fromValue:r,toValue:n,duration:i,easing:o}}=this,s=o(e/i);this._value=tg(r,n,s)}}const $C=1e-5;function UC(t,e,r,n,i){const o=e-t,a=(r-e)*i,l=-o*n;return a+l+o+e}function FZ(t,e,r,n,i){if(Array.isArray(r)){const o=[];for(let s=0;s<r.length;s++)o[s]=UC(t[s],e[s],r[s],n,i);return o}return UC(t,e,r,n,i)}function jC(t,e){if(Array.isArray(t)){let r=0;for(let n=0;n<t.length;n++){const i=t[n]-e[n];r+=i*i}return Math.sqrt(r)}return Math.abs(t-e)}class LZ extends Ym{get value(){return this._currValue}_onUpdate(){const{fromValue:e,toValue:r,damping:n,stiffness:i}=this.settings,{_prevValue:o=e,_currValue:s=e}=this;let a=FZ(o,s,r,n,i);const l=jC(a,r),A=jC(a,s);l<$C&&A<$C&&(a=r,this.end()),this._prevValue=s,this._currValue=a}}const $Z={interpolation:BZ,spring:LZ};class UZ{constructor(e){this.transitions=new Map,this.timeline=e}get active(){return this.transitions.size>0}add(e,r,n,i){const{transitions:o}=this;if(o.has(e)){const l=o.get(e),{value:A=l.settings.fromValue}=l;r=A,this.remove(e)}if(i=pB(i),!i)return;const s=$Z[i.type];if(!s){yt.error(`unsupported transition type '${i.type}'`)();return}const a=new s(this.timeline);a.start({...i,fromValue:r,toValue:n}),o.set(e,a)}remove(e){const{transitions:r}=this;r.has(e)&&(r.get(e).cancel(),r.delete(e))}update(){const e={};for(const[r,n]of this.transitions)n.update(),e[r]=n.value,n.inProgress||this.remove(r);return e}clear(){for(const e of this.transitions.keys())this.remove(e)}}function jZ(t){const e=t[Xs];for(const r in e){const n=e[r],{validate:i}=n;if(i&&!i(t[r],n))throw new Error(`Invalid prop ${r}: ${t[r]}`)}}function zZ(t,e){const r=EB({newProps:t,oldProps:e,propTypes:t[Xs],ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),n=WZ(t,e);let i=!1;return n||(i=HZ(t,e)),{dataChanged:n,propsChanged:r,updateTriggersChanged:i,extensionsChanged:XZ(t,e),transitionsChanged:VZ(t,e)}}function VZ(t,e){if(!t.transitions)return!1;const r={},n=t[Xs];let i=!1;for(const o in t.transitions){const s=n[o],a=s&&s.type;(a==="number"||a==="color"||a==="array")&&o2(t[o],e[o],s)&&(r[o]=!0,i=!0)}return i?r:!1}function EB({newProps:t,oldProps:e,ignoreProps:r={},propTypes:n={},triggerName:i="props"}){if(e===t)return!1;if(typeof t!="object"||t===null)return`${i} changed shallowly`;if(typeof e!="object"||e===null)return`${i} changed shallowly`;for(const o of Object.keys(t))if(!(o in r)){if(!(o in e))return`${i}.${o} added`;const s=o2(t[o],e[o],n[o]);if(s)return`${i}.${o} ${s}`}for(const o of Object.keys(e))if(!(o in r)){if(!(o in t))return`${i}.${o} dropped`;if(!Object.hasOwnProperty.call(t,o)){const s=o2(t[o],e[o],n[o]);if(s)return`${i}.${o} ${s}`}}return!1}function o2(t,e,r){let n=r&&r.equal;return n&&!n(t,e,r)||!n&&(n=t&&e&&t.equals,n&&!n.call(t,e))?"changed deeply":!n&&e!==t?"changed shallowly":null}function WZ(t,e){if(e===null)return"oldProps is null, initial diff";let r=!1;const{dataComparator:n,_dataDiff:i}=t;return n?n(t.data,e.data)||(r="Data comparator detected a change"):t.data!==e.data&&(r="A new data container was supplied"),r&&i&&(r=i(t.data,e.data)||r),r}function HZ(t,e){if(e===null)return{all:!0};if("all"in t.updateTriggers&&zC(t,e,"all"))return{all:!0};const r={};let n=!1;for(const i in t.updateTriggers)i!=="all"&&zC(t,e,i)&&(r[i]=!0,n=!0);return n?r:!1}function XZ(t,e){if(e===null)return!0;const r=e.extensions,{extensions:n}=t;if(n===r)return!1;if(!r||!n||n.length!==r.length)return!0;for(let i=0;i<n.length;i++)if(!n[i].equals(r[i]))return!0;return!1}function zC(t,e,r){let n=t.updateTriggers[r];n=n??{};let i=e.updateTriggers[r];return i=i??{},EB({oldProps:i,newProps:n,triggerName:r})}const YZ="count(): argument not an object",KZ="count(): argument not a container";function QZ(t){if(!GZ(t))throw new Error(YZ);if(typeof t.count=="function")return t.count();if(Number.isFinite(t.size))return t.size;if(Number.isFinite(t.length))return t.length;if(qZ(t))return Object.keys(t).length;throw new Error(KZ)}function qZ(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function GZ(t){return t!==null&&typeof t=="object"}function VC(t,e){if(!e)return t;const r={...t,...e};if("defines"in e&&(r.defines={...t.defines,...e.defines}),"modules"in e&&(r.modules=(t.modules||[]).concat(e.modules),e.modules.some(n=>n.name==="project64"))){const n=r.modules.findIndex(i=>i.name==="project32");n>=0&&r.modules.splice(n,1)}if("inject"in e)if(!t.inject)r.inject=e.inject;else{const n={...t.inject};for(const i in e.inject)n[i]=(n[i]||"")+e.inject[i];r.inject=n}return r}const ZZ={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},s2={};function JZ(t,e,r,n){if(r instanceof pi)return r;r.constructor&&r.constructor.name!=="Object"&&(r={data:r});let i=null;r.compressed&&(i={minFilter:"linear",mipmapFilter:r.data.length>1?"nearest":"linear"});const o=e.createTexture({...r,sampler:{...ZZ,...i,...n}});return s2[o.id]=t,o}function eJ(t,e){!e||!(e instanceof pi)||s2[e.id]===t&&(e.delete(),delete s2[e.id])}const tJ={boolean:{validate(t,e){return!0},equal(t,e,r){return!!t==!!e}},number:{validate(t,e){return Number.isFinite(t)&&(!("max"in e)||t<=e.max)&&(!("min"in e)||t>=e.min)}},color:{validate(t,e){return e.optional&&!t||a2(t)&&(t.length===3||t.length===4)},equal(t,e,r){return zi(t,e,1)}},accessor:{validate(t,e){const r=ag(t);return r==="function"||r===ag(e.value)},equal(t,e,r){return typeof e=="function"?!0:zi(t,e,1)}},array:{validate(t,e){return e.optional&&!t||a2(t)},equal(t,e,r){const{compare:n}=r,i=Number.isInteger(n)?n:n?1:0;return n?zi(t,e,i):t===e}},object:{equal(t,e,r){if(r.ignore)return!0;const{compare:n}=r,i=Number.isInteger(n)?n:n?1:0;return n?zi(t,e,i):t===e}},function:{validate(t,e){return e.optional&&!t||typeof t=="function"},equal(t,e,r){return!r.compare&&r.ignore!==!1||t===e}},data:{transform:(t,e,r)=>{if(!t)return t;const{dataTransform:n}=r.props;return n?n(t):typeof t.shape=="string"&&t.shape.endsWith("-table")&&Array.isArray(t.data)?t.data:t}},image:{transform:(t,e,r)=>{const n=r.context;return!n||!n.device?null:JZ(r.id,n.device,t,{...e.parameters,...r.props.textureParameters})},release:(t,e,r)=>{eJ(r.id,t)}}};function rJ(t){const e={},r={},n={};for(const[i,o]of Object.entries(t)){const s=o==null?void 0:o.deprecatedFor;if(s)n[i]=Array.isArray(s)?s:[s];else{const a=nJ(i,o);e[i]=a,r[i]=a.value}}return{propTypes:e,defaultProps:r,deprecatedProps:n}}function nJ(t,e){switch(ag(e)){case"object":return OA(t,e);case"array":return OA(t,{type:"array",value:e,compare:!1});case"boolean":return OA(t,{type:"boolean",value:e});case"number":return OA(t,{type:"number",value:e});case"function":return OA(t,{type:"function",value:e,compare:!0});default:return{name:t,type:"unknown",value:e}}}function OA(t,e){return"type"in e?{name:t,...tJ[e.type],...e}:"value"in e?{name:t,type:ag(e.value),...e}:{name:t,type:"object",value:e}}function a2(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function ag(t){return a2(t)?"array":t===null?"null":typeof t}function iJ(t,e){let r;for(let o=e.length-1;o>=0;o--){const s=e[o];"extensions"in s&&(r=s.extensions)}const n=l2(t.constructor,r),i=Object.create(n);i[og]=t,i[nl]={},i[Is]={};for(let o=0;o<e.length;++o){const s=e[o];for(const a in s)i[a]=s[a]}return Object.freeze(i),i}const oJ="_mergedDefaultProps";function l2(t,e){if(!(t instanceof xB.constructor))return{};let r=oJ;if(e)for(const i of e){const o=i.constructor;o&&(r+=`:${o.extensionName||o.name}`)}const n=TB(t,r);return n||(t[r]=sJ(t,e||[]))}function sJ(t,e){if(!t.prototype)return null;const n=Object.getPrototypeOf(t),i=l2(n),o=TB(t,"defaultProps")||{},s=rJ(o),a=Object.assign(Object.create(null),i,s.defaultProps),l=Object.assign(Object.create(null),i==null?void 0:i[Xs],s.propTypes),A=Object.assign(Object.create(null),i==null?void 0:i[P_],s.deprecatedProps);for(const p of e){const g=l2(p.constructor);g&&(Object.assign(a,g),Object.assign(l,g[Xs]),Object.assign(A,g[P_]))}return aJ(a,t),uJ(a,l),lJ(a,A),a[Xs]=l,a[P_]=A,e.length===0&&!vE(t,"_propTypes")&&(t._propTypes=l),a}function aJ(t,e){const r=AJ(e);Object.defineProperties(t,{id:{writable:!0,value:r}})}function lJ(t,e){for(const r in e)Object.defineProperty(t,r,{enumerable:!1,set(n){const i=`${this.id}: ${r}`;for(const o of e[r])vE(this,o)||(this[o]=n);yt.deprecated(i,e[r].join("/"))()}})}function uJ(t,e){const r={},n={};for(const i in e){const o=e[i],{name:s,value:a}=o;o.async&&(r[s]=a,n[s]=cJ(s))}t[Bu]=r,t[nl]={},Object.defineProperties(t,n)}function cJ(t){return{enumerable:!0,set(e){typeof e=="string"||e instanceof Promise||hB(e)?this[nl][t]=e:this[Is][t]=e},get(){if(this[Is]){if(t in this[Is])return this[Is][t]||this[Bu][t];if(t in this[nl]){const e=this[og]&&this[og].internalState;if(e&&e.hasAsyncProp(t))return e.getAsyncProp(t)||this[Bu][t]}}return this[Bu][t]}}}function vE(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function TB(t,e){return vE(t,e)&&t[e]}function AJ(t){const e=t.componentName;return e||yt.warn(`${t.name}.componentName not specified`)(),e||t.name}let fJ=0;class _E{constructor(...e){this.props=iJ(this,e),this.id=this.props.id,this.count=fJ++}clone(e){const{props:r}=this,n={};for(const i in r[Bu])i in r[Is]?n[i]=r[Is][i]:i in r[nl]&&(n[i]=r[nl][i]);return new this.constructor({...r,...n,...e})}}_E.componentName="Component";_E.defaultProps={};const xB=_E,hJ=Object.freeze({});class dJ{constructor(e){this.component=e,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const e in this.asyncProps){const r=this.asyncProps[e];r&&r.type&&r.type.release&&r.type.release(r.resolvedValue,r.type,this.component)}this.asyncProps={},this.component=null,this.resetOldProps()}getOldProps(){return this.oldAsyncProps||this.oldProps||hJ}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component?this.component.props:null}hasAsyncProp(e){return e in this.asyncProps}getAsyncProp(e){const r=this.asyncProps[e];return r&&r.resolvedValue}isAsyncPropLoading(e){if(e){const r=this.asyncProps[e];return!!(r&&r.pendingLoadCount>0&&r.pendingLoadCount!==r.resolvedLoadCount)}for(const r in this.asyncProps)if(this.isAsyncPropLoading(r))return!0;return!1}reloadAsyncProp(e,r){this._watchPromise(e,Promise.resolve(r))}setAsyncProps(e){this.component=e[og]||this.component;const r=e[Is]||{},n=e[nl]||e,i=e[Bu]||{};for(const o in r){const s=r[o];this._createAsyncPropData(o,i[o]),this._updateAsyncProp(o,s),r[o]=this.getAsyncProp(o)}for(const o in n){const s=n[o];this._createAsyncPropData(o,i[o]),this._updateAsyncProp(o,s)}}_fetch(e,r){return null}_onResolve(e,r){}_onError(e,r){}_updateAsyncProp(e,r){if(this._didAsyncInputValueChange(e,r)){if(typeof r=="string"&&(r=this._fetch(e,r)),r instanceof Promise){this._watchPromise(e,r);return}if(hB(r)){this._resolveAsyncIterable(e,r);return}this._setPropValue(e,r)}}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const e in this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}}_didAsyncInputValueChange(e,r){const n=this.asyncProps[e];return r===n.resolvedValue||r===n.lastValue?!1:(n.lastValue=r,!0)}_setPropValue(e,r){this._freezeAsyncOldProps();const n=this.asyncProps[e];n&&(r=this._postProcessValue(n,r),n.resolvedValue=r,n.pendingLoadCount++,n.resolvedLoadCount=n.pendingLoadCount)}_setAsyncPropValue(e,r,n){const i=this.asyncProps[e];i&&n>=i.resolvedLoadCount&&r!==void 0&&(this._freezeAsyncOldProps(),i.resolvedValue=r,i.resolvedLoadCount=n,this.onAsyncPropUpdated(e,r))}_watchPromise(e,r){const n=this.asyncProps[e];if(n){n.pendingLoadCount++;const i=n.pendingLoadCount;r.then(o=>{this.component&&(o=this._postProcessValue(n,o),this._setAsyncPropValue(e,o,i),this._onResolve(e,o))}).catch(o=>{this._onError(e,o)})}}async _resolveAsyncIterable(e,r){if(e!=="data"){this._setPropValue(e,r);return}const n=this.asyncProps[e];if(!n)return;n.pendingLoadCount++;const i=n.pendingLoadCount;let o=[],s=0;for await(const a of r){if(!this.component)return;const{dataTransform:l}=this.component.props;l?o=l(a,o):o=o.concat(a),Object.defineProperty(o,"__diff",{enumerable:!1,value:[{startRow:s,endRow:o.length}]}),s=o.length,this._setAsyncPropValue(e,o,i)}this._onResolve(e,o)}_postProcessValue(e,r){const n=e.type;return n&&this.component&&(n.release&&n.release(e.resolvedValue,n,this.component),n.transform)?n.transform(r,n,this.component):r}_createAsyncPropData(e,r){if(!this.asyncProps[e]){const i=this.component&&this.component.props[Xs];this.asyncProps[e]={type:i&&i[e],lastValue:null,resolvedValue:r,pendingLoadCount:0,resolvedLoadCount:0}}}}class pJ extends dJ{constructor({attributeManager:e,layer:r}){super(r),this.attributeManager=e,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}_fetch(e,r){const n=this.layer,i=n==null?void 0:n.props.fetch;return i?i(r,{propName:e,layer:n}):super._fetch(e,r)}_onResolve(e,r){const n=this.layer;if(n){const i=n.props.onDataLoad;e==="data"&&i&&i(r,{propName:e,layer:n})}}_onError(e,r){const n=this.layer;n&&n.raiseError(r,`loading ${e} of ${this.layer}`)}}const gJ="layer.changeFlag",mJ="layer.initialize",yJ="layer.update",vJ="layer.finalize",_J="layer.matched",WC=2**24-1,bJ=Object.freeze([]),wJ=rd(({oldViewport:t,viewport:e})=>t.equals(e));let lo=new Uint8ClampedArray(0);const SJ={data:{type:"data",value:bJ,async:!0},dataComparator:{type:"function",value:null,optional:!0},_dataDiff:{type:"function",value:t=>t&&t.__diff,optional:!0},dataTransform:{type:"function",value:null,optional:!0},onDataLoad:{type:"function",value:null,optional:!0},onError:{type:"function",value:null,optional:!0},fetch:{type:"function",value:(t,{propName:e,layer:r,loaders:n,loadOptions:i,signal:o})=>{const{resourceManager:s}=r.context;i=i||r.getLoadOptions(),n=n||r.props.loaders,o&&(i={...i,fetch:{...i==null?void 0:i.fetch,signal:o}});let a=s.contains(t);return!a&&!i&&(s.add({resourceId:t,data:Hs(t,n),persistent:!1}),a=!0),a?s.subscribe({resourceId:t,onChange:l=>{var A;return(A=r.internalState)==null?void 0:A.reloadAsyncProp(e,l)},consumerId:r.id,requestId:e}):Hs(t,n,i)}},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,optional:!0},onClick:{type:"function",value:null,optional:!0},onDragStart:{type:"function",value:null,optional:!0},onDrag:{type:"function",value:null,optional:!0},onDragEnd:{type:"function",value:null,optional:!0},coordinateSystem:Ot.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:2},loadOptions:{type:"object",value:null,optional:!0,ignore:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,ignore:!0},getPolygonOffset:{type:"function",value:({layerIndex:t})=>[0,-t*100]},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};let bE=class extends xB{constructor(){super(...arguments),this.internalState=null,this.lifecycle=ru.NO_STATE,this.parent=null}static get componentName(){return Object.prototype.hasOwnProperty.call(this,"layerName")?this.layerName:""}get root(){let e=this;for(;e.parent;)e=e.parent;return e}toString(){return`${this.constructor.layerName||this.constructor.name}({id: '${this.props.id}'})`}project(e){Rr(this.internalState);const r=this.internalState.viewport||this.context.viewport,n=j6(e,{viewport:r,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[i,o,s]=F6(n,r.pixelProjectionMatrix);return e.length===2?[i,o]:[i,o,s]}unproject(e){return Rr(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(e)}projectPosition(e,r){Rr(this.internalState);const n=this.internalState.viewport||this.context.viewport;return TK(e,{viewport:n,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...r})}get isComposite(){return!1}setState(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return this.internalState?!this.internalState.isAsyncPropLoading():!1}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){const e=this.state;return e&&(e.models||e.model&&[e.model])||[]}setModuleParameters(e){for(const r of this.getModels())r.updateModuleSettings(e)}setShaderModuleProps(...e){for(const r of this.getModels())r.shaderInputs.setProps(...e)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:e}=this.props;return e===Ot.DEFAULT||e===Ot.LNGLAT||e===Ot.CARTESIAN}onHover(e,r){return this.props.onHover&&this.props.onHover(e,r)||!1}onClick(e,r){return this.props.onClick&&this.props.onClick(e,r)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(e,r=[]){return r[0]=e+1&255,r[1]=e+1>>8&255,r[2]=e+1>>8>>8&255,r}decodePickingColor(e){Rr(e instanceof Uint8Array);const[r,n,i]=e;return r+n*256+i*65536-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&this.state.numInstances!==void 0?this.state.numInstances:QZ(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var e;return(e=this.getAttributeManager())==null?void 0:e.getBounds(["positions","instancePositions"])}getShaders(e){e=VC(e,{disableWarnings:!0,modules:this.context.defaultShaderModules});for(const r of this.props.extensions)e=VC(e,r.getShaders.call(this,r));return e}shouldUpdateState(e){return e.changeFlags.propsOrDataChanged}updateState(e){const r=this.getAttributeManager(),{dataChanged:n}=e.changeFlags;if(n&&r)if(Array.isArray(n))for(const i of n)r.invalidateAll(i);else r.invalidateAll();if(r){const{props:i}=e,o=this.internalState.hasPickingBuffer,s=Number.isInteger(i.highlightedObjectIndex)||i.pickable||i.extensions.some(a=>a.getNeedsPickingBuffer.call(this,a));if(o!==s){this.internalState.hasPickingBuffer=s;const{pickingColors:a,instancePickingColors:l}=r.attributes,A=a||l;A&&(s&&A.constant&&(A.constant=!1,r.invalidate(A.id)),!A.value&&!s&&(A.constant=!0,A.value=[0,0,0]))}}}finalizeState(e){for(const n of this.getModels())n.destroy();const r=this.getAttributeManager();r&&r.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(e){for(const r of this.getModels())r.draw(e)}getPickingInfo({info:e,mode:r,sourceLayer:n}){const{index:i}=e;return i>=0&&Array.isArray(this.props.data)&&(e.object=this.props.data[i]),e}raiseError(e,r){var n,i,o,s;r&&(e=new Error(`${r}: ${e.message}`,{cause:e})),(i=(n=this.props).onError)!=null&&i.call(n,e)||(s=(o=this.context)==null?void 0:o.onError)==null||s.call(o,e,this)}getNeedsRedraw(e={clearRedrawFlags:!1}){return this._getNeedsRedraw(e)}needsUpdate(){return this.internalState?this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()):!1}hasUniformTransition(){var e;return((e=this.internalState)==null?void 0:e.uniformTransitions.active)||!1}activateViewport(e){if(!this.internalState)return;const r=this.internalState.viewport;this.internalState.viewport=e,(!r||!wJ({oldViewport:r,viewport:e}))&&(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(e="all"){const r=this.getAttributeManager();r&&(e==="all"?r.invalidateAll():r.invalidate(e))}updateAttributes(e){let r=!1;for(const n in e)e[n].layoutChanged()&&(r=!0);for(const n of this.getModels())this._setModelAttributes(n,e,r)}_updateAttributes(){const e=this.getAttributeManager();if(!e)return;const r=this.props,n=this.getNumInstances(),i=this.getStartIndices();e.update({data:r.data,numInstances:n,startIndices:i,props:r,transitions:r.transitions,buffers:r.data.attributes,context:this});const o=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(o)}_updateAttributeTransition(){const e=this.getAttributeManager();e&&e.updateTransition()}_updateUniformTransition(){const{uniformTransitions:e}=this.internalState;if(e.active){const r=e.update(),n=Object.create(this.props);for(const i in r)Object.defineProperty(n,i,{value:r[i]});return n}return this.props}calculateInstancePickingColors(e,{numInstances:r}){if(e.constant)return;const n=Math.floor(lo.length/4);if(this.internalState.usesPickingColorCache=!0,n<r){r>WC&&yt.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),lo=nc.allocate(lo,r,{size:4,copy:!0,maxCount:Math.max(r,WC)});const i=Math.floor(lo.length/4),o=[];for(let s=n;s<i;s++)this.encodePickingColor(s,o),lo[s*4+0]=o[0],lo[s*4+1]=o[1],lo[s*4+2]=o[2]}e.value=lo.subarray(0,r*4)}_setModelAttributes(e,r,n=!1){var a;if(!Object.keys(r).length)return;if(n){const l=this.getAttributeManager();e.setBufferLayout(l.getBufferLayouts(e)),r=l.getAttributes()}const i=((a=e.userData)==null?void 0:a.excludeAttributes)||{},o={},s={};for(const l in r){if(i[l])continue;const A=r[l].getValue();for(const p in A){const g=A[p];g instanceof ur?r[l].settings.isIndexed?e.setIndexBuffer(g):o[p]=g:g&&(s[p]=g)}}e.setAttributes(o),e.setConstantAttributes(s)}disablePickingIndex(e){const r=this.props.data;if(!("attributes"in r)){this._disablePickingIndex(e);return}const{pickingColors:n,instancePickingColors:i}=this.getAttributeManager().attributes,o=n||i,s=o&&r.attributes&&r.attributes[o.id];if(s&&s.value){const a=s.value,l=this.encodePickingColor(e);for(let A=0;A<r.length;A++){const p=o.getVertexOffset(A);a[p]===l[0]&&a[p+1]===l[1]&&a[p+2]===l[2]&&this._disablePickingIndex(A)}}else this._disablePickingIndex(e)}_disablePickingIndex(e){const{pickingColors:r,instancePickingColors:n}=this.getAttributeManager().attributes,i=r||n;if(!i)return;const o=i.getVertexOffset(e),s=i.getVertexOffset(e+1);i.buffer.write(new Uint8Array(s-o),o)}restorePickingColors(){const{pickingColors:e,instancePickingColors:r}=this.getAttributeManager().attributes,n=e||r;n&&(this.internalState.usesPickingColorCache&&n.value.buffer!==lo.buffer&&(n.value=lo.subarray(0,n.value.length)),n.updateSubBuffer({startOffset:0}))}_initialize(){Rr(!this.internalState),Rr(Number.isFinite(this.props.coordinateSystem)),dn(mJ,this);const e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:"uint8",size:4,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new pJ({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(yt.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e)}),this.internalState.uniformTransitions=new UZ(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const r of this.props.extensions)r.initializeState.call(this,this.context,r);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(e){dn(_J,this,this===e);const{state:r,internalState:n}=e;this!==e&&(this.internalState=n,this.state=r,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const e=this.needsUpdate();if(dn(yJ,this,e),!e)return;const r=this.props,n=this.context,i=this.internalState,o=n.viewport,s=this._updateUniformTransition();i.propsInTransition=s,n.viewport=i.viewport||o,this.props=s;try{const a=this._getUpdateParams(),l=this.getModels();if(n.device)this.updateState(a);else try{this.updateState(a)}catch{}for(const p of this.props.extensions)p.updateState.call(this,a,p);const A=this.getModels()[0]!==l[0];this._postUpdate(a,A)}finally{n.viewport=o,this.props=r,this._clearChangeFlags(),i.needsUpdate=!1,i.resetOldProps()}}_finalize(){dn(vJ,this),this.finalizeState(this.context);for(const e of this.props.extensions)e.finalizeState.call(this,this.context,e)}_drawLayer({renderPass:e,moduleParameters:r=null,uniforms:n={},parameters:i={}}){this._updateAttributeTransition();const o=this.props,s=this.context;this.props=this.internalState.propsInTransition||o;const a=this.props.opacity;n.opacity=Math.pow(a,1/2.2);try{if(r){const{isActive:p,isAttribute:g}=r.picking;this.setModuleParameters(r),this.setShaderModuleProps({picking:{isActive:p,isAttribute:g}})}const{getPolygonOffset:l}=this.props,A=l&&l(n)||[0,0];s.device.setParametersWebGL({polygonOffset:A});for(const p of this.getModels())p.setParameters(i);s.device.withParametersWebGL(i,()=>{const p={renderPass:e,moduleParameters:r,uniforms:n,parameters:i,context:s};for(const g of this.props.extensions)g.draw.call(this,p,g);this.draw(p)})}finally{this.props=o}}getChangeFlags(){var e;return(e=this.internalState)==null?void 0:e.changeFlags}setChangeFlags(e){if(!this.internalState)return;const{changeFlags:r}=this.internalState;for(const i in e)if(e[i]){let o=!1;switch(i){case"dataChanged":const s=e[i],a=r[i];s&&Array.isArray(a)&&(r.dataChanged=Array.isArray(s)?a.concat(s):s,o=!0);default:r[i]||(r[i]=e[i],o=!0)}o&&dn(gJ,this,i,e)}const n=!!(r.dataChanged||r.updateTriggersChanged||r.propsChanged||r.extensionsChanged);r.propsOrDataChanged=n,r.somethingChanged=n||r.viewportChanged||r.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(e,r){var i;const n=zZ(e,r);if(n.updateTriggersChanged)for(const o in n.updateTriggersChanged)n.updateTriggersChanged[o]&&this.invalidateAttribute(o);if(n.transitionsChanged)for(const o in n.transitionsChanged)this.internalState.uniformTransitions.add(o,r[o],e[o],(i=e.transitions)==null?void 0:i[o]);return this.setChangeFlags(n)}validateProps(){jZ(this.props)}updateAutoHighlight(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}_updateAutoHighlight(e){const r={highlightedObjectColor:e.picked?e.color:null},{highlightColor:n}=this.props;e.picked&&typeof n=="function"&&(r.highlightColor=n(e)),this.setShaderModuleProps({picking:r}),this.setNeedsRedraw()}_getAttributeManager(){const e=this.context;return new DZ(e.device,{id:this.props.id,stats:e.stats,timeline:e.timeline})}_postUpdate(e,r){const{props:n,oldProps:i}=e;this.setNeedsRedraw(),this._updateAttributes();const o=this.state.model;o!=null&&o.isInstanced&&o.setInstanceCount(this.getNumInstances());const{autoHighlight:s,highlightedObjectIndex:a,highlightColor:l}=n;if(r||i.autoHighlight!==s||i.highlightedObjectIndex!==a||i.highlightColor!==l){const A={};Array.isArray(l)&&(A.highlightColor=l),(r||i.autoHighlight!==s||a!==i.highlightedObjectIndex)&&(A.highlightedObjectColor=Number.isFinite(a)&&a>=0?this.encodePickingColor(a):null),this.setShaderModuleProps({picking:A})}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(e){if(!this.internalState)return!1;let r=!1;r=r||this.internalState.needsRedraw&&this.id;const n=this.getAttributeManager(),i=n?n.getNeedsRedraw(e):!1;if(r=r||i,r)for(const o of this.props.extensions)o.onNeedsRedraw.call(this,o);return this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags,r}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}};bE.defaultProps=SJ;bE.layerName="Layer";const Fc=bE,EJ="compositeLayer.renderLayers";class PB extends Fc{get isComposite(){return!0}get isLoaded(){return super.isLoaded&&this.getSubLayers().every(e=>e.isLoaded)}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(e){}setState(e){super.setState(e),this.setNeedsUpdate()}getPickingInfo({info:e}){const{object:r}=e;return r&&r.__source&&r.__source.parent&&r.__source.parent.id===this.id&&(e.object=r.__source.object,e.index=r.__source.index),e}filterSubLayer(e){return!0}shouldRenderSubLayer(e,r){return r&&r.length}getSubLayerClass(e,r){const{_subLayerProps:n}=this.props;return n&&n[e]&&n[e].type||r}getSubLayerRow(e,r,n){return e.__source={parent:this,object:r,index:n},e}getSubLayerAccessor(e){if(typeof e=="function"){const r={index:-1,data:this.props.data,target:[]};return(n,i)=>n&&n.__source?(r.index=n.__source.index,e(n.__source.object,r)):e(n,i)}return e}getSubLayerProps(e={}){var D;const{opacity:r,pickable:n,visible:i,parameters:o,getPolygonOffset:s,highlightedObjectIndex:a,autoHighlight:l,highlightColor:A,coordinateSystem:p,coordinateOrigin:g,wrapLongitude:v,positionFormat:b,modelMatrix:S,extensions:E,fetch:C,operation:x,_subLayerProps:P}=this.props,T={id:"",updateTriggers:{},opacity:r,pickable:n,visible:i,parameters:o,getPolygonOffset:s,highlightedObjectIndex:a,autoHighlight:l,highlightColor:A,coordinateSystem:p,coordinateOrigin:g,wrapLongitude:v,positionFormat:b,modelMatrix:S,extensions:E,fetch:C,operation:x},M=P&&e.id&&P[e.id],R=M&&M.updateTriggers,k=e.id||"sublayer";if(M){const $=this.props[Xs],W=e.type?e.type._propTypes:{};for(const N in M){const H=W[N]||$[N];H&&H.type==="accessor"&&(M[N]=this.getSubLayerAccessor(M[N]))}}Object.assign(T,e,M),T.id=`${this.props.id}-${k}`,T.updateTriggers={all:(D=this.props.updateTriggers)==null?void 0:D.all,...e.updateTriggers,...R};for(const $ of E){const W=$.getSubLayerProps.call(this,$);W&&Object.assign(T,W,{updateTriggers:Object.assign(T.updateTriggers,W.updateTriggers)})}return T}_updateAutoHighlight(e){for(const r of this.getSubLayers())r.updateAutoHighlight(e)}_getAttributeManager(){return null}_postUpdate(e,r){let n=this.internalState.subLayers;const i=!n||this.needsUpdate();if(i){const o=this.renderLayers();n=oc(o,Boolean),this.internalState.subLayers=n}dn(EJ,this,i,n);for(const o of n)o.parent=this}}PB.layerName="CompositeLayer";const CB=PB;class OB{constructor(e){this.indexStarts=[0],this.vertexStarts=[0],this.vertexCount=0,this.instanceCount=0;const{attributes:r={}}=e;this.typedArrayManager=nc,this.attributes={},this._attributeDefs=r,this.opts=e,this.updateGeometry(e)}updateGeometry(e){Object.assign(this.opts,e);const{data:r,buffers:n={},getGeometry:i,geometryBuffer:o,positionFormat:s,dataChanged:a,normalize:l=!0}=this.opts;if(this.data=r,this.getGeometry=i,this.positionSize=o&&o.size||(s==="XY"?2:3),this.buffers=n,this.normalize=l,o&&(Rr(r.startIndices),this.getGeometry=this.getGeometryFromBuffer(o),l||(n.vertexPositions=o)),this.geometryBuffer=n.vertexPositions,Array.isArray(a))for(const A of a)this._rebuildGeometry(A);else this._rebuildGeometry()}updatePartialGeometry({startRow:e,endRow:r}){this._rebuildGeometry({startRow:e,endRow:r})}getGeometryFromBuffer(e){const r=e.value||e;return ArrayBuffer.isView(r)?dB(r,{size:this.positionSize,offset:e.offset,stride:e.stride,startIndices:this.data.startIndices}):null}_allocate(e,r){const{attributes:n,buffers:i,_attributeDefs:o,typedArrayManager:s}=this;for(const a in o)if(a in i)s.release(n[a]),n[a]=null;else{const l=o[a];l.copy=r,n[a]=s.allocate(n[a],e,l)}}_forEachGeometry(e,r,n){const{data:i,getGeometry:o}=this,{iterable:s,objectInfo:a}=Gm(i,r,n);for(const l of s){a.index++;const A=o?o(l,a):null;e(A,a.index)}}_rebuildGeometry(e){if(!this.data)return;let{indexStarts:r,vertexStarts:n,instanceCount:i}=this;const{data:o,geometryBuffer:s}=this,{startRow:a=0,endRow:l=1/0}=e||{},A={};if(e||(r=[0],n=[0]),this.normalize||!s)this._forEachGeometry((g,v)=>{const b=g&&this.normalizeGeometry(g);A[v]=b,n[v+1]=n[v]+(b?this.getGeometrySize(b):0)},a,l),i=n[n.length-1];else if(n=o.startIndices,i=n[o.length]||0,ArrayBuffer.isView(s))i=i||s.length/this.positionSize;else if(s instanceof ur){const g=this.positionSize*4;i=i||s.byteLength/g}else if(s.buffer){const g=s.stride||this.positionSize*4;i=i||s.buffer.byteLength/g}else if(s.value){const g=s.value,v=s.stride/g.BYTES_PER_ELEMENT||this.positionSize;i=i||g.length/v}this._allocate(i,!!e),this.indexStarts=r,this.vertexStarts=n,this.instanceCount=i;const p={};this._forEachGeometry((g,v)=>{const b=A[v]||g;p.vertexStart=n[v],p.indexStart=r[v];const S=v<n.length-1?n[v+1]:i;p.geometrySize=S-n[v],p.geometryIndex=v,this.updateGeometryAttributes(b,p)},a,l),this.vertexCount=r[r.length-1]}}const $_=512,TJ=Math.PI/180;function RB({map:t,gl:e,deck:r}){if(t.__deck)return t.__deck;const n=r==null?void 0:r.props._customRender,i=r==null?void 0:r.props.onLoad,o=kB({...r==null?void 0:r.props,_customRender:()=>{t.triggerRepaint(),n==null||n("")}});let s;return(!r||r.props.gl===e)&&(Object.assign(o,{gl:e,width:null,height:null,touchAction:"unset",viewState:Jf(t)}),r!=null&&r.isInitialized?HC(r,t):o.onLoad=()=>{i==null||i(),HC(s,t)}),r?(s=r,r.setProps(o),r.userData.isExternal=!0):(s=new n2(o),t.on("remove",()=>{MB(t)})),s.userData.mapboxLayers=new Set,t.__deck=s,t.on("render",()=>{s.isInitialized&&MJ(s,t)}),s}function HC(t,e){const r=()=>{t.isInitialized?kJ(t,e):e.off("move",r)};e.on("move",r)}function MB(t){var e;(e=t.__deck)==null||e.finalize(),t.__deck=null}function kB(t){return{...t,parameters:{depthMask:!0,depthTest:!0,blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthFunc:515,blendEquation:32774,...t.parameters},views:t.views||[new Y6({id:"mapbox"})]}}function xJ(t,e){t.userData.mapboxLayers.add(e),wE(t)}function PJ(t,e){t.userData.mapboxLayers.delete(e),wE(t)}function CJ(t,e){wE(t)}function OJ(t,e,r){let{currentViewport:n}=t.userData,i=!1;n||(n=IB(t,e,!0),t.userData.currentViewport=n,i=!0),t.isInitialized&&t._drawLayers("mapbox-repaint",{viewports:[n],layerFilter:({layer:o})=>r.id===o.id||o.props.operation.includes("terrain"),clearStack:i,clearCanvas:!1})}function Jf(t){var i;const{lng:e,lat:r}=t.getCenter(),n={longitude:(e+540)%360-180,latitude:r,zoom:t.getZoom(),bearing:t.getBearing(),pitch:t.getPitch(),padding:t.getPadding(),repeat:t.getRenderWorldCopies()};return(i=t.getTerrain)!=null&&i.call(t)&&RJ(t,n),n}function RJ(t,e){if(t.getFreeCameraOptions){const{position:r}=t.getFreeCameraOptions();if(!r||r.z===void 0)return;const n=t.transform.height,{longitude:i,latitude:o,pitch:s}=e,a=r.x*$_,l=(1-r.y)*$_,A=r.z*$_,p=Qf([i,o]),g=a-p[0],v=l-p[1],b=Math.sqrt(g*g+v*v),S=s*TJ,E=1.5*n,C=S<.001?E*Math.cos(S)/A:E*Math.sin(S)/b;e.zoom=Math.log2(C);const x=E*Math.cos(S)/C,P=A-x;e.position=[0,0,P/ap(o)]}else typeof t.transform.elevation=="number"&&(e.position=[0,0,t.transform.elevation])}function IB(t,e,r=!0){return new fE({id:"mapbox",x:0,y:0,width:t.width,height:t.height,...Jf(e),nearZMultiplier:r?.02:.1,nearZ:e.transform._nearZ/e.transform.height,farZ:e.transform._farZ/e.transform.height})}function MJ(t,e){const{mapboxLayers:r,isExternal:n}=t.userData;if(n){const i=Array.from(r,p=>p.id),s=oc(t.props.layers,Boolean).some(p=>p&&!i.includes(p.id));let a=t.getViewports();const l=a.findIndex(p=>p.id==="mapbox"),A=a.length>1||l<0;(s||A)&&(l>=0&&(a=a.slice(),a[l]=IB(t,e,!1)),t._drawLayers("mapbox-repaint",{viewports:a,layerFilter:p=>(!t.props.layerFilter||t.props.layerFilter(p))&&(p.viewport.id!=="mapbox"||!i.includes(p.layer.id)),clearCanvas:!1}))}t.userData.currentViewport=null}function kJ(t,e){t.setProps({viewState:Jf(e)}),t.needsRedraw({clearRedrawFlags:!0})}function wE(t){if(t.userData.isExternal)return;const e=[];t.userData.mapboxLayers.forEach(r=>{const n=r.props.type,i=new n(r.props);e.push(i)}),t.setProps({layers:e})}class IJ{constructor(e){if(!e.id)throw new Error("Layer must have an unique id");this.id=e.id,this.type="custom",this.renderingMode=e.renderingMode||"3d",this.map=null,this.deck=null,this.props=e}onAdd(e,r){this.map=e,this.deck=RB({map:e,gl:r,deck:this.props.deck}),xJ(this.deck,this)}onRemove(){this.deck&&PJ(this.deck,this)}setProps(e){Object.assign(this.props,e,{id:this.id}),this.deck&&CJ(this.deck)}render(){OJ(this.deck,this.map,this)}}const U_="__UNDEFINED__";function S0(t,e,r,n){if(!t||!e||!t.style||!t.style._loaded)return;const i=oc(n,Boolean);if(r!==n){const a=oc(r,Boolean),l=new Set(a.map(A=>A.id));for(const A of i)l.delete(A.id);for(const A of l)t.getLayer(A)&&t.removeLayer(A)}for(const a of i){const l=t.getLayer(a.id);l?(l.implementation||l).setProps(a.props):t.addLayer(new IJ({id:a.id,deck:e}),a.props.beforeId)}const o=t.style._order,s={};for(const a of i){let{beforeId:l}=a.props;(!l||!o.includes(l))&&(l=U_),s[l]=s[l]||[],s[l].push(a.id)}for(const a in s){const l=s[a];let A=a===U_?o.length:o.indexOf(a),p=a===U_?void 0:a;for(let g=l.length-1;g>=0;g--){const v=l[g],b=o.indexOf(v);b!==A-1&&(t.moveLayer(v,p),b>A&&A++),A--,p=v}}}class NJ{constructor(e){this._handleStyleChange=()=>{S0(this._map,this._deck,this._props.layers,this._props.layers)},this._updateContainerSize=()=>{if(this._map&&this._container){const{clientWidth:i,clientHeight:o}=this._map.getContainer();Object.assign(this._container.style,{width:`${i}px`,height:`${o}px`})}},this._updateViewState=()=>{const i=this._deck;i&&(i.setProps({viewState:Jf(this._map)}),i.isInitialized&&i.redraw())},this._handleMouseEvent=i=>{const o=this._deck;if(!o||!o.isInitialized)return;const s={type:i.type,offsetCenter:i.point,srcEvent:i},a=this._lastMouseDownPoint;switch(!i.point&&a&&(s.deltaX=i.originalEvent.clientX-a.clientX,s.deltaY=i.originalEvent.clientY-a.clientY,s.offsetCenter={x:a.x+s.deltaX,y:a.y+s.deltaY}),s.type){case"mousedown":o._onPointerDown(s),this._lastMouseDownPoint={...i.point,clientX:i.originalEvent.clientX,clientY:i.originalEvent.clientY};break;case"dragstart":s.type="panstart",o._onEvent(s);break;case"drag":s.type="panmove",o._onEvent(s);break;case"dragend":s.type="panend",o._onEvent(s);break;case"click":s.tapCount=1,o._onEvent(s);break;case"dblclick":s.type="click",s.tapCount=2,o._onEvent(s);break;case"mousemove":s.type="pointermove",o._onPointerMove(s);break;case"mouseout":s.type="pointerleave",o._onPointerMove(s);break;default:return}};const{interleaved:r=!1,...n}=e;this._interleaved=r,this._props=n}setProps(e){this._interleaved&&e.layers&&S0(this._map,this._deck,this._props.layers,e.layers),Object.assign(this._props,e),this._deck&&this._deck.setProps(this._interleaved?kB(this._props):this._props)}onAdd(e){return this._map=e,this._interleaved?this._onAddInterleaved(e):this._onAddOverlaid(e)}_onAddOverlaid(e){const r=document.createElement("div");return Object.assign(r.style,{position:"absolute",left:0,top:0,textAlign:"initial",pointerEvents:"none"}),this._container=r,this._deck=new n2({...this._props,parent:r,viewState:Jf(e)}),e.on("resize",this._updateContainerSize),e.on("render",this._updateViewState),e.on("mousedown",this._handleMouseEvent),e.on("dragstart",this._handleMouseEvent),e.on("drag",this._handleMouseEvent),e.on("dragend",this._handleMouseEvent),e.on("mousemove",this._handleMouseEvent),e.on("mouseout",this._handleMouseEvent),e.on("click",this._handleMouseEvent),e.on("dblclick",this._handleMouseEvent),this._updateContainerSize(),r}_onAddInterleaved(e){const r=e.painter.context.gl;return r instanceof WebGLRenderingContext&&yt.warn("Incompatible basemap library. See: https://deck.gl/docs/api-reference/mapbox/overview#compatibility")(),this._deck=RB({map:e,gl:r,deck:new n2({...this._props,gl:r})}),e.on("styledata",this._handleStyleChange),S0(e,this._deck,[],this._props.layers),document.createElement("div")}onRemove(){const e=this._map;e&&(this._interleaved?this._onRemoveInterleaved(e):this._onRemoveOverlaid(e)),this._deck=void 0,this._map=void 0,this._container=void 0}_onRemoveOverlaid(e){var r;e.off("resize",this._updateContainerSize),e.off("render",this._updateViewState),e.off("mousedown",this._handleMouseEvent),e.off("dragstart",this._handleMouseEvent),e.off("drag",this._handleMouseEvent),e.off("dragend",this._handleMouseEvent),e.off("mousemove",this._handleMouseEvent),e.off("mouseout",this._handleMouseEvent),e.off("click",this._handleMouseEvent),e.off("dblclick",this._handleMouseEvent),(r=this._deck)==null||r.finalize()}_onRemoveInterleaved(e){e.off("styledata",this._handleStyleChange),S0(e,this._deck,this._props.layers,[]),MB(e)}getDefaultPosition(){return"top-left"}pickObject(e){return Rr(this._deck),this._deck.pickObject(e)}pickMultipleObjects(e){return Rr(this._deck),this._deck.pickMultipleObjects(e)}pickObjects(e){return Rr(this._deck),this._deck.pickObjects(e)}finalize(){this._map&&this._map.removeControl(this)}getCanvas(){return this._map?this._interleaved?this._map.getCanvas():this._deck.getCanvas():null}}const DJ=`#version 300 es
#define SHADER_NAME icon-layer-vertex-shader
in vec2 positions;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in float instanceSizes;
in float instanceAngles;
in vec4 instanceColors;
in vec3 instancePickingColors;
in vec4 instanceIconFrames;
in float instanceColorModes;
in vec2 instanceOffsets;
in vec2 instancePixelOffset;
uniform float sizeScale;
uniform vec2 iconsTextureDim;
uniform float sizeMinPixels;
uniform float sizeMaxPixels;
uniform bool billboard;
uniform int sizeUnits;
out float vColorMode;
out vec4 vColor;
out vec2 vTextureCoords;
out vec2 uv;
vec2 rotate_by_angle(vec2 vertex, float angle) {
float angle_radian = angle * PI / 180.0;
float cos_angle = cos(angle_radian);
float sin_angle = sin(angle_radian);
mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);
return rotationMatrix * vertex;
}
void main(void) {
geometry.worldPosition = instancePositions;
geometry.uv = positions;
geometry.pickingColor = instancePickingColors;
uv = positions;
vec2 iconSize = instanceIconFrames.zw;
float sizePixels = clamp(
project_size_to_pixel(instanceSizes * sizeScale, sizeUnits),
sizeMinPixels, sizeMaxPixels
);
float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;
vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;
pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;
pixelOffset += instancePixelOffset;
pixelOffset.y *= -1.0;
if (billboard)  {
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vec3 offset = vec3(pixelOffset, 0.0);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
} else {
vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);
DECKGL_FILTER_SIZE(offset_common, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
vTextureCoords = mix(
instanceIconFrames.xy,
instanceIconFrames.xy + iconSize,
(positions.xy + 1.0) / 2.0
) / iconsTextureDim;
vColor = instanceColors;
DECKGL_FILTER_COLOR(vColor, geometry);
vColorMode = instanceColorModes;
}
`,BJ=`#version 300 es
#define SHADER_NAME icon-layer-fragment-shader
precision highp float;
uniform float opacity;
uniform sampler2D iconsTexture;
uniform float alphaCutoff;
in float vColorMode;
in vec4 vColor;
in vec2 vTextureCoords;
in vec2 uv;
out vec4 fragColor;
void main(void) {
geometry.uv = uv;
vec4 texColor = texture(iconsTexture, vTextureCoords);
vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);
float a = texColor.a * opacity * vColor.a;
if (a < alphaCutoff) {
discard;
}
fragColor = vec4(color, a);
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,FJ=1024,LJ=4,XC=()=>{},YC={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},$J={x:0,y:0,width:0,height:0};function UJ(t){return Math.pow(2,Math.ceil(Math.log2(t)))}function jJ(t,e,r,n){const i=Math.min(r/e.width,n/e.height),o=Math.floor(e.width*i),s=Math.floor(e.height*i);return i===1?{data:e,width:o,height:s}:(t.canvas.height=s,t.canvas.width=o,t.clearRect(0,0,o,s),t.drawImage(e,0,0,e.width,e.height,0,0,o,s),{data:t.canvas,width:o,height:s})}function eh(t){return t&&(t.id||t.url)}function zJ(t,e,r,n){const{width:i,height:o,device:s}=t,a=s.createTexture({format:"rgba8unorm",width:e,height:r,sampler:n}),l=s.createCommandEncoder();return l.copyTextureToTexture({source:t,destination:a,width:i,height:o}),l.finish(),t.destroy(),a}function KC(t,e,r){for(let n=0;n<e.length;n++){const{icon:i,xOffset:o}=e[n],s=eh(i);t[s]={...i,x:o,y:r}}}function VJ({icons:t,buffer:e,mapping:r={},xOffset:n=0,yOffset:i=0,rowHeight:o=0,canvasWidth:s}){let a=[];for(let l=0;l<t.length;l++){const A=t[l],p=eh(A);if(!r[p]){const{height:g,width:v}=A;n+v+e>s&&(KC(r,a,i),n=0,i=o+i+e,o=0,a=[]),a.push({icon:A,xOffset:n}),n=n+v+e,o=Math.max(o,g)}}return a.length>0&&KC(r,a,i),{mapping:r,rowHeight:o,xOffset:n,yOffset:i,canvasWidth:s,canvasHeight:UJ(o+i+e)}}function WJ(t,e,r){if(!t||!e)return null;r=r||{};const n={},{iterable:i,objectInfo:o}=Gm(t);for(const s of i){o.index++;const a=e(s,o),l=eh(a);if(!a)throw new Error("Icon is missing.");if(!a.url)throw new Error("Icon url is missing.");!n[l]&&(!r[l]||a.url!==r[l].url)&&(n[l]={...a,source:s,sourceIndex:o.index})}return n}class HJ{constructor(e,{onUpdate:r=XC,onError:n=XC}){this._loadOptions=null,this._texture=null,this._externalTexture=null,this._mapping={},this._textureParameters=null,this._pendingCount=0,this._autoPacking=!1,this._xOffset=0,this._yOffset=0,this._rowHeight=0,this._buffer=LJ,this._canvasWidth=FJ,this._canvasHeight=0,this._canvas=null,this.device=e,this.onUpdate=r,this.onError=n}finalize(){var e;(e=this._texture)==null||e.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping(e){const r=this._autoPacking?eh(e):e;return this._mapping[r]||$J}setProps({loadOptions:e,autoPacking:r,iconAtlas:n,iconMapping:i,textureParameters:o}){var s;e&&(this._loadOptions=e),r!==void 0&&(this._autoPacking=r),i&&(this._mapping=i),n&&((s=this._texture)==null||s.delete(),this._texture=null,this._externalTexture=n),o&&(this._textureParameters=o)}get isLoaded(){return this._pendingCount===0}packIcons(e,r){if(!this._autoPacking||typeof document>"u")return;const n=Object.values(WJ(e,r,this._mapping)||{});if(n.length>0){const{mapping:i,xOffset:o,yOffset:s,rowHeight:a,canvasHeight:l}=VJ({icons:n,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});this._rowHeight=a,this._mapping=i,this._xOffset=o,this._yOffset=s,this._canvasHeight=l,this._texture||(this._texture=this.device.createTexture({format:"rgba8unorm",width:this._canvasWidth,height:this._canvasHeight,sampler:this._textureParameters||YC})),this._texture.height!==this._canvasHeight&&(this._texture=zJ(this._texture,this._canvasWidth,this._canvasHeight,this._textureParameters||YC)),this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(n)}}_loadIcons(e){const r=this._canvas.getContext("2d",{willReadFrequently:!0});for(const n of e)this._pendingCount++,Hs(n.url,this._loadOptions).then(i=>{const o=eh(n),s=this._mapping[o],{x:a,y:l,width:A,height:p}=s,{data:g,width:v,height:b}=jJ(r,i,A,p);this._texture.setSubImageData({data:g,x:a+(A-v)/2,y:l+(p-b)/2,width:v,height:b}),s.width=v,s.height=b,this._texture.generateMipmap(),this.onUpdate()}).catch(i=>{this.onError({url:n.url,source:n.source,sourceIndex:n.sourceIndex,loadOptions:this._loadOptions,error:i})}).finally(()=>{this._pendingCount--})}}const NB=[0,0,0,255],XJ={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:t=>t.position},getIcon:{type:"accessor",value:t=>t.icon},getColor:{type:"accessor",value:NB},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,optional:!0},textureParameters:{type:"object",ignore:!0,value:null}};class SE extends Fc{getShaders(){return super.getShaders({vs:DJ,fs:BJ,modules:[nd,id]})}initializeState(){this.state={iconManager:new HJ(this.context.device,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:"uint8",accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getColor",defaultValue:NB},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState(e){var b;super.updateState(e);const{props:r,oldProps:n,changeFlags:i}=e,o=this.getAttributeManager(),{iconAtlas:s,iconMapping:a,data:l,getIcon:A,textureParameters:p}=r,{iconManager:g}=this.state;if(typeof s=="string")return;const v=s||this.internalState.isAsyncPropLoading("iconAtlas");g.setProps({loadOptions:r.loadOptions,autoPacking:!v,iconAtlas:s,iconMapping:v?a:null,textureParameters:p}),v?n.iconMapping!==r.iconMapping&&o.invalidate("getIcon"):(i.dataChanged||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getIcon))&&g.packIcons(l,A),i.extensionsChanged&&((b=this.state.model)==null||b.destroy(),this.state.model=this._getModel(),o.invalidateAll())}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState(e){super.finalizeState(e),this.state.iconManager.finalize()}draw({uniforms:e}){const{sizeScale:r,sizeMinPixels:n,sizeMaxPixels:i,sizeUnits:o,billboard:s,alphaCutoff:a}=this.props,{iconManager:l}=this.state,A=l.getTexture();if(A){const p=this.state.model;p.setBindings({iconsTexture:A}),p.setUniforms(e),p.setUniforms({iconsTextureDim:[A.width,A.height],sizeUnits:rl[o],sizeScale:r,sizeMinPixels:n,sizeMaxPixels:i,billboard:s,alphaCutoff:a}),p.draw(this.context.renderPass)}}_getModel(){const e=[-1,-1,1,-1,-1,1,1,1];return new Ki(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new ic({topology:"triangle-strip",attributes:{positions:{size:2,value:new Float32Array(e)}}}),isInstanced:!0})}_onUpdate(){this.setNeedsRedraw()}_onError(e){var n;const r=(n=this.getCurrentLayer())==null?void 0:n.props.onIconError;r?r(e):yt.error(e.error.message)()}getInstanceOffset(e){const{width:r,height:n,anchorX:i=r/2,anchorY:o=n/2}=this.state.iconManager.getIconMapping(e);return[r/2-i,n/2-o]}getInstanceColorMode(e){return this.state.iconManager.getIconMapping(e).mask?1:0}getInstanceIconFrame(e){const{x:r,y:n,width:i,height:o}=this.state.iconManager.getIconMapping(e);return[r,n,i,o]}}SE.defaultProps=XJ;SE.layerName="IconLayer";const DB=SE,YJ=`#version 300 es
#define SHADER_NAME scatterplot-layer-vertex-shader
in vec3 positions;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in float instanceRadius;
in float instanceLineWidths;
in vec4 instanceFillColors;
in vec4 instanceLineColors;
in vec3 instancePickingColors;
uniform float opacity;
uniform float radiusScale;
uniform float radiusMinPixels;
uniform float radiusMaxPixels;
uniform float lineWidthScale;
uniform float lineWidthMinPixels;
uniform float lineWidthMaxPixels;
uniform float stroked;
uniform bool filled;
uniform bool antialiasing;
uniform bool billboard;
uniform int radiusUnits;
uniform int lineWidthUnits;
out vec4 vFillColor;
out vec4 vLineColor;
out vec2 unitPosition;
out float innerUnitRadius;
out float outerRadiusPixels;
void main(void) {
geometry.worldPosition = instancePositions;
outerRadiusPixels = clamp(
project_size_to_pixel(radiusScale * instanceRadius, radiusUnits),
radiusMinPixels, radiusMaxPixels
);
float lineWidthPixels = clamp(
project_size_to_pixel(lineWidthScale * instanceLineWidths, lineWidthUnits),
lineWidthMinPixels, lineWidthMaxPixels
);
outerRadiusPixels += stroked * lineWidthPixels / 2.0;
float edgePadding = antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;
unitPosition = edgePadding * positions.xy;
geometry.uv = unitPosition;
geometry.pickingColor = instancePickingColors;
innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;
if (billboard) {
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vec3 offset = edgePadding * positions * outerRadiusPixels;
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
} else {
vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);
DECKGL_FILTER_COLOR(vFillColor, geometry);
vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);
DECKGL_FILTER_COLOR(vLineColor, geometry);
}
`,KJ=`#version 300 es
#define SHADER_NAME scatterplot-layer-fragment-shader
precision highp float;
uniform bool filled;
uniform float stroked;
uniform bool antialiasing;
in vec4 vFillColor;
in vec4 vLineColor;
in vec2 unitPosition;
in float innerUnitRadius;
in float outerRadiusPixels;
out vec4 fragColor;
void main(void) {
geometry.uv = unitPosition;
float distToCenter = length(unitPosition) * outerRadiusPixels;
float inCircle = antialiasing ?
smoothedge(distToCenter, outerRadiusPixels) :
step(distToCenter, outerRadiusPixels);
if (inCircle == 0.0) {
discard;
}
if (stroked > 0.5) {
float isLine = antialiasing ?
smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :
step(innerUnitRadius * outerRadiusPixels, distToCenter);
if (filled) {
fragColor = mix(vFillColor, vLineColor, isLine);
} else {
if (isLine == 0.0) {
discard;
}
fragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);
}
} else if (!filled) {
discard;
} else {
fragColor = vFillColor;
}
fragColor.a *= inCircle;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,QC=[0,0,0,255],QJ={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:t=>t.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:QC},getLineColor:{type:"accessor",value:QC},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class EE extends Fc{getShaders(){return super.getShaders({vs:YJ,fs:KJ,modules:[nd,id]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){var r;super.updateState(e),e.changeFlags.extensionsChanged&&((r=this.state.model)==null||r.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:e}){const{radiusUnits:r,radiusScale:n,radiusMinPixels:i,radiusMaxPixels:o,stroked:s,filled:a,billboard:l,antialiasing:A,lineWidthUnits:p,lineWidthScale:g,lineWidthMinPixels:v,lineWidthMaxPixels:b}=this.props,S=this.state.model;S.setUniforms(e),S.setUniforms({stroked:s?1:0,filled:a,billboard:l,antialiasing:A,radiusUnits:rl[r],radiusScale:n,radiusMinPixels:i,radiusMaxPixels:o,lineWidthUnits:rl[p],lineWidthScale:g,lineWidthMinPixels:v,lineWidthMaxPixels:b}),S.draw(this.context.renderPass)}_getModel(){const e=[-1,-1,0,1,-1,0,-1,1,0,1,1,0];return new Ki(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new ic({topology:"triangle-strip",attributes:{positions:{size:3,value:new Float32Array(e)}}}),isInstanced:!0})}}EE.defaultProps=QJ;EE.layerName="ScatterplotLayer";const qJ=EE,BB={CLOCKWISE:1,COUNTER_CLOCKWISE:-1};function FB(t,e,r={}){return GJ(t,r)!==e?(JJ(t,r),!0):!1}function GJ(t,e={}){return Math.sign(ZJ(t,e))}const qC={x:0,y:1,z:2};function ZJ(t,e={}){const{start:r=0,end:n=t.length,plane:i="xy"}=e,o=e.size||2;let s=0;const a=qC[i[0]],l=qC[i[1]];for(let A=r,p=n-o;A<n;A+=o)s+=(t[A+a]-t[p+a])*(t[A+l]+t[p+l]),p=A;return s/2}function JJ(t,e){const{start:r=0,end:n=t.length,size:i=2}=e,o=(n-r)/i,s=Math.floor(o/2);for(let a=0;a<s;++a){const l=r+a*i,A=r+(o-1-a)*i;for(let p=0;p<i;++p){const g=t[l+p];t[l+p]=t[A+p],t[A+p]=g}}}function Vi(t,e){const r=e.length,n=t.length;if(n>0){let i=!0;for(let o=0;o<r;o++)if(t[n-r+o]!==e[o]){i=!1;break}if(i)return!1}for(let i=0;i<r;i++)t[n+i]=e[i];return!0}function u2(t,e){const r=e.length;for(let n=0;n<r;n++)t[n]=e[n]}function th(t,e,r,n,i=[]){const o=n+e*r;for(let s=0;s<r;s++)i[s]=t[o+s];return i}function c2(t,e,r,n,i=[]){let o,s;if(r&8)o=(n[3]-t[1])/(e[1]-t[1]),s=3;else if(r&4)o=(n[1]-t[1])/(e[1]-t[1]),s=1;else if(r&2)o=(n[2]-t[0])/(e[0]-t[0]),s=2;else if(r&1)o=(n[0]-t[0])/(e[0]-t[0]),s=0;else return null;for(let a=0;a<t.length;a++)i[a]=(s&1)===a?n[s]:o*(e[a]-t[a])+t[a];return i}function up(t,e){let r=0;return t[0]<e[0]?r|=1:t[0]>e[2]&&(r|=2),t[1]<e[1]?r|=4:t[1]>e[3]&&(r|=8),r}function LB(t,e){const{size:r=2,broken:n=!1,gridResolution:i=10,gridOffset:o=[0,0],startIndex:s=0,endIndex:a=t.length}=e||{},l=(a-s)/r;let A=[];const p=[A],g=th(t,0,r,s);let v,b;const S=UB(g,i,o,[]),E=[];Vi(A,g);for(let C=1;C<l;C++){for(v=th(t,C,r,s,v),b=up(v,S);b;){c2(g,v,b,S,E);const x=up(E,S);x&&(c2(g,E,x,S,E),b=x),Vi(A,E),u2(g,E),tee(S,i,b),n&&A.length>r&&(A=[],p.push(A),Vi(A,g)),b=up(v,S)}Vi(A,v),u2(g,v)}return n?p:p[0]}const GC=0,eee=1;function $B(t,e=null,r){if(!t.length)return[];const{size:n=2,gridResolution:i=10,gridOffset:o=[0,0],edgeTypes:s=!1}=r||{},a=[],l=[{pos:t,types:s?new Array(t.length/n).fill(eee):null,holes:e||[]}],A=[[],[]];let p=[];for(;l.length;){const{pos:g,types:v,holes:b}=l.shift();ree(g,n,b[0]||g.length,A),p=UB(A[0],i,o,p);const S=up(A[1],p);if(S){let E=ZC(g,v,n,0,b[0]||g.length,p,S);const C={pos:E[0].pos,types:E[0].types,holes:[]},x={pos:E[1].pos,types:E[1].types,holes:[]};l.push(C,x);for(let P=0;P<b.length;P++)E=ZC(g,v,n,b[P],b[P+1]||g.length,p,S),E[0]&&(C.holes.push(C.pos.length),C.pos=E0(C.pos,E[0].pos),s&&(C.types=E0(C.types,E[0].types))),E[1]&&(x.holes.push(x.pos.length),x.pos=E0(x.pos,E[1].pos),s&&(x.types=E0(x.types,E[1].types)))}else{const E={positions:g};s&&(E.edgeTypes=v),b.length&&(E.holeIndices=b),a.push(E)}}return a}function ZC(t,e,r,n,i,o,s){const a=(i-n)/r,l=[],A=[],p=[],g=[],v=[];let b,S,E;const C=th(t,a-1,r,n);let x=Math.sign(s&8?C[1]-o[3]:C[0]-o[2]),P=e&&e[a-1],T=0,M=0;for(let R=0;R<a;R++)b=th(t,R,r,n,b),S=Math.sign(s&8?b[1]-o[3]:b[0]-o[2]),E=e&&e[n/r+R],S&&x&&x!==S&&(c2(C,b,s,o,v),Vi(l,v)&&p.push(P),Vi(A,v)&&g.push(P)),S<=0?(Vi(l,b)&&p.push(E),T-=S):p.length&&(p[p.length-1]=GC),S>=0?(Vi(A,b)&&g.push(E),M+=S):g.length&&(g[g.length-1]=GC),u2(C,b),x=S,P=E;return[T?{pos:l,types:e&&p}:null,M?{pos:A,types:e&&g}:null]}function UB(t,e,r,n){const i=Math.floor((t[0]-r[0])/e)*e+r[0],o=Math.floor((t[1]-r[1])/e)*e+r[1];return n[0]=i,n[1]=o,n[2]=i+e,n[3]=o+e,n}function tee(t,e,r){r&8?(t[1]+=e,t[3]+=e):r&4?(t[1]-=e,t[3]-=e):r&2?(t[0]+=e,t[2]+=e):r&1&&(t[0]-=e,t[2]-=e)}function ree(t,e,r,n){let i=1/0,o=-1/0,s=1/0,a=-1/0;for(let l=0;l<r;l+=e){const A=t[l],p=t[l+1];i=A<i?A:i,o=A>o?A:o,s=p<s?p:s,a=p>a?p:a}return n[0][0]=i,n[0][1]=s,n[1][0]=o,n[1][1]=a,n}function E0(t,e){for(let r=0;r<e.length;r++)t.push(e[r]);return t}const nee=85.051129;function iee(t,e){const{size:r=2,startIndex:n=0,endIndex:i=t.length,normalize:o=!0}=e||{},s=t.slice(n,i);jB(s,r,0,i-n);const a=LB(s,{size:r,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(o)for(const l of a)zB(l,r);return a}function oee(t,e=null,r){const{size:n=2,normalize:i=!0,edgeTypes:o=!1}=r||{};e=e||[];const s=[],a=[];let l=0,A=0;for(let g=0;g<=e.length;g++){const v=e[g]||t.length,b=A,S=see(t,n,l,v);for(let E=S;E<v;E++)s[A++]=t[E];for(let E=l;E<S;E++)s[A++]=t[E];jB(s,n,b,A),aee(s,n,b,A,r==null?void 0:r.maxLatitude),l=v,a[g]=A}a.pop();const p=$B(s,a,{size:n,gridResolution:360,gridOffset:[-180,-180],edgeTypes:o});if(i)for(const g of p)zB(g.positions,n);return p}function see(t,e,r,n){let i=-1,o=-1;for(let s=r+1;s<n;s+=e){const a=Math.abs(t[s]);a>i&&(i=a,o=s-1)}return o}function aee(t,e,r,n,i=nee){const o=t[r],s=t[n-e];if(Math.abs(o-s)>180){const a=th(t,0,e,r);a[0]+=Math.round((s-o)/360)*360,Vi(t,a),a[1]=Math.sign(a[1])*i,Vi(t,a),a[0]=o,Vi(t,a)}}function jB(t,e,r,n){let i=t[0],o;for(let s=r;s<n;s+=e){o=t[s];const a=o-i;(a>180||a<-180)&&(o-=Math.round(a/360)*360),t[s]=i=o}}function zB(t,e){let r;const n=t.length/e;for(let o=0;o<n&&(r=t[o*e],(r+180)%360===0);o++);const i=-Math.round(r/360)*360;if(i!==0)for(let o=0;o<n;o++)t[o*e]+=i}function lee(t,e,r,n){let i;if(Array.isArray(t[0])){const o=t.length*e;i=new Array(o);for(let s=0;s<t.length;s++)for(let a=0;a<e;a++)i[s*e+a]=t[s][a]||0}else i=t;return r?LB(i,{size:e,gridResolution:r}):n?iee(i,{size:e}):i}const uee=1,cee=2,j_=4;class Aee extends OB{constructor(e){super({...e,attributes:{positions:{size:3,padding:18,initialize:!0,type:e.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}})}get(e){return this.attributes[e]}getGeometryFromBuffer(e){return this.normalize?super.getGeometryFromBuffer(e):null}normalizeGeometry(e){return this.normalize?lee(e,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):e}getGeometrySize(e){if(JC(e)){let n=0;for(const i of e)n+=this.getGeometrySize(i);return n}const r=this.getPathLength(e);return r<2?0:this.isClosed(e)?r<3?0:r+2:r}updateGeometryAttributes(e,r){if(r.geometrySize!==0)if(e&&JC(e))for(const n of e){const i=this.getGeometrySize(n);r.geometrySize=i,this.updateGeometryAttributes(n,r),r.vertexStart+=i}else this._updateSegmentTypes(e,r),this._updatePositions(e,r)}_updateSegmentTypes(e,r){const n=this.attributes.segmentTypes,i=e?this.isClosed(e):!1,{vertexStart:o,geometrySize:s}=r;n.fill(0,o,o+s),i?(n[o]=j_,n[o+s-2]=j_):(n[o]+=uee,n[o+s-2]+=cee),n[o+s-1]=j_}_updatePositions(e,r){const{positions:n}=this.attributes;if(!n||!e)return;const{vertexStart:i,geometrySize:o}=r,s=new Array(3);for(let a=i,l=0;l<o;a++,l++)this.getPointOnPath(e,l,s),n[a*3]=s[0],n[a*3+1]=s[1],n[a*3+2]=s[2]}getPathLength(e){return e.length/this.positionSize}getPointOnPath(e,r,n=[]){const{positionSize:i}=this;r*i>=e.length&&(r+=1-e.length/i);const o=r*i;return n[0]=e[o],n[1]=e[o+1],n[2]=i===3&&e[o+2]||0,n}isClosed(e){if(!this.normalize)return!!this.opts.loop;const{positionSize:r}=this,n=e.length-r;return e[0]===e[n]&&e[1]===e[n+1]&&(r===2||e[2]===e[n+2])}}function JC(t){return Array.isArray(t[0])}const fee=`#version 300 es
#define SHADER_NAME path-layer-vertex-shader
in vec2 positions;
in float instanceTypes;
in vec3 instanceStartPositions;
in vec3 instanceEndPositions;
in vec3 instanceLeftPositions;
in vec3 instanceRightPositions;
in vec3 instanceLeftPositions64Low;
in vec3 instanceStartPositions64Low;
in vec3 instanceEndPositions64Low;
in vec3 instanceRightPositions64Low;
in float instanceStrokeWidths;
in vec4 instanceColors;
in vec3 instancePickingColors;
uniform float widthScale;
uniform float widthMinPixels;
uniform float widthMaxPixels;
uniform float jointType;
uniform float capType;
uniform float miterLimit;
uniform bool billboard;
uniform int widthUnits;
uniform float opacity;
out vec4 vColor;
out vec2 vCornerOffset;
out float vMiterLength;
out vec2 vPathPosition;
out float vPathLength;
out float vJointType;
const float EPSILON = 0.001;
const vec3 ZERO_OFFSET = vec3(0.0);
float flipIfTrue(bool flag) {
return -(float(flag) * 2. - 1.);
}
vec3 getLineJoinOffset(
vec3 prevPoint, vec3 currPoint, vec3 nextPoint,
vec2 width
) {
bool isEnd = positions.x > 0.0;
float sideOfPath = positions.y;
float isJoint = float(sideOfPath == 0.0);
vec3 deltaA3 = (currPoint - prevPoint);
vec3 deltaB3 = (nextPoint - currPoint);
mat3 rotationMatrix;
bool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);
if (needsRotation) {
deltaA3 = deltaA3 * rotationMatrix;
deltaB3 = deltaB3 * rotationMatrix;
}
vec2 deltaA = deltaA3.xy / width;
vec2 deltaB = deltaB3.xy / width;
float lenA = length(deltaA);
float lenB = length(deltaB);
vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);
vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);
vec2 perpA = vec2(-dirA.y, dirA.x);
vec2 perpB = vec2(-dirB.y, dirB.x);
vec2 tangent = dirA + dirB;
tangent = length(tangent) > 0. ? normalize(tangent) : perpA;
vec2 miterVec = vec2(-tangent.y, tangent.x);
vec2 dir = isEnd ? dirA : dirB;
vec2 perp = isEnd ? perpA : perpB;
float L = isEnd ? lenA : lenB;
float sinHalfA = abs(dot(miterVec, perp));
float cosHalfA = abs(dot(dirA, miterVec));
float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);
float cornerPosition = sideOfPath * turnDirection;
float miterSize = 1.0 / max(sinHalfA, EPSILON);
miterSize = mix(
min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),
miterSize,
step(0.0, cornerPosition)
);
vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))
* (sideOfPath + isJoint * turnDirection);
bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));
bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));
bool isCap = isStartCap || isEndCap;
if (isCap) {
offsetVec = mix(perp * sideOfPath, dir * capType * 4.0 * flipIfTrue(isStartCap), isJoint);
vJointType = capType;
} else {
vJointType = jointType;
}
vPathLength = L;
vCornerOffset = offsetVec;
vMiterLength = dot(vCornerOffset, miterVec * turnDirection);
vMiterLength = isCap ? isJoint : vMiterLength;
vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);
vPathPosition = vec2(
dot(offsetFromStartOfPath, perp),
dot(offsetFromStartOfPath, dir)
);
geometry.uv = vPathPosition;
float isValid = step(instanceTypes, 3.5);
vec3 offset = vec3(offsetVec * width * isValid, 0.0);
if (needsRotation) {
offset = rotationMatrix * offset;
}
return offset;
}
void clipLine(inout vec4 position, vec4 refPosition) {
if (position.w < EPSILON) {
float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);
position = refPosition + (position - refPosition) * r;
}
}
void main() {
geometry.pickingColor = instancePickingColors;
vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);
float isEnd = positions.x;
vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);
vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);
vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);
vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);
vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);
vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);
geometry.worldPosition = currPosition;
vec2 widthPixels = vec2(clamp(
project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),
widthMinPixels, widthMaxPixels) / 2.0);
vec3 width;
if (billboard) {
vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);
vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);
vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);
clipLine(prevPositionScreen, currPositionScreen);
clipLine(nextPositionScreen, currPositionScreen);
clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));
width = vec3(widthPixels, 0.0);
DECKGL_FILTER_SIZE(width, geometry);
vec3 offset = getLineJoinOffset(
prevPositionScreen.xyz / prevPositionScreen.w,
currPositionScreen.xyz / currPositionScreen.w,
nextPositionScreen.xyz / nextPositionScreen.w,
project_pixel_size_to_clipspace(width.xy)
);
DECKGL_FILTER_GL_POSITION(currPositionScreen, geometry);
gl_Position = vec4(currPositionScreen.xyz + offset * currPositionScreen.w, currPositionScreen.w);
} else {
prevPosition = project_position(prevPosition, prevPosition64Low);
currPosition = project_position(currPosition, currPosition64Low);
nextPosition = project_position(nextPosition, nextPosition64Low);
width = vec3(project_pixel_size(widthPixels), 0.0);
DECKGL_FILTER_SIZE(width, geometry);
vec3 offset = getLineJoinOffset(prevPosition, currPosition, nextPosition, width.xy);
geometry.position = vec4(currPosition + offset, 1.0);
gl_Position = project_common_position_to_clipspace(geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
DECKGL_FILTER_COLOR(vColor, geometry);
}
`,hee=`#version 300 es
#define SHADER_NAME path-layer-fragment-shader
precision highp float;
uniform float miterLimit;
in vec4 vColor;
in vec2 vCornerOffset;
in float vMiterLength;
in vec2 vPathPosition;
in float vPathLength;
in float vJointType;
out vec4 fragColor;
void main(void) {
geometry.uv = vPathPosition;
if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {
if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {
discard;
}
if (vJointType < 0.5 && vMiterLength > miterLimit + 1.0) {
discard;
}
}
fragColor = vColor;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,VB=[0,0,0,255],dee={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:t=>t.path},getColor:{type:"accessor",value:VB},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},z_={enter:(t,e)=>e.length?e.subarray(e.length-t.length):t};class TE extends Fc{getShaders(){return super.getShaders({vs:fee,fs:hee,modules:[nd,id]})}get wrapLongitude(){return!1}getBounds(){var e;return(e=this.getAttributeManager())==null?void 0:e.getBounds(["vertexPositions"])}initializeState(){this.getAttributeManager().addInstanced({vertexPositions:{size:3,vertexOffset:1,type:"float64",fp64:this.use64bitPositions(),transition:z_,accessor:"getPath",update:this.calculatePositions,noAlloc:!0,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:"uint8",update:this.calculateSegmentTypes,noAlloc:!0},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:z_,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",accessor:"getColor",transition:z_,defaultValue:VB},instancePickingColors:{size:4,type:"uint8",accessor:(n,{index:i,target:o})=>this.encodePickingColor(n&&n.__source?n.__source.index:i,o)}}),this.setState({pathTesselator:new Aee({fp64:this.use64bitPositions()})})}updateState(e){var s;super.updateState(e);const{props:r,changeFlags:n}=e,i=this.getAttributeManager();if(n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPath)){const{pathTesselator:a}=this.state,l=r.data.attributes||{};a.updateGeometry({data:r.data,geometryBuffer:l.getPath,buffers:l,normalize:!r._pathType,loop:r._pathType==="loop",getGeometry:r.getPath,positionFormat:r.positionFormat,wrapLongitude:r.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:n.dataChanged}),this.setState({numInstances:a.instanceCount,startIndices:a.vertexStarts}),n.dataChanged||i.invalidateAll()}n.extensionsChanged&&((s=this.state.model)==null||s.destroy(),this.state.model=this._getModel(),i.invalidateAll())}getPickingInfo(e){const r=super.getPickingInfo(e),{index:n}=r,i=this.props.data;return i[0]&&i[0].__source&&(r.object=i.find(o=>o.__source.index===n)),r}disablePickingIndex(e){const r=this.props.data;if(r[0]&&r[0].__source)for(let n=0;n<r.length;n++)r[n].__source.index===e&&this._disablePickingIndex(n);else super.disablePickingIndex(e)}draw({uniforms:e}){const{jointRounded:r,capRounded:n,billboard:i,miterLimit:o,widthUnits:s,widthScale:a,widthMinPixels:l,widthMaxPixels:A}=this.props,p=this.state.model;p.setUniforms(e),p.setUniforms({jointType:Number(r),capType:Number(n),billboard:i,widthUnits:rl[s],widthScale:a,miterLimit:o,widthMinPixels:l,widthMaxPixels:A}),p.draw(this.context.renderPass)}_getModel(){const e=[0,1,2,1,4,2,1,3,4,3,5,4],r=[0,0,0,-1,0,1,1,-1,1,1,1,0];return new Ki(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new ic({topology:"triangle-list",attributes:{indices:new Uint16Array(e),positions:{value:new Float32Array(r),size:2}}}),isInstanced:!0})}calculatePositions(e){const{pathTesselator:r}=this.state;e.startIndices=r.vertexStarts,e.value=r.get("positions")}calculateSegmentTypes(e){const{pathTesselator:r}=this.state;e.startIndices=r.vertexStarts,e.value=r.get("segmentTypes")}}TE.defaultProps=dee;TE.layerName="PathLayer";const pee=TE;var xE={exports:{}};xE.exports=Zm;xE.exports.default=Zm;function Zm(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,o=WB(t,0,i,r,!0),s=[];if(!o||o.next===o.prev)return s;var a,l,A,p,g,v,b;if(n&&(o=_ee(t,e,o,r)),t.length>80*r){a=A=t[0],l=p=t[1];for(var S=r;S<i;S+=r)g=t[S],v=t[S+1],g<a&&(a=g),v<l&&(l=v),g>A&&(A=g),v>p&&(p=v);b=Math.max(A-a,p-l),b=b!==0?32767/b:0}return rh(o,s,r,a,l,b,0),s}function WB(t,e,r,n,i){var o,s;if(i===h2(t,e,r,n)>0)for(o=e;o<r;o+=n)s=eO(o,t[o],t[o+1],s);else for(o=r-n;o>=e;o-=n)s=eO(o,t[o],t[o+1],s);return s&&Jm(s,s.next)&&(ih(s),s=s.next),s}function ol(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Jm(r,r.next)||hr(r.prev,r,r.next)===0)){if(ih(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function rh(t,e,r,n,i,o,s){if(t){!s&&o&&Tee(t,n,i,o);for(var a=t,l,A;t.prev!==t.next;){if(l=t.prev,A=t.next,o?mee(t,n,i,o):gee(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(A.i/r|0),ih(t),t=A.next,a=A.next;continue}if(t=A,t===a){s?s===1?(t=yee(ol(t),e,r),rh(t,e,r,n,i,o,2)):s===2&&vee(t,e,r,n,i,o):rh(ol(t),e,r,n,i,o,1);break}}}}function gee(t){var e=t.prev,r=t,n=t.next;if(hr(e,r,n)>=0)return!1;for(var i=e.x,o=r.x,s=n.x,a=e.y,l=r.y,A=n.y,p=i<o?i<s?i:s:o<s?o:s,g=a<l?a<A?a:A:l<A?l:A,v=i>o?i>s?i:s:o>s?o:s,b=a>l?a>A?a:A:l>A?l:A,S=n.next;S!==e;){if(S.x>=p&&S.x<=v&&S.y>=g&&S.y<=b&&wu(i,a,o,l,s,A,S.x,S.y)&&hr(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function mee(t,e,r,n){var i=t.prev,o=t,s=t.next;if(hr(i,o,s)>=0)return!1;for(var a=i.x,l=o.x,A=s.x,p=i.y,g=o.y,v=s.y,b=a<l?a<A?a:A:l<A?l:A,S=p<g?p<v?p:v:g<v?g:v,E=a>l?a>A?a:A:l>A?l:A,C=p>g?p>v?p:v:g>v?g:v,x=A2(b,S,e,r,n),P=A2(E,C,e,r,n),T=t.prevZ,M=t.nextZ;T&&T.z>=x&&M&&M.z<=P;){if(T.x>=b&&T.x<=E&&T.y>=S&&T.y<=C&&T!==i&&T!==s&&wu(a,p,l,g,A,v,T.x,T.y)&&hr(T.prev,T,T.next)>=0||(T=T.prevZ,M.x>=b&&M.x<=E&&M.y>=S&&M.y<=C&&M!==i&&M!==s&&wu(a,p,l,g,A,v,M.x,M.y)&&hr(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;T&&T.z>=x;){if(T.x>=b&&T.x<=E&&T.y>=S&&T.y<=C&&T!==i&&T!==s&&wu(a,p,l,g,A,v,T.x,T.y)&&hr(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;M&&M.z<=P;){if(M.x>=b&&M.x<=E&&M.y>=S&&M.y<=C&&M!==i&&M!==s&&wu(a,p,l,g,A,v,M.x,M.y)&&hr(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function yee(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!Jm(i,o)&&HB(i,n,n.next,o)&&nh(i,o)&&nh(o,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(o.i/r|0),ih(n),ih(n.next),n=t=o),n=n.next}while(n!==t);return ol(n)}function vee(t,e,r,n,i,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&Cee(s,a)){var l=XB(s,a);s=ol(s,s.next),l=ol(l,l.next),rh(s,e,r,n,i,o,0),rh(l,e,r,n,i,o,0);return}a=a.next}s=s.next}while(s!==t)}function _ee(t,e,r,n){var i=[],o,s,a,l,A;for(o=0,s=e.length;o<s;o++)a=e[o]*n,l=o<s-1?e[o+1]*n:t.length,A=WB(t,a,l,n,!1),A===A.next&&(A.steiner=!0),i.push(Pee(A));for(i.sort(bee),o=0;o<i.length;o++)r=wee(i[o],r);return r}function bee(t,e){return t.x-e.x}function wee(t,e){var r=See(t,e);if(!r)return e;var n=XB(r,t);return ol(n,n.next),ol(r,r.next)}function See(t,e){var r=e,n=t.x,i=t.y,o=-1/0,s;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>o&&(o=a,s=r.x<r.next.x?r:r.next,a===n))return s}r=r.next}while(r!==e);if(!s)return null;var l=s,A=s.x,p=s.y,g=1/0,v;r=s;do n>=r.x&&r.x>=A&&n!==r.x&&wu(i<p?n:o,i,A,p,i<p?o:n,i,r.x,r.y)&&(v=Math.abs(i-r.y)/(n-r.x),nh(r,t)&&(v<g||v===g&&(r.x>s.x||r.x===s.x&&Eee(s,r)))&&(s=r,g=v)),r=r.next;while(r!==l);return s}function Eee(t,e){return hr(t.prev,t,e.prev)<0&&hr(e.next,t,t.next)<0}function Tee(t,e,r,n){var i=t;do i.z===0&&(i.z=A2(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,xee(i)}function xee(t){var e,r,n,i,o,s,a,l,A=1;do{for(r=t,t=null,o=null,s=0;r;){for(s++,n=r,a=0,e=0;e<A&&(a++,n=n.nextZ,!!n);e++);for(l=A;a>0||l>0&&n;)a!==0&&(l===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=n}o.nextZ=null,A*=2}while(s>1);return t}function A2(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Pee(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function wu(t,e,r,n,i,o,s,a){return(i-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(n-a)>=(r-s)*(e-a)&&(r-s)*(o-a)>=(i-s)*(n-a)}function Cee(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Oee(t,e)&&(nh(t,e)&&nh(e,t)&&Ree(t,e)&&(hr(t.prev,t,e.prev)||hr(t,e.prev,e))||Jm(t,e)&&hr(t.prev,t,t.next)>0&&hr(e.prev,e,e.next)>0)}function hr(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Jm(t,e){return t.x===e.x&&t.y===e.y}function HB(t,e,r,n){var i=x0(hr(t,e,r)),o=x0(hr(t,e,n)),s=x0(hr(r,n,t)),a=x0(hr(r,n,e));return!!(i!==o&&s!==a||i===0&&T0(t,r,e)||o===0&&T0(t,n,e)||s===0&&T0(r,t,n)||a===0&&T0(r,e,n))}function T0(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function x0(t){return t>0?1:t<0?-1:0}function Oee(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&HB(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function nh(t,e){return hr(t.prev,t,t.next)<0?hr(t,e,t.next)>=0&&hr(t,t.prev,e)>=0:hr(t,e,t.prev)<0||hr(t,t.next,e)<0}function Ree(t,e){var r=t,n=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function XB(t,e){var r=new f2(t.i,t.x,t.y),n=new f2(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function eO(t,e,r,n){var i=new f2(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function ih(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function f2(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Zm.deviation=function(t,e,r,n){var i=e&&e.length,o=i?e[0]*r:t.length,s=Math.abs(h2(t,0,o,r));if(i)for(var a=0,l=e.length;a<l;a++){var A=e[a]*r,p=a<l-1?e[a+1]*r:t.length;s-=Math.abs(h2(t,A,p,r))}var g=0;for(a=0;a<n.length;a+=3){var v=n[a]*r,b=n[a+1]*r,S=n[a+2]*r;g+=Math.abs((t[v]-t[S])*(t[b+1]-t[v+1])-(t[v]-t[b])*(t[S+1]-t[v+1]))}return s===0&&g===0?0:Math.abs((g-s)/s)};function h2(t,e,r,n){for(var i=0,o=e,s=r-n;o<r;o+=n)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}Zm.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)r.vertices.push(t[i][o][s]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var Mee=xE.exports;const kee=Lt(Mee),P0=BB.CLOCKWISE,tO=BB.COUNTER_CLOCKWISE,Ds={isClosed:!0};function Iee(t){if(t=t&&t.positions||t,!Array.isArray(t)&&!ArrayBuffer.isView(t))throw new Error("invalid polygon")}function ZA(t){return"positions"in t?t.positions:t}function cp(t){return"holeIndices"in t?t.holeIndices:null}function Nee(t){return Array.isArray(t[0])}function Dee(t){return t.length>=1&&t[0].length>=2&&Number.isFinite(t[0][0])}function Bee(t){const e=t[0],r=t[t.length-1];return e[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]}function Fee(t,e,r,n){for(let i=0;i<e;i++)if(t[r+i]!==t[n-e+i])return!1;return!0}function rO(t,e,r,n,i){let o=e;const s=r.length;for(let a=0;a<s;a++)for(let l=0;l<n;l++)t[o++]=r[a][l]||0;if(!Bee(r))for(let a=0;a<n;a++)t[o++]=r[0][a]||0;return Ds.start=e,Ds.end=o,Ds.size=n,FB(t,i,Ds),o}function nO(t,e,r,n,i=0,o,s){o=o||r.length;const a=o-i;if(a<=0)return e;let l=e;for(let A=0;A<a;A++)t[l++]=r[i+A];if(!Fee(r,n,i,o))for(let A=0;A<n;A++)t[l++]=r[i+A];return Ds.start=e,Ds.end=l,Ds.size=n,FB(t,s,Ds),l}function Lee(t,e){Iee(t);const r=[],n=[];if("positions"in t){const{positions:i,holeIndices:o}=t;if(o){let s=0;for(let a=0;a<=o.length;a++)s=nO(r,s,i,e,o[a-1],o[a],a===0?P0:tO),n.push(s);return n.pop(),{positions:r,holeIndices:n}}t=i}if(!Nee(t))return nO(r,0,t,e,0,r.length,P0),r;if(!Dee(t)){let i=0;for(const[o,s]of t.entries())i=rO(r,i,s,e,o===0?P0:tO),n.push(i);return n.pop(),{positions:r,holeIndices:n}}return rO(r,0,t,e,P0),r}function V_(t,e,r){const n=t.length/3;let i=0;for(let o=0;o<n;o++){const s=(o+1)%n;i+=t[o*3+e]*t[s*3+r],i-=t[s*3+e]*t[o*3+r]}return Math.abs(i/2)}function iO(t,e,r,n){const i=t.length/3;for(let o=0;o<i;o++){const s=o*3,a=t[s+0],l=t[s+1],A=t[s+2];t[s+e]=a,t[s+r]=l,t[s+n]=A}}function $ee(t,e,r,n){let i=cp(t);i&&(i=i.map(a=>a/e));let o=ZA(t);const s=n&&e===3;if(r){const a=o.length;o=o.slice();const l=[];for(let A=0;A<a;A+=e){l[0]=o[A],l[1]=o[A+1],s&&(l[2]=o[A+2]);const p=r(l);o[A]=p[0],o[A+1]=p[1],s&&(o[A+2]=p[2])}}if(s){const a=V_(o,0,1),l=V_(o,0,2),A=V_(o,1,2);if(!a&&!l&&!A)return[];a>l&&a>A||(l>A?(r||(o=o.slice()),iO(o,0,2,1)):(r||(o=o.slice()),iO(o,2,0,1)))}return kee(o,i,e)}class Uee extends OB{constructor(e){const{fp64:r,IndexType:n=Uint32Array}=e;super({...e,attributes:{positions:{size:3,type:r?Float64Array:Float32Array},vertexValid:{type:Uint16Array,size:1},indices:{type:n,size:1}}})}get(e){const{attributes:r}=this;return e==="indices"?r.indices&&r.indices.subarray(0,this.vertexCount):r[e]}updateGeometry(e){super.updateGeometry(e);const r=this.buffers.indices;if(r)this.vertexCount=(r.value||r).length;else if(this.data&&!this.getGeometry)throw new Error("missing indices buffer")}normalizeGeometry(e){if(this.normalize){const r=Lee(e,this.positionSize);return this.opts.resolution?$B(ZA(r),cp(r),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0}):this.opts.wrapLongitude?oee(ZA(r),cp(r),{size:this.positionSize,maxLatitude:86,edgeTypes:!0}):r}return e}getGeometrySize(e){if(oO(e)){let r=0;for(const n of e)r+=this.getGeometrySize(n);return r}return ZA(e).length/this.positionSize}getGeometryFromBuffer(e){return this.normalize||!this.buffers.indices?super.getGeometryFromBuffer(e):null}updateGeometryAttributes(e,r){if(e&&oO(e))for(const n of e){const i=this.getGeometrySize(n);r.geometrySize=i,this.updateGeometryAttributes(n,r),r.vertexStart+=i,r.indexStart=this.indexStarts[r.geometryIndex+1]}else{const n=e;this._updateIndices(n,r),this._updatePositions(n,r),this._updateVertexValid(n,r)}}_updateIndices(e,{geometryIndex:r,vertexStart:n,indexStart:i}){const{attributes:o,indexStarts:s,typedArrayManager:a}=this;let l=o.indices;if(!l||!e)return;let A=i;const p=$ee(e,this.positionSize,this.opts.preproject,this.opts.full3d);l=a.allocate(l,i+p.length,{copy:!0});for(let g=0;g<p.length;g++)l[A++]=p[g]+n;s[r+1]=i+p.length,o.indices=l}_updatePositions(e,{vertexStart:r,geometrySize:n}){const{attributes:{positions:i},positionSize:o}=this;if(!i||!e)return;const s=ZA(e);for(let a=r,l=0;l<n;a++,l++){const A=s[l*o],p=s[l*o+1],g=o>2?s[l*o+2]:0;i[a*3]=A,i[a*3+1]=p,i[a*3+2]=g}}_updateVertexValid(e,{vertexStart:r,geometrySize:n}){const{positionSize:i}=this,o=this.attributes.vertexValid,s=e&&cp(e);if(e&&e.edgeTypes?o.set(e.edgeTypes,r):o.fill(1,r,r+n),s)for(let a=0;a<s.length;a++)o[r+s[a]/i-1]=0;o[r+n-1]=0}}function oO(t){return Array.isArray(t)&&t.length>0&&!Number.isFinite(t[0])}const YB=`uniform bool extruded;
uniform bool isWireframe;
uniform float elevationScale;
uniform float opacity;
in vec4 fillColors;
in vec4 lineColors;
in vec3 pickingColors;
out vec4 vColor;
struct PolygonProps {
vec3 positions;
vec3 positions64Low;
vec3 normal;
float elevations;
};
vec3 project_offset_normal(vec3 vector) {
if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {
return normalize(vector * project_uCommonUnitsPerWorldUnit);
}
return project_normal(vector);
}
void calculatePosition(PolygonProps props) {
vec3 pos = props.positions;
vec3 pos64Low = props.positions64Low;
vec3 normal = props.normal;
vec4 colors = isWireframe ? lineColors : fillColors;
geometry.worldPosition = props.positions;
geometry.pickingColor = pickingColors;
if (extruded) {
pos.z += props.elevations * elevationScale;
}
gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
if (extruded) {
#ifdef IS_SIDE_VERTEX
normal = project_offset_normal(normal);
#else
normal = project_normal(normal);
#endif
geometry.normal = normal;
vec3 lightColor = lighting_getLightColor(colors.rgb, project_uCameraPosition, geometry.position.xyz, geometry.normal);
vColor = vec4(lightColor, colors.a * opacity);
} else {
vColor = vec4(colors.rgb, colors.a * opacity);
}
DECKGL_FILTER_COLOR(vColor, geometry);
}
`,jee=`#version 300 es
#define SHADER_NAME solid-polygon-layer-vertex-shader
in vec3 vertexPositions;
in vec3 vertexPositions64Low;
in float elevations;
${YB}
void main(void) {
PolygonProps props;
props.positions = vertexPositions;
props.positions64Low = vertexPositions64Low;
props.elevations = elevations;
props.normal = vec3(0.0, 0.0, 1.0);
calculatePosition(props);
}
`,zee=`#version 300 es
#define SHADER_NAME solid-polygon-layer-vertex-shader-side
#define IS_SIDE_VERTEX
in vec2 positions;
in vec3 vertexPositions;
in vec3 nextVertexPositions;
in vec3 vertexPositions64Low;
in vec3 nextVertexPositions64Low;
in float elevations;
in float instanceVertexValid;
${YB}
void main(void) {
if(instanceVertexValid < 0.5){
gl_Position = vec4(0.);
return;
}
PolygonProps props;
vec3 pos;
vec3 pos64Low;
vec3 nextPos;
vec3 nextPos64Low;
#if RING_WINDING_ORDER_CW == 1
pos = vertexPositions;
pos64Low = vertexPositions64Low;
nextPos = nextVertexPositions;
nextPos64Low = nextVertexPositions64Low;
#else
pos = nextVertexPositions;
pos64Low = nextVertexPositions64Low;
nextPos = vertexPositions;
nextPos64Low = vertexPositions64Low;
#endif
props.positions = mix(pos, nextPos, positions.x);
props.positions64Low = mix(pos64Low, nextPos64Low, positions.x);
props.normal = vec3(
pos.y - nextPos.y + (pos64Low.y - nextPos64Low.y),
nextPos.x - pos.x + (nextPos64Low.x - pos64Low.x),
0.0);
props.elevations = elevations * positions.y;
calculatePosition(props);
}
`,Vee=`#version 300 es
#define SHADER_NAME solid-polygon-layer-fragment-shader
precision highp float;
in vec4 vColor;
out vec4 fragColor;
void main(void) {
fragColor = vColor;
geometry.uv = vec2(0.);
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,lg=[0,0,0,255],Wee={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",_full3d:!1,elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:t=>t.polygon},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:lg},getLineColor:{type:"accessor",value:lg},material:!0},C0={enter:(t,e)=>e.length?e.subarray(e.length-t.length):t};class PE extends Fc{getShaders(e){return super.getShaders({vs:e==="top"?jee:zee,fs:Vee,defines:{RING_WINDING_ORDER_CW:!this.props._normalize&&this.props._windingOrder==="CCW"?0:1},modules:[nd,dY,id]})}get wrapLongitude(){return!1}getBounds(){var e;return(e=this.getAttributeManager())==null?void 0:e.getBounds(["vertexPositions"])}initializeState(){const{viewport:e}=this.context;let{coordinateSystem:r}=this.props;const{_full3d:n}=this.props;e.isGeospatial&&r===Ot.DEFAULT&&(r=Ot.LNGLAT);let i;r===Ot.LNGLAT&&(n?i=e.projectPosition.bind(e):i=e.projectFlat.bind(e)),this.setState({numInstances:0,polygonTesselator:new Uee({preproject:i,fp64:this.use64bitPositions(),IndexType:Uint32Array})});const o=this.getAttributeManager(),s=!0;o.remove(["instancePickingColors"]),o.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:s},vertexPositions:{size:3,type:"float64",stepMode:"dynamic",fp64:this.use64bitPositions(),transition:C0,accessor:"getPolygon",update:this.calculatePositions,noAlloc:s,shaderAttributes:{nextVertexPositions:{vertexOffset:1}}},instanceVertexValid:{size:1,type:"uint16",stepMode:"instance",update:this.calculateVertexValid,noAlloc:s},elevations:{size:1,stepMode:"dynamic",transition:C0,accessor:"getElevation"},fillColors:{size:this.props.colorFormat.length,type:"unorm8",stepMode:"dynamic",transition:C0,accessor:"getFillColor",defaultValue:lg},lineColors:{size:this.props.colorFormat.length,type:"unorm8",stepMode:"dynamic",transition:C0,accessor:"getLineColor",defaultValue:lg},pickingColors:{size:4,type:"uint8",stepMode:"dynamic",accessor:(a,{index:l,target:A})=>this.encodePickingColor(a&&a.__source?a.__source.index:l,A)}})}getPickingInfo(e){const r=super.getPickingInfo(e),{index:n}=r,i=this.props.data;return i[0]&&i[0].__source&&(r.object=i.find(o=>o.__source.index===n)),r}disablePickingIndex(e){const r=this.props.data;if(r[0]&&r[0].__source)for(let n=0;n<r.length;n++)r[n].__source.index===e&&this._disablePickingIndex(n);else super.disablePickingIndex(e)}draw({uniforms:e}){const{extruded:r,filled:n,wireframe:i,elevationScale:o}=this.props,{topModel:s,sideModel:a,wireframeModel:l,polygonTesselator:A}=this.state,p={...e,extruded:!!r,elevationScale:o};l&&i&&(l.setInstanceCount(A.instanceCount-1),l.setUniforms(p),l.draw(this.context.renderPass)),a&&n&&(a.setInstanceCount(A.instanceCount-1),a.setUniforms(p),a.draw(this.context.renderPass)),s&&n&&(s.setVertexCount(A.vertexCount),s.setUniforms(p),s.draw(this.context.renderPass))}updateState(e){var a;super.updateState(e),this.updateGeometry(e);const{props:r,oldProps:n,changeFlags:i}=e,o=this.getAttributeManager();(i.extensionsChanged||r.filled!==n.filled||r.extruded!==n.extruded)&&((a=this.state.models)==null||a.forEach(l=>l.destroy()),this.setState(this._getModels()),o.invalidateAll())}updateGeometry({props:e,oldProps:r,changeFlags:n}){if(n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPolygon)){const{polygonTesselator:o}=this.state,s=e.data.attributes||{};o.updateGeometry({data:e.data,normalize:e._normalize,geometryBuffer:s.getPolygon,buffers:s,getGeometry:e.getPolygon,positionFormat:e.positionFormat,wrapLongitude:e.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:n.dataChanged,full3d:e._full3d}),this.setState({numInstances:o.instanceCount,startIndices:o.vertexStarts}),n.dataChanged||this.getAttributeManager().invalidateAll()}}_getModels(){const{id:e,filled:r,extruded:n}=this.props;let i,o,s;if(r){const a=this.getShaders("top");a.defines.NON_INSTANCED_MODEL=1;const l=this.getAttributeManager().getBufferLayouts({isInstanced:!1});i=new Ki(this.context.device,{...a,id:`${e}-top`,topology:"triangle-list",uniforms:{isWireframe:!1},bufferLayout:l,isIndexed:!0,userData:{excludeAttributes:{instanceVertexValid:!0}}})}if(n){const a=this.getAttributeManager().getBufferLayouts({isInstanced:!0});o=new Ki(this.context.device,{...this.getShaders("side"),id:`${e}-side`,bufferLayout:a,uniforms:{isWireframe:!1},geometry:new ic({topology:"triangle-strip",attributes:{positions:{size:2,value:new Float32Array([1,0,0,0,1,1,0,1])}}}),isInstanced:!0,userData:{excludeAttributes:{indices:!0}}}),s=new Ki(this.context.device,{...this.getShaders("side"),id:`${e}-wireframe`,bufferLayout:a,uniforms:{isWireframe:!0},geometry:new ic({topology:"line-strip",attributes:{positions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),isInstanced:!0,userData:{excludeAttributes:{indices:!0}}})}return{models:[o,s,i].filter(Boolean),topModel:i,sideModel:o,wireframeModel:s}}calculateIndices(e){const{polygonTesselator:r}=this.state;e.startIndices=r.indexStarts,e.value=r.get("indices")}calculatePositions(e){const{polygonTesselator:r}=this.state;e.startIndices=r.vertexStarts,e.value=r.get("positions")}calculateVertexValid(e){e.value=this.state.polygonTesselator.get("vertexValid")}}PE.defaultProps=Wee;PE.layerName="SolidPolygonLayer";const Hee=PE;function Xee({data:t,getIndex:e,dataRange:r,replace:n}){const{startRow:i=0,endRow:o=1/0}=r,s=t.length;let a=s,l=s;for(let v=0;v<s;v++){const b=e(t[v]);if(a>v&&b>=i&&(a=v),b>=o){l=v;break}}let A=a;const g=l-a!==n.length?t.slice(l):void 0;for(let v=0;v<n.length;v++)t[A++]=n[v];if(g){for(let v=0;v<g.length;v++)t[A++]=g[v];t.length=A}return{startRow:a,endRow:a+n.length}}function Yee(t,e){if(!t)return null;const r="startIndices"in t?t.startIndices[e]:e,n=t.featureIds.value[r];return r!==-1?Kee(t,n,r):null}function Kee(t,e,r){const n={properties:{...t.properties[e]}};for(const i in t.numericProps)n.properties[i]=t.numericProps[i].value[r];return n}function Qee(t,e){const r={points:null,lines:null,polygons:null};for(const n in r){const i=t[n].globalFeatureIds.value;r[n]=new Uint8ClampedArray(i.length*4);const o=[];for(let s=0;s<i.length;s++)e(i[s],o),r[n][s*4+0]=o[0],r[n][s*4+1]=o[1],r[n][s*4+2]=o[2],r[n][s*4+3]=255}return r}const qee=`#version 300 es
#define SHADER_NAME multi-icon-layer-fragment-shader
precision highp float;
uniform float opacity;
uniform sampler2D iconsTexture;
uniform float gamma;
uniform bool sdf;
uniform float alphaCutoff;
uniform float sdfBuffer;
uniform float outlineBuffer;
uniform vec4 outlineColor;
in vec4 vColor;
in vec2 vTextureCoords;
in vec2 uv;
out vec4 fragColor;
void main(void) {
geometry.uv = uv;
if (!bool(picking.isActive)) {
float alpha = texture(iconsTexture, vTextureCoords).a;
vec4 color = vColor;
if (sdf) {
float distance = alpha;
alpha = smoothstep(sdfBuffer - gamma, sdfBuffer + gamma, distance);
if (outlineBuffer > 0.0) {
float inFill = alpha;
float inBorder = smoothstep(outlineBuffer - gamma, outlineBuffer + gamma, distance);
color = mix(outlineColor, vColor, inFill);
alpha = inBorder;
}
}
float a = alpha * color.a;
if (a < alphaCutoff) {
discard;
}
fragColor = vec4(color.rgb, a * opacity);
}
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,W_=192/256,sO=[],Gee={getIconOffsets:{type:"accessor",value:t=>t.offsets},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}};class CE extends DB{getShaders(){return{...super.getShaders(),fs:qee}}initializeState(){super.initializeState(),this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:"uint8",size:3,accessor:(r,{index:n,target:i})=>this.encodePickingColor(n,i)}})}updateState(e){super.updateState(e);const{props:r,oldProps:n}=e;let{outlineColor:i}=r;i!==n.outlineColor&&(i=i.map(o=>o/255),i[3]=Number.isFinite(i[3])?i[3]:1,this.setState({outlineColor:i})),!r.sdf&&r.outlineWidth&&yt.warn(`${this.id}: fontSettings.sdf is required to render outline`)()}draw(e){const{sdf:r,smoothing:n,outlineWidth:i}=this.props,{outlineColor:o}=this.state,s=i?Math.max(n,W_*(1-i)):-1;if(e.uniforms={...e.uniforms,sdfBuffer:W_,outlineBuffer:s,gamma:n,sdf:!!r,outlineColor:o},super.draw(e),r&&i){const{iconManager:a}=this.state,l=a.getTexture(),A=this.state.model;l&&(A.setUniforms({outlineBuffer:W_}),A.draw(this.context.renderPass))}}getInstanceOffset(e){return e?Array.from(e).flatMap(r=>super.getInstanceOffset(r)):sO}getInstanceColorMode(e){return 1}getInstanceIconFrame(e){return e?Array.from(e).flatMap(r=>super.getInstanceIconFrame(r)):sO}}CE.defaultProps=Gee;CE.layerName="MultiIconLayer";const Zee=CE,yf=1e20;class Jee{constructor({fontSize:e=24,buffer:r=3,radius:n=8,cutoff:i=.25,fontFamily:o="sans-serif",fontWeight:s="normal",fontStyle:a="normal"}={}){this.buffer=r,this.cutoff=i,this.radius=n;const l=this.size=e+r*4,A=this._createCanvas(l),p=this.ctx=A.getContext("2d",{willReadFrequently:!0});p.font=`${a} ${s} ${e}px ${o}`,p.textBaseline="alphabetic",p.textAlign="left",p.fillStyle="black",this.gridOuter=new Float64Array(l*l),this.gridInner=new Float64Array(l*l),this.f=new Float64Array(l),this.z=new Float64Array(l+1),this.v=new Uint16Array(l)}_createCanvas(e){const r=document.createElement("canvas");return r.width=r.height=e,r}draw(e){const{width:r,actualBoundingBoxAscent:n,actualBoundingBoxDescent:i,actualBoundingBoxLeft:o,actualBoundingBoxRight:s}=this.ctx.measureText(e),a=Math.ceil(n),l=0,A=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(s-o))),p=Math.min(this.size-this.buffer,a+Math.ceil(i)),g=A+2*this.buffer,v=p+2*this.buffer,b=Math.max(g*v,0),S=new Uint8ClampedArray(b),E={data:S,width:g,height:v,glyphWidth:A,glyphHeight:p,glyphTop:a,glyphLeft:l,glyphAdvance:r};if(A===0||p===0)return E;const{ctx:C,buffer:x,gridInner:P,gridOuter:T}=this;C.clearRect(x,x,A,p),C.fillText(e,x,x+a);const M=C.getImageData(x,x,A,p);T.fill(yf,0,b),P.fill(0,0,b);for(let R=0;R<p;R++)for(let k=0;k<A;k++){const D=M.data[4*(R*A+k)+3]/255;if(D===0)continue;const $=(R+x)*g+k+x;if(D===1)T[$]=0,P[$]=yf;else{const W=.5-D;T[$]=W>0?W*W:0,P[$]=W<0?W*W:0}}aO(T,0,0,g,v,g,this.f,this.v,this.z),aO(P,x,x,A,p,g,this.f,this.v,this.z);for(let R=0;R<b;R++){const k=Math.sqrt(T[R])-Math.sqrt(P[R]);S[R]=Math.round(255-255*(k/this.radius+this.cutoff))}return E}}function aO(t,e,r,n,i,o,s,a,l){for(let A=e;A<e+n;A++)lO(t,r*o+A,o,i,s,a,l);for(let A=r;A<r+i;A++)lO(t,A*o+e,1,n,s,a,l)}function lO(t,e,r,n,i,o,s){o[0]=0,s[0]=-yf,s[1]=yf,i[0]=t[e];for(let a=1,l=0,A=0;a<n;a++){i[a]=t[e+a*r];const p=a*a;do{const g=o[l];A=(i[a]-i[g]+p-g*g)/(a-g)/2}while(A<=s[l]&&--l>-1);l++,o[l]=a,s[l]=A,s[l+1]=yf}for(let a=0,l=0;a<n;a++){for(;s[l+1]<a;)l++;const A=o[l],p=a-A;t[e+a*r]=i[A]+p*p}}const ete=32,tte=[];function rte(t){return Math.pow(2,Math.ceil(Math.log2(t)))}function nte({characterSet:t,getFontWidth:e,fontHeight:r,buffer:n,maxCanvasWidth:i,mapping:o={},xOffset:s=0,yOffset:a=0}){let l=0,A=s;const p=r+n*2;for(const g of t)if(!o[g]){const v=e(g);A+v+n*2>i&&(A=0,l++),o[g]={x:A+n,y:a+l*p+n,width:v,height:p,layoutWidth:v,layoutHeight:r},A+=v+n*2}return{mapping:o,xOffset:A,yOffset:a+l*p,canvasHeight:rte(a+(l+1)*p)}}function KB(t,e,r,n){var o;let i=0;for(let s=e;s<r;s++){const a=t[s];i+=((o=n[a])==null?void 0:o.layoutWidth)||0}return i}function QB(t,e,r,n,i,o){let s=e,a=0;for(let l=e;l<r;l++){const A=KB(t,l,l+1,i);a+A>n&&(s<l&&o.push(l),s=l,a=0),a+=A}return a}function ite(t,e,r,n,i,o){let s=e,a=e,l=e,A=0;for(let p=e;p<r;p++)if((t[p]===" "||t[p+1]===" "||p+1===r)&&(l=p+1),l>a){let g=KB(t,a,l,i);A+g>n&&(s<a&&(o.push(a),s=a,A=0),g>n&&(g=QB(t,a,l,n,i,o),s=o[o.length-1])),a=l,A+=g}return A}function ote(t,e,r,n,i=0,o){o===void 0&&(o=t.length);const s=[];return e==="break-all"?QB(t,i,o,r,n,s):ite(t,i,o,r,n,s),s}function ste(t,e,r,n,i,o){let s=0,a=0;for(let l=e;l<r;l++){const A=t[l],p=n[A];p?(a||(a=p.layoutHeight),i[l]=s+p.layoutWidth/2,s+=p.layoutWidth):(yt.warn(`Missing character: ${A} (${A.codePointAt(0)})`)(),i[l]=s,s+=ete)}o[0]=s,o[1]=a}function ate(t,e,r,n,i){var C;const o=Array.from(t),s=o.length,a=new Array(s),l=new Array(s),A=new Array(s),p=(r==="break-word"||r==="break-all")&&isFinite(n)&&n>0,g=[0,0],v=[0,0];let b=0,S=0,E=0;for(let x=0;x<=s;x++){const P=o[x];if((P===`
`||x===s)&&(E=x),E>S){const T=p?ote(o,r,n,i,S,E):tte;for(let M=0;M<=T.length;M++){const R=M===0?S:T[M-1],k=M<T.length?T[M]:E;ste(o,R,k,i,a,v);for(let D=R;D<k;D++){const $=o[D],W=((C=i[$])==null?void 0:C.layoutOffsetY)||0;l[D]=b+v[1]/2+W,A[D]=v[0]}b=b+v[1]*e,g[0]=Math.max(g[0],v[0])}S=E}P===`
`&&(a[S]=0,l[S]=0,A[S]=0,S++)}return g[1]=b,{x:a,y:l,rowWidth:A,size:g}}function lte({value:t,length:e,stride:r,offset:n,startIndices:i,characterSet:o}){const s=t.BYTES_PER_ELEMENT,a=r?r/s:1,l=n?n/s:0,A=i[e]||Math.ceil((t.length-l)/a),p=o&&new Set,g=new Array(e);let v=t;if(a>1||l>0){const b=t.constructor;v=new b(A);for(let S=0;S<A;S++)v[S]=t[S*a+l]}for(let b=0;b<e;b++){const S=i[b],E=i[b+1]||A,C=v.subarray(S,E);g[b]=String.fromCodePoint.apply(null,C),p&&C.forEach(p.add,p)}if(p)for(const b of p)o.add(String.fromCodePoint(b));return{texts:g,characterCount:A}}class qB{constructor(e=5){this._cache={},this._order=[],this.limit=e}get(e){const r=this._cache[e];return r&&(this._deleteOrder(e),this._appendOrder(e)),r}set(e,r){this._cache[e]?(this.delete(e),this._cache[e]=r,this._appendOrder(e)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[e]=r,this._appendOrder(e))}delete(e){this._cache[e]&&(delete this._cache[e],this._deleteOrder(e))}_deleteOrder(e){const r=this._order.indexOf(e);r>=0&&this._order.splice(r,1)}_appendOrder(e){this._order.push(e)}}function ute(){const t=[];for(let e=32;e<128;e++)t.push(String.fromCharCode(e));return t}const Fu={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:ute(),fontSize:64,buffer:4,sdf:!1,cutoff:.25,radius:12,smoothing:.1},uO=1024,cO=.9,AO=1.2,GB=3;let ug=new qB(GB);function cte(t,e){let r;typeof e=="string"?r=new Set(Array.from(e)):r=new Set(e);const n=ug.get(t);if(!n)return r;for(const i in n.mapping)r.has(i)&&r.delete(i);return r}function Ate(t,e){for(let r=0;r<t.length;r++)e.data[4*r+3]=t[r]}function fO(t,e,r,n){t.font=`${n} ${r}px ${e}`,t.fillStyle="#000",t.textBaseline="alphabetic",t.textAlign="left"}function fte(t){yt.assert(Number.isFinite(t)&&t>=GB,"Invalid cache limit"),ug=new qB(t)}class hte{constructor(){this.props={...Fu}}get atlas(){return this._atlas}get mapping(){return this._atlas&&this._atlas.mapping}get scale(){const{fontSize:e,buffer:r}=this.props;return(e*AO+r*2)/e}setProps(e={}){Object.assign(this.props,e),this._key=this._getKey();const r=cte(this._key,this.props.characterSet),n=ug.get(this._key);if(n&&r.size===0){this._atlas!==n&&(this._atlas=n);return}const i=this._generateFontAtlas(r,n);this._atlas=i,ug.set(this._key,i)}_generateFontAtlas(e,r){const{fontFamily:n,fontWeight:i,fontSize:o,buffer:s,sdf:a,radius:l,cutoff:A}=this.props;let p=r&&r.data;p||(p=document.createElement("canvas"),p.width=uO);const g=p.getContext("2d",{willReadFrequently:!0});fO(g,n,o,i);const{mapping:v,canvasHeight:b,xOffset:S,yOffset:E}=nte({getFontWidth:C=>g.measureText(C).width,fontHeight:o*AO,buffer:s,characterSet:e,maxCanvasWidth:uO,...r&&{mapping:r.mapping,xOffset:r.xOffset,yOffset:r.yOffset}});if(p.height!==b){const C=g.getImageData(0,0,p.width,p.height);p.height=b,g.putImageData(C,0,0)}if(fO(g,n,o,i),a){const C=new Jee({fontSize:o,buffer:s,radius:l,cutoff:A,fontFamily:n,fontWeight:`${i}`});for(const x of e){const{data:P,width:T,height:M,glyphTop:R}=C.draw(x);v[x].width=T,v[x].layoutOffsetY=o*cO-R;const k=g.createImageData(T,M);Ate(P,k),g.putImageData(k,v[x].x,v[x].y)}}else for(const C of e)g.fillText(C,v[C].x,v[C].y+s+o*cO);return{xOffset:S,yOffset:E,mapping:v,data:p,width:p.width,height:p.height}}_getKey(){const{fontFamily:e,fontWeight:r,fontSize:n,buffer:i,sdf:o,radius:s,cutoff:a}=this.props;return o?`${e} ${r} ${n} ${i} ${s} ${a}`:`${e} ${r} ${n} ${i}`}}const dte=`#version 300 es
#define SHADER_NAME text-background-layer-vertex-shader
in vec2 positions;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in vec4 instanceRects;
in float instanceSizes;
in float instanceAngles;
in vec2 instancePixelOffsets;
in float instanceLineWidths;
in vec4 instanceFillColors;
in vec4 instanceLineColors;
in vec3 instancePickingColors;
uniform bool billboard;
uniform float opacity;
uniform float sizeScale;
uniform float sizeMinPixels;
uniform float sizeMaxPixels;
uniform vec4 padding;
uniform int sizeUnits;
out vec4 vFillColor;
out vec4 vLineColor;
out float vLineWidth;
out vec2 uv;
out vec2 dimensions;
vec2 rotate_by_angle(vec2 vertex, float angle) {
float angle_radian = radians(angle);
float cos_angle = cos(angle_radian);
float sin_angle = sin(angle_radian);
mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);
return rotationMatrix * vertex;
}
void main(void) {
geometry.worldPosition = instancePositions;
geometry.uv = positions;
geometry.pickingColor = instancePickingColors;
uv = positions;
vLineWidth = instanceLineWidths;
float sizePixels = clamp(
project_size_to_pixel(instanceSizes * sizeScale, sizeUnits),
sizeMinPixels, sizeMaxPixels
);
dimensions = instanceRects.zw * sizePixels + padding.xy + padding.zw;
vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-padding.xy, padding.zw, positions);
pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);
pixelOffset += instancePixelOffsets;
pixelOffset.y *= -1.0;
if (billboard)  {
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vec3 offset = vec3(pixelOffset, 0.0);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
} else {
vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);
DECKGL_FILTER_SIZE(offset_common, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);
DECKGL_FILTER_COLOR(vFillColor, geometry);
vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);
DECKGL_FILTER_COLOR(vLineColor, geometry);
}
`,pte=`#version 300 es
#define SHADER_NAME text-background-layer-fragment-shader
precision highp float;
uniform bool stroked;
in vec4 vFillColor;
in vec4 vLineColor;
in float vLineWidth;
in vec2 uv;
in vec2 dimensions;
out vec4 fragColor;
void main(void) {
geometry.uv = uv;
vec2 pixelPosition = uv * dimensions;
if (stroked) {
float distToEdge = min(
min(pixelPosition.x, dimensions.x - pixelPosition.x),
min(pixelPosition.y, dimensions.y - pixelPosition.y)
);
float isBorder = smoothedge(distToEdge, vLineWidth);
fragColor = mix(vFillColor, vLineColor, isBorder);
} else {
fragColor = vFillColor;
}
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,gte={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:t=>t.position},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}};class OE extends Fc{getShaders(){return super.getShaders({vs:dte,fs:pte,modules:[nd,id]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,type:"unorm8",accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,type:"unorm8",accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){var n;super.updateState(e);const{changeFlags:r}=e;r.extensionsChanged&&((n=this.state.model)==null||n.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:e}){const{billboard:r,sizeScale:n,sizeUnits:i,sizeMinPixels:o,sizeMaxPixels:s,getLineWidth:a}=this.props;let{padding:l}=this.props;l.length<4&&(l=[l[0],l[1],l[0],l[1]]);const A=this.state.model;A.setUniforms(e),A.setUniforms({billboard:r,stroked:!!a,padding:l,sizeUnits:rl[i],sizeScale:n,sizeMinPixels:o,sizeMaxPixels:s}),A.draw(this.context.renderPass)}_getModel(){const e=[0,0,1,0,1,1,0,1];return new Ki(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new ic({topology:"triangle-fan-webgl",vertexCount:4,attributes:{positions:{size:2,value:new Float32Array(e)}}}),isInstanced:!0})}}OE.defaultProps=gte;OE.layerName="TextBackgroundLayer";const mte=OE,hO={start:1,middle:0,end:-1},dO={top:1,center:0,bottom:-1},H_=[0,0,0,255],yte=1,vte={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:H_},getBorderWidth:{type:"accessor",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:Fu.characterSet},fontFamily:Fu.fontFamily,fontWeight:Fu.fontWeight,lineHeight:yte,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:H_},fontSettings:{type:"object",value:{},compare:1},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:t=>t.text},getPosition:{type:"accessor",value:t=>t.position},getColor:{type:"accessor",value:H_},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}};class RE extends CB{constructor(){super(...arguments),this.getBoundingRect=(e,r)=>{let{size:[n,i]}=this.transformParagraph(e,r);const{fontSize:o}=this.state.fontAtlasManager.props;n/=o,i/=o;const{getTextAnchor:s,getAlignmentBaseline:a}=this.props,l=hO[typeof s=="function"?s(e,r):s],A=dO[typeof a=="function"?a(e,r):a];return[(l-1)*n/2,(A-1)*i/2,n,i]},this.getIconOffsets=(e,r)=>{const{getTextAnchor:n,getAlignmentBaseline:i}=this.props,{x:o,y:s,rowWidth:a,size:[l,A]}=this.transformParagraph(e,r),p=hO[typeof n=="function"?n(e,r):n],g=dO[typeof i=="function"?i(e,r):i],v=o.length,b=new Array(v*2);let S=0;for(let E=0;E<v;E++){const C=(1-p)*(l-a[E])/2;b[S++]=(p-1)*l/2+C+o[E],b[S++]=(g-1)*A/2+s[E]}return b}}initializeState(){this.state={styleVersion:0,fontAtlasManager:new hte},this.props.maxWidth>0&&yt.warn("v8.9 breaking change: TextLayer maxWidth is now relative to text size")()}updateState(e){const{props:r,oldProps:n,changeFlags:i}=e;(i.dataChanged||i.updateTriggersChanged&&(i.updateTriggersChanged.all||i.updateTriggersChanged.getText))&&this._updateText(),(this._updateFontAtlas()||r.lineHeight!==n.lineHeight||r.wordBreak!==n.wordBreak||r.maxWidth!==n.maxWidth)&&this.setState({styleVersion:this.state.styleVersion+1})}getPickingInfo({info:e}){return e.object=e.index>=0?this.props.data[e.index]:null,e}_updateFontAtlas(){const{fontSettings:e,fontFamily:r,fontWeight:n}=this.props,{fontAtlasManager:i,characterSet:o}=this.state,s={...e,characterSet:o,fontFamily:r,fontWeight:n};if(!i.mapping)return i.setProps(s),!0;for(const a in s)if(s[a]!==i.props[a])return i.setProps(s),!0;return!1}_updateText(){var l;const{data:e,characterSet:r}=this.props,n=(l=e.attributes)==null?void 0:l.getText;let{getText:i}=this.props,o=e.startIndices,s;const a=r==="auto"&&new Set;if(n&&o){const{texts:A,characterCount:p}=lte({...ArrayBuffer.isView(n)?{value:n}:n,length:e.length,startIndices:o,characterSet:a});s=p,i=(g,{index:v})=>A[v]}else{const{iterable:A,objectInfo:p}=Gm(e);o=[0],s=0;for(const g of A){p.index++;const v=Array.from(i(g,p)||"");a&&v.forEach(a.add,a),s+=v.length,o.push(s)}}this.setState({getText:i,startIndices:o,numInstances:s,characterSet:a||r})}transformParagraph(e,r){const{fontAtlasManager:n}=this.state,i=n.mapping,o=this.state.getText,{wordBreak:s,lineHeight:a,maxWidth:l}=this.props,A=o(e,r)||"";return ate(A,a,s,l*n.props.fontSize,i)}renderLayers(){const{startIndices:e,numInstances:r,getText:n,fontAtlasManager:{scale:i,atlas:o,mapping:s},styleVersion:a}=this.state,{data:l,_dataDiff:A,getPosition:p,getColor:g,getSize:v,getAngle:b,getPixelOffset:S,getBackgroundColor:E,getBorderColor:C,getBorderWidth:x,backgroundPadding:P,background:T,billboard:M,fontSettings:R,outlineWidth:k,outlineColor:D,sizeScale:$,sizeUnits:W,sizeMinPixels:N,sizeMaxPixels:H,transitions:Q,updateTriggers:re}=this.props,ne=this.getSubLayerClass("characters",Zee),J=this.getSubLayerClass("background",mte);return[T&&new J({getFillColor:E,getLineColor:C,getLineWidth:x,padding:P,getPosition:p,getSize:v,getAngle:b,getPixelOffset:S,billboard:M,sizeScale:$,sizeUnits:W,sizeMinPixels:N,sizeMaxPixels:H,transitions:Q&&{getPosition:Q.getPosition,getAngle:Q.getAngle,getSize:Q.getSize,getFillColor:Q.getBackgroundColor,getLineColor:Q.getBorderColor,getLineWidth:Q.getBorderWidth,getPixelOffset:Q.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:re.getPosition,getAngle:re.getAngle,getSize:re.getSize,getFillColor:re.getBackgroundColor,getLineColor:re.getBorderColor,getLineWidth:re.getBorderWidth,getPixelOffset:re.getPixelOffset,getBoundingRect:{getText:re.getText,getTextAnchor:re.getTextAnchor,getAlignmentBaseline:re.getAlignmentBaseline,styleVersion:a}}}),{data:l.attributes&&l.attributes.background?{length:l.length,attributes:l.attributes.background}:l,_dataDiff:A,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new ne({sdf:R.sdf,smoothing:Number.isFinite(R.smoothing)?R.smoothing:Fu.smoothing,outlineWidth:k/(R.radius||Fu.radius),outlineColor:D,iconAtlas:o,iconMapping:s,getPosition:p,getColor:g,getSize:v,getAngle:b,getPixelOffset:S,billboard:M,sizeScale:$*i,sizeUnits:W,sizeMinPixels:N*i,sizeMaxPixels:H*i,transitions:Q&&{getPosition:Q.getPosition,getAngle:Q.getAngle,getColor:Q.getColor,getSize:Q.getSize,getPixelOffset:Q.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{all:re.getText,getPosition:re.getPosition,getAngle:re.getAngle,getColor:re.getColor,getSize:re.getSize,getPixelOffset:re.getPixelOffset,getIconOffsets:{getTextAnchor:re.getTextAnchor,getAlignmentBaseline:re.getAlignmentBaseline,styleVersion:a}}}),{data:l,_dataDiff:A,startIndices:e,numInstances:r,getIconOffsets:this.getIconOffsets,getIcon:n})]}static set fontAtlasCacheLimit(e){fte(e)}}RE.defaultProps=vte;RE.layerName="TextLayer";const _te=RE,Ap={circle:{type:qJ,props:{filled:"filled",stroked:"stroked",lineWidthMaxPixels:"lineWidthMaxPixels",lineWidthMinPixels:"lineWidthMinPixels",lineWidthScale:"lineWidthScale",lineWidthUnits:"lineWidthUnits",pointRadiusMaxPixels:"radiusMaxPixels",pointRadiusMinPixels:"radiusMinPixels",pointRadiusScale:"radiusScale",pointRadiusUnits:"radiusUnits",pointAntialiasing:"antialiasing",pointBillboard:"billboard",getFillColor:"getFillColor",getLineColor:"getLineColor",getLineWidth:"getLineWidth",getPointRadius:"getRadius"}},icon:{type:DB,props:{iconAtlas:"iconAtlas",iconMapping:"iconMapping",iconSizeMaxPixels:"sizeMaxPixels",iconSizeMinPixels:"sizeMinPixels",iconSizeScale:"sizeScale",iconSizeUnits:"sizeUnits",iconAlphaCutoff:"alphaCutoff",iconBillboard:"billboard",getIcon:"getIcon",getIconAngle:"getAngle",getIconColor:"getColor",getIconPixelOffset:"getPixelOffset",getIconSize:"getSize"}},text:{type:_te,props:{textSizeMaxPixels:"sizeMaxPixels",textSizeMinPixels:"sizeMinPixels",textSizeScale:"sizeScale",textSizeUnits:"sizeUnits",textBackground:"background",textBackgroundPadding:"backgroundPadding",textFontFamily:"fontFamily",textFontWeight:"fontWeight",textLineHeight:"lineHeight",textMaxWidth:"maxWidth",textOutlineColor:"outlineColor",textOutlineWidth:"outlineWidth",textWordBreak:"wordBreak",textCharacterSet:"characterSet",textBillboard:"billboard",textFontSettings:"fontSettings",getText:"getText",getTextAngle:"getAngle",getTextColor:"getColor",getTextPixelOffset:"getPixelOffset",getTextSize:"getSize",getTextAnchor:"getTextAnchor",getTextAlignmentBaseline:"getAlignmentBaseline",getTextBackgroundColor:"getBackgroundColor",getTextBorderColor:"getBorderColor",getTextBorderWidth:"getBorderWidth"}}},fp={type:pee,props:{lineWidthUnits:"widthUnits",lineWidthScale:"widthScale",lineWidthMinPixels:"widthMinPixels",lineWidthMaxPixels:"widthMaxPixels",lineJointRounded:"jointRounded",lineCapRounded:"capRounded",lineMiterLimit:"miterLimit",lineBillboard:"billboard",getLineColor:"getColor",getLineWidth:"getWidth"}},d2={type:Hee,props:{extruded:"extruded",filled:"filled",wireframe:"wireframe",elevationScale:"elevationScale",material:"material",_full3d:"_full3d",getElevation:"getElevation",getFillColor:"getFillColor",getLineColor:"getLineColor"}};function RA({type:t,props:e}){const r={};for(const n in e)r[n]=t.defaultProps[e[n]];return r}function X_(t,e){const{transitions:r,updateTriggers:n}=t.props,i={updateTriggers:{},transitions:r&&{getPosition:r.geometry}};for(const o in e){const s=e[o];let a=t.props[o];o.startsWith("get")&&(a=t.getSubLayerAccessor(a),i.updateTriggers[s]=n[o],r&&(i.transitions[s]=r[o])),i[s]=a}return i}function bte(t){if(Array.isArray(t))return t;switch(yt.assert(t.type,"GeoJSON does not have type"),t.type){case"Feature":return[t];case"FeatureCollection":return yt.assert(Array.isArray(t.features),"GeoJSON does not have features array"),t.features;default:return[{geometry:t}]}}function pO(t,e,r={}){const n={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},{startRow:i=0,endRow:o=t.length}=r;for(let s=i;s<o;s++){const a=t[s],{geometry:l}=a;if(l)if(l.type==="GeometryCollection"){yt.assert(Array.isArray(l.geometries),"GeoJSON does not have geometries array");const{geometries:A}=l;for(let p=0;p<A.length;p++){const g=A[p];gO(g,n,e,a,s)}}else gO(l,n,e,a,s)}return n}function gO(t,e,r,n,i){const{type:o,coordinates:s}=t,{pointFeatures:a,lineFeatures:l,polygonFeatures:A,polygonOutlineFeatures:p}=e;if(!Ste(o,s)){yt.warn(`${o} coordinates are malformed`)();return}switch(o){case"Point":a.push(r({geometry:t},n,i));break;case"MultiPoint":s.forEach(g=>{a.push(r({geometry:{type:"Point",coordinates:g}},n,i))});break;case"LineString":l.push(r({geometry:t},n,i));break;case"MultiLineString":s.forEach(g=>{l.push(r({geometry:{type:"LineString",coordinates:g}},n,i))});break;case"Polygon":A.push(r({geometry:t},n,i)),s.forEach(g=>{p.push(r({geometry:{type:"LineString",coordinates:g}},n,i))});break;case"MultiPolygon":s.forEach(g=>{A.push(r({geometry:{type:"Polygon",coordinates:g}},n,i)),g.forEach(v=>{p.push(r({geometry:{type:"LineString",coordinates:v}},n,i))})});break}}const wte={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};function Ste(t,e){let r=wte[t];for(yt.assert(r,`Unknown GeoJSON type ${t}`);e&&--r>0;)e=e[0];return e&&Number.isFinite(e[0])}function ZB(){return{points:{},lines:{},polygons:{},polygonsOutline:{}}}function O0(t){return t.geometry.coordinates}function Ete(t,e){const r=ZB(),{pointFeatures:n,lineFeatures:i,polygonFeatures:o,polygonOutlineFeatures:s}=t;return r.points.data=n,r.points._dataDiff=e.pointFeatures&&(()=>e.pointFeatures),r.points.getPosition=O0,r.lines.data=i,r.lines._dataDiff=e.lineFeatures&&(()=>e.lineFeatures),r.lines.getPath=O0,r.polygons.data=o,r.polygons._dataDiff=e.polygonFeatures&&(()=>e.polygonFeatures),r.polygons.getPolygon=O0,r.polygonsOutline.data=s,r.polygonsOutline._dataDiff=e.polygonOutlineFeatures&&(()=>e.polygonOutlineFeatures),r.polygonsOutline.getPath=O0,r}function Tte(t,e){const r=ZB(),{points:n,lines:i,polygons:o}=t,s=Qee(t,e);return r.points.data={length:n.positions.value.length/n.positions.size,attributes:{...n.attributes,getPosition:n.positions,instancePickingColors:{size:4,value:s.points}},properties:n.properties,numericProps:n.numericProps,featureIds:n.featureIds},r.lines.data={length:i.pathIndices.value.length-1,startIndices:i.pathIndices.value,attributes:{...i.attributes,getPath:i.positions,instancePickingColors:{size:4,value:s.lines}},properties:i.properties,numericProps:i.numericProps,featureIds:i.featureIds},r.lines._pathType="open",r.polygons.data={length:o.polygonIndices.value.length-1,startIndices:o.polygonIndices.value,attributes:{...o.attributes,getPolygon:o.positions,pickingColors:{size:4,value:s.polygons}},properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},r.polygons._normalize=!1,o.triangles&&(r.polygons.data.attributes.indices=o.triangles.value),r.polygonsOutline.data={length:o.primitivePolygonIndices.value.length-1,startIndices:o.primitivePolygonIndices.value,attributes:{...o.attributes,getPath:o.positions,instancePickingColors:{size:4,value:s.polygons}},properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},r.polygonsOutline._pathType="open",r}const xte=["points","linestrings","polygons"],Pte={...RA(Ap.circle),...RA(Ap.icon),...RA(Ap.text),...RA(fp),...RA(d2),stroked:!0,filled:!0,extruded:!1,wireframe:!1,_full3d:!1,iconAtlas:{type:"object",value:null},iconMapping:{type:"object",value:{}},getIcon:{type:"accessor",value:t=>t.properties.icon},getText:{type:"accessor",value:t=>t.properties.text},pointType:"circle",getRadius:{deprecatedFor:"getPointRadius"}};class ME extends CB{initializeState(){this.state={layerProps:{},features:{},featuresDiff:{}}}updateState({props:e,changeFlags:r}){if(!r.dataChanged)return;const{data:n}=this.props,i=n&&"points"in n&&"polygons"in n&&"lines"in n;this.setState({binary:i}),i?this._updateStateBinary({props:e,changeFlags:r}):this._updateStateJSON({props:e,changeFlags:r})}_updateStateBinary({props:e,changeFlags:r}){const n=Tte(e.data,this.encodePickingColor);this.setState({layerProps:n})}_updateStateJSON({props:e,changeFlags:r}){const n=bte(e.data),i=this.getSubLayerRow.bind(this);let o={};const s={};if(Array.isArray(r.dataChanged)){const l=this.state.features;for(const A in l)o[A]=l[A].slice(),s[A]=[];for(const A of r.dataChanged){const p=pO(n,i,A);for(const g in l)s[g].push(Xee({data:o[g],getIndex:v=>v.__source.index,dataRange:A,replace:p[g]}))}}else o=pO(n,i);const a=Ete(o,s);this.setState({features:o,featuresDiff:s,layerProps:a})}getPickingInfo(e){const r=super.getPickingInfo(e),{index:n,sourceLayer:i}=r;return r.featureType=xte.find(o=>i.id.startsWith(`${this.id}-${o}-`)),n>=0&&i.id.startsWith(`${this.id}-points-text`)&&this.state.binary&&(r.index=this.props.data.points.globalFeatureIds.value[n]),r}_updateAutoHighlight(e){const r=`${this.id}-points-`,n=e.featureType==="points";for(const i of this.getSubLayers())i.id.startsWith(r)===n&&i.updateAutoHighlight(e)}_renderPolygonLayer(){var s;const{extruded:e,wireframe:r}=this.props,{layerProps:n}=this.state,i="polygons-fill",o=this.shouldRenderSubLayer(i,(s=n.polygons)==null?void 0:s.data)&&this.getSubLayerClass(i,d2.type);if(o){const a=X_(this,d2.props),l=e&&r;return l||delete a.getLineColor,a.updateTriggers.lineColors=l,new o(a,this.getSubLayerProps({id:i,updateTriggers:a.updateTriggers}),n.polygons)}return null}_renderLineLayers(){var l,A;const{extruded:e,stroked:r}=this.props,{layerProps:n}=this.state,i="polygons-stroke",o="linestrings",s=!e&&r&&this.shouldRenderSubLayer(i,(l=n.polygonsOutline)==null?void 0:l.data)&&this.getSubLayerClass(i,fp.type),a=this.shouldRenderSubLayer(o,(A=n.lines)==null?void 0:A.data)&&this.getSubLayerClass(o,fp.type);if(s||a){const p=X_(this,fp.props);return[s&&new s(p,this.getSubLayerProps({id:i,updateTriggers:p.updateTriggers}),n.polygonsOutline),a&&new a(p,this.getSubLayerProps({id:o,updateTriggers:p.updateTriggers}),n.lines)]}return null}_renderPointLayers(){var a;const{pointType:e}=this.props,{layerProps:r,binary:n}=this.state;let{highlightedObjectIndex:i}=this.props;!n&&Number.isFinite(i)&&(i=r.points.data.findIndex(l=>l.__source.index===i));const o=new Set(e.split("+")),s=[];for(const l of o){const A=`points-${l}`,p=Ap[l],g=p&&this.shouldRenderSubLayer(A,(a=r.points)==null?void 0:a.data)&&this.getSubLayerClass(A,p.type);if(g){const v=X_(this,p.props);let b=r.points;if(l==="text"&&n){const{instancePickingColors:S,...E}=b.data.attributes;b={...b,data:{...b.data,attributes:E}}}s.push(new g(v,this.getSubLayerProps({id:A,updateTriggers:v.updateTriggers,highlightedObjectIndex:i}),b))}}return s}renderLayers(){const{extruded:e}=this.props,r=this._renderPolygonLayer(),n=this._renderLineLayers(),i=this._renderPointLayers();return[!e&&r,n,i,e&&r]}getSubLayerAccessor(e){const{binary:r}=this.state;return!r||typeof e!="function"?super.getSubLayerAccessor(e):(n,i)=>{const{data:o,index:s}=i,a=Yee(o,s);return e(a,i)}}}ME.layerName="GeoJsonLayer";ME.defaultProps=Pte;const mO=ME;var cg=function(t){t=t||{};var e=typeof t<"u"?t:{},r={},n;for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);var i="";function o(Ae){return e.locateFile?e.locateFile(Ae,i):i+Ae}var s;typeof document<"u"&&document.currentScript&&(i=document.currentScript.src),i.indexOf("blob:")!==0?i=i.substr(0,i.lastIndexOf("/")+1):i="",s=function(we,Ne,Ye){var f=new XMLHttpRequest;f.open("GET",we,!0),f.responseType="arraybuffer",f.onload=function(){if(f.status==200||f.status==0&&f.response){Ne(f.response);return}var gt=rA(we);if(gt){Ne(gt.buffer);return}Ye()},f.onerror=Ye,f.send(null)};var a=e.print||console.log.bind(console),l=e.printErr||console.warn.bind(console);for(n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);r=null,e.arguments&&e.arguments;var A=0,p=function(Ae){A=Ae},g=function(){return A},v=8;function b(Ae,we,Ne,Ye){switch(Ne=Ne||"i8",Ne.charAt(Ne.length-1)==="*"&&(Ne="i32"),Ne){case"i1":Q[Ae>>0]=we;break;case"i8":Q[Ae>>0]=we;break;case"i16":ne[Ae>>1]=we;break;case"i32":J[Ae>>2]=we;break;case"i64":fs=[we>>>0,(Ri=we,+pt(Ri)>=1?Ri>0?(Ct(+Yt(Ri/4294967296),4294967295)|0)>>>0:~~+Ge((Ri-+(~~Ri>>>0))/4294967296)>>>0:0)],J[Ae>>2]=fs[0],J[Ae+4>>2]=fs[1];break;case"float":ue[Ae>>2]=we;break;case"double":pe[Ae>>3]=we;break;default:eo("invalid type for setValue: "+Ne)}}function S(Ae,we,Ne){switch(we=we||"i8",we.charAt(we.length-1)==="*"&&(we="i32"),we){case"i1":return Q[Ae>>0];case"i8":return Q[Ae>>0];case"i16":return ne[Ae>>1];case"i32":return J[Ae>>2];case"i64":return J[Ae>>2];case"float":return ue[Ae>>2];case"double":return pe[Ae>>3];default:eo("invalid type for getValue: "+we)}return null}var E=!1;function C(Ae,we){Ae||eo("Assertion failed: "+we)}function x(Ae){var we=e["_"+Ae];return C(we,"Cannot call unknown function "+Ae+", make sure it is exported"),we}function P(Ae,we,Ne,Ye,f){var j={string:function(nt){var On=0;if(nt!=null&&nt!==0){var Rl=(nt.length<<2)+1;On=Cd(Rl),$(nt,On,Rl)}return On},array:function(nt){var On=Cd(nt.length);return W(nt,On),On}};function gt(nt){return we==="string"?k(nt):we==="boolean"?!!nt:nt}var xt=x(Ae),gr=[],Ze=0;if(Ye)for(var At=0;At<Ye.length;At++){var Cn=j[Ne[At]];Cn?(Ze===0&&(Ze=Od()),gr[At]=Cn(Ye[At])):gr[At]=Ye[At]}var bt=xt.apply(null,gr);return bt=gt(bt),Ze!==0&&vv(Ze),bt}function T(Ae,we,Ne,Ye){Ne=Ne||[];var f=Ne.every(function(gt){return gt==="number"}),j=we!=="string";return j&&f&&!Ye?x(Ae):function(){return P(Ae,we,Ne,arguments)}}var M=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function R(Ae,we,Ne){for(var Ye=we+Ne,f=we;Ae[f]&&!(f>=Ye);)++f;if(f-we>16&&Ae.subarray&&M)return M.decode(Ae.subarray(we,f));for(var j="";we<f;){var gt=Ae[we++];if(!(gt&128)){j+=String.fromCharCode(gt);continue}var xt=Ae[we++]&63;if((gt&224)==192){j+=String.fromCharCode((gt&31)<<6|xt);continue}var gr=Ae[we++]&63;if((gt&240)==224?gt=(gt&15)<<12|xt<<6|gr:gt=(gt&7)<<18|xt<<12|gr<<6|Ae[we++]&63,gt<65536)j+=String.fromCharCode(gt);else{var Ze=gt-65536;j+=String.fromCharCode(55296|Ze>>10,56320|Ze&1023)}}return j}function k(Ae,we){return Ae?R(re,Ae,we):""}function D(Ae,we,Ne,Ye){if(!(Ye>0))return 0;for(var f=Ne,j=Ne+Ye-1,gt=0;gt<Ae.length;++gt){var xt=Ae.charCodeAt(gt);if(xt>=55296&&xt<=57343){var gr=Ae.charCodeAt(++gt);xt=65536+((xt&1023)<<10)|gr&1023}if(xt<=127){if(Ne>=j)break;we[Ne++]=xt}else if(xt<=2047){if(Ne+1>=j)break;we[Ne++]=192|xt>>6,we[Ne++]=128|xt&63}else if(xt<=65535){if(Ne+2>=j)break;we[Ne++]=224|xt>>12,we[Ne++]=128|xt>>6&63,we[Ne++]=128|xt&63}else{if(Ne+3>=j)break;we[Ne++]=240|xt>>18,we[Ne++]=128|xt>>12&63,we[Ne++]=128|xt>>6&63,we[Ne++]=128|xt&63}}return we[Ne]=0,Ne-f}function $(Ae,we,Ne){return D(Ae,re,we,Ne)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function W(Ae,we){Q.set(Ae,we)}function N(Ae,we){return Ae%we>0&&(Ae+=we-Ae%we),Ae}var H,Q,re,ne,J,ue,pe;function le(Ae){H=Ae,e.HEAP8=Q=new Int8Array(Ae),e.HEAP16=ne=new Int16Array(Ae),e.HEAP32=J=new Int32Array(Ae),e.HEAPU8=re=new Uint8Array(Ae),e.HEAPU16=new Uint16Array(Ae),e.HEAPU32=new Uint32Array(Ae),e.HEAPF32=ue=new Float32Array(Ae),e.HEAPF64=pe=new Float64Array(Ae)}var ge=5267040,Ee=24128,Te=e.TOTAL_MEMORY||33554432;e.buffer?H=e.buffer:H=new ArrayBuffer(Te),Te=H.byteLength,le(H),J[Ee>>2]=ge;function be(Ae){for(;Ae.length>0;){var we=Ae.shift();if(typeof we=="function"){we();continue}var Ne=we.func;typeof Ne=="number"?we.arg===void 0?e.dynCall_v(Ne):e.dynCall_vi(Ne,we.arg):Ne(we.arg===void 0?null:we.arg)}}var Me=[],He=[],it=[],Mt=[];function Et(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Ke(e.preRun.shift());be(Me)}function zt(){be(He)}function Oe(){be(it)}function We(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)Se(e.postRun.shift());be(Mt)}function Ke(Ae){Me.unshift(Ae)}function Se(Ae){Mt.unshift(Ae)}var pt=Math.abs,Ge=Math.ceil,Yt=Math.floor,Ct=Math.min,Dt=0,Yr=null;function Ci(Ae){Dt++,e.monitorRunDependencies&&e.monitorRunDependencies(Dt)}function Oi(Ae){if(Dt--,e.monitorRunDependencies&&e.monitorRunDependencies(Dt),Dt==0&&Yr){var we=Yr;Yr=null,we()}}e.preloadedImages={},e.preloadedAudios={};var Bt=null,jn="data:application/octet-stream;base64,";function As(Ae){return String.prototype.startsWith?Ae.startsWith(jn):Ae.indexOf(jn)===0}var Ri,fs;Bt="data:application/octet-stream;base64,AAAAAAAAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAAAQAAAAQAAAADAAAABgAAAAUAAAACAAAAAAAAAAIAAAADAAAAAQAAAAQAAAAGAAAAAAAAAAUAAAADAAAABgAAAAQAAAAFAAAAAAAAAAEAAAACAAAABAAAAAUAAAAGAAAAAAAAAAIAAAADAAAAAQAAAAUAAAACAAAAAAAAAAEAAAADAAAABgAAAAQAAAAGAAAAAAAAAAUAAAACAAAAAQAAAAQAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAAAAAAEAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAYAAAAAAAAABQAAAAAAAAAAAAAABAAAAAUAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAYAAAAAAAAAAwAAAAIAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAFAAAABAAAAAAAAAABAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABAAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAgAAAAQAAAADAAAACAAAAAEAAAAHAAAABgAAAAkAAAAAAAAAAwAAAAIAAAACAAAABgAAAAoAAAALAAAAAAAAAAEAAAAFAAAAAwAAAA0AAAABAAAABwAAAAQAAAAMAAAAAAAAAAQAAAB/AAAADwAAAAgAAAADAAAAAAAAAAwAAAAFAAAAAgAAABIAAAAKAAAACAAAAAAAAAAQAAAABgAAAA4AAAALAAAAEQAAAAEAAAAJAAAAAgAAAAcAAAAVAAAACQAAABMAAAADAAAADQAAAAEAAAAIAAAABQAAABYAAAAQAAAABAAAAAAAAAAPAAAACQAAABMAAAAOAAAAFAAAAAEAAAAHAAAABgAAAAoAAAALAAAAGAAAABcAAAAFAAAAAgAAABIAAAALAAAAEQAAABcAAAAZAAAAAgAAAAYAAAAKAAAADAAAABwAAAANAAAAGgAAAAQAAAAPAAAAAwAAAA0AAAAaAAAAFQAAAB0AAAADAAAADAAAAAcAAAAOAAAAfwAAABEAAAAbAAAACQAAABQAAAAGAAAADwAAABYAAAAcAAAAHwAAAAQAAAAIAAAADAAAABAAAAASAAAAIQAAAB4AAAAIAAAABQAAABYAAAARAAAACwAAAA4AAAAGAAAAIwAAABkAAAAbAAAAEgAAABgAAAAeAAAAIAAAAAUAAAAKAAAAEAAAABMAAAAiAAAAFAAAACQAAAAHAAAAFQAAAAkAAAAUAAAADgAAABMAAAAJAAAAKAAAABsAAAAkAAAAFQAAACYAAAATAAAAIgAAAA0AAAAdAAAABwAAABYAAAAQAAAAKQAAACEAAAAPAAAACAAAAB8AAAAXAAAAGAAAAAsAAAAKAAAAJwAAACUAAAAZAAAAGAAAAH8AAAAgAAAAJQAAAAoAAAAXAAAAEgAAABkAAAAXAAAAEQAAAAsAAAAtAAAAJwAAACMAAAAaAAAAKgAAAB0AAAArAAAADAAAABwAAAANAAAAGwAAACgAAAAjAAAALgAAAA4AAAAUAAAAEQAAABwAAAAfAAAAKgAAACwAAAAMAAAADwAAABoAAAAdAAAAKwAAACYAAAAvAAAADQAAABoAAAAVAAAAHgAAACAAAAAwAAAAMgAAABAAAAASAAAAIQAAAB8AAAApAAAALAAAADUAAAAPAAAAFgAAABwAAAAgAAAAHgAAABgAAAASAAAANAAAADIAAAAlAAAAIQAAAB4AAAAxAAAAMAAAABYAAAAQAAAAKQAAACIAAAATAAAAJgAAABUAAAA2AAAAJAAAADMAAAAjAAAALgAAAC0AAAA4AAAAEQAAABsAAAAZAAAAJAAAABQAAAAiAAAAEwAAADcAAAAoAAAANgAAACUAAAAnAAAANAAAADkAAAAYAAAAFwAAACAAAAAmAAAAfwAAACIAAAAzAAAAHQAAAC8AAAAVAAAAJwAAACUAAAAZAAAAFwAAADsAAAA5AAAALQAAACgAAAAbAAAAJAAAABQAAAA8AAAALgAAADcAAAApAAAAMQAAADUAAAA9AAAAFgAAACEAAAAfAAAAKgAAADoAAAArAAAAPgAAABwAAAAsAAAAGgAAACsAAAA+AAAALwAAAEAAAAAaAAAAKgAAAB0AAAAsAAAANQAAADoAAABBAAAAHAAAAB8AAAAqAAAALQAAACcAAAAjAAAAGQAAAD8AAAA7AAAAOAAAAC4AAAA8AAAAOAAAAEQAAAAbAAAAKAAAACMAAAAvAAAAJgAAACsAAAAdAAAARQAAADMAAABAAAAAMAAAADEAAAAeAAAAIQAAAEMAAABCAAAAMgAAADEAAAB/AAAAPQAAAEIAAAAhAAAAMAAAACkAAAAyAAAAMAAAACAAAAAeAAAARgAAAEMAAAA0AAAAMwAAAEUAAAA2AAAARwAAACYAAAAvAAAAIgAAADQAAAA5AAAARgAAAEoAAAAgAAAAJQAAADIAAAA1AAAAPQAAAEEAAABLAAAAHwAAACkAAAAsAAAANgAAAEcAAAA3AAAASQAAACIAAAAzAAAAJAAAADcAAAAoAAAANgAAACQAAABIAAAAPAAAAEkAAAA4AAAARAAAAD8AAABNAAAAIwAAAC4AAAAtAAAAOQAAADsAAABKAAAATgAAACUAAAAnAAAANAAAADoAAAB/AAAAPgAAAEwAAAAsAAAAQQAAACoAAAA7AAAAPwAAAE4AAABPAAAAJwAAAC0AAAA5AAAAPAAAAEgAAABEAAAAUAAAACgAAAA3AAAALgAAAD0AAAA1AAAAMQAAACkAAABRAAAASwAAAEIAAAA+AAAAKwAAADoAAAAqAAAAUgAAAEAAAABMAAAAPwAAAH8AAAA4AAAALQAAAE8AAAA7AAAATQAAAEAAAAAvAAAAPgAAACsAAABUAAAARQAAAFIAAABBAAAAOgAAADUAAAAsAAAAVgAAAEwAAABLAAAAQgAAAEMAAABRAAAAVQAAADEAAAAwAAAAPQAAAEMAAABCAAAAMgAAADAAAABXAAAAVQAAAEYAAABEAAAAOAAAADwAAAAuAAAAWgAAAE0AAABQAAAARQAAADMAAABAAAAALwAAAFkAAABHAAAAVAAAAEYAAABDAAAANAAAADIAAABTAAAAVwAAAEoAAABHAAAAWQAAAEkAAABbAAAAMwAAAEUAAAA2AAAASAAAAH8AAABJAAAANwAAAFAAAAA8AAAAWAAAAEkAAABbAAAASAAAAFgAAAA2AAAARwAAADcAAABKAAAATgAAAFMAAABcAAAANAAAADkAAABGAAAASwAAAEEAAAA9AAAANQAAAF4AAABWAAAAUQAAAEwAAABWAAAAUgAAAGAAAAA6AAAAQQAAAD4AAABNAAAAPwAAAEQAAAA4AAAAXQAAAE8AAABaAAAATgAAAEoAAAA7AAAAOQAAAF8AAABcAAAATwAAAE8AAABOAAAAPwAAADsAAABdAAAAXwAAAE0AAABQAAAARAAAAEgAAAA8AAAAYwAAAFoAAABYAAAAUQAAAFUAAABeAAAAZQAAAD0AAABCAAAASwAAAFIAAABgAAAAVAAAAGIAAAA+AAAATAAAAEAAAABTAAAAfwAAAEoAAABGAAAAZAAAAFcAAABcAAAAVAAAAEUAAABSAAAAQAAAAGEAAABZAAAAYgAAAFUAAABXAAAAZQAAAGYAAABCAAAAQwAAAFEAAABWAAAATAAAAEsAAABBAAAAaAAAAGAAAABeAAAAVwAAAFMAAABmAAAAZAAAAEMAAABGAAAAVQAAAFgAAABIAAAAWwAAAEkAAABjAAAAUAAAAGkAAABZAAAAYQAAAFsAAABnAAAARQAAAFQAAABHAAAAWgAAAE0AAABQAAAARAAAAGoAAABdAAAAYwAAAFsAAABJAAAAWQAAAEcAAABpAAAAWAAAAGcAAABcAAAAUwAAAE4AAABKAAAAbAAAAGQAAABfAAAAXQAAAE8AAABaAAAATQAAAG0AAABfAAAAagAAAF4AAABWAAAAUQAAAEsAAABrAAAAaAAAAGUAAABfAAAAXAAAAE8AAABOAAAAbQAAAGwAAABdAAAAYAAAAGgAAABiAAAAbgAAAEwAAABWAAAAUgAAAGEAAAB/AAAAYgAAAFQAAABnAAAAWQAAAG8AAABiAAAAbgAAAGEAAABvAAAAUgAAAGAAAABUAAAAYwAAAFAAAABpAAAAWAAAAGoAAABaAAAAcQAAAGQAAABmAAAAUwAAAFcAAABsAAAAcgAAAFwAAABlAAAAZgAAAGsAAABwAAAAUQAAAFUAAABeAAAAZgAAAGUAAABXAAAAVQAAAHIAAABwAAAAZAAAAGcAAABbAAAAYQAAAFkAAAB0AAAAaQAAAG8AAABoAAAAawAAAG4AAABzAAAAVgAAAF4AAABgAAAAaQAAAFgAAABnAAAAWwAAAHEAAABjAAAAdAAAAGoAAABdAAAAYwAAAFoAAAB1AAAAbQAAAHEAAABrAAAAfwAAAGUAAABeAAAAcwAAAGgAAABwAAAAbAAAAGQAAABfAAAAXAAAAHYAAAByAAAAbQAAAG0AAABsAAAAXQAAAF8AAAB1AAAAdgAAAGoAAABuAAAAYgAAAGgAAABgAAAAdwAAAG8AAABzAAAAbwAAAGEAAABuAAAAYgAAAHQAAABnAAAAdwAAAHAAAABrAAAAZgAAAGUAAAB4AAAAcwAAAHIAAABxAAAAYwAAAHQAAABpAAAAdQAAAGoAAAB5AAAAcgAAAHAAAABkAAAAZgAAAHYAAAB4AAAAbAAAAHMAAABuAAAAawAAAGgAAAB4AAAAdwAAAHAAAAB0AAAAZwAAAHcAAABvAAAAcQAAAGkAAAB5AAAAdQAAAH8AAABtAAAAdgAAAHEAAAB5AAAAagAAAHYAAAB4AAAAbAAAAHIAAAB1AAAAeQAAAG0AAAB3AAAAbwAAAHMAAABuAAAAeQAAAHQAAAB4AAAAeAAAAHMAAAByAAAAcAAAAHkAAAB3AAAAdgAAAHkAAAB0AAAAeAAAAHcAAAB1AAAAcQAAAHYAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAACAAAABQAAAAEAAAAAAAAA/////wEAAAAAAAAAAwAAAAQAAAACAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAUAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABAAAAAUAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAUAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAD//////////wEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAAAAAAAAAAABAAAAAgAAAAYAAAAEAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAAAAAAAAAAAAQAAAAEAAAAFAAAABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAAAAAAAAAAABAAAAAwAAAAcAAAAGAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADgAAAAIAAAAAAAAAAAAAAAEAAAAAAAAACQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAAAAAAAAAAAAAEAAAAEAAAACAAAAAoAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAAAAAAAAAAAAQAAAAsAAAAPAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAIAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAAAAAAAAAAAAQAAAAwAAAAQAAAADAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAAAAAAAAAAABAAAACgAAABMAAAAIAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAAAAAAAAAAAAAEAAAANAAAAEQAAAA0AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAACAAAAAAAAAAAAAAABAAAADgAAABIAAAAPAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAADwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABIAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAAAAAAAAQAAAP//////////EwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAASAAAAAAAAABgAAAAAAAAAIQAAAAAAAAAeAAAAAAAAACAAAAADAAAAMQAAAAEAAAAwAAAAAwAAADIAAAADAAAACAAAAAAAAAAFAAAABQAAAAoAAAAFAAAAFgAAAAAAAAAQAAAAAAAAABIAAAAAAAAAKQAAAAEAAAAhAAAAAAAAAB4AAAAAAAAABAAAAAAAAAAAAAAABQAAAAIAAAAFAAAADwAAAAEAAAAIAAAAAAAAAAUAAAAFAAAAHwAAAAEAAAAWAAAAAAAAABAAAAAAAAAAAgAAAAAAAAAGAAAAAAAAAA4AAAAAAAAACgAAAAAAAAALAAAAAAAAABEAAAADAAAAGAAAAAEAAAAXAAAAAwAAABkAAAADAAAAAAAAAAAAAAABAAAABQAAAAkAAAAFAAAABQAAAAAAAAACAAAAAAAAAAYAAAAAAAAAEgAAAAEAAAAKAAAAAAAAAAsAAAAAAAAABAAAAAEAAAADAAAABQAAAAcAAAAFAAAACAAAAAEAAAAAAAAAAAAAAAEAAAAFAAAAEAAAAAEAAAAFAAAAAAAAAAIAAAAAAAAABwAAAAAAAAAVAAAAAAAAACYAAAAAAAAACQAAAAAAAAATAAAAAAAAACIAAAADAAAADgAAAAEAAAAUAAAAAwAAACQAAAADAAAAAwAAAAAAAAANAAAABQAAAB0AAAAFAAAAAQAAAAAAAAAHAAAAAAAAABUAAAAAAAAABgAAAAEAAAAJAAAAAAAAABMAAAAAAAAABAAAAAIAAAAMAAAABQAAABoAAAAFAAAAAAAAAAEAAAADAAAAAAAAAA0AAAAFAAAAAgAAAAEAAAABAAAAAAAAAAcAAAAAAAAAGgAAAAAAAAAqAAAAAAAAADoAAAAAAAAAHQAAAAAAAAArAAAAAAAAAD4AAAADAAAAJgAAAAEAAAAvAAAAAwAAAEAAAAADAAAADAAAAAAAAAAcAAAABQAAACwAAAAFAAAADQAAAAAAAAAaAAAAAAAAACoAAAAAAAAAFQAAAAEAAAAdAAAAAAAAACsAAAAAAAAABAAAAAMAAAAPAAAABQAAAB8AAAAFAAAAAwAAAAEAAAAMAAAAAAAAABwAAAAFAAAABwAAAAEAAAANAAAAAAAAABoAAAAAAAAAHwAAAAAAAAApAAAAAAAAADEAAAAAAAAALAAAAAAAAAA1AAAAAAAAAD0AAAADAAAAOgAAAAEAAABBAAAAAwAAAEsAAAADAAAADwAAAAAAAAAWAAAABQAAACEAAAAFAAAAHAAAAAAAAAAfAAAAAAAAACkAAAAAAAAAKgAAAAEAAAAsAAAAAAAAADUAAAAAAAAABAAAAAQAAAAIAAAABQAAABAAAAAFAAAADAAAAAEAAAAPAAAAAAAAABYAAAAFAAAAGgAAAAEAAAAcAAAAAAAAAB8AAAAAAAAAMgAAAAAAAAAwAAAAAAAAADEAAAADAAAAIAAAAAAAAAAeAAAAAwAAACEAAAADAAAAGAAAAAMAAAASAAAAAwAAABAAAAADAAAARgAAAAAAAABDAAAAAAAAAEIAAAADAAAANAAAAAMAAAAyAAAAAAAAADAAAAAAAAAAJQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAUwAAAAAAAABXAAAAAwAAAFUAAAADAAAASgAAAAMAAABGAAAAAAAAAEMAAAAAAAAAOQAAAAEAAAA0AAAAAwAAADIAAAAAAAAAGQAAAAAAAAAXAAAAAAAAABgAAAADAAAAEQAAAAAAAAALAAAAAwAAAAoAAAADAAAADgAAAAMAAAAGAAAAAwAAAAIAAAADAAAALQAAAAAAAAAnAAAAAAAAACUAAAADAAAAIwAAAAMAAAAZAAAAAAAAABcAAAAAAAAAGwAAAAMAAAARAAAAAAAAAAsAAAADAAAAPwAAAAAAAAA7AAAAAwAAADkAAAADAAAAOAAAAAMAAAAtAAAAAAAAACcAAAAAAAAALgAAAAMAAAAjAAAAAwAAABkAAAAAAAAAJAAAAAAAAAAUAAAAAAAAAA4AAAADAAAAIgAAAAAAAAATAAAAAwAAAAkAAAADAAAAJgAAAAMAAAAVAAAAAwAAAAcAAAADAAAANwAAAAAAAAAoAAAAAAAAABsAAAADAAAANgAAAAMAAAAkAAAAAAAAABQAAAAAAAAAMwAAAAMAAAAiAAAAAAAAABMAAAADAAAASAAAAAAAAAA8AAAAAwAAAC4AAAADAAAASQAAAAMAAAA3AAAAAAAAACgAAAAAAAAARwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAQAAAAAAAAAAvAAAAAAAAACYAAAADAAAAPgAAAAAAAAArAAAAAwAAAB0AAAADAAAAOgAAAAMAAAAqAAAAAwAAABoAAAADAAAAVAAAAAAAAABFAAAAAAAAADMAAAADAAAAUgAAAAMAAABAAAAAAAAAAC8AAAAAAAAATAAAAAMAAAA+AAAAAAAAACsAAAADAAAAYQAAAAAAAABZAAAAAwAAAEcAAAADAAAAYgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAYAAAAAMAAABSAAAAAwAAAEAAAAAAAAAASwAAAAAAAABBAAAAAAAAADoAAAADAAAAPQAAAAAAAAA1AAAAAwAAACwAAAADAAAAMQAAAAMAAAApAAAAAwAAAB8AAAADAAAAXgAAAAAAAABWAAAAAAAAAEwAAAADAAAAUQAAAAMAAABLAAAAAAAAAEEAAAAAAAAAQgAAAAMAAAA9AAAAAAAAADUAAAADAAAAawAAAAAAAABoAAAAAwAAAGAAAAADAAAAZQAAAAMAAABeAAAAAAAAAFYAAAAAAAAAVQAAAAMAAABRAAAAAwAAAEsAAAAAAAAAOQAAAAAAAAA7AAAAAAAAAD8AAAADAAAASgAAAAAAAABOAAAAAwAAAE8AAAADAAAAUwAAAAMAAABcAAAAAwAAAF8AAAADAAAAJQAAAAAAAAAnAAAAAwAAAC0AAAADAAAANAAAAAAAAAA5AAAAAAAAADsAAAAAAAAARgAAAAMAAABKAAAAAAAAAE4AAAADAAAAGAAAAAAAAAAXAAAAAwAAABkAAAADAAAAIAAAAAMAAAAlAAAAAAAAACcAAAADAAAAMgAAAAMAAAA0AAAAAAAAADkAAAAAAAAALgAAAAAAAAA8AAAAAAAAAEgAAAADAAAAOAAAAAAAAABEAAAAAwAAAFAAAAADAAAAPwAAAAMAAABNAAAAAwAAAFoAAAADAAAAGwAAAAAAAAAoAAAAAwAAADcAAAADAAAAIwAAAAAAAAAuAAAAAAAAADwAAAAAAAAALQAAAAMAAAA4AAAAAAAAAEQAAAADAAAADgAAAAAAAAAUAAAAAwAAACQAAAADAAAAEQAAAAMAAAAbAAAAAAAAACgAAAADAAAAGQAAAAMAAAAjAAAAAAAAAC4AAAAAAAAARwAAAAAAAABZAAAAAAAAAGEAAAADAAAASQAAAAAAAABbAAAAAwAAAGcAAAADAAAASAAAAAMAAABYAAAAAwAAAGkAAAADAAAAMwAAAAAAAABFAAAAAwAAAFQAAAADAAAANgAAAAAAAABHAAAAAAAAAFkAAAAAAAAANwAAAAMAAABJAAAAAAAAAFsAAAADAAAAJgAAAAAAAAAvAAAAAwAAAEAAAAADAAAAIgAAAAMAAAAzAAAAAAAAAEUAAAADAAAAJAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAYAAAAAAAAABoAAAAAAAAAGsAAAADAAAAYgAAAAAAAABuAAAAAwAAAHMAAAADAAAAYQAAAAMAAABvAAAAAwAAAHcAAAADAAAATAAAAAAAAABWAAAAAwAAAF4AAAADAAAAUgAAAAAAAABgAAAAAAAAAGgAAAAAAAAAVAAAAAMAAABiAAAAAAAAAG4AAAADAAAAOgAAAAAAAABBAAAAAwAAAEsAAAADAAAAPgAAAAMAAABMAAAAAAAAAFYAAAADAAAAQAAAAAMAAABSAAAAAAAAAGAAAAAAAAAAVQAAAAAAAABXAAAAAAAAAFMAAAADAAAAZQAAAAAAAABmAAAAAwAAAGQAAAADAAAAawAAAAMAAABwAAAAAwAAAHIAAAADAAAAQgAAAAAAAABDAAAAAwAAAEYAAAADAAAAUQAAAAAAAABVAAAAAAAAAFcAAAAAAAAAXgAAAAMAAABlAAAAAAAAAGYAAAADAAAAMQAAAAAAAAAwAAAAAwAAADIAAAADAAAAPQAAAAMAAABCAAAAAAAAAEMAAAADAAAASwAAAAMAAABRAAAAAAAAAFUAAAAAAAAAXwAAAAAAAABcAAAAAAAAAFMAAAAAAAAATwAAAAAAAABOAAAAAAAAAEoAAAADAAAAPwAAAAEAAAA7AAAAAwAAADkAAAADAAAAbQAAAAAAAABsAAAAAAAAAGQAAAAFAAAAXQAAAAEAAABfAAAAAAAAAFwAAAAAAAAATQAAAAEAAABPAAAAAAAAAE4AAAAAAAAAdQAAAAQAAAB2AAAABQAAAHIAAAAFAAAAagAAAAEAAABtAAAAAAAAAGwAAAAAAAAAWgAAAAEAAABdAAAAAQAAAF8AAAAAAAAAWgAAAAAAAABNAAAAAAAAAD8AAAAAAAAAUAAAAAAAAABEAAAAAAAAADgAAAADAAAASAAAAAEAAAA8AAAAAwAAAC4AAAADAAAAagAAAAAAAABdAAAAAAAAAE8AAAAFAAAAYwAAAAEAAABaAAAAAAAAAE0AAAAAAAAAWAAAAAEAAABQAAAAAAAAAEQAAAAAAAAAdQAAAAMAAABtAAAABQAAAF8AAAAFAAAAcQAAAAEAAABqAAAAAAAAAF0AAAAAAAAAaQAAAAEAAABjAAAAAQAAAFoAAAAAAAAAaQAAAAAAAABYAAAAAAAAAEgAAAAAAAAAZwAAAAAAAABbAAAAAAAAAEkAAAADAAAAYQAAAAEAAABZAAAAAwAAAEcAAAADAAAAcQAAAAAAAABjAAAAAAAAAFAAAAAFAAAAdAAAAAEAAABpAAAAAAAAAFgAAAAAAAAAbwAAAAEAAABnAAAAAAAAAFsAAAAAAAAAdQAAAAIAAABqAAAABQAAAFoAAAAFAAAAeQAAAAEAAABxAAAAAAAAAGMAAAAAAAAAdwAAAAEAAAB0AAAAAQAAAGkAAAAAAAAAdwAAAAAAAABvAAAAAAAAAGEAAAAAAAAAcwAAAAAAAABuAAAAAAAAAGIAAAADAAAAawAAAAEAAABoAAAAAwAAAGAAAAADAAAAeQAAAAAAAAB0AAAAAAAAAGcAAAAFAAAAeAAAAAEAAAB3AAAAAAAAAG8AAAAAAAAAcAAAAAEAAABzAAAAAAAAAG4AAAAAAAAAdQAAAAEAAABxAAAABQAAAGkAAAAFAAAAdgAAAAEAAAB5AAAAAAAAAHQAAAAAAAAAcgAAAAEAAAB4AAAAAQAAAHcAAAAAAAAAcgAAAAAAAABwAAAAAAAAAGsAAAAAAAAAZAAAAAAAAABmAAAAAAAAAGUAAAADAAAAUwAAAAEAAABXAAAAAwAAAFUAAAADAAAAdgAAAAAAAAB4AAAAAAAAAHMAAAAFAAAAbAAAAAEAAAByAAAAAAAAAHAAAAAAAAAAXAAAAAEAAABkAAAAAAAAAGYAAAAAAAAAdQAAAAAAAAB5AAAABQAAAHcAAAAFAAAAbQAAAAEAAAB2AAAAAAAAAHgAAAAAAAAAXwAAAAEAAABsAAAAAQAAAHIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAGAAAAAgAAAAUAAAABAAAABAAAAAAAAAAAAAAABQAAAAMAAAABAAAABgAAAAQAAAACAAAAAAAAAH6iBfbytuk/Gq6akm/58z/Xrm0Liez0P5doSdOpSwRAWs602ULg8D/dT7Rcbo/1v1N1RQHFNOM/g9Snx7HW3L8HWsP8Q3jfP6VwOLosutk/9rjk1YQcxj+gnmKMsNn6P/HDeuPFY+M/YHwDjqKhB0Ci19/fCVrbP4UxKkDWOP6/pvljWa09tL9wi7wrQXjnv/Z6yLImkM2/3yTlOzY14D+m+WNZrT20PzwKVQnrQwNA9nrIsiaQzT/g40rFrRQFwPa45NWEHMa/kbslHEZq97/xw3rjxWPjv4cLC2SMBci/otff3wla27+rKF5oIAv0P1N1RQHFNOO/iDJPGyWHBUAHWsP8Q3jfvwQf/by16gXAfqIF9vK26b8XrO0Vh0r+v9eubQuJ7PS/BxLrA0ZZ479azrTZQuDwv1MK1EuItPw/yscgV9Z6FkAwHBR2WjQMQJNRzXsQ5vY/GlUHVJYKF0DONuFv2lMNQNCGZ28QJfk/0WUwoIL36D8ggDOMQuATQNqMOeAy/wZAWFYOYM+M2z/LWC4uH3oSQDE+LyTsMgRAkJzhRGWFGEDd4soovCQQQKqk0DJMEP8/rGmNdwOLBUAW2X/9xCbjP4hu3dcqJhNAzuYItRvdB0CgzW3zJW/sPxotm/Y2TxRAQAk9XmdDDEC1Kx9MKgT3P1M+NctcghZAFVqcLlb0C0Bgzd3sB2b2P77mZDPUWhZAFROHJpUGCEDAfma5CxXtPz1DWq/zYxRAmhYY5824F0DOuQKWSbAOQNCMqrvu3fs/L6DR22K2wT9nAAxPBU8RQGiN6mW43AFAZhu25b633D8c1YgmzowSQNM25BRKWARArGS08/lNxD+LFssHwmMRQLC5aNcxBgJABL9HT0WRF0CjCmJmOGEOQHsuaVzMP/s/TWJCaGGwBUCeu1PAPLzjP9nqN9DZOBNAKE4JcydbCkCGtbd1qjPzP8dgm9U8jhVAtPeKTkVwDkCeCLss5l37P401XMPLmBdAFd29VMVQDUBg0yA55h75Pz6odcYLCRdApBM4rBrkAkDyAVWgQxbRP4XDMnK20hFAymLlF7EmzD8GUgo9XBHlP3lbK7T9COc/k+OhPthhy7+YGEpnrOvCPzBFhLs15u4/epbqB6H4uz9IuuLF5svev6lzLKY31es/CaQ0envF5z8ZY0xlUADXv7zaz7HYEuI/CfbK1sn16T8uAQfWwxLWPzKn/YuFN94/5KdbC1AFu793fyCSnlfvPzK2y4doAMY/NRg5t1/X6b/shq4QJaHDP5yNIAKPOeI/vpn7BSE30r/X4YQrO6nrv78Ziv/Thto/DqJ1Y6+y5z9l51NaxFrlv8QlA65HOLS/86dxiEc96z+Hj0+LFjneP6LzBZ8LTc2/DaJ1Y6+y579l51NaxFrlP8QlA65HOLQ/8qdxiEc967+Jj0+LFjnev6LzBZ8LTc0/1qdbC1AFuz93fyCSnlfvvzK2y4doAMa/NRg5t1/X6T/vhq4QJaHDv5yNIAKPOeK/wJn7BSE30j/W4YQrO6nrP78Ziv/Thtq/CaQ0envF578XY0xlUADXP7zaz7HYEuK/CvbK1sn16b8rAQfWwxLWvzKn/YuFN96/zWLlF7EmzL8GUgo9XBHlv3lbK7T9COe/kOOhPthhyz+cGEpnrOvCvzBFhLs15u6/c5bqB6H4u79IuuLF5sveP6lzLKY31eu/AQAAAP////8HAAAA/////zEAAAD/////VwEAAP////9hCQAA/////6dBAAD/////kcsBAP/////3kAwA/////8H2VwAAAAAAAAAAAAAAAAACAAAA/////w4AAAD/////YgAAAP////+uAgAA/////8ISAAD/////ToMAAP////8ilwMA/////+4hGQD/////gu2vAAAAAAAAAAAAAAAAAAAAAAACAAAA//////////8BAAAAAwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////AgAAAP//////////AQAAAAAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD/////////////////////AQAAAP///////////////wIAAAD///////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP///////////////////////////////wIAAAD///////////////8BAAAA/////////////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAABAAAA//////////8CAAAA//////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAAAQAAAP//////////AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAACAAAAAAAAAAIAAAABAAAAAQAAAAIAAAACAAAAAAAAAAUAAAAFAAAAAAAAAAIAAAACAAAAAwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAEAAAACAAAAAgAAAAIAAAAAAAAABQAAAAYAAAAAAAAAAgAAAAIAAAADAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAAAAAACAAAAAQAAAAMAAAACAAAAAgAAAAAAAAAFAAAABwAAAAAAAAACAAAAAgAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACAAAAAAAAAAIAAAABAAAABAAAAAIAAAACAAAAAAAAAAUAAAAIAAAAAAAAAAIAAAACAAAAAwAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAIAAAAAAAAAAgAAAAEAAAAAAAAAAgAAAAIAAAAAAAAABQAAAAkAAAAAAAAAAgAAAAIAAAADAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAIAAAAAAAAAAwAAAA4AAAACAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAgAAAAMAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAgAAAAAAAAADAAAACgAAAAIAAAAAAAAAAgAAAAMAAAABAAAAAAAAAAIAAAACAAAAAwAAAAcAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAACAAAAAAAAAAMAAAALAAAAAgAAAAAAAAACAAAAAwAAAAIAAAAAAAAAAgAAAAIAAAADAAAACAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAIAAAAAAAAAAwAAAAwAAAACAAAAAAAAAAIAAAADAAAAAwAAAAAAAAACAAAAAgAAAAMAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAACAAAAAgAAAAAAAAADAAAADQAAAAIAAAAAAAAAAgAAAAMAAAAEAAAAAAAAAAIAAAACAAAAAwAAAAoAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAACAAAAAAAAAAMAAAAGAAAAAgAAAAAAAAACAAAAAwAAAA8AAAAAAAAAAgAAAAIAAAADAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAIAAAAAAAAAAwAAAAcAAAACAAAAAAAAAAIAAAADAAAAEAAAAAAAAAACAAAAAgAAAAMAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAgAAAAAAAAADAAAACAAAAAIAAAAAAAAAAgAAAAMAAAARAAAAAAAAAAIAAAACAAAAAwAAAA0AAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAACAAAAAAAAAAMAAAAJAAAAAgAAAAAAAAACAAAAAwAAABIAAAAAAAAAAgAAAAIAAAADAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAgAAAAIAAAAAAAAAAwAAAAUAAAACAAAAAAAAAAIAAAADAAAAEwAAAAAAAAACAAAAAgAAAAMAAAAPAAAAAAAAAAAAAAAAAAAAAAAAABAAAAACAAAAAAAAAAIAAAABAAAAEwAAAAIAAAACAAAAAAAAAAUAAAAKAAAAAAAAAAIAAAACAAAAAwAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAIAAAAAAAAAAgAAAAEAAAAPAAAAAgAAAAIAAAAAAAAABQAAAAsAAAAAAAAAAgAAAAIAAAADAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAgAAAAAAAAACAAAAAQAAABAAAAACAAAAAgAAAAAAAAAFAAAADAAAAAAAAAACAAAAAgAAAAMAAAASAAAAAAAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAIAAAABAAAAEQAAAAIAAAACAAAAAAAAAAUAAAANAAAAAAAAAAIAAAACAAAAAwAAABMAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAIAAAAAAAAAAgAAAAEAAAASAAAAAgAAAAIAAAAAAAAABQAAAA4AAAAAAAAAAgAAAAIAAAADAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAAAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAOgehWlKfUEEz1zLi+JsiQa2og3wcMfVAWCbHorc0yEDi+Yn/Y6mbQJ11/mfsnG9At6bnG4UQQkBvMCQWKqUUQJVmwwswmOc/3hVgVBL3uj//qqOEOdGOPw/WDN4gnGE/H3ANkCUgND+AA8btKgAHPwTXBqJVSdo+XfRQAqsKrj4fc+zLYbSPQklEmCZHv2FCUP+uDso1NEKYtPhwphUHQptxnyFXYdpB7CddZAMmrkGAt1AxSTqBQUibBVdTsFNBSuX3MV+AJkFocv82SLf5QAqmgj7AY81A23VDSEnLoEDGEJVSeDFzQDYrqvBk70VA8U157pcRGUBWfEF+ZKbsP7KBdLHZTpFAqKYk69AqekDbeGY41MdjQD8AZzHK501A1vcrrjubNkD5LnquvBYhQCbiRRD71QlAqt72EbOH8z8Eu+jL1YbdP4uaox/xUcY/abedg1XfsD+BsUdzJ4KZP5wE9YFySIM/rW1kAKMpbT+rZFthVRhWPy4PKlXIs0A/qMZLlwDnMEHByqEF0I0ZQQYSFD8lUQNBPpY+dFs07UAH8BZImBPWQN9RY0I0sMBA2T7kLfc6qUByFYvfhBKTQMq+0Mis1XxA0XQbeQXMZUBJJ5aEGXpQQP7/SY0a6ThAaMD92b/UIkAs8s8yqXoMQNIegOvCk/U/aOi7NZJP4D8AAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAD/////AAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAA/////wAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAP////8AAAAABQAAAAAAAAAAAAAAAAAAAAAAAAD/////BQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAABAAAAAAAAAAUAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAEAAQAAAQEAAAAAAAEAAAABAAAAAQABAAAAAAAAAAAAAAAAAAAAAAcAAAAHAAAAAQAAAAIAAAAEAAAAAwAAAAAAAAAAAAAABwAAAAMAAAABAAAAAgAAAAUAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAGAAAAAgAAAAMAAAAFAAAABAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAwAAAAEAAAAFAAAABAAAAAAAAAAAAAAABwAAAAUAAAADAAAABAAAAAEAAAAAAAAAAgAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAAGFsZ29zLmMAaDNOZWlnaGJvclJvdGF0aW9ucwBjb29yZGlqay5jAF91cEFwN0NoZWNrZWQAX3VwQXA3ckNoZWNrZWQAZGlyZWN0ZWRFZGdlLmMAZGlyZWN0ZWRFZGdlVG9Cb3VuZGFyeQBhZGphY2VudEZhY2VEaXJbdG1wRmlqay5mYWNlXVtmaWprLmZhY2VdID09IEtJAGZhY2VpamsuYwBfZmFjZUlqa1BlbnRUb0NlbGxCb3VuZGFyeQBhZGphY2VudEZhY2VEaXJbY2VudGVySUpLLmZhY2VdW2ZhY2UyXSA9PSBLSQBfZmFjZUlqa1RvQ2VsbEJvdW5kYXJ5AGgzSW5kZXguYwBjb21wYWN0Q2VsbHMAbGF0TG5nVG9DZWxsAGNlbGxUb0NoaWxkUG9zAHZhbGlkYXRlQ2hpbGRQb3MAbGF0TG5nLmMAY2VsbEFyZWFSYWRzMgBwb2x5Z29uLT5uZXh0ID09IE5VTEwAbGlua2VkR2VvLmMAYWRkTmV3TGlua2VkUG9seWdvbgBuZXh0ICE9IE5VTEwAbG9vcCAhPSBOVUxMAGFkZE5ld0xpbmtlZExvb3AAcG9seWdvbi0+Zmlyc3QgPT0gTlVMTABhZGRMaW5rZWRMb29wAGNvb3JkICE9IE5VTEwAYWRkTGlua2VkQ29vcmQAbG9vcC0+Zmlyc3QgPT0gTlVMTABpbm5lckxvb3BzICE9IE5VTEwAbm9ybWFsaXplTXVsdGlQb2x5Z29uAGJib3hlcyAhPSBOVUxMAGNhbmRpZGF0ZXMgIT0gTlVMTABmaW5kUG9seWdvbkZvckhvbGUAY2FuZGlkYXRlQkJveGVzICE9IE5VTEwAcmV2RGlyICE9IElOVkFMSURfRElHSVQAbG9jYWxpai5jAGNlbGxUb0xvY2FsSWprAGJhc2VDZWxsICE9IG9yaWdpbkJhc2VDZWxsACEob3JpZ2luT25QZW50ICYmIGluZGV4T25QZW50KQBiYXNlQ2VsbCA9PSBvcmlnaW5CYXNlQ2VsbABiYXNlQ2VsbCAhPSBJTlZBTElEX0JBU0VfQ0VMTABsb2NhbElqa1RvQ2VsbAAhX2lzQmFzZUNlbGxQZW50YWdvbihiYXNlQ2VsbCkAYmFzZUNlbGxSb3RhdGlvbnMgPj0gMABncmlkUGF0aENlbGxzADAAdmVydGV4LmMAY2VsbFRvVmVydGV4AGdyYXBoLT5idWNrZXRzICE9IE5VTEwAdmVydGV4R3JhcGguYwBpbml0VmVydGV4R3JhcGgAbm9kZSAhPSBOVUxMAGFkZFZlcnRleE5vZGU=";var fv=24144;function Sd(Ae){return Ae}function eA(Ae){var we=/\b__Z[\w\d_]+/g;return Ae.replace(we,function(Ne){var Ye=Ne;return Ne===Ye?Ne:Ye+" ["+Ne+"]"})}function tA(){var Ae=new Error;if(!Ae.stack){try{throw new Error(0)}catch(we){Ae=we}if(!Ae.stack)return"(no stack trace available)"}return Ae.stack.toString()}function Ed(){var Ae=tA();return e.extraStackTrace&&(Ae+=`
`+e.extraStackTrace()),eA(Ae)}function xl(Ae,we,Ne,Ye){eo("Assertion failed: "+k(Ae)+", at: "+[we?k(we):"unknown filename",Ne,Ye?k(Ye):"unknown function"])}function Pl(){return Q.length}function hv(Ae,we,Ne){re.set(re.subarray(we,we+Ne),Ae)}function dv(Ae){return e.___errno_location&&(J[e.___errno_location()>>2]=Ae),Ae}function pv(Ae){eo("OOM")}function Td(Ae){try{var we=new ArrayBuffer(Ae);return we.byteLength!=Ae?void 0:(new Int8Array(we).set(Q),yv(we),le(we),1)}catch{}}function gv(Ae){var we=Pl(),Ne=16777216,Ye=2147483648-Ne;if(Ae>Ye)return!1;for(var f=16777216,j=Math.max(we,f);j<Ae;)j<=536870912?j=N(2*j,Ne):j=Math.min(N((3*j+2147483648)/4,Ne),Ye);var gt=Td(j);return!!gt}var Cl=typeof atob=="function"?atob:function(Ae){var we="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ne="",Ye,f,j,gt,xt,gr,Ze,At=0;Ae=Ae.replace(/[^A-Za-z0-9\+\/\=]/g,"");do gt=we.indexOf(Ae.charAt(At++)),xt=we.indexOf(Ae.charAt(At++)),gr=we.indexOf(Ae.charAt(At++)),Ze=we.indexOf(Ae.charAt(At++)),Ye=gt<<2|xt>>4,f=(xt&15)<<4|gr>>2,j=(gr&3)<<6|Ze,Ne=Ne+String.fromCharCode(Ye),gr!==64&&(Ne=Ne+String.fromCharCode(f)),Ze!==64&&(Ne=Ne+String.fromCharCode(j));while(At<Ae.length);return Ne};function mv(Ae){try{for(var we=Cl(Ae),Ne=new Uint8Array(we.length),Ye=0;Ye<we.length;++Ye)Ne[Ye]=we.charCodeAt(Ye);return Ne}catch{throw new Error("Converting base64 string to bytes failed.")}}function rA(Ae){if(As(Ae))return mv(Ae.slice(jn.length))}var xd={Math,Int8Array,Int32Array,Uint8Array,Float32Array,Float64Array},Pd={a:eo,b:p,c:g,d:xl,e:dv,f:Pl,g:hv,h:gv,i:pv,j:Sd,k:eA,l:Td,m:tA,n:Ed,o:fv,p:Ee},Ce=function(Ae,we,Ne){"almost asm";var Ye=new Ae.Int8Array(Ne),f=new Ae.Int32Array(Ne);new Ae.Uint8Array(Ne),new Ae.Float32Array(Ne);var j=new Ae.Float64Array(Ne),gt=we.o|0,xt=we.p|0,gr=Ae.Math.floor,Ze=Ae.Math.abs,At=Ae.Math.sqrt,Cn=Ae.Math.pow,bt=Ae.Math.cos,nt=Ae.Math.sin,On=Ae.Math.tan,Rl=Ae.Math.acos,Ml=Ae.Math.asin,nn=Ae.Math.atan,Nr=Ae.Math.atan2,vn=Ae.Math.ceil,Tr=Ae.Math.imul,Mo=Ae.Math.min,oi=Ae.Math.max,Kr=Ae.Math.clz32,ot=we.b,X=we.c,Xe=we.d,Rn=we.e,kl=we.f,oA=we.g,sA=we.h,aA=we.i,U=24160;function Il(c){return Ye=new Int8Array(c),f=new Int32Array(c),j=new Float64Array(c),Ne=c,!0}function Mi(c){c=c|0;var u=0;return u=U,U=U+c|0,U=U+15&-16,u|0}function _v(){return U|0}function kd(c){c=c|0,U=c}function lA(c,u){c=c|0,U=c}function Id(c,u){c=c|0,u=u|0;var h=0,d=0,m=0;return(c|0)<0?(u=2,u|0):(c|0)>13780509?(u=Nv(15,u)|0,u|0):(h=((c|0)<0)<<31>>31,m=an(c|0,h|0,3,0)|0,d=X()|0,h=ht(c|0,h|0,1,0)|0,h=an(m|0,d|0,h|0,X()|0)|0,h=ht(h|0,X()|0,1,0)|0,c=X()|0,f[u>>2]=h,f[u+4>>2]=c,u=0,u|0)}function Nd(c,u,h,d){return c=c|0,u=u|0,h=h|0,d=d|0,Dd(c,u,h,d,0)|0}function Dd(c,u,h,d,m){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0;var y=0,_=0,w=0,O=0,I=0;if(O=U,U=U+16|0,_=O,!(L(c,u,h,d,m)|0))return d=0,U=O,d|0;do if((h|0)>=0){if((h|0)>13780509){if(y=Nv(15,_)|0,y|0)break;w=_,_=f[w>>2]|0,w=f[w+4>>2]|0}else y=((h|0)<0)<<31>>31,I=an(h|0,y|0,3,0)|0,w=X()|0,y=ht(h|0,y|0,1,0)|0,y=an(I|0,w|0,y|0,X()|0)|0,y=ht(y|0,X()|0,1,0)|0,w=X()|0,f[_>>2]=y,f[_+4>>2]=w,_=y;if(ba(d|0,0,_<<3|0)|0,m|0){ba(m|0,0,_<<2|0)|0,y=z(c,u,h,d,m,_,w,0)|0;break}y=ro(_,4)|0,y?(I=z(c,u,h,d,y,_,w,0)|0,Je(y),y=I):y=13}else y=2;while(0);return I=y,U=O,I|0}function L(c,u,h,d,m){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0;var y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0,ae=0;if(ae=U,U=U+16|0,ee=ae,q=ae+8|0,Z=ee,f[Z>>2]=c,f[Z+4>>2]=u,(h|0)<0)return q=2,U=ae,q|0;if(y=d,f[y>>2]=c,f[y+4>>2]=u,y=(m|0)!=0,y&&(f[m>>2]=0),Jt(c,u)|0)return q=9,U=ae,q|0;f[q>>2]=0;e:do if((h|0)>=1)if(y)for(B=1,I=0,V=0,Z=1,y=c;;){if(!(I|V)){if(y=G(y,u,4,q,ee)|0,y|0)break e;if(u=ee,y=f[u>>2]|0,u=f[u+4>>2]|0,Jt(y,u)|0){y=9;break e}}if(y=G(y,u,f[22384+(V<<2)>>2]|0,q,ee)|0,y|0)break e;if(u=ee,y=f[u>>2]|0,u=f[u+4>>2]|0,c=d+(B<<3)|0,f[c>>2]=y,f[c+4>>2]=u,f[m+(B<<2)>>2]=Z,c=I+1|0,_=(c|0)==(Z|0),w=V+1|0,O=(w|0)==6,Jt(y,u)|0){y=9;break e}if(Z=Z+(O&_&1)|0,(Z|0)>(h|0)){y=0;break}else B=B+1|0,I=_?0:c,V=_?O?0:w:V}else for(B=1,I=0,V=0,Z=1,y=c;;){if(!(I|V)){if(y=G(y,u,4,q,ee)|0,y|0)break e;if(u=ee,y=f[u>>2]|0,u=f[u+4>>2]|0,Jt(y,u)|0){y=9;break e}}if(y=G(y,u,f[22384+(V<<2)>>2]|0,q,ee)|0,y|0)break e;if(u=ee,y=f[u>>2]|0,u=f[u+4>>2]|0,c=d+(B<<3)|0,f[c>>2]=y,f[c+4>>2]=u,c=I+1|0,_=(c|0)==(Z|0),w=V+1|0,O=(w|0)==6,Jt(y,u)|0){y=9;break e}if(Z=Z+(O&_&1)|0,(Z|0)>(h|0)){y=0;break}else B=B+1|0,I=_?0:c,V=_?O?0:w:V}else y=0;while(0);return q=y,U=ae,q|0}function z(c,u,h,d,m,y,_,w){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0,y=y|0,_=_|0,w=w|0;var O=0,I=0,B=0,V=0,Z=0,ee=0,q=0,ae=0,ye=0,me=0;if(ae=U,U=U+16|0,ee=ae+8|0,q=ae,O=Fl(c|0,u|0,y|0,_|0)|0,B=X()|0,V=d+(O<<3)|0,ye=V,me=f[ye>>2]|0,ye=f[ye+4>>2]|0,I=(me|0)==(c|0)&(ye|0)==(u|0),!((me|0)==0&(ye|0)==0|I))do O=ht(O|0,B|0,1,0)|0,O=jd(O|0,X()|0,y|0,_|0)|0,B=X()|0,V=d+(O<<3)|0,me=V,ye=f[me>>2]|0,me=f[me+4>>2]|0,I=(ye|0)==(c|0)&(me|0)==(u|0);while(!((ye|0)==0&(me|0)==0|I));if(O=m+(O<<2)|0,I&&(f[O>>2]|0)<=(w|0)||(me=V,f[me>>2]=c,f[me+4>>2]=u,f[O>>2]=w,(w|0)>=(h|0)))return me=0,U=ae,me|0;switch(I=w+1|0,f[ee>>2]=0,O=G(c,u,2,ee,q)|0,O|0){case 9:{Z=9;break}case 0:{O=q,O=z(f[O>>2]|0,f[O+4>>2]|0,h,d,m,y,_,I)|0,O||(Z=9);break}}e:do if((Z|0)==9){switch(f[ee>>2]=0,O=G(c,u,3,ee,q)|0,O|0){case 9:break;case 0:{if(O=q,O=z(f[O>>2]|0,f[O+4>>2]|0,h,d,m,y,_,I)|0,O|0)break e;break}default:break e}switch(f[ee>>2]=0,O=G(c,u,1,ee,q)|0,O|0){case 9:break;case 0:{if(O=q,O=z(f[O>>2]|0,f[O+4>>2]|0,h,d,m,y,_,I)|0,O|0)break e;break}default:break e}switch(f[ee>>2]=0,O=G(c,u,5,ee,q)|0,O|0){case 9:break;case 0:{if(O=q,O=z(f[O>>2]|0,f[O+4>>2]|0,h,d,m,y,_,I)|0,O|0)break e;break}default:break e}switch(f[ee>>2]=0,O=G(c,u,4,ee,q)|0,O|0){case 9:break;case 0:{if(O=q,O=z(f[O>>2]|0,f[O+4>>2]|0,h,d,m,y,_,I)|0,O|0)break e;break}default:break e}switch(f[ee>>2]=0,O=G(c,u,6,ee,q)|0,O|0){case 9:break;case 0:{if(O=q,O=z(f[O>>2]|0,f[O+4>>2]|0,h,d,m,y,_,I)|0,O|0)break e;break}default:break e}return me=0,U=ae,me|0}while(0);return me=O,U=ae,me|0}function G(c,u,h,d,m){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0;var y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0;if(h>>>0>6)return m=1,m|0;if(V=(f[d>>2]|0)%6|0,f[d>>2]=V,(V|0)>0){y=0;do h=ya(h)|0,y=y+1|0;while((y|0)<(f[d>>2]|0))}if(V=Pe(c|0,u|0,45)|0,X()|0,B=V&127,B>>>0>121)return m=5,m|0;O=Mn(c,u)|0,y=Pe(c|0,u|0,52)|0,X()|0,y=y&15;e:do if(!y)I=8;else{for(;;){if(_=(15-y|0)*3|0,w=Pe(c|0,u|0,_|0)|0,X()|0,w=w&7,(w|0)==7){u=5;break}if(q=(si(y)|0)==0,y=y+-1|0,Z=De(7,0,_|0)|0,u=u&~(X()|0),ee=De(f[(q?432:16)+(w*28|0)+(h<<2)>>2]|0,0,_|0)|0,_=X()|0,h=f[(q?640:224)+(w*28|0)+(h<<2)>>2]|0,c=ee|c&~Z,u=_|u,!h){h=0;break e}if(!y){I=8;break e}}return u|0}while(0);(I|0)==8&&(q=f[848+(B*28|0)+(h<<2)>>2]|0,ee=De(q|0,0,45)|0,c=ee|c,u=X()|0|u&-1040385,h=f[4272+(B*28|0)+(h<<2)>>2]|0,(q&127|0)==127&&(q=De(f[848+(B*28|0)+20>>2]|0,0,45)|0,u=X()|0|u&-1040385,h=f[4272+(B*28|0)+20>>2]|0,c=va(q|c,u)|0,u=X()|0,f[d>>2]=(f[d>>2]|0)+1)),w=Pe(c|0,u|0,45)|0,X()|0,w=w&127;e:do if(mt(w)|0){t:do if((Mn(c,u)|0)==1){if((B|0)!=(w|0))if(nx(w,f[7696+(B*28|0)>>2]|0)|0){c=Mv(c,u)|0,_=1,u=X()|0;break}else Xe(23313,22416,436,22424);switch(O|0){case 3:{c=va(c,u)|0,u=X()|0,f[d>>2]=(f[d>>2]|0)+1,_=0;break t}case 5:{c=Mv(c,u)|0,u=X()|0,f[d>>2]=(f[d>>2]|0)+5,_=0;break t}case 0:return q=9,q|0;default:return q=1,q|0}}else _=0;while(0);if((h|0)>0){y=0;do c=Rv(c,u)|0,u=X()|0,y=y+1|0;while((y|0)!=(h|0))}if((B|0)!=(w|0)){if(!(bv(w)|0)){if((_|0)!=0|(Mn(c,u)|0)!=5)break;f[d>>2]=(f[d>>2]|0)+1;break}switch(V&127){case 8:case 118:break e}(Mn(c,u)|0)!=3&&(f[d>>2]=(f[d>>2]|0)+1)}}else if((h|0)>0){y=0;do c=va(c,u)|0,u=X()|0,y=y+1|0;while((y|0)!=(h|0))}while(0);return f[d>>2]=((f[d>>2]|0)+h|0)%6|0,q=m,f[q>>2]=c,f[q+4>>2]=u,q=0,q|0}function de(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0,_=0,w=0,O=0,I=0;for(w=U,U=U+16|0,y=w,_=w+8|0,m=(Jt(c,u)|0)==0,m=m?1:2;;){if(f[_>>2]=0,I=(G(c,u,m,_,y)|0)==0,O=y,I&((f[O>>2]|0)==(h|0)?(f[O+4>>2]|0)==(d|0):0)){c=4;break}if(m=m+1|0,m>>>0>=7){m=7,c=4;break}}return(c|0)==4?(U=w,m|0):0}function xe(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0;if(q=U,U=U+16|0,Z=q,ee=q+8|0,V=Z,f[V>>2]=c,f[V+4>>2]=u,!h)return ee=d,f[ee>>2]=c,f[ee+4>>2]=u,ee=0,U=q,ee|0;f[ee>>2]=0;e:do if(Jt(c,u)|0)c=9;else{if(y=(h|0)>0,y){m=0,V=c;do{if(c=G(V,u,4,ee,Z)|0,c|0)break e;if(u=Z,V=f[u>>2]|0,u=f[u+4>>2]|0,m=m+1|0,Jt(V,u)|0){c=9;break e}}while((m|0)<(h|0));if(B=d,f[B>>2]=V,f[B+4>>2]=u,B=h+-1|0,y){I=0,c=1;do{if(m=22384+(I<<2)|0,(I|0)==5)for(_=f[m>>2]|0,y=0,m=c;;){if(c=Z,c=G(f[c>>2]|0,f[c+4>>2]|0,_,ee,Z)|0,c|0)break e;if((y|0)!=(B|0))if(O=Z,w=f[O>>2]|0,O=f[O+4>>2]|0,c=d+(m<<3)|0,f[c>>2]=w,f[c+4>>2]=O,!(Jt(w,O)|0))c=m+1|0;else{c=9;break e}else c=m;if(y=y+1|0,(y|0)>=(h|0))break;m=c}else for(_=Z,O=f[m>>2]|0,w=0,m=c,y=f[_>>2]|0,_=f[_+4>>2]|0;;){if(c=G(y,_,O,ee,Z)|0,c|0)break e;if(_=Z,y=f[_>>2]|0,_=f[_+4>>2]|0,c=d+(m<<3)|0,f[c>>2]=y,f[c+4>>2]=_,c=m+1|0,Jt(y,_)|0){c=9;break e}if(w=w+1|0,(w|0)>=(h|0))break;m=c}I=I+1|0}while(I>>>0<6);c=Z,_=V,m=f[c>>2]|0,y=u,c=f[c+4>>2]|0}else _=V,m=V,y=u,c=u}else _=d,f[_>>2]=c,f[_+4>>2]=u,_=c,m=c,y=u,c=u;c=(_|0)==(m|0)&(y|0)==(c|0)?0:9}while(0);return ee=c,U=q,ee|0}function $e(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0,_=0,w=0,O=0,I=0;if(w=U,U=U+48|0,m=w+16|0,y=w+8|0,_=w,h|0)return _=15,U=w,_|0;if(I=c,O=f[I+4>>2]|0,h=y,f[h>>2]=f[I>>2],f[h+4>>2]=O,xx(y,m),u=sx(m,u,_)|0,!u){if(h=f[y>>2]|0,y=f[c+8>>2]|0,(y|0)>0){m=f[c+12>>2]|0,u=0;do h=(f[m+(u<<3)>>2]|0)+h|0,u=u+1|0;while((u|0)<(y|0))}u=_,m=f[u>>2]|0,u=f[u+4>>2]|0,y=((h|0)<0)<<31>>31,(u|0)<(y|0)|(u|0)==(y|0)&m>>>0<h>>>0?(u=_,f[u>>2]=h,f[u+4>>2]=y,u=y):h=m,O=ht(h|0,u|0,12,0)|0,I=X()|0,u=_,f[u>>2]=O,f[u+4>>2]=I,u=d,f[u>>2]=O,f[u+4>>2]=I,u=0}return I=u,U=w,I|0}function ft(c,u,h,d,m,y,_){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0,y=y|0,_=_|0;var w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0,ae=0,ye=0,me=0,fe=0,he=0,se=0,Be=0,Ue=0,Ie=0,Fe=0,kt=0,wt=0,Tt=0,at=0,st=0,lt=0,$t=0,et=0,Kt=0,bn=0,Fx=0;if($t=U,U=U+64|0,Tt=$t+48|0,at=$t+32|0,st=$t+24|0,Be=$t+8|0,Ue=$t,O=f[c>>2]|0,(O|0)<=0)return lt=0,U=$t,lt|0;for(Ie=c+4|0,Fe=Tt+8|0,kt=at+8|0,wt=Be+8|0,w=0,he=0;;){I=f[Ie>>2]|0,fe=I+(he<<4)|0,f[Tt>>2]=f[fe>>2],f[Tt+4>>2]=f[fe+4>>2],f[Tt+8>>2]=f[fe+8>>2],f[Tt+12>>2]=f[fe+12>>2],(he|0)==(O+-1|0)?(f[at>>2]=f[I>>2],f[at+4>>2]=f[I+4>>2],f[at+8>>2]=f[I+8>>2],f[at+12>>2]=f[I+12>>2]):(fe=I+(he+1<<4)|0,f[at>>2]=f[fe>>2],f[at+4>>2]=f[fe+4>>2],f[at+8>>2]=f[fe+8>>2],f[at+12>>2]=f[fe+12>>2]),O=y$(Tt,at,d,st)|0;e:do if(O)I=0,w=O;else if(I=st,O=f[I>>2]|0,I=f[I+4>>2]|0,(I|0)>0|(I|0)==0&O>>>0>0){me=0,fe=0;t:for(;;){if(Fx=+j[Tt>>3],ye=sn(O|0,I|0,me|0,fe|0)|0,bn=+(ye>>>0)+4294967296*+(X()|0),et=+(O>>>0)+4294967296*+(I|0),Kt=+(me>>>0)+4294967296*+(fe|0),j[Be>>3]=Fx*bn/et+ +j[at>>3]*Kt/et,j[wt>>3]=+j[Fe>>3]*bn/et+ +j[kt>>3]*Kt/et,O=mx(Be,d,Ue)|0,O|0){w=O;break}ye=Ue,ae=f[ye>>2]|0,ye=f[ye+4>>2]|0,Z=Fl(ae|0,ye|0,u|0,h|0)|0,B=X()|0,O=_+(Z<<3)|0,V=O,I=f[V>>2]|0,V=f[V+4>>2]|0;r:do if((I|0)==0&(V|0)==0)se=O,lt=16;else for(ee=0,q=0;;){if((ee|0)>(h|0)|(ee|0)==(h|0)&q>>>0>u>>>0){w=1;break t}if((I|0)==(ae|0)&(V|0)==(ye|0))break r;if(O=ht(Z|0,B|0,1,0)|0,Z=jd(O|0,X()|0,u|0,h|0)|0,B=X()|0,q=ht(q|0,ee|0,1,0)|0,ee=X()|0,O=_+(Z<<3)|0,V=O,I=f[V>>2]|0,V=f[V+4>>2]|0,(I|0)==0&(V|0)==0){se=O,lt=16;break}}while(0);if((lt|0)==16&&(lt=0,!((ae|0)==0&(ye|0)==0))&&(q=se,f[q>>2]=ae,f[q+4>>2]=ye,q=y+(f[m>>2]<<3)|0,f[q>>2]=ae,f[q+4>>2]=ye,q=m,q=ht(f[q>>2]|0,f[q+4>>2]|0,1,0)|0,ae=X()|0,ye=m,f[ye>>2]=q,f[ye+4>>2]=ae),me=ht(me|0,fe|0,1,0)|0,fe=X()|0,I=st,O=f[I>>2]|0,I=f[I+4>>2]|0,!((I|0)>(fe|0)|(I|0)==(fe|0)&O>>>0>me>>>0)){I=1;break e}}I=0}else I=1;while(0);if(he=he+1|0,!I){lt=21;break}if(O=f[c>>2]|0,(he|0)>=(O|0)){w=0,lt=21;break}}return(lt|0)==21?(U=$t,w|0):0}function xr(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0,ae=0,ye=0,me=0,fe=0,he=0,se=0,Be=0,Ue=0,Ie=0,Fe=0,kt=0,wt=0,Tt=0,at=0,st=0,lt=0,$t=0,et=0,Kt=0,bn=0;if(bn=U,U=U+112|0,lt=bn+80|0,O=bn+72|0,$t=bn,et=bn+56|0,h|0)return Kt=15,U=bn,Kt|0;if(I=c+8|0,Kt=to((f[I>>2]<<5)+32|0)|0,!Kt)return Kt=13,U=bn,Kt|0;if(_U(c,Kt),at=c,st=f[at+4>>2]|0,h=O,f[h>>2]=f[at>>2],f[h+4>>2]=st,xx(O,lt),h=sx(lt,u,$t)|0,h)at=0,st=0;else{if(h=f[O>>2]|0,y=f[I>>2]|0,(y|0)>0){_=f[c+12>>2]|0,m=0;do h=(f[_+(m<<3)>>2]|0)+h|0,m=m+1|0;while((m|0)!=(y|0));m=h}else m=h;h=$t,y=f[h>>2]|0,h=f[h+4>>2]|0,_=((m|0)<0)<<31>>31,(h|0)<(_|0)|(h|0)==(_|0)&y>>>0<m>>>0?(h=$t,f[h>>2]=m,f[h+4>>2]=_,h=_):m=y,at=ht(m|0,h|0,12,0)|0,st=X()|0,h=$t,f[h>>2]=at,f[h+4>>2]=st,h=0}if(h|0)return Je(Kt),Kt=h,U=bn,Kt|0;if(m=ro(at,8)|0,!m)return Je(Kt),Kt=13,U=bn,Kt|0;if(w=ro(at,8)|0,!w)return Je(Kt),Je(m),Kt=13,U=bn,Kt|0;wt=lt,f[wt>>2]=0,f[wt+4>>2]=0,wt=c,Tt=f[wt+4>>2]|0,h=O,f[h>>2]=f[wt>>2],f[h+4>>2]=Tt,h=ft(O,at,st,u,lt,m,w)|0;e:do if(h)Je(m),Je(w),Je(Kt);else{t:do if((f[I>>2]|0)>0){for(_=c+12|0,y=0;h=ft((f[_>>2]|0)+(y<<3)|0,at,st,u,lt,m,w)|0,y=y+1|0,!(h|0);)if((y|0)>=(f[I>>2]|0))break t;Je(m),Je(w),Je(Kt);break e}while(0);(st|0)>0|(st|0)==0&at>>>0>0&&ba(w|0,0,at<<3|0)|0,Tt=lt,wt=f[Tt+4>>2]|0;t:do if((wt|0)>0|(wt|0)==0&(f[Tt>>2]|0)>>>0>0){Ie=m,Fe=w,kt=m,wt=w,Tt=m,h=m,se=m,Be=w,Ue=w,m=w;r:for(;;){for(ye=0,me=0,fe=0,he=0,y=0,_=0;;){w=$t,O=w+56|0;do f[w>>2]=0,w=w+4|0;while((w|0)<(O|0));if(u=Ie+(ye<<3)|0,I=f[u>>2]|0,u=f[u+4>>2]|0,L(I,u,1,$t,0)|0){w=$t,O=w+56|0;do f[w>>2]=0,w=w+4|0;while((w|0)<(O|0));w=ro(7,4)|0,w|0&&(z(I,u,1,$t,w,7,0,0)|0,Je(w))}for(ae=0;;){q=$t+(ae<<3)|0,ee=f[q>>2]|0,q=f[q+4>>2]|0;n:do if((ee|0)==0&(q|0)==0)w=y,O=_;else{if(B=Fl(ee|0,q|0,at|0,st|0)|0,I=X()|0,w=d+(B<<3)|0,u=w,O=f[u>>2]|0,u=f[u+4>>2]|0,!((O|0)==0&(u|0)==0)){V=0,Z=0;do{if((V|0)>(st|0)|(V|0)==(st|0)&Z>>>0>at>>>0)break r;if((O|0)==(ee|0)&(u|0)==(q|0)){w=y,O=_;break n}w=ht(B|0,I|0,1,0)|0,B=jd(w|0,X()|0,at|0,st|0)|0,I=X()|0,Z=ht(Z|0,V|0,1,0)|0,V=X()|0,w=d+(B<<3)|0,u=w,O=f[u>>2]|0,u=f[u+4>>2]|0}while(!((O|0)==0&(u|0)==0))}(ee|0)==0&(q|0)==0?(w=y,O=_):(cA(ee,q,et)|0,bU(c,Kt,et)|0&&(Z=ht(y|0,_|0,1,0)|0,_=X()|0,V=w,f[V>>2]=ee,f[V+4>>2]=q,y=Fe+(y<<3)|0,f[y>>2]=ee,f[y+4>>2]=q,y=Z),w=y,O=_)}while(0);if(ae=ae+1|0,ae>>>0>=7)break;y=w,_=O}if(ye=ht(ye|0,me|0,1,0)|0,me=X()|0,fe=ht(fe|0,he|0,1,0)|0,he=X()|0,_=lt,y=f[_>>2]|0,_=f[_+4>>2]|0,(he|0)<(_|0)|(he|0)==(_|0)&fe>>>0<y>>>0)y=w,_=O;else break}if((_|0)>0|(_|0)==0&y>>>0>0){y=0,_=0;do he=Ie+(y<<3)|0,f[he>>2]=0,f[he+4>>2]=0,y=ht(y|0,_|0,1,0)|0,_=X()|0,he=lt,fe=f[he+4>>2]|0;while((_|0)<(fe|0)|((_|0)==(fe|0)?y>>>0<(f[he>>2]|0)>>>0:0))}if(he=lt,f[he>>2]=w,f[he+4>>2]=O,(O|0)>0|(O|0)==0&w>>>0>0)ae=m,ye=Ue,me=Tt,fe=Be,he=Fe,m=se,Ue=h,Be=kt,se=ae,h=ye,Tt=wt,wt=me,kt=fe,Fe=Ie,Ie=he;else break t}Je(kt),Je(wt),Je(Kt),h=1;break e}else h=w;while(0);Je(Kt),Je(m),Je(h),h=0}while(0);return Kt=h,U=bn,Kt|0}function Dr(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0,w=0,O=0,I=0,B=0;if(B=U,U=U+176|0,O=B,(u|0)<1)return Ox(h,0,0),I=0,U=B,I|0;for(w=c,w=Pe(f[w>>2]|0,f[w+4>>2]|0,52)|0,X()|0,Ox(h,(u|0)>6?u:6,w&15),w=0;d=c+(w<<3)|0,d=AA(f[d>>2]|0,f[d+4>>2]|0,O)|0,!(d|0);){if(d=f[O>>2]|0,(d|0)>0){_=0;do y=O+8+(_<<4)|0,_=_+1|0,d=O+8+(((_|0)%(d|0)|0)<<4)|0,m=FU(h,d,y)|0,m?kx(h,m)|0:BU(h,y,d)|0,d=f[O>>2]|0;while((_|0)<(d|0))}if(w=w+1|0,(w|0)>=(u|0)){d=0,I=13;break}}return(I|0)==13?(U=B,d|0):(Rx(h),I=d,U=B,I|0)}function Qr(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0;if(y=U,U=U+32|0,d=y,m=y+16|0,c=Dr(c,u,m)|0,c|0)return h=c,U=y,h|0;if(f[h>>2]=0,f[h+4>>2]=0,f[h+8>>2]=0,c=Mx(m)|0,c|0)do{u=fU(h)|0;do hU(u,c)|0,_=c+16|0,f[d>>2]=f[_>>2],f[d+4>>2]=f[_+4>>2],f[d+8>>2]=f[_+8>>2],f[d+12>>2]=f[_+12>>2],kx(m,c)|0,c=LU(m,d)|0;while(c|0);c=Mx(m)|0}while(c|0);return Rx(m),c=dU(h)|0,c?(wx(h),_=c,U=y,_|0):(_=0,U=y,_|0)}function mt(c){return c=c|0,c>>>0>121?(c=0,c|0):(c=f[7696+(c*28|0)+16>>2]|0,c|0)}function bv(c){return c=c|0,(c|0)==4|(c|0)==117|0}function rx(c){return c=c|0,f[11120+((f[c>>2]|0)*216|0)+((f[c+4>>2]|0)*72|0)+((f[c+8>>2]|0)*24|0)+(f[c+12>>2]<<3)>>2]|0}function h$(c){return c=c|0,f[11120+((f[c>>2]|0)*216|0)+((f[c+4>>2]|0)*72|0)+((f[c+8>>2]|0)*24|0)+(f[c+12>>2]<<3)+4>>2]|0}function d$(c,u){c=c|0,u=u|0,c=7696+(c*28|0)|0,f[u>>2]=f[c>>2],f[u+4>>2]=f[c+4>>2],f[u+8>>2]=f[c+8>>2],f[u+12>>2]=f[c+12>>2]}function p$(c,u){c=c|0,u=u|0;var h=0,d=0;if(u>>>0>20)return u=-1,u|0;do if((f[11120+(u*216|0)>>2]|0)!=(c|0))if((f[11120+(u*216|0)+8>>2]|0)!=(c|0))if((f[11120+(u*216|0)+16>>2]|0)!=(c|0))if((f[11120+(u*216|0)+24>>2]|0)!=(c|0))if((f[11120+(u*216|0)+32>>2]|0)!=(c|0))if((f[11120+(u*216|0)+40>>2]|0)!=(c|0))if((f[11120+(u*216|0)+48>>2]|0)!=(c|0))if((f[11120+(u*216|0)+56>>2]|0)!=(c|0))if((f[11120+(u*216|0)+64>>2]|0)!=(c|0))if((f[11120+(u*216|0)+72>>2]|0)!=(c|0))if((f[11120+(u*216|0)+80>>2]|0)!=(c|0))if((f[11120+(u*216|0)+88>>2]|0)!=(c|0))if((f[11120+(u*216|0)+96>>2]|0)!=(c|0))if((f[11120+(u*216|0)+104>>2]|0)!=(c|0))if((f[11120+(u*216|0)+112>>2]|0)!=(c|0))if((f[11120+(u*216|0)+120>>2]|0)!=(c|0))if((f[11120+(u*216|0)+128>>2]|0)!=(c|0))if((f[11120+(u*216|0)+136>>2]|0)==(c|0))c=2,h=1,d=2;else{if((f[11120+(u*216|0)+144>>2]|0)==(c|0)){c=0,h=2,d=0;break}if((f[11120+(u*216|0)+152>>2]|0)==(c|0)){c=0,h=2,d=1;break}if((f[11120+(u*216|0)+160>>2]|0)==(c|0)){c=0,h=2,d=2;break}if((f[11120+(u*216|0)+168>>2]|0)==(c|0)){c=1,h=2,d=0;break}if((f[11120+(u*216|0)+176>>2]|0)==(c|0)){c=1,h=2,d=1;break}if((f[11120+(u*216|0)+184>>2]|0)==(c|0)){c=1,h=2,d=2;break}if((f[11120+(u*216|0)+192>>2]|0)==(c|0)){c=2,h=2,d=0;break}if((f[11120+(u*216|0)+200>>2]|0)==(c|0)){c=2,h=2,d=1;break}if((f[11120+(u*216|0)+208>>2]|0)==(c|0)){c=2,h=2,d=2;break}else c=-1;return c|0}else c=2,h=1,d=1;else c=2,h=1,d=0;else c=1,h=1,d=2;else c=1,h=1,d=1;else c=1,h=1,d=0;else c=0,h=1,d=2;else c=0,h=1,d=1;else c=0,h=1,d=0;else c=2,h=0,d=2;else c=2,h=0,d=1;else c=2,h=0,d=0;else c=1,h=0,d=2;else c=1,h=0,d=1;else c=1,h=0,d=0;else c=0,h=0,d=2;else c=0,h=0,d=1;else c=0,h=0,d=0;while(0);return u=f[11120+(u*216|0)+(h*72|0)+(c*24|0)+(d<<3)+4>>2]|0,u|0}function nx(c,u){return c=c|0,u=u|0,(f[7696+(c*28|0)+20>>2]|0)==(u|0)?(u=1,u|0):(u=(f[7696+(c*28|0)+24>>2]|0)==(u|0),u|0)}function wv(c,u){return c=c|0,u=u|0,f[848+(c*28|0)+(u<<2)>>2]|0}function Sv(c,u){return c=c|0,u=u|0,(f[848+(c*28|0)>>2]|0)==(u|0)?(u=0,u|0):(f[848+(c*28|0)+4>>2]|0)==(u|0)?(u=1,u|0):(f[848+(c*28|0)+8>>2]|0)==(u|0)?(u=2,u|0):(f[848+(c*28|0)+12>>2]|0)==(u|0)?(u=3,u|0):(f[848+(c*28|0)+16>>2]|0)==(u|0)?(u=4,u|0):(f[848+(c*28|0)+20>>2]|0)==(u|0)?(u=5,u|0):((f[848+(c*28|0)+24>>2]|0)==(u|0)?6:7)|0}function g$(){return 122}function m$(c){c=c|0;var u=0,h=0,d=0;u=0;do De(u|0,0,45)|0,d=X()|0|134225919,h=c+(u<<3)|0,f[h>>2]=-1,f[h+4>>2]=d,u=u+1|0;while((u|0)!=122);return 0}function ix(c){return c=c|0,+j[c+16>>3]<+j[c+24>>3]|0}function ox(c,u){c=c|0,u=u|0;var h=0,d=0,m=0;return h=+j[u>>3],!(h>=+j[c+8>>3])||!(h<=+j[c>>3])?(u=0,u|0):(d=+j[c+16>>3],h=+j[c+24>>3],m=+j[u+8>>3],u=m>=h,c=m<=d&1,d<h?u&&(c=1):u||(c=0),u=(c|0)!=0,u|0)}function sx(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0,ae=0,ye=0;q=U,U=U+288|0,B=q+264|0,V=q+96|0,I=q,w=I,O=w+96|0;do f[w>>2]=0,w=w+4|0;while((w|0)<(O|0));return u=Iv(u,I)|0,u|0?(ee=u,U=q,ee|0):(O=I,I=f[O>>2]|0,O=f[O+4>>2]|0,cA(I,O,B)|0,AA(I,O,V)|0,_=+hA(B,V+8|0),j[B>>3]=+j[c>>3],O=B+8|0,j[O>>3]=+j[c+16>>3],j[V>>3]=+j[c+8>>3],I=V+8|0,j[I>>3]=+j[c+24>>3],m=+hA(B,V),ye=+j[O>>3]-+j[I>>3],y=+Ze(+ye),ae=+j[B>>3]-+j[V>>3],d=+Ze(+ae),!(ye==0|ae==0)&&(ye=+Dx(+y,+d),ye=+vn(+(m*m/+Fv(+(ye/+Fv(+y,+d)),3)/(_*(_*2.59807621135)*.8))),j[gt>>3]=ye,Z=~~ye>>>0,ee=+Ze(ye)>=1?ye>0?~~+Mo(+gr(ye/4294967296),4294967295)>>>0:~~+vn((ye-+(~~ye>>>0))/4294967296)>>>0:0,(f[gt+4>>2]&2146435072|0)!=2146435072)?(V=(Z|0)==0&(ee|0)==0,u=h,f[u>>2]=V?1:Z,f[u+4>>2]=V?0:ee,u=0):u=1,ee=u,U=q,ee|0)}function y$(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0,_=0,w=0,O=0,I=0,B=0;I=U,U=U+288|0,_=I+264|0,w=I+96|0,O=I,m=O,y=m+96|0;do f[m>>2]=0,m=m+4|0;while((m|0)<(y|0));return h=Iv(h,O)|0,h|0?(d=h,U=I,d|0):(h=O,m=f[h>>2]|0,h=f[h+4>>2]|0,cA(m,h,_)|0,AA(m,h,w)|0,B=+hA(_,w+8|0),B=+vn(+(+hA(c,u)/(B*2))),j[gt>>3]=B,h=~~B>>>0,m=+Ze(B)>=1?B>0?~~+Mo(+gr(B/4294967296),4294967295)>>>0:~~+vn((B-+(~~B>>>0))/4294967296)>>>0:0,(f[gt+4>>2]&2146435072|0)==2146435072?(d=1,U=I,d|0):(O=(h|0)==0&(m|0)==0,f[d>>2]=O?1:h,f[d+4>>2]=O?0:m,d=0,U=I,d|0))}function v$(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0,f[c>>2]=u,f[c+4>>2]=h,f[c+8>>2]=d}function _$(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0;V=u+8|0,f[V>>2]=0,O=+j[c>>3],_=+Ze(+O),I=+j[c+8>>3],w=+Ze(+I)/.8660254037844386,_=_+w*.5,h=~~_,c=~~w,_=_-+(h|0),w=w-+(c|0);do if(_<.5)if(_<.3333333333333333)if(f[u>>2]=h,w<(_+1)*.5){f[u+4>>2]=c;break}else{c=c+1|0,f[u+4>>2]=c;break}else if(Z=1-_,c=(!(w<Z)&1)+c|0,f[u+4>>2]=c,Z<=w&w<_*2){h=h+1|0,f[u>>2]=h;break}else{f[u>>2]=h;break}else{if(!(_<.6666666666666666))if(h=h+1|0,f[u>>2]=h,w<_*.5){f[u+4>>2]=c;break}else{c=c+1|0,f[u+4>>2]=c;break}if(w<1-_){if(f[u+4>>2]=c,_*2+-1<w){f[u>>2]=h;break}}else c=c+1|0,f[u+4>>2]=c;h=h+1|0,f[u>>2]=h}while(0);do if(O<0)if(c&1){B=(c+1|0)/2|0,B=sn(h|0,((h|0)<0)<<31>>31|0,B|0,((B|0)<0)<<31>>31|0)|0,h=~~(+(h|0)-((+(B>>>0)+4294967296*+(X()|0))*2+1)),f[u>>2]=h;break}else{B=(c|0)/2|0,B=sn(h|0,((h|0)<0)<<31>>31|0,B|0,((B|0)<0)<<31>>31|0)|0,h=~~(+(h|0)-(+(B>>>0)+4294967296*+(X()|0))*2),f[u>>2]=h;break}while(0);B=u+4|0,I<0&&(h=h-((c<<1|1|0)/2|0)|0,f[u>>2]=h,c=0-c|0,f[B>>2]=c),d=c-h|0,(h|0)<0?(m=0-h|0,f[B>>2]=d,f[V>>2]=m,f[u>>2]=0,c=d,h=0):m=0,(c|0)<0&&(h=h-c|0,f[u>>2]=h,m=m-c|0,f[V>>2]=m,f[B>>2]=0,c=0),y=h-m|0,d=c-m|0,(m|0)<0&&(f[u>>2]=y,f[B>>2]=d,f[V>>2]=0,c=d,h=y,m=0),d=(c|0)<(h|0)?c:h,d=(m|0)<(d|0)?m:d,!((d|0)<=0)&&(f[u>>2]=h-d,f[B>>2]=c-d,f[V>>2]=m-d)}function on(c){c=c|0;var u=0,h=0,d=0,m=0,y=0,_=0;u=f[c>>2]|0,_=c+4|0,h=f[_>>2]|0,(u|0)<0&&(h=h-u|0,f[_>>2]=h,y=c+8|0,f[y>>2]=(f[y>>2]|0)-u,f[c>>2]=0,u=0),(h|0)<0?(u=u-h|0,f[c>>2]=u,y=c+8|0,m=(f[y>>2]|0)-h|0,f[y>>2]=m,f[_>>2]=0,h=0):(m=c+8|0,y=m,m=f[m>>2]|0),(m|0)<0&&(u=u-m|0,f[c>>2]=u,h=h-m|0,f[_>>2]=h,f[y>>2]=0,m=0),d=(h|0)<(u|0)?h:u,d=(m|0)<(d|0)?m:d,!((d|0)<=0)&&(f[c>>2]=u-d,f[_>>2]=h-d,f[y>>2]=m-d)}function ga(c,u){c=c|0,u=u|0;var h=0,d=0;d=f[c+8>>2]|0,h=+((f[c+4>>2]|0)-d|0),j[u>>3]=+((f[c>>2]|0)-d|0)-h*.5,j[u+8>>3]=h*.8660254037844386}function _n(c,u,h){c=c|0,u=u|0,h=h|0,f[h>>2]=(f[u>>2]|0)+(f[c>>2]|0),f[h+4>>2]=(f[u+4>>2]|0)+(f[c+4>>2]|0),f[h+8>>2]=(f[u+8>>2]|0)+(f[c+8>>2]|0)}function Ev(c,u,h){c=c|0,u=u|0,h=h|0,f[h>>2]=(f[c>>2]|0)-(f[u>>2]|0),f[h+4>>2]=(f[c+4>>2]|0)-(f[u+4>>2]|0),f[h+8>>2]=(f[c+8>>2]|0)-(f[u+8>>2]|0)}function ax(c,u){c=c|0,u=u|0;var h=0,d=0;h=Tr(f[c>>2]|0,u)|0,f[c>>2]=h,h=c+4|0,d=Tr(f[h>>2]|0,u)|0,f[h>>2]=d,c=c+8|0,u=Tr(f[c>>2]|0,u)|0,f[c>>2]=u}function Bd(c){c=c|0;var u=0,h=0,d=0,m=0,y=0,_=0,w=0;_=f[c>>2]|0,w=(_|0)<0,d=(f[c+4>>2]|0)-(w?_:0)|0,y=(d|0)<0,m=(y?0-d|0:0)+((f[c+8>>2]|0)-(w?_:0))|0,h=(m|0)<0,c=h?0:m,u=(y?0:d)-(h?m:0)|0,m=(w?0:_)-(y?d:0)-(h?m:0)|0,h=(u|0)<(m|0)?u:m,h=(c|0)<(h|0)?c:h,d=(h|0)>0,c=c-(d?h:0)|0,u=u-(d?h:0)|0;e:do switch(m-(d?h:0)|0){case 0:switch(u|0){case 0:return w=c|0?(c|0)==1?1:7:0,w|0;case 1:return w=c|0?(c|0)==1?3:7:2,w|0;default:break e}case 1:switch(u|0){case 0:return w=c|0?(c|0)==1?5:7:4,w|0;case 1:{if(!c)c=6;else break e;return c|0}default:break e}}while(0);return w=7,w|0}function b$(c){c=c|0;var u=0,h=0,d=0,m=0,y=0,_=0,w=0;_=c+8|0,m=f[_>>2]|0,y=(f[c>>2]|0)-m|0,w=c+4|0,m=(f[w>>2]|0)-m|0;do if(y>>>0>715827881|m>>>0>715827881){if(h=(y|0)>0,h){if((2147483647-y|0)<(y|0)||(2147483647-(y<<1)|0)<(y|0))return w=1,w|0}else if((-2147483648-y|0)>(y|0)||(-2147483648-(y<<1)|0)>(y|0))return w=1,w|0;if(u=y*3|0,(m|0)>0){if((2147483647-m|0)<(m|0))return w=1,w|0}else if((-2147483648-m|0)>(m|0))return w=1,w|0;if(d=m<<1,(y|0)>-1){if((u|-2147483648|0)>=(m|0))return w=1,w|0}else if((u^-2147483648|0)<(m|0))return w=1,w|0;if(h){if((2147483647-y|0)<(d|0))u=1;else{h=d;break}return u|0}else{if((-2147483648-y|0)>(d|0))u=1;else{h=d;break}return u|0}}else h=m<<1,u=y*3|0;while(0);d=ps(+(u-m|0)/7)|0,f[c>>2]=d,m=ps(+(h+y|0)/7)|0,f[w>>2]=m,f[_>>2]=0,h=(m|0)<(d|0),u=h?d:m,h=h?m:d;do if((h|0)<0){if((u|0)>0){if((u|-2147483648|0)<(h|0)&((h|0)!=-2147483648&(2147483647-u|0)>=(h|0)))break;Xe(23313,22444,355,22455)}if((h|0)==-2147483648|(-2147483648-u|0)>(h|0)&&Xe(23313,22444,355,22455),(u|0)>-1){if((u|-2147483648|0)<(h|0))break;Xe(23313,22444,355,22455)}else{if((u^-2147483648|0)>=(h|0))break;Xe(23313,22444,355,22455)}}while(0);return u=m-d|0,(d|0)<0?(h=0-d|0,f[w>>2]=u,f[_>>2]=h,f[c>>2]=0,d=0):(u=m,h=0),(u|0)<0&&(d=d-u|0,f[c>>2]=d,h=h-u|0,f[_>>2]=h,f[w>>2]=0,u=0),y=d-h|0,m=u-h|0,(h|0)<0?(f[c>>2]=y,f[w>>2]=m,f[_>>2]=0,u=m,m=y,h=0):m=d,d=(u|0)<(m|0)?u:m,d=(h|0)<(d|0)?h:d,(d|0)<=0?(w=0,w|0):(f[c>>2]=m-d,f[w>>2]=u-d,f[_>>2]=h-d,w=0,w|0)}function w$(c){c=c|0;var u=0,h=0,d=0,m=0,y=0,_=0,w=0;_=c+8|0,m=f[_>>2]|0,y=(f[c>>2]|0)-m|0,w=c+4|0,m=(f[w>>2]|0)-m|0;do if(y>>>0>715827881|m>>>0>715827881){if(h=(y|0)>0,h){if((2147483647-y|0)<(y|0))return w=1,w|0}else if((-2147483648-y|0)>(y|0))return w=1,w|0;if(u=y<<1,(m|0)>0){if((2147483647-m|0)<(m|0)||(2147483647-(m<<1)|0)<(m|0))return w=1,w|0}else if((-2147483648-m|0)>(m|0)||(-2147483648-(m<<1)|0)>(m|0))return w=1,w|0;if(d=m*3|0,h){if((2147483647-u|0)<(m|0))return w=1,w|0}else if((-2147483648-u|0)>(m|0))return w=1,w|0;if((m|0)>-1){if((d|-2147483648|0)<(y|0)){h=d;break}else u=1;return u|0}else{if((d^-2147483648|0)<(y|0))u=1;else{h=d;break}return u|0}}else h=m*3|0,u=y<<1;while(0);d=ps(+(u+m|0)/7)|0,f[c>>2]=d,m=ps(+(h-y|0)/7)|0,f[w>>2]=m,f[_>>2]=0,h=(m|0)<(d|0),u=h?d:m,h=h?m:d;do if((h|0)<0){if((u|0)>0){if((u|-2147483648|0)<(h|0)&((h|0)!=-2147483648&(2147483647-u|0)>=(h|0)))break;Xe(23313,22444,404,22469)}if((h|0)==-2147483648|(-2147483648-u|0)>(h|0)&&Xe(23313,22444,404,22469),(u|0)>-1){if((u|-2147483648|0)<(h|0))break;Xe(23313,22444,404,22469)}else{if((u^-2147483648|0)>=(h|0))break;Xe(23313,22444,404,22469)}}while(0);return u=m-d|0,(d|0)<0?(h=0-d|0,f[w>>2]=u,f[_>>2]=h,f[c>>2]=0,d=0):(u=m,h=0),(u|0)<0&&(d=d-u|0,f[c>>2]=d,h=h-u|0,f[_>>2]=h,f[w>>2]=0,u=0),y=d-h|0,m=u-h|0,(h|0)<0?(f[c>>2]=y,f[w>>2]=m,f[_>>2]=0,u=m,m=y,h=0):m=d,d=(u|0)<(m|0)?u:m,d=(h|0)<(d|0)?h:d,(d|0)<=0?(w=0,w|0):(f[c>>2]=m-d,f[w>>2]=u-d,f[_>>2]=h-d,w=0,w|0)}function S$(c){c=c|0;var u=0,h=0,d=0,m=0,y=0,_=0,w=0;_=c+8|0,h=f[_>>2]|0,u=(f[c>>2]|0)-h|0,w=c+4|0,h=(f[w>>2]|0)-h|0,d=ps(+((u*3|0)-h|0)/7)|0,f[c>>2]=d,u=ps(+((h<<1)+u|0)/7)|0,f[w>>2]=u,f[_>>2]=0,h=u-d|0,(d|0)<0?(y=0-d|0,f[w>>2]=h,f[_>>2]=y,f[c>>2]=0,u=h,d=0,h=y):h=0,(u|0)<0&&(d=d-u|0,f[c>>2]=d,h=h-u|0,f[_>>2]=h,f[w>>2]=0,u=0),y=d-h|0,m=u-h|0,(h|0)<0?(f[c>>2]=y,f[w>>2]=m,f[_>>2]=0,u=m,m=y,h=0):m=d,d=(u|0)<(m|0)?u:m,d=(h|0)<(d|0)?h:d,!((d|0)<=0)&&(f[c>>2]=m-d,f[w>>2]=u-d,f[_>>2]=h-d)}function lx(c){c=c|0;var u=0,h=0,d=0,m=0,y=0,_=0,w=0;_=c+8|0,h=f[_>>2]|0,u=(f[c>>2]|0)-h|0,w=c+4|0,h=(f[w>>2]|0)-h|0,d=ps(+((u<<1)+h|0)/7)|0,f[c>>2]=d,u=ps(+((h*3|0)-u|0)/7)|0,f[w>>2]=u,f[_>>2]=0,h=u-d|0,(d|0)<0?(y=0-d|0,f[w>>2]=h,f[_>>2]=y,f[c>>2]=0,u=h,d=0,h=y):h=0,(u|0)<0&&(d=d-u|0,f[c>>2]=d,h=h-u|0,f[_>>2]=h,f[w>>2]=0,u=0),y=d-h|0,m=u-h|0,(h|0)<0?(f[c>>2]=y,f[w>>2]=m,f[_>>2]=0,u=m,m=y,h=0):m=d,d=(u|0)<(m|0)?u:m,d=(h|0)<(d|0)?h:d,!((d|0)<=0)&&(f[c>>2]=m-d,f[w>>2]=u-d,f[_>>2]=h-d)}function Fd(c){c=c|0;var u=0,h=0,d=0,m=0,y=0,_=0,w=0;u=f[c>>2]|0,_=c+4|0,h=f[_>>2]|0,w=c+8|0,d=f[w>>2]|0,m=h+(u*3|0)|0,f[c>>2]=m,h=d+(h*3|0)|0,f[_>>2]=h,u=(d*3|0)+u|0,f[w>>2]=u,d=h-m|0,(m|0)<0?(u=u-m|0,f[_>>2]=d,f[w>>2]=u,f[c>>2]=0,h=d,d=0):d=m,(h|0)<0&&(d=d-h|0,f[c>>2]=d,u=u-h|0,f[w>>2]=u,f[_>>2]=0,h=0),y=d-u|0,m=h-u|0,(u|0)<0?(f[c>>2]=y,f[_>>2]=m,f[w>>2]=0,d=y,u=0):m=h,h=(m|0)<(d|0)?m:d,h=(u|0)<(h|0)?u:h,!((h|0)<=0)&&(f[c>>2]=d-h,f[_>>2]=m-h,f[w>>2]=u-h)}function ma(c){c=c|0;var u=0,h=0,d=0,m=0,y=0,_=0,w=0;m=f[c>>2]|0,_=c+4|0,u=f[_>>2]|0,w=c+8|0,h=f[w>>2]|0,d=(u*3|0)+m|0,m=h+(m*3|0)|0,f[c>>2]=m,f[_>>2]=d,u=(h*3|0)+u|0,f[w>>2]=u,h=d-m|0,(m|0)<0?(u=u-m|0,f[_>>2]=h,f[w>>2]=u,f[c>>2]=0,m=0):h=d,(h|0)<0&&(m=m-h|0,f[c>>2]=m,u=u-h|0,f[w>>2]=u,f[_>>2]=0,h=0),y=m-u|0,d=h-u|0,(u|0)<0?(f[c>>2]=y,f[_>>2]=d,f[w>>2]=0,m=y,u=0):d=h,h=(d|0)<(m|0)?d:m,h=(u|0)<(h|0)?u:h,!((h|0)<=0)&&(f[c>>2]=m-h,f[_>>2]=d-h,f[w>>2]=u-h)}function ux(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0,_=0,w=0;(u+-1|0)>>>0>=6||(m=(f[15440+(u*12|0)>>2]|0)+(f[c>>2]|0)|0,f[c>>2]=m,w=c+4|0,d=(f[15440+(u*12|0)+4>>2]|0)+(f[w>>2]|0)|0,f[w>>2]=d,_=c+8|0,u=(f[15440+(u*12|0)+8>>2]|0)+(f[_>>2]|0)|0,f[_>>2]=u,h=d-m|0,(m|0)<0?(u=u-m|0,f[w>>2]=h,f[_>>2]=u,f[c>>2]=0,d=0):(h=d,d=m),(h|0)<0&&(d=d-h|0,f[c>>2]=d,u=u-h|0,f[_>>2]=u,f[w>>2]=0,h=0),y=d-u|0,m=h-u|0,(u|0)<0?(f[c>>2]=y,f[w>>2]=m,f[_>>2]=0,d=y,u=0):m=h,h=(m|0)<(d|0)?m:d,h=(u|0)<(h|0)?u:h,!((h|0)<=0)&&(f[c>>2]=d-h,f[w>>2]=m-h,f[_>>2]=u-h))}function cx(c){c=c|0;var u=0,h=0,d=0,m=0,y=0,_=0,w=0;m=f[c>>2]|0,_=c+4|0,u=f[_>>2]|0,w=c+8|0,h=f[w>>2]|0,d=u+m|0,m=h+m|0,f[c>>2]=m,f[_>>2]=d,u=h+u|0,f[w>>2]=u,h=d-m|0,(m|0)<0?(u=u-m|0,f[_>>2]=h,f[w>>2]=u,f[c>>2]=0,d=0):(h=d,d=m),(h|0)<0&&(d=d-h|0,f[c>>2]=d,u=u-h|0,f[w>>2]=u,f[_>>2]=0,h=0),y=d-u|0,m=h-u|0,(u|0)<0?(f[c>>2]=y,f[_>>2]=m,f[w>>2]=0,d=y,u=0):m=h,h=(m|0)<(d|0)?m:d,h=(u|0)<(h|0)?u:h,!((h|0)<=0)&&(f[c>>2]=d-h,f[_>>2]=m-h,f[w>>2]=u-h)}function Ld(c){c=c|0;var u=0,h=0,d=0,m=0,y=0,_=0,w=0;u=f[c>>2]|0,_=c+4|0,d=f[_>>2]|0,w=c+8|0,h=f[w>>2]|0,m=d+u|0,f[c>>2]=m,d=h+d|0,f[_>>2]=d,u=h+u|0,f[w>>2]=u,h=d-m|0,(m|0)<0?(u=u-m|0,f[_>>2]=h,f[w>>2]=u,f[c>>2]=0,d=0):(h=d,d=m),(h|0)<0&&(d=d-h|0,f[c>>2]=d,u=u-h|0,f[w>>2]=u,f[_>>2]=0,h=0),y=d-u|0,m=h-u|0,(u|0)<0?(f[c>>2]=y,f[_>>2]=m,f[w>>2]=0,d=y,u=0):m=h,h=(m|0)<(d|0)?m:d,h=(u|0)<(h|0)?u:h,!((h|0)<=0)&&(f[c>>2]=d-h,f[_>>2]=m-h,f[w>>2]=u-h)}function ya(c){switch(c=c|0,c|0){case 1:{c=5;break}case 5:{c=4;break}case 4:{c=6;break}case 6:{c=2;break}case 2:{c=3;break}case 3:{c=1;break}}return c|0}function hs(c){switch(c=c|0,c|0){case 1:{c=3;break}case 3:{c=2;break}case 2:{c=6;break}case 6:{c=4;break}case 4:{c=5;break}case 5:{c=1;break}}return c|0}function Ax(c){c=c|0;var u=0,h=0,d=0,m=0,y=0,_=0,w=0;u=f[c>>2]|0,_=c+4|0,h=f[_>>2]|0,w=c+8|0,d=f[w>>2]|0,m=h+(u<<1)|0,f[c>>2]=m,h=d+(h<<1)|0,f[_>>2]=h,u=(d<<1)+u|0,f[w>>2]=u,d=h-m|0,(m|0)<0?(u=u-m|0,f[_>>2]=d,f[w>>2]=u,f[c>>2]=0,h=d,d=0):d=m,(h|0)<0&&(d=d-h|0,f[c>>2]=d,u=u-h|0,f[w>>2]=u,f[_>>2]=0,h=0),y=d-u|0,m=h-u|0,(u|0)<0?(f[c>>2]=y,f[_>>2]=m,f[w>>2]=0,d=y,u=0):m=h,h=(m|0)<(d|0)?m:d,h=(u|0)<(h|0)?u:h,!((h|0)<=0)&&(f[c>>2]=d-h,f[_>>2]=m-h,f[w>>2]=u-h)}function fx(c){c=c|0;var u=0,h=0,d=0,m=0,y=0,_=0,w=0;m=f[c>>2]|0,_=c+4|0,u=f[_>>2]|0,w=c+8|0,h=f[w>>2]|0,d=(u<<1)+m|0,m=h+(m<<1)|0,f[c>>2]=m,f[_>>2]=d,u=(h<<1)+u|0,f[w>>2]=u,h=d-m|0,(m|0)<0?(u=u-m|0,f[_>>2]=h,f[w>>2]=u,f[c>>2]=0,m=0):h=d,(h|0)<0&&(m=m-h|0,f[c>>2]=m,u=u-h|0,f[w>>2]=u,f[_>>2]=0,h=0),y=m-u|0,d=h-u|0,(u|0)<0?(f[c>>2]=y,f[_>>2]=d,f[w>>2]=0,m=y,u=0):d=h,h=(d|0)<(m|0)?d:m,h=(u|0)<(h|0)?u:h,!((h|0)<=0)&&(f[c>>2]=m-h,f[_>>2]=d-h,f[w>>2]=u-h)}function Tv(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0,_=0,w=0;return _=(f[c>>2]|0)-(f[u>>2]|0)|0,w=(_|0)<0,d=(f[c+4>>2]|0)-(f[u+4>>2]|0)-(w?_:0)|0,y=(d|0)<0,m=(w?0-_|0:0)+(f[c+8>>2]|0)-(f[u+8>>2]|0)+(y?0-d|0:0)|0,c=(m|0)<0,u=c?0:m,h=(y?0:d)-(c?m:0)|0,m=(w?0:_)-(y?d:0)-(c?m:0)|0,c=(h|0)<(m|0)?h:m,c=(u|0)<(c|0)?u:c,d=(c|0)>0,u=u-(d?c:0)|0,h=h-(d?c:0)|0,c=m-(d?c:0)|0,c=(c|0)>-1?c:0-c|0,h=(h|0)>-1?h:0-h|0,u=(u|0)>-1?u:0-u|0,u=(h|0)>(u|0)?h:u,((c|0)>(u|0)?c:u)|0}function E$(c,u){c=c|0,u=u|0;var h=0;h=f[c+8>>2]|0,f[u>>2]=(f[c>>2]|0)-h,f[u+4>>2]=(f[c+4>>2]|0)-h}function T$(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0,_=0,w=0;d=f[c>>2]|0,f[u>>2]=d,m=f[c+4>>2]|0,_=u+4|0,f[_>>2]=m,w=u+8|0,f[w>>2]=0,h=(m|0)<(d|0),c=h?d:m,h=h?m:d;do if((h|0)<0){if((c|0)>0){if((c|-2147483648|0)<(h|0)&((h|0)!=-2147483648&(2147483647-c|0)>=(h|0)))break;return c=1,c|0}if((h|0)==-2147483648|(-2147483648-c|0)>(h|0))return u=1,u|0;if((c|0)>-1){if((c|-2147483648|0)<(h|0))break;return c=1,c|0}else{if((c^-2147483648|0)<(h|0))c=1;else break;return c|0}}while(0);return c=m-d|0,(d|0)<0?(h=0-d|0,f[_>>2]=c,f[w>>2]=h,f[u>>2]=0,d=0):(c=m,h=0),(c|0)<0&&(d=d-c|0,f[u>>2]=d,h=h-c|0,f[w>>2]=h,f[_>>2]=0,c=0),y=d-h|0,m=c-h|0,(h|0)<0?(f[u>>2]=y,f[_>>2]=m,f[w>>2]=0,c=m,m=y,h=0):m=d,d=(c|0)<(m|0)?c:m,d=(h|0)<(d|0)?h:d,(d|0)<=0?(u=0,u|0):(f[u>>2]=m-d,f[_>>2]=c-d,f[w>>2]=h-d,u=0,u|0)}function hx(c){c=c|0;var u=0,h=0,d=0,m=0;u=c+8|0,m=f[u>>2]|0,h=m-(f[c>>2]|0)|0,f[c>>2]=h,d=c+4|0,c=(f[d>>2]|0)-m|0,f[d>>2]=c,f[u>>2]=0-(c+h)}function x$(c){c=c|0;var u=0,h=0,d=0,m=0,y=0,_=0,w=0;h=f[c>>2]|0,u=0-h|0,f[c>>2]=u,_=c+8|0,f[_>>2]=0,w=c+4|0,d=f[w>>2]|0,m=d+h|0,(h|0)>0?(f[w>>2]=m,f[_>>2]=h,f[c>>2]=0,u=0,d=m):h=0,(d|0)<0?(y=u-d|0,f[c>>2]=y,h=h-d|0,f[_>>2]=h,f[w>>2]=0,m=y-h|0,u=0-h|0,(h|0)<0?(f[c>>2]=m,f[w>>2]=u,f[_>>2]=0,d=u,h=0):(d=0,m=y)):m=u,u=(d|0)<(m|0)?d:m,u=(h|0)<(u|0)?h:u,!((u|0)<=0)&&(f[c>>2]=m-u,f[w>>2]=d-u,f[_>>2]=h-u)}function P$(c,u,h,d,m){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0;var y=0,_=0,w=0,O=0,I=0,B=0,V=0;if(V=U,U=U+64|0,B=V,w=V+56|0,!(!0&(u&2013265920|0)==134217728&(!0&(d&2013265920|0)==134217728)))return m=5,U=V,m|0;if((c|0)==(h|0)&(u|0)==(d|0))return f[m>>2]=0,m=0,U=V,m|0;if(_=Pe(c|0,u|0,52)|0,X()|0,_=_&15,I=Pe(h|0,d|0,52)|0,X()|0,(_|0)!=(I&15|0))return m=12,U=V,m|0;if(y=_+-1|0,_>>>0>1){Ov(c,u,y,B)|0,Ov(h,d,y,w)|0,I=B,O=f[I>>2]|0,I=f[I+4>>2]|0;e:do if((O|0)==(f[w>>2]|0)&&(I|0)==(f[w+4>>2]|0)){_=(_^15)*3|0,y=Pe(c|0,u|0,_|0)|0,X()|0,y=y&7,_=Pe(h|0,d|0,_|0)|0,X()|0,_=_&7;do if((y|0)==0|(_|0)==0)f[m>>2]=1,y=0;else if((y|0)==7)y=5;else{if((y|0)==1|(_|0)==1&&Jt(O,I)|0){y=5;break}if((f[15536+(y<<2)>>2]|0)!=(_|0)&&(f[15568+(y<<2)>>2]|0)!=(_|0))break e;f[m>>2]=1,y=0}while(0);return m=y,U=V,m|0}while(0)}y=B,_=y+56|0;do f[y>>2]=0,y=y+4|0;while((y|0)<(_|0));return Nd(c,u,1,B)|0,u=B,!((f[u>>2]|0)==(h|0)&&(f[u+4>>2]|0)==(d|0))&&(u=B+8|0,!((f[u>>2]|0)==(h|0)&&(f[u+4>>2]|0)==(d|0)))&&(u=B+16|0,!((f[u>>2]|0)==(h|0)&&(f[u+4>>2]|0)==(d|0)))&&(u=B+24|0,!((f[u>>2]|0)==(h|0)&&(f[u+4>>2]|0)==(d|0)))&&(u=B+32|0,!((f[u>>2]|0)==(h|0)&&(f[u+4>>2]|0)==(d|0)))&&(u=B+40|0,!((f[u>>2]|0)==(h|0)&&(f[u+4>>2]|0)==(d|0)))?(y=B+48|0,y=((f[y>>2]|0)==(h|0)?(f[y+4>>2]|0)==(d|0):0)&1):y=1,f[m>>2]=y,m=0,U=V,m|0}function C$(c,u,h,d,m){return c=c|0,u=u|0,h=h|0,d=d|0,m=m|0,h=de(c,u,h,d)|0,(h|0)==7?(m=11,m|0):(d=De(h|0,0,56)|0,u=u&-2130706433|(X()|0)|268435456,f[m>>2]=c|d,f[m+4>>2]=u,m=0,m|0)}function O$(c,u,h){return c=c|0,u=u|0,h=h|0,!0&(u&2013265920|0)==268435456?(f[h>>2]=c,f[h+4>>2]=u&-2130706433|134217728,h=0,h|0):(h=6,h|0)}function R$(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0;return m=U,U=U+16|0,d=m,f[d>>2]=0,!0&(u&2013265920|0)==268435456?(y=Pe(c|0,u|0,56)|0,X()|0,d=G(c,u&-2130706433|134217728,y&7,d,h)|0,U=m,d|0):(d=6,U=m,d|0)}function M$(c,u){c=c|0,u=u|0;var h=0;switch(h=Pe(c|0,u|0,56)|0,X()|0,h&7){case 0:case 7:return h=0,h|0}return h=u&-2130706433|134217728,!(!0&(u&2013265920|0)==268435456)||!0&(u&117440512|0)==16777216&(Jt(c,h)|0)!=0?(h=0,h|0):(h=Cv(c,h)|0,h|0)}function k$(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0;return m=U,U=U+16|0,d=m,!0&(u&2013265920|0)==268435456?(y=u&-2130706433|134217728,_=h,f[_>>2]=c,f[_+4>>2]=y,f[d>>2]=0,u=Pe(c|0,u|0,56)|0,X()|0,d=G(c,y,u&7,d,h+8|0)|0,U=m,d|0):(d=6,U=m,d|0)}function I$(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0;return m=(Jt(c,u)|0)==0,u=u&-2130706433,d=h,f[d>>2]=m?c:0,f[d+4>>2]=m?u|285212672:0,d=h+8|0,f[d>>2]=c,f[d+4>>2]=u|301989888,d=h+16|0,f[d>>2]=c,f[d+4>>2]=u|318767104,d=h+24|0,f[d>>2]=c,f[d+4>>2]=u|335544320,d=h+32|0,f[d>>2]=c,f[d+4>>2]=u|352321536,h=h+40|0,f[h>>2]=c,f[h+4>>2]=u|369098752,0}function $d(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0;return _=U,U=U+16|0,m=_,y=u&-2130706433|134217728,!0&(u&2013265920|0)==268435456?(d=Pe(c|0,u|0,56)|0,X()|0,d=kU(c,y,d&7)|0,(d|0)==-1?(f[h>>2]=0,y=6,U=_,y|0):(Dl(c,y,m)|0&&Xe(23313,22484,282,22499),u=Pe(c|0,u|0,52)|0,X()|0,u=u&15,Jt(c,y)|0?xv(m,u,d,2,h):Pv(m,u,d,2,h),y=0,U=_,y|0)):(y=6,U=_,y|0)}function N$(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0;d=U,U=U+16|0,m=d,D$(c,u,h,m),_$(m,h+4|0),U=d}function D$(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0,_=0,w=0,O=0;if(w=U,U=U+16|0,O=w,B$(c,h,O),y=+Rl(+(1-+j[O>>3]*.5)),y<1e-16){f[d>>2]=0,f[d+4>>2]=0,f[d+8>>2]=0,f[d+12>>2]=0,U=w;return}if(O=f[h>>2]|0,m=+j[15920+(O*24|0)>>3],m=+fA(m-+fA(+tU(15600+(O<<4)|0,c))),si(u)|0?_=+fA(m+-.3334731722518321):_=m,m=+On(+y)/.381966011250105,(u|0)>0){c=0;do m=m*2.6457513110645907,c=c+1|0;while((c|0)!=(u|0))}y=+bt(+_)*m,j[d>>3]=y,_=+nt(+_)*m,j[d+8>>3]=_,U=w}function B$(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0;if(y=U,U=U+32|0,m=y,MU(c,m),f[u>>2]=0,j[h>>3]=5,d=+Pr(16400,m),d<+j[h>>3]&&(f[u>>2]=0,j[h>>3]=d),d=+Pr(16424,m),d<+j[h>>3]&&(f[u>>2]=1,j[h>>3]=d),d=+Pr(16448,m),d<+j[h>>3]&&(f[u>>2]=2,j[h>>3]=d),d=+Pr(16472,m),d<+j[h>>3]&&(f[u>>2]=3,j[h>>3]=d),d=+Pr(16496,m),d<+j[h>>3]&&(f[u>>2]=4,j[h>>3]=d),d=+Pr(16520,m),d<+j[h>>3]&&(f[u>>2]=5,j[h>>3]=d),d=+Pr(16544,m),d<+j[h>>3]&&(f[u>>2]=6,j[h>>3]=d),d=+Pr(16568,m),d<+j[h>>3]&&(f[u>>2]=7,j[h>>3]=d),d=+Pr(16592,m),d<+j[h>>3]&&(f[u>>2]=8,j[h>>3]=d),d=+Pr(16616,m),d<+j[h>>3]&&(f[u>>2]=9,j[h>>3]=d),d=+Pr(16640,m),d<+j[h>>3]&&(f[u>>2]=10,j[h>>3]=d),d=+Pr(16664,m),d<+j[h>>3]&&(f[u>>2]=11,j[h>>3]=d),d=+Pr(16688,m),d<+j[h>>3]&&(f[u>>2]=12,j[h>>3]=d),d=+Pr(16712,m),d<+j[h>>3]&&(f[u>>2]=13,j[h>>3]=d),d=+Pr(16736,m),d<+j[h>>3]&&(f[u>>2]=14,j[h>>3]=d),d=+Pr(16760,m),d<+j[h>>3]&&(f[u>>2]=15,j[h>>3]=d),d=+Pr(16784,m),d<+j[h>>3]&&(f[u>>2]=16,j[h>>3]=d),d=+Pr(16808,m),d<+j[h>>3]&&(f[u>>2]=17,j[h>>3]=d),d=+Pr(16832,m),d<+j[h>>3]&&(f[u>>2]=18,j[h>>3]=d),d=+Pr(16856,m),!(d<+j[h>>3])){U=y;return}f[u>>2]=19,j[h>>3]=d,U=y}function uA(c,u,h,d,m){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0;var y=0,_=0;if(y=+RU(c),y<1e-16){u=15600+(u<<4)|0,f[m>>2]=f[u>>2],f[m+4>>2]=f[u+4>>2],f[m+8>>2]=f[u+8>>2],f[m+12>>2]=f[u+12>>2];return}if(_=+Nr(+ +j[c+8>>3],+ +j[c>>3]),(h|0)>0){c=0;do y=y/2.6457513110645907,c=c+1|0;while((c|0)!=(h|0))}d?(y=y/3,h=(si(h)|0)==0,y=+nn(+((h?y:y/2.6457513110645907)*.381966011250105))):(y=+nn(+(y*.381966011250105)),si(h)|0&&(_=+fA(_+.3334731722518321))),rU(15600+(u<<4)|0,+fA(+j[15920+(u*24|0)>>3]-_),y,m)}function F$(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0;d=U,U=U+16|0,m=d,ga(c+4|0,m),uA(m,f[c>>2]|0,u,0,h),U=d}function xv(c,u,h,d,m){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0;var y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0,ae=0,ye=0,me=0,fe=0,he=0,se=0,Be=0,Ue=0,Ie=0,Fe=0,kt=0,wt=0,Tt=0,at=0,st=0,lt=0,$t=0,et=0;if(lt=U,U=U+272|0,y=lt+256|0,fe=lt+240|0,Tt=lt,at=lt+224|0,st=lt+208|0,he=lt+176|0,se=lt+160|0,Be=lt+192|0,Ue=lt+144|0,Ie=lt+128|0,Fe=lt+112|0,kt=lt+96|0,wt=lt+80|0,f[y>>2]=u,f[fe>>2]=f[c>>2],f[fe+4>>2]=f[c+4>>2],f[fe+8>>2]=f[c+8>>2],f[fe+12>>2]=f[c+12>>2],dx(fe,y,Tt),f[m>>2]=0,fe=d+h+((d|0)==5&1)|0,(fe|0)<=(h|0)){U=lt;return}O=f[y>>2]|0,I=at+4|0,B=he+4|0,V=h+5|0,Z=16880+(O<<2)|0,ee=16960+(O<<2)|0,q=Ie+8|0,ae=Fe+8|0,ye=kt+8|0,me=st+4|0,w=h;e:for(;;){_=Tt+(((w|0)%5|0)<<4)|0,f[st>>2]=f[_>>2],f[st+4>>2]=f[_+4>>2],f[st+8>>2]=f[_+8>>2],f[st+12>>2]=f[_+12>>2];do;while((Nl(st,O,0,1)|0)==2);if((w|0)>(h|0)&(si(u)|0)!=0){if(f[he>>2]=f[st>>2],f[he+4>>2]=f[st+4>>2],f[he+8>>2]=f[st+8>>2],f[he+12>>2]=f[st+12>>2],ga(I,se),d=f[he>>2]|0,y=f[17040+(d*80|0)+(f[at>>2]<<2)>>2]|0,f[he>>2]=f[18640+(d*80|0)+(y*20|0)>>2],_=f[18640+(d*80|0)+(y*20|0)+16>>2]|0,(_|0)>0){c=0;do cx(B),c=c+1|0;while((c|0)<(_|0))}switch(_=18640+(d*80|0)+(y*20|0)+4|0,f[Be>>2]=f[_>>2],f[Be+4>>2]=f[_+4>>2],f[Be+8>>2]=f[_+8>>2],ax(Be,(f[Z>>2]|0)*3|0),_n(B,Be,B),on(B),ga(B,Ue),$t=+(f[ee>>2]|0),j[Ie>>3]=$t*3,j[q>>3]=0,et=$t*-1.5,j[Fe>>3]=et,j[ae>>3]=$t*2.598076211353316,j[kt>>3]=et,j[ye>>3]=$t*-2.598076211353316,f[17040+((f[he>>2]|0)*80|0)+(f[st>>2]<<2)>>2]|0){case 1:{c=Fe,d=Ie;break}case 3:{c=kt,d=Fe;break}case 2:{c=Ie,d=kt;break}default:{c=12;break e}}Px(se,Ue,d,c,wt),uA(wt,f[he>>2]|0,O,1,m+8+(f[m>>2]<<4)|0),f[m>>2]=(f[m>>2]|0)+1}if((w|0)<(V|0)&&(ga(me,he),uA(he,f[st>>2]|0,O,1,m+8+(f[m>>2]<<4)|0),f[m>>2]=(f[m>>2]|0)+1),f[at>>2]=f[st>>2],f[at+4>>2]=f[st+4>>2],f[at+8>>2]=f[st+8>>2],f[at+12>>2]=f[st+12>>2],w=w+1|0,(w|0)>=(fe|0)){c=3;break}}if((c|0)==3){U=lt;return}else(c|0)==12&&Xe(22522,22569,571,22579)}function dx(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0,w=0,O=0;O=U,U=U+128|0,d=O+64|0,m=O,y=d,_=20240,w=y+60|0;do f[y>>2]=f[_>>2],y=y+4|0,_=_+4|0;while((y|0)<(w|0));y=m,_=20304,w=y+60|0;do f[y>>2]=f[_>>2],y=y+4|0,_=_+4|0;while((y|0)<(w|0));w=(si(f[u>>2]|0)|0)==0,d=w?d:m,m=c+4|0,Ax(m),fx(m),si(f[u>>2]|0)|0&&(ma(m),f[u>>2]=(f[u>>2]|0)+1),f[h>>2]=f[c>>2],u=h+4|0,_n(m,d,u),on(u),f[h+16>>2]=f[c>>2],u=h+20|0,_n(m,d+12|0,u),on(u),f[h+32>>2]=f[c>>2],u=h+36|0,_n(m,d+24|0,u),on(u),f[h+48>>2]=f[c>>2],u=h+52|0,_n(m,d+36|0,u),on(u),f[h+64>>2]=f[c>>2],h=h+68|0,_n(m,d+48|0,h),on(h),U=O}function Nl(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0;if(q=U,U=U+32|0,Z=q+12|0,w=q,ee=c+4|0,V=f[16960+(u<<2)>>2]|0,B=(d|0)!=0,V=B?V*3|0:V,m=f[ee>>2]|0,I=c+8|0,_=f[I>>2]|0,B){if(y=c+12|0,d=f[y>>2]|0,m=_+m+d|0,(m|0)==(V|0))return ee=1,U=q,ee|0;O=y}else O=c+12|0,d=f[O>>2]|0,m=_+m+d|0;if((m|0)<=(V|0))return ee=0,U=q,ee|0;do if((d|0)>0){if(d=f[c>>2]|0,(_|0)>0){y=18640+(d*80|0)+60|0,d=c;break}d=18640+(d*80|0)+40|0,h?(v$(Z,V,0,0),Ev(ee,Z,w),Ld(w),_n(w,Z,ee),y=d,d=c):(y=d,d=c)}else y=18640+((f[c>>2]|0)*80|0)+20|0,d=c;while(0);if(f[d>>2]=f[y>>2],m=y+16|0,(f[m>>2]|0)>0){d=0;do cx(ee),d=d+1|0;while((d|0)<(f[m>>2]|0))}return c=y+4|0,f[Z>>2]=f[c>>2],f[Z+4>>2]=f[c+4>>2],f[Z+8>>2]=f[c+8>>2],u=f[16880+(u<<2)>>2]|0,ax(Z,B?u*3|0:u),_n(ee,Z,ee),on(ee),B?d=((f[I>>2]|0)+(f[ee>>2]|0)+(f[O>>2]|0)|0)==(V|0)?1:2:d=2,ee=d,U=q,ee|0}function L$(c,u){c=c|0,u=u|0;var h=0;do h=Nl(c,u,0,1)|0;while((h|0)==2);return h|0}function Pv(c,u,h,d,m){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0;var y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0,ae=0,ye=0,me=0,fe=0,he=0,se=0,Be=0,Ue=0,Ie=0,Fe=0,kt=0,wt=0,Tt=0;if(kt=U,U=U+240|0,y=kt+224|0,Be=kt+208|0,Ue=kt,Ie=kt+192|0,Fe=kt+176|0,ye=kt+160|0,me=kt+144|0,fe=kt+128|0,he=kt+112|0,se=kt+96|0,f[y>>2]=u,f[Be>>2]=f[c>>2],f[Be+4>>2]=f[c+4>>2],f[Be+8>>2]=f[c+8>>2],f[Be+12>>2]=f[c+12>>2],px(Be,y,Ue),f[m>>2]=0,ae=d+h+((d|0)==6&1)|0,(ae|0)<=(h|0)){U=kt;return}O=f[y>>2]|0,I=h+6|0,B=16960+(O<<2)|0,V=me+8|0,Z=fe+8|0,ee=he+8|0,q=Ie+4|0,_=0,w=h,d=-1;e:for(;;){if(y=(w|0)%6|0,c=Ue+(y<<4)|0,f[Ie>>2]=f[c>>2],f[Ie+4>>2]=f[c+4>>2],f[Ie+8>>2]=f[c+8>>2],f[Ie+12>>2]=f[c+12>>2],c=_,_=Nl(Ie,O,0,1)|0,(w|0)>(h|0)&(si(u)|0)!=0&&(c|0)!=1&&(f[Ie>>2]|0)!=(d|0)){switch(ga(Ue+(((y+5|0)%6|0)<<4)+4|0,Fe),ga(Ue+(y<<4)+4|0,ye),wt=+(f[B>>2]|0),j[me>>3]=wt*3,j[V>>3]=0,Tt=wt*-1.5,j[fe>>3]=Tt,j[Z>>3]=wt*2.598076211353316,j[he>>3]=Tt,j[ee>>3]=wt*-2.598076211353316,y=f[Be>>2]|0,f[17040+(y*80|0)+(((d|0)==(y|0)?f[Ie>>2]|0:d)<<2)>>2]|0){case 1:{c=fe,d=me;break}case 3:{c=he,d=fe;break}case 2:{c=me,d=he;break}default:{c=8;break e}}Px(Fe,ye,d,c,se),!(Cx(Fe,se)|0)&&!(Cx(ye,se)|0)&&(uA(se,f[Be>>2]|0,O,1,m+8+(f[m>>2]<<4)|0),f[m>>2]=(f[m>>2]|0)+1)}if((w|0)<(I|0)&&(ga(q,Fe),uA(Fe,f[Ie>>2]|0,O,1,m+8+(f[m>>2]<<4)|0),f[m>>2]=(f[m>>2]|0)+1),w=w+1|0,(w|0)>=(ae|0)){c=3;break}else d=f[Ie>>2]|0}if((c|0)==3){U=kt;return}else(c|0)==8&&Xe(22606,22569,736,22651)}function px(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0,w=0,O=0;O=U,U=U+160|0,d=O+80|0,m=O,y=d,_=20368,w=y+72|0;do f[y>>2]=f[_>>2],y=y+4|0,_=_+4|0;while((y|0)<(w|0));y=m,_=20448,w=y+72|0;do f[y>>2]=f[_>>2],y=y+4|0,_=_+4|0;while((y|0)<(w|0));w=(si(f[u>>2]|0)|0)==0,d=w?d:m,m=c+4|0,Ax(m),fx(m),si(f[u>>2]|0)|0&&(ma(m),f[u>>2]=(f[u>>2]|0)+1),f[h>>2]=f[c>>2],u=h+4|0,_n(m,d,u),on(u),f[h+16>>2]=f[c>>2],u=h+20|0,_n(m,d+12|0,u),on(u),f[h+32>>2]=f[c>>2],u=h+36|0,_n(m,d+24|0,u),on(u),f[h+48>>2]=f[c>>2],u=h+52|0,_n(m,d+36|0,u),on(u),f[h+64>>2]=f[c>>2],u=h+68|0,_n(m,d+48|0,u),on(u),f[h+80>>2]=f[c>>2],h=h+84|0,_n(m,d+60|0,h),on(h),U=O}function $$(c,u){return c=c|0,u=u|0,u=Pe(c|0,u|0,52)|0,X()|0,u&15|0}function gx(c,u){return c=c|0,u=u|0,u=Pe(c|0,u|0,45)|0,X()|0,u&127|0}function Cv(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0,_=0,w=0;if(!(!0&(u&-16777216|0)==134217728)||(_=Pe(c|0,u|0,45)|0,X()|0,_=_&127,_>>>0>121))return u=0,u|0;h=Pe(c|0,u|0,52)|0,X()|0,h=h&15;do if(h|0){for(m=1,d=0;;){if(y=Pe(c|0,u|0,(15-m|0)*3|0)|0,X()|0,y=y&7,(y|0)!=0&(d^1))if((y|0)==1&(mt(_)|0)!=0){w=0,d=13;break}else d=1;if((y|0)==7){w=0,d=13;break}if(m>>>0<h>>>0)m=m+1|0;else{d=9;break}}if((d|0)==9){if((h|0)==15)w=1;else break;return w|0}else if((d|0)==13)return w|0}while(0);for(;;){if(w=Pe(c|0,u|0,(14-h|0)*3|0)|0,X()|0,!((w&7|0)==7&!0)){w=0,d=13;break}if(h>>>0<14)h=h+1|0;else{w=1,d=13;break}}return(d|0)==13?w|0:0}function Ov(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0;if(y=Pe(c|0,u|0,52)|0,X()|0,y=y&15,h>>>0>15)return d=4,d|0;if((y|0)<(h|0))return d=12,d|0;if((y|0)==(h|0))return f[d>>2]=c,f[d+4>>2]=u,d=0,d|0;if(m=De(h|0,0,52)|0,m=m|c,c=X()|0|u&-15728641,(y|0)>(h|0))do u=De(7,0,(14-h|0)*3|0)|0,h=h+1|0,m=u|m,c=X()|0|c;while((h|0)<(y|0));return f[d>>2]=m,f[d+4>>2]=c,d=0,d|0}function Ud(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0,_=0;if(y=Pe(c|0,u|0,52)|0,X()|0,y=y&15,!((h|0)<16&(y|0)<=(h|0)))return d=4,d|0;m=h-y|0,h=Pe(c|0,u|0,45)|0,X()|0;e:do if(!(mt(h&127)|0))h=ds(7,0,m,((m|0)<0)<<31>>31)|0,m=X()|0;else{t:do if(y|0){for(h=1;_=De(7,0,(15-h|0)*3|0)|0,!!((_&c|0)==0&((X()|0)&u|0)==0);)if(h>>>0<y>>>0)h=h+1|0;else break t;h=ds(7,0,m,((m|0)<0)<<31>>31)|0,m=X()|0;break e}while(0);h=ds(7,0,m,((m|0)<0)<<31>>31)|0,h=an(h|0,X()|0,5,0)|0,h=ht(h|0,X()|0,-5,-1)|0,h=_a(h|0,X()|0,6,0)|0,h=ht(h|0,X()|0,1,0)|0,m=X()|0}while(0);return _=d,f[_>>2]=h,f[_+4>>2]=m,_=0,_|0}function Jt(c,u){c=c|0,u=u|0;var h=0,d=0,m=0;if(m=Pe(c|0,u|0,45)|0,X()|0,!(mt(m&127)|0))return m=0,m|0;m=Pe(c|0,u|0,52)|0,X()|0,m=m&15;e:do if(!m)h=0;else for(d=1;;){if(h=Pe(c|0,u|0,(15-d|0)*3|0)|0,X()|0,h=h&7,h|0)break e;if(d>>>0<m>>>0)d=d+1|0;else{h=0;break}}while(0);return m=(h|0)==0&1,m|0}function U$(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0,_=0,w=0;if(_=U,U=U+16|0,y=_,vx(y,c,u,h),u=y,c=f[u>>2]|0,u=f[u+4>>2]|0,(c|0)==0&(u|0)==0)return U=_,0;m=0,h=0;do w=d+(m<<3)|0,f[w>>2]=c,f[w+4>>2]=u,m=ht(m|0,h|0,1,0)|0,h=X()|0,_x(y),w=y,c=f[w>>2]|0,u=f[w+4>>2]|0;while(!((c|0)==0&(u|0)==0));return U=_,0}function j$(c,u,h,d){return c=c|0,u=u|0,h=h|0,d=d|0,(d|0)<(h|0)?(h=u,d=c,ot(h|0),d|0):(h=De(-1,-1,((d-h|0)*3|0)+3|0)|0,d=De(~h|0,~(X()|0)|0,(15-d|0)*3|0)|0,h=~(X()|0)&u,d=~d&c,ot(h|0),d|0)}function z$(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0;return m=Pe(c|0,u|0,52)|0,X()|0,m=m&15,(h|0)<16&(m|0)<=(h|0)?((m|0)<(h|0)&&(m=De(-1,-1,((h+-1-m|0)*3|0)+3|0)|0,m=De(~m|0,~(X()|0)|0,(15-h|0)*3|0)|0,u=~(X()|0)&u,c=~m&c),m=De(h|0,0,52)|0,h=u&-15728641|(X()|0),f[d>>2]=c|m,f[d+4>>2]=h,d=0,d|0):(d=4,d|0)}function V$(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0,ae=0,ye=0,me=0,fe=0,he=0,se=0,Be=0,Ue=0,Ie=0,Fe=0;if((h|0)==0&(d|0)==0)return Ie=0,Ie|0;if(m=c,y=f[m>>2]|0,m=f[m+4>>2]|0,!0&(m&15728640|0)==0){if(!((d|0)>0|(d|0)==0&h>>>0>0)||(Ie=u,f[Ie>>2]=y,f[Ie+4>>2]=m,(h|0)==1&(d|0)==0))return Ie=0,Ie|0;m=1;do Be=c+(m<<3)|0,Ue=f[Be+4>>2]|0,Ie=u+(m<<3)|0,f[Ie>>2]=f[Be>>2],f[Ie+4>>2]=Ue,m=m+1|0;while(0<(d|0)|(d|0)==0&m>>>0<h>>>0);return m=0,m|0}if(se=h<<3,Ue=to(se)|0,!Ue)return Ie=13,Ie|0;if(Vd(Ue|0,c|0,se|0)|0,Be=ro(h,8)|0,!Be)return Je(Ue),Ie=13,Ie|0;e:do if(h|0){t:for(;;){m=Ue,me=f[m>>2]|0,m=f[m+4>>2]|0,fe=Pe(me|0,m|0,52)|0,X()|0,fe=fe&15,he=fe+-1|0,ye=(h|0)>0;r:do if((fe|0)!=0&ye){if(ee=((h|0)<0)<<31>>31,q=De(he|0,0,52)|0,ae=X()|0,he>>>0>15){if(!((me|0)==0&(m|0)==0)){Ie=17;break t}for(y=0;;){if(y=y+1|0,(y|0)>=(h|0))break r;if(d=Ue+(y<<3)|0,ae=f[d>>2]|0,d=f[d+4>>2]|0,!((ae|0)==0&(d|0)==0)){m=d,Ie=17;break t}}}for(y=0,c=me,d=m;;){if(!((c|0)==0&(d|0)==0)){if(!(!0&(d&117440512|0)==0)){Ie=22;break t}if(w=Pe(c|0,d|0,52)|0,X()|0,w=w&15,(w|0)<(he|0)){m=12,Ie=28;break t}if((w|0)!=(he|0)&&(c=c|q,d=d&-15728641|ae,w>>>0>=fe>>>0)){_=he;do Z=De(7,0,(14-_|0)*3|0)|0,_=_+1|0,c=Z|c,d=X()|0|d;while(_>>>0<w>>>0)}if(_=Fl(c|0,d|0,h|0,ee|0)|0,X()|0,I=Be+(_<<3)|0,w=I,O=f[w>>2]|0,w=f[w+4>>2]|0,(O|0)==0&(w|0)==0)_=I;else for(Z=0;;){if((Z|0)>(h|0)){Ie=32;break t}if((O|0)==(c|0)&(w&-117440513|0)==(d|0)){B=Pe(O|0,w|0,56)|0,X()|0,B=B&7,V=B+1|0,Fe=Pe(O|0,w|0,45)|0,X()|0;n:do if(!(mt(Fe&127)|0))w=7;else{if(O=Pe(O|0,w|0,52)|0,X()|0,O=O&15,!O){w=6;break}for(w=1;;){if(Fe=De(7,0,(15-w|0)*3|0)|0,!((Fe&c|0)==0&((X()|0)&d|0)==0)){w=7;break n}if(w>>>0<O>>>0)w=w+1|0;else{w=6;break}}}while(0);if((B+2|0)>>>0>w>>>0){Ie=42;break t}Fe=De(V|0,0,56)|0,d=X()|0|d&-117440513,V=I,f[V>>2]=0,f[V+4>>2]=0,c=Fe|c}else _=(_+1|0)%(h|0)|0;if(I=Be+(_<<3)|0,w=I,O=f[w>>2]|0,w=f[w+4>>2]|0,(O|0)==0&(w|0)==0){_=I;break}else Z=Z+1|0}Fe=_,f[Fe>>2]=c,f[Fe+4>>2]=d}if(y=y+1|0,(y|0)>=(h|0))break r;d=Ue+(y<<3)|0,c=f[d>>2]|0,d=f[d+4>>2]|0}}while(0);if((h+5|0)>>>0<11){Ie=85;break}if(ae=ro((h|0)/6|0,8)|0,!ae){Ie=49;break}r:do if(ye){Z=0,V=0;do{if(w=Be+(Z<<3)|0,d=w,y=f[d>>2]|0,d=f[d+4>>2]|0,!((y|0)==0&(d|0)==0)){O=Pe(y|0,d|0,56)|0,X()|0,O=O&7,c=O+1|0,I=d&-117440513,Fe=Pe(y|0,d|0,45)|0,X()|0;n:do if(mt(Fe&127)|0){if(B=Pe(y|0,d|0,52)|0,X()|0,B=B&15,B|0)for(_=1;;){if(Fe=De(7,0,(15-_|0)*3|0)|0,!((y&Fe|0)==0&(I&(X()|0)|0)==0))break n;if(_>>>0<B>>>0)_=_+1|0;else break}d=De(c|0,0,56)|0,y=d|y,d=X()|0|I,c=w,f[c>>2]=y,f[c+4>>2]=d,c=O+2|0}while(0);(c|0)==7&&(Fe=ae+(V<<3)|0,f[Fe>>2]=y,f[Fe+4>>2]=d&-117440513,V=V+1|0)}Z=Z+1|0}while((Z|0)!=(h|0));if(ye){if(Z=((h|0)<0)<<31>>31,ee=De(he|0,0,52)|0,q=X()|0,he>>>0>15){if(!((me|0)==0&(m|0)==0)){m=4,Ie=84;break t}for(m=0;;){if(m=m+1|0,(m|0)>=(h|0)){y=0,m=V;break r}if(Fe=Ue+(m<<3)|0,!((f[Fe>>2]|0)==0&(f[Fe+4>>2]|0)==0)){m=4,Ie=84;break t}}}for(B=0,y=0,I=me;;){do if(!((I|0)==0&(m|0)==0)){if(w=Pe(I|0,m|0,52)|0,X()|0,w=w&15,(w|0)<(he|0)){m=12,Ie=84;break t}do if((w|0)==(he|0))d=I,w=m;else{if(d=I|ee,c=m&-15728641|q,w>>>0<fe>>>0){w=c;break}_=he;do Fe=De(7,0,(14-_|0)*3|0)|0,_=_+1|0,d=Fe|d,c=X()|0|c;while(_>>>0<w>>>0);w=c}while(0);for(_=Fl(d|0,w|0,h|0,Z|0)|0,X()|0,c=0;;){if((c|0)>(h|0)){Ie=77;break t}if(Fe=Be+(_<<3)|0,O=f[Fe+4>>2]|0,(O&-117440513|0)==(w|0)&&(f[Fe>>2]|0)==(d|0)){Ie=79;break}if(_=(_+1|0)%(h|0)|0,Fe=Be+(_<<3)|0,(f[Fe>>2]|0)==(d|0)&&(f[Fe+4>>2]|0)==(w|0))break;c=c+1|0}if((Ie|0)==79&&(Ie=0,!0&(O&117440512|0)==100663296))break;Fe=u+(y<<3)|0,f[Fe>>2]=I,f[Fe+4>>2]=m,y=y+1|0}while(0);if(m=B+1|0,(m|0)>=(h|0)){m=V;break r}Fe=Ue+(m<<3)|0,B=m,I=f[Fe>>2]|0,m=f[Fe+4>>2]|0}}else y=0,m=V}else y=0,m=0;while(0);if(ba(Be|0,0,se|0)|0,Vd(Ue|0,ae|0,m<<3|0)|0,Je(ae),m)u=u+(y<<3)|0,h=m;else break e}if((Ie|0)==17)!0&(m&117440512|0)==0?(m=4,Ie=28):Ie=22;else if((Ie|0)==32)Xe(23313,22674,362,22684);else{if((Ie|0)==42)return Je(Ue),Je(Be),Fe=10,Fe|0;if((Ie|0)==49)return Je(Ue),Je(Be),Fe=13,Fe|0;if((Ie|0)==77)Xe(23313,22674,462,22684);else{if((Ie|0)==84)return Je(ae),Je(Ue),Je(Be),Fe=m,Fe|0;if((Ie|0)==85){Vd(u|0,Ue|0,h<<3|0)|0;break}}}if((Ie|0)==22)return Je(Ue),Je(Be),Fe=5,Fe|0;if((Ie|0)==28)return Je(Ue),Je(Be),Fe=m,Fe|0}while(0);return Je(Ue),Je(Be),Fe=0,Fe|0}function W$(c,u,h,d,m,y,_){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0,y=y|0,_=_|0;var w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0,ae=0;if(ae=U,U=U+16|0,q=ae,!((h|0)>0|(h|0)==0&u>>>0>0))return q=0,U=ae,q|0;if((_|0)>=16)return q=12,U=ae,q|0;Z=0,ee=0,V=0,w=0;e:for(;;){if(I=c+(Z<<3)|0,O=f[I>>2]|0,I=f[I+4>>2]|0,B=Pe(O|0,I|0,52)|0,X()|0,(B&15|0)>(_|0)){w=12,O=11;break}if(vx(q,O,I,_),B=q,I=f[B>>2]|0,B=f[B+4>>2]|0,(I|0)==0&(B|0)==0)O=V;else{O=V;do{if(!((w|0)<(y|0)|(w|0)==(y|0)&O>>>0<m>>>0)){O=10;break e}V=d+(O<<3)|0,f[V>>2]=I,f[V+4>>2]=B,O=ht(O|0,w|0,1,0)|0,w=X()|0,_x(q),V=q,I=f[V>>2]|0,B=f[V+4>>2]|0}while(!((I|0)==0&(B|0)==0))}if(Z=ht(Z|0,ee|0,1,0)|0,ee=X()|0,(ee|0)<(h|0)|(ee|0)==(h|0)&Z>>>0<u>>>0)V=O;else{w=0,O=11;break}}return(O|0)==10?(q=14,U=ae,q|0):(O|0)==11?(U=ae,w|0):0}function H$(c,u,h,d,m){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0;var y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0;Z=U,U=U+16|0,V=Z;e:do if((h|0)>0|(h|0)==0&u>>>0>0){for(I=0,_=0,y=0,B=0;;){if(O=c+(I<<3)|0,w=f[O>>2]|0,O=f[O+4>>2]|0,!((w|0)==0&(O|0)==0)&&(O=(Ud(w,O,d,V)|0)==0,w=V,_=ht(f[w>>2]|0,f[w+4>>2]|0,_|0,y|0)|0,y=X()|0,!O)){y=12;break}if(I=ht(I|0,B|0,1,0)|0,B=X()|0,!((B|0)<(h|0)|(B|0)==(h|0)&I>>>0<u>>>0))break e}return U=Z,y|0}else _=0,y=0;while(0);return f[m>>2]=_,f[m+4>>2]=y,m=0,U=Z,m|0}function X$(c,u){return c=c|0,u=u|0,u=Pe(c|0,u|0,52)|0,X()|0,u&1|0}function Mn(c,u){c=c|0,u=u|0;var h=0,d=0,m=0;if(m=Pe(c|0,u|0,52)|0,X()|0,m=m&15,!m)return m=0,m|0;for(d=1;;){if(h=Pe(c|0,u|0,(15-d|0)*3|0)|0,X()|0,h=h&7,h|0){d=5;break}if(d>>>0<m>>>0)d=d+1|0;else{h=0,d=5;break}}return(d|0)==5?h|0:0}function Rv(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0,_=0,w=0,O=0;if(O=Pe(c|0,u|0,52)|0,X()|0,O=O&15,!O)return w=u,O=c,ot(w|0),O|0;for(w=1,h=0;;){y=(15-w|0)*3|0,d=De(7,0,y|0)|0,m=X()|0,_=Pe(c|0,u|0,y|0)|0,X()|0,y=De(ya(_&7)|0,0,y|0)|0,_=X()|0,c=y|c&~d,u=_|u&~m;e:do if(!h)if((y&d|0)==0&(_&m|0)==0)h=0;else if(d=Pe(c|0,u|0,52)|0,X()|0,d=d&15,!d)h=1;else{h=1;t:for(;;){switch(_=Pe(c|0,u|0,(15-h|0)*3|0)|0,X()|0,_&7){case 1:break t;case 0:break;default:{h=1;break e}}if(h>>>0<d>>>0)h=h+1|0;else{h=1;break e}}for(h=1;;)if(_=(15-h|0)*3|0,m=Pe(c|0,u|0,_|0)|0,X()|0,y=De(7,0,_|0)|0,u=u&~(X()|0),_=De(ya(m&7)|0,0,_|0)|0,c=c&~y|_,u=u|(X()|0),h>>>0<d>>>0)h=h+1|0;else{h=1;break}}while(0);if(w>>>0<O>>>0)w=w+1|0;else break}return ot(u|0),c|0}function va(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0,_=0;if(d=Pe(c|0,u|0,52)|0,X()|0,d=d&15,!d)return h=u,d=c,ot(h|0),d|0;for(h=1;y=(15-h|0)*3|0,_=Pe(c|0,u|0,y|0)|0,X()|0,m=De(7,0,y|0)|0,u=u&~(X()|0),y=De(ya(_&7)|0,0,y|0)|0,c=y|c&~m,u=X()|0|u,h>>>0<d>>>0;)h=h+1|0;return ot(u|0),c|0}function Y$(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0,_=0,w=0,O=0;if(O=Pe(c|0,u|0,52)|0,X()|0,O=O&15,!O)return w=u,O=c,ot(w|0),O|0;for(w=1,h=0;;){y=(15-w|0)*3|0,d=De(7,0,y|0)|0,m=X()|0,_=Pe(c|0,u|0,y|0)|0,X()|0,y=De(hs(_&7)|0,0,y|0)|0,_=X()|0,c=y|c&~d,u=_|u&~m;e:do if(!h)if((y&d|0)==0&(_&m|0)==0)h=0;else if(d=Pe(c|0,u|0,52)|0,X()|0,d=d&15,!d)h=1;else{h=1;t:for(;;){switch(_=Pe(c|0,u|0,(15-h|0)*3|0)|0,X()|0,_&7){case 1:break t;case 0:break;default:{h=1;break e}}if(h>>>0<d>>>0)h=h+1|0;else{h=1;break e}}for(h=1;;)if(m=(15-h|0)*3|0,y=De(7,0,m|0)|0,_=u&~(X()|0),u=Pe(c|0,u|0,m|0)|0,X()|0,u=De(hs(u&7)|0,0,m|0)|0,c=c&~y|u,u=_|(X()|0),h>>>0<d>>>0)h=h+1|0;else{h=1;break}}while(0);if(w>>>0<O>>>0)w=w+1|0;else break}return ot(u|0),c|0}function Mv(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0,_=0;if(d=Pe(c|0,u|0,52)|0,X()|0,d=d&15,!d)return h=u,d=c,ot(h|0),d|0;for(h=1;_=(15-h|0)*3|0,y=De(7,0,_|0)|0,m=u&~(X()|0),u=Pe(c|0,u|0,_|0)|0,X()|0,u=De(hs(u&7)|0,0,_|0)|0,c=u|c&~y,u=X()|0|m,h>>>0<d>>>0;)h=h+1|0;return ot(u|0),c|0}function K$(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0,_=0,w=0,O=0,I=0,B=0;if(O=U,U=U+64|0,w=O+40|0,d=O+24|0,m=O+12|0,y=O,De(u|0,0,52)|0,h=X()|0|134225919,!u)return(f[c+4>>2]|0)>2||(f[c+8>>2]|0)>2||(f[c+12>>2]|0)>2?(_=0,w=0,ot(_|0),U=O,w|0):(De(rx(c)|0,0,45)|0,_=X()|0|h,w=-1,ot(_|0),U=O,w|0);if(f[w>>2]=f[c>>2],f[w+4>>2]=f[c+4>>2],f[w+8>>2]=f[c+8>>2],f[w+12>>2]=f[c+12>>2],_=w+4|0,(u|0)>0)for(c=-1;f[d>>2]=f[_>>2],f[d+4>>2]=f[_+4>>2],f[d+8>>2]=f[_+8>>2],u&1?(S$(_),f[m>>2]=f[_>>2],f[m+4>>2]=f[_+4>>2],f[m+8>>2]=f[_+8>>2],Fd(m)):(lx(_),f[m>>2]=f[_>>2],f[m+4>>2]=f[_+4>>2],f[m+8>>2]=f[_+8>>2],ma(m)),Ev(d,m,y),on(y),B=(15-u|0)*3|0,I=De(7,0,B|0)|0,h=h&~(X()|0),B=De(Bd(y)|0,0,B|0)|0,c=B|c&~I,h=X()|0|h,(u|0)>1;)u=u+-1|0;else c=-1;e:do if((f[_>>2]|0)<=2&&(f[w+8>>2]|0)<=2&&(f[w+12>>2]|0)<=2){if(d=rx(w)|0,u=De(d|0,0,45)|0,u=u|c,c=X()|0|h&-1040385,y=h$(w)|0,!(mt(d)|0)){if((y|0)<=0)break;for(m=0;;){if(d=Pe(u|0,c|0,52)|0,X()|0,d=d&15,d)for(h=1;B=(15-h|0)*3|0,w=Pe(u|0,c|0,B|0)|0,X()|0,I=De(7,0,B|0)|0,c=c&~(X()|0),B=De(ya(w&7)|0,0,B|0)|0,u=u&~I|B,c=c|(X()|0),h>>>0<d>>>0;)h=h+1|0;if(m=m+1|0,(m|0)==(y|0))break e}}m=Pe(u|0,c|0,52)|0,X()|0,m=m&15;t:do if(m){h=1;r:for(;;){switch(B=Pe(u|0,c|0,(15-h|0)*3|0)|0,X()|0,B&7){case 1:break r;case 0:break;default:break t}if(h>>>0<m>>>0)h=h+1|0;else break t}if(nx(d,f[w>>2]|0)|0)for(h=1;w=(15-h|0)*3|0,I=De(7,0,w|0)|0,B=c&~(X()|0),c=Pe(u|0,c|0,w|0)|0,X()|0,c=De(hs(c&7)|0,0,w|0)|0,u=u&~I|c,c=B|(X()|0),h>>>0<m>>>0;)h=h+1|0;else for(h=1;B=(15-h|0)*3|0,w=Pe(u|0,c|0,B|0)|0,X()|0,I=De(7,0,B|0)|0,c=c&~(X()|0),B=De(ya(w&7)|0,0,B|0)|0,u=u&~I|B,c=c|(X()|0),h>>>0<m>>>0;)h=h+1|0}while(0);if((y|0)>0){h=0;do u=Rv(u,c)|0,c=X()|0,h=h+1|0;while((h|0)!=(y|0))}}else u=0,c=0;while(0);return I=c,B=u,ot(I|0),U=O,B|0}function si(c){return c=c|0,(c|0)%2|0|0}function mx(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0;return m=U,U=U+16|0,d=m,u>>>0>15?(d=4,U=m,d|0):(f[c+4>>2]&2146435072|0)==2146435072||(f[c+8+4>>2]&2146435072|0)==2146435072?(d=3,U=m,d|0):(N$(c,u,d),u=K$(d,u)|0,d=X()|0,f[h>>2]=u,f[h+4>>2]=d,(u|0)==0&(d|0)==0&&Xe(23313,22674,786,22697),d=0,U=m,d|0)}function kv(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0;if(m=h+4|0,y=Pe(c|0,u|0,52)|0,X()|0,y=y&15,_=Pe(c|0,u|0,45)|0,X()|0,d=(y|0)==0,mt(_&127)|0){if(d)return _=1,_|0;d=1}else{if(d)return _=0,_|0;!(f[m>>2]|0)&&!(f[h+8>>2]|0)?d=(f[h+12>>2]|0)!=0&1:d=1}for(h=1;h&1?Fd(m):ma(m),_=Pe(c|0,u|0,(15-h|0)*3|0)|0,X()|0,ux(m,_&7),h>>>0<y>>>0;)h=h+1|0;return d|0}function Dl(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0,w=0,O=0,I=0,B=0;if(B=U,U=U+16|0,O=B,I=Pe(c|0,u|0,45)|0,X()|0,I=I&127,I>>>0>121)return f[h>>2]=0,f[h+4>>2]=0,f[h+8>>2]=0,f[h+12>>2]=0,I=5,U=B,I|0;e:do if(mt(I)|0&&(y=Pe(c|0,u|0,52)|0,X()|0,y=y&15,(y|0)!=0)){d=1;t:for(;;){switch(w=Pe(c|0,u|0,(15-d|0)*3|0)|0,X()|0,w&7){case 5:break t;case 0:break;default:{d=u;break e}}if(d>>>0<y>>>0)d=d+1|0;else{d=u;break e}}for(m=1,d=u;u=(15-m|0)*3|0,_=De(7,0,u|0)|0,w=d&~(X()|0),d=Pe(c|0,d|0,u|0)|0,X()|0,d=De(hs(d&7)|0,0,u|0)|0,c=c&~_|d,d=w|(X()|0),m>>>0<y>>>0;)m=m+1|0}else d=u;while(0);if(w=7696+(I*28|0)|0,f[h>>2]=f[w>>2],f[h+4>>2]=f[w+4>>2],f[h+8>>2]=f[w+8>>2],f[h+12>>2]=f[w+12>>2],!(kv(c,d,h)|0))return I=0,U=B,I|0;if(_=h+4|0,f[O>>2]=f[_>>2],f[O+4>>2]=f[_+4>>2],f[O+8>>2]=f[_+8>>2],y=Pe(c|0,d|0,52)|0,X()|0,w=y&15,y&1?(ma(_),y=w+1|0):y=w,!(mt(I)|0))d=0;else{e:do if(!w)d=0;else for(u=1;;){if(m=Pe(c|0,d|0,(15-u|0)*3|0)|0,X()|0,m=m&7,m|0){d=m;break e}if(u>>>0<w>>>0)u=u+1|0;else{d=0;break}}while(0);d=(d|0)==4&1}if(!(Nl(h,y,d,0)|0))(y|0)!=(w|0)&&(f[_>>2]=f[O>>2],f[_+4>>2]=f[O+4>>2],f[_+8>>2]=f[O+8>>2]);else{if(mt(I)|0)do;while(Nl(h,y,0,0)|0);(y|0)!=(w|0)&&lx(_)}return I=0,U=B,I|0}function cA(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0;return y=U,U=U+16|0,d=y,m=Dl(c,u,d)|0,m|0?(U=y,m|0):(m=Pe(c|0,u|0,52)|0,X()|0,F$(d,m&15,h),m=0,U=y,m|0)}function AA(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0,w=0;if(_=U,U=U+16|0,y=_,d=Dl(c,u,y)|0,d|0)return y=d,U=_,y|0;d=Pe(c|0,u|0,45)|0,X()|0,d=(mt(d&127)|0)==0,m=Pe(c|0,u|0,52)|0,X()|0,m=m&15;e:do if(!d){if(m|0)for(d=1;;){if(w=De(7,0,(15-d|0)*3|0)|0,!((w&c|0)==0&((X()|0)&u|0)==0))break e;if(d>>>0<m>>>0)d=d+1|0;else break}return xv(y,m,0,5,h),w=0,U=_,w|0}while(0);return Pv(y,m,0,6,h),w=0,U=_,w|0}function Q$(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0;if(m=Pe(c|0,u|0,45)|0,X()|0,!(mt(m&127)|0))return m=2,f[h>>2]=m,0;if(m=Pe(c|0,u|0,52)|0,X()|0,m=m&15,!m)return m=5,f[h>>2]=m,0;for(d=1;;){if(y=De(7,0,(15-d|0)*3|0)|0,!((y&c|0)==0&((X()|0)&u|0)==0)){d=2,c=6;break}if(d>>>0<m>>>0)d=d+1|0;else{d=5,c=6;break}}return(c|0)==6&&(f[h>>2]=d),0}function yx(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0,w=0,O=0,I=0,B=0,V=0;V=U,U=U+128|0,I=V+112|0,y=V+96|0,B=V,m=Pe(c|0,u|0,52)|0,X()|0,w=m&15,f[I>>2]=w,_=Pe(c|0,u|0,45)|0,X()|0,_=_&127;e:do if(mt(_)|0){if(w|0)for(d=1;;){if(O=De(7,0,(15-d|0)*3|0)|0,!((O&c|0)==0&((X()|0)&u|0)==0)){m=0;break e}if(d>>>0<w>>>0)d=d+1|0;else break}if(m&1)m=1;else return O=De(w+1|0,0,52)|0,B=X()|0|u&-15728641,I=De(7,0,(14-w|0)*3|0)|0,B=yx((O|c)&~I,B&~(X()|0),h)|0,U=V,B|0}else m=0;while(0);if(d=Dl(c,u,y)|0,!d){m?(dx(y,I,B),O=5):(px(y,I,B),O=6);e:do if(mt(_)|0)if(!w)c=5;else for(d=1;;){if(_=De(7,0,(15-d|0)*3|0)|0,!((_&c|0)==0&((X()|0)&u|0)==0)){c=2;break e}if(d>>>0<w>>>0)d=d+1|0;else{c=5;break}}else c=2;while(0);ba(h|0,-1,c<<2|0)|0;e:do if(m)for(y=0;;){if(_=B+(y<<4)|0,L$(_,f[I>>2]|0)|0,_=f[_>>2]|0,w=f[h>>2]|0,(w|0)==-1|(w|0)==(_|0))d=h;else{m=0;do{if(m=m+1|0,m>>>0>=c>>>0){d=1;break e}d=h+(m<<2)|0,w=f[d>>2]|0}while(!((w|0)==-1|(w|0)==(_|0)))}if(f[d>>2]=_,y=y+1|0,y>>>0>=O>>>0){d=0;break}}else for(y=0;;){if(_=B+(y<<4)|0,Nl(_,f[I>>2]|0,0,1)|0,_=f[_>>2]|0,w=f[h>>2]|0,(w|0)==-1|(w|0)==(_|0))d=h;else{m=0;do{if(m=m+1|0,m>>>0>=c>>>0){d=1;break e}d=h+(m<<2)|0,w=f[d>>2]|0}while(!((w|0)==-1|(w|0)==(_|0)))}if(f[d>>2]=_,y=y+1|0,y>>>0>=O>>>0){d=0;break}}while(0)}return B=d,U=V,B|0}function q$(){return 12}function Iv(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0,_=0,w=0,O=0;if(c>>>0>15)return w=4,w|0;if(De(c|0,0,52)|0,w=X()|0|134225919,!c){h=0,d=0;do mt(d)|0&&(De(d|0,0,45)|0,_=w|(X()|0),c=u+(h<<3)|0,f[c>>2]=-1,f[c+4>>2]=_,h=h+1|0),d=d+1|0;while((d|0)!=122);return h=0,h|0}h=0,_=0;do{if(mt(_)|0){for(De(_|0,0,45)|0,d=1,m=-1,y=w|(X()|0);O=De(7,0,(15-d|0)*3|0)|0,m=m&~O,y=y&~(X()|0),(d|0)!=(c|0);)d=d+1|0;O=u+(h<<3)|0,f[O>>2]=m,f[O+4>>2]=y,h=h+1|0}_=_+1|0}while((_|0)!=122);return h=0,h|0}function G$(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0,ae=0,ye=0,me=0,fe=0;if(fe=U,U=U+16|0,ye=fe,me=Pe(c|0,u|0,52)|0,X()|0,me=me&15,h>>>0>15)return me=4,U=fe,me|0;if((me|0)<(h|0))return me=12,U=fe,me|0;if((me|0)!=(h|0))if(y=De(h|0,0,52)|0,y=y|c,w=X()|0|u&-15728641,(me|0)>(h|0)){O=h;do ae=De(7,0,(14-O|0)*3|0)|0,O=O+1|0,y=ae|y,w=X()|0|w;while((O|0)<(me|0));ae=y}else ae=y;else ae=c,w=u;q=Pe(ae|0,w|0,45)|0,X()|0;e:do if(mt(q&127)|0){if(O=Pe(ae|0,w|0,52)|0,X()|0,O=O&15,O|0)for(y=1;;){if(q=De(7,0,(15-y|0)*3|0)|0,!((q&ae|0)==0&((X()|0)&w|0)==0)){I=33;break e}if(y>>>0<O>>>0)y=y+1|0;else break}if(q=d,f[q>>2]=0,f[q+4>>2]=0,(me|0)>(h|0)){for(q=u&-15728641,ee=me;;){if(Z=ee,ee=ee+-1|0,ee>>>0>15|(me|0)<(ee|0)){I=19;break}if((me|0)!=(ee|0))if(y=De(ee|0,0,52)|0,y=y|c,O=X()|0|q,(me|0)<(Z|0))V=y;else{I=ee;do V=De(7,0,(14-I|0)*3|0)|0,I=I+1|0,y=V|y,O=X()|0|O;while((I|0)<(me|0));V=y}else V=c,O=u;if(B=Pe(V|0,O|0,45)|0,X()|0,!(mt(B&127)|0))y=0;else{B=Pe(V|0,O|0,52)|0,X()|0,B=B&15;t:do if(!B)y=0;else for(I=1;;){if(y=Pe(V|0,O|0,(15-I|0)*3|0)|0,X()|0,y=y&7,y|0)break t;if(I>>>0<B>>>0)I=I+1|0;else{y=0;break}}while(0);y=(y|0)==0&1}if(O=Pe(c|0,u|0,(15-Z|0)*3|0)|0,X()|0,O=O&7,(O|0)==7){m=5,I=42;break}if(y=(y|0)!=0,(O|0)==1&y){m=5,I=42;break}if(V=O+(((O|0)!=0&y)<<31>>31)|0,V|0&&(I=me-Z|0,I=ds(7,0,I,((I|0)<0)<<31>>31)|0,B=X()|0,y?(y=an(I|0,B|0,5,0)|0,y=ht(y|0,X()|0,-5,-1)|0,y=_a(y|0,X()|0,6,0)|0,y=ht(y|0,X()|0,1,0)|0,O=X()|0):(y=I,O=B),Z=V+-1|0,Z=an(I|0,B|0,Z|0,((Z|0)<0)<<31>>31|0)|0,Z=ht(y|0,O|0,Z|0,X()|0)|0,V=X()|0,B=d,B=ht(Z|0,V|0,f[B>>2]|0,f[B+4>>2]|0)|0,V=X()|0,Z=d,f[Z>>2]=B,f[Z+4>>2]=V),(ee|0)<=(h|0)){I=37;break}}if((I|0)==19)Xe(23313,22674,1099,22710);else if((I|0)==37){_=d,m=f[_+4>>2]|0,_=f[_>>2]|0;break}else if((I|0)==42)return U=fe,m|0}else m=0,_=0}else I=33;while(0);e:do if((I|0)==33)if(q=d,f[q>>2]=0,f[q+4>>2]=0,(me|0)>(h|0)){for(y=me;;){if(m=Pe(c|0,u|0,(15-y|0)*3|0)|0,X()|0,m=m&7,(m|0)==7){m=5;break}if(_=me-y|0,_=ds(7,0,_,((_|0)<0)<<31>>31)|0,m=an(_|0,X()|0,m|0,0)|0,_=X()|0,q=d,_=ht(f[q>>2]|0,f[q+4>>2]|0,m|0,_|0)|0,m=X()|0,q=d,f[q>>2]=_,f[q+4>>2]=m,y=y+-1|0,(y|0)<=(h|0))break e}return U=fe,m|0}else m=0,_=0;while(0);return Ud(ae,w,me,ye)|0&&Xe(23313,22674,1063,22725),me=ye,ye=f[me+4>>2]|0,((m|0)>-1|(m|0)==-1&_>>>0>4294967295)&((ye|0)>(m|0)|((ye|0)==(m|0)?(f[me>>2]|0)>>>0>_>>>0:0))?(me=0,U=fe,me|0):(Xe(23313,22674,1139,22710),0)}function Z$(c,u,h,d,m,y){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0,y=y|0;var _=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0,ae=0;if(V=U,U=U+16|0,_=V,m>>>0>15)return y=4,U=V,y|0;if(w=Pe(h|0,d|0,52)|0,X()|0,w=w&15,(w|0)>(m|0))return y=12,U=V,y|0;if(Ud(h,d,m,_)|0&&Xe(23313,22674,1063,22725),B=_,I=f[B+4>>2]|0,!(((u|0)>-1|(u|0)==-1&c>>>0>4294967295)&((I|0)>(u|0)|((I|0)==(u|0)?(f[B>>2]|0)>>>0>c>>>0:0))))return y=2,U=V,y|0;B=m-w|0,m=De(m|0,0,52)|0,O=X()|0|d&-15728641,I=y,f[I>>2]=m|h,f[I+4>>2]=O,I=Pe(h|0,d|0,45)|0,X()|0;e:do if(mt(I&127)|0){if(w|0)for(_=1;;){if(I=De(7,0,(15-_|0)*3|0)|0,!((I&h|0)==0&((X()|0)&d|0)==0))break e;if(_>>>0<w>>>0)_=_+1|0;else break}if((B|0)<1)return y=0,U=V,y|0;for(I=w^15,d=-1,O=1,_=1;;){w=B-O|0,w=ds(7,0,w,((w|0)<0)<<31>>31)|0,h=X()|0;do if(_)if(_=an(w|0,h|0,5,0)|0,_=ht(_|0,X()|0,-5,-1)|0,_=_a(_|0,X()|0,6,0)|0,m=X()|0,(u|0)>(m|0)|(u|0)==(m|0)&c>>>0>_>>>0){u=ht(c|0,u|0,-1,-1)|0,u=sn(u|0,X()|0,_|0,m|0)|0,_=X()|0,Z=y,q=f[Z>>2]|0,Z=f[Z+4>>2]|0,ae=(I+d|0)*3|0,ee=De(7,0,ae|0)|0,Z=Z&~(X()|0),d=_a(u|0,_|0,w|0,h|0)|0,c=X()|0,m=ht(d|0,c|0,2,0)|0,ae=De(m|0,X()|0,ae|0)|0,Z=X()|0|Z,m=y,f[m>>2]=ae|q&~ee,f[m+4>>2]=Z,c=an(d|0,c|0,w|0,h|0)|0,c=sn(u|0,_|0,c|0,X()|0)|0,_=0,u=X()|0;break}else{ae=y,ee=f[ae>>2]|0,ae=f[ae+4>>2]|0,q=De(7,0,(I+d|0)*3|0)|0,ae=ae&~(X()|0),_=y,f[_>>2]=ee&~q,f[_+4>>2]=ae,_=1;break}else ee=y,m=f[ee>>2]|0,ee=f[ee+4>>2]|0,d=(I+d|0)*3|0,Z=De(7,0,d|0)|0,ee=ee&~(X()|0),ae=_a(c|0,u|0,w|0,h|0)|0,_=X()|0,d=De(ae|0,_|0,d|0)|0,ee=X()|0|ee,q=y,f[q>>2]=d|m&~Z,f[q+4>>2]=ee,_=an(ae|0,_|0,w|0,h|0)|0,c=sn(c|0,u|0,_|0,X()|0)|0,_=0,u=X()|0;while(0);if((B|0)>(O|0))d=~O,O=O+1|0;else{u=0;break}}return U=V,u|0}while(0);if((B|0)<1)return ae=0,U=V,ae|0;for(m=w^15,_=1;;)if(q=B-_|0,q=ds(7,0,q,((q|0)<0)<<31>>31)|0,ae=X()|0,O=y,h=f[O>>2]|0,O=f[O+4>>2]|0,w=(m-_|0)*3|0,d=De(7,0,w|0)|0,O=O&~(X()|0),Z=_a(c|0,u|0,q|0,ae|0)|0,ee=X()|0,w=De(Z|0,ee|0,w|0)|0,O=X()|0|O,I=y,f[I>>2]=w|h&~d,f[I+4>>2]=O,ae=an(Z|0,ee|0,q|0,ae|0)|0,c=sn(c|0,u|0,ae|0,X()|0)|0,u=X()|0,(B|0)<=(_|0)){u=0;break}else _=_+1|0;return U=V,u|0}function vx(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0;m=Pe(u|0,h|0,52)|0,X()|0,m=m&15,(u|0)==0&(h|0)==0|((d|0)>15|(m|0)>(d|0))?(d=-1,m=-1,u=0,h=0):(y=j$(u,h,m+1|0,d)|0,h=(X()|0)&-15728641,u=De(d|0,0,52)|0,u=y|u,h=h|(X()|0),y=(Jt(u,h)|0)==0,d=y?-1:d),y=c,f[y>>2]=u,f[y+4>>2]=h,f[c+8>>2]=m,f[c+12>>2]=d}function _x(c){c=c|0;var u=0,h=0,d=0,m=0,y=0,_=0,w=0,O=0,I=0;if(h=c,u=f[h>>2]|0,h=f[h+4>>2]|0,!((u|0)==0&(h|0)==0)&&(d=Pe(u|0,h|0,52)|0,X()|0,d=d&15,w=De(1,0,(d^15)*3|0)|0,u=ht(w|0,X()|0,u|0,h|0)|0,h=X()|0,w=c,f[w>>2]=u,f[w+4>>2]=h,w=c+8|0,_=f[w>>2]|0,!((d|0)<(_|0)))){for(O=c+12|0,y=d;;){if((y|0)==(_|0)){d=5;break}if(I=(y|0)==(f[O>>2]|0),m=(15-y|0)*3|0,d=Pe(u|0,h|0,m|0)|0,X()|0,d=d&7,I&((d|0)==1&!0)){d=7;break}if(!((d|0)==7&!0)){d=10;break}if(I=De(1,0,m|0)|0,u=ht(u|0,h|0,I|0,X()|0)|0,h=X()|0,I=c,f[I>>2]=u,f[I+4>>2]=h,(y|0)>(_|0))y=y+-1|0;else{d=10;break}}if((d|0)==5){I=c,f[I>>2]=0,f[I+4>>2]=0,f[w>>2]=-1,f[O>>2]=-1;return}else if((d|0)==7){_=De(1,0,m|0)|0,_=ht(u|0,h|0,_|0,X()|0)|0,w=X()|0,I=c,f[I>>2]=_,f[I+4>>2]=w,f[O>>2]=y+-1;return}else if((d|0)==10)return}}function fA(c){c=+c;var u=0;return u=c<0?c+6.283185307179586:c,+(c>=6.283185307179586?u+-6.283185307179586:u)}function Bl(c,u){return c=c|0,u=u|0,+Ze(+(+j[c>>3]-+j[u>>3]))<17453292519943298e-27?(u=+Ze(+(+j[c+8>>3]-+j[u+8>>3]))<17453292519943298e-27,u|0):(u=0,u|0)}function J$(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0;return m=+j[u>>3],d=+j[c>>3],y=+nt(+((m-d)*.5)),h=+nt(+((+j[u+8>>3]-+j[c+8>>3])*.5)),h=y*y+h*(+bt(+m)*+bt(+d)*h),+(+Nr(+ +At(+h),+ +At(+(1-h)))*2)}function hA(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0;return m=+j[u>>3],d=+j[c>>3],y=+nt(+((m-d)*.5)),h=+nt(+((+j[u+8>>3]-+j[c+8>>3])*.5)),h=y*y+h*(+bt(+m)*+bt(+d)*h),+(+Nr(+ +At(+h),+ +At(+(1-h)))*2*6371.007180918475)}function eU(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0;return m=+j[u>>3],d=+j[c>>3],y=+nt(+((m-d)*.5)),h=+nt(+((+j[u+8>>3]-+j[c+8>>3])*.5)),h=y*y+h*(+bt(+m)*+bt(+d)*h),+(+Nr(+ +At(+h),+ +At(+(1-h)))*2*6371.007180918475*1e3)}function tU(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0,_=0;return y=+j[u>>3],d=+bt(+y),m=+j[u+8>>3]-+j[c+8>>3],_=d*+nt(+m),h=+j[c>>3],+ +Nr(+_,+(+nt(+y)*+bt(+h)-+bt(+m)*(d*+nt(+h))))}function rU(c,u,h,d){c=c|0,u=+u,h=+h,d=d|0;var m=0,y=0,_=0,w=0;if(h<1e-16){f[d>>2]=f[c>>2],f[d+4>>2]=f[c+4>>2],f[d+8>>2]=f[c+8>>2],f[d+12>>2]=f[c+12>>2];return}y=u<0?u+6.283185307179586:u,y=u>=6.283185307179586?y+-6.283185307179586:y;do if(y<1e-16)u=+j[c>>3]+h,j[d>>3]=u,m=d;else{if(m=+Ze(+(y+-3.141592653589793))<1e-16,u=+j[c>>3],m){u=u-h,j[d>>3]=u,m=d;break}if(_=+bt(+h),h=+nt(+h),u=_*+nt(+u)+ +bt(+y)*(h*+bt(+u)),u=u>1?1:u,u=+Ml(+(u<-1?-1:u)),j[d>>3]=u,+Ze(+(u+-1.5707963267948966))<1e-16){j[d>>3]=1.5707963267948966,j[d+8>>3]=0;return}if(+Ze(+(u+1.5707963267948966))<1e-16){j[d>>3]=-1.5707963267948966,j[d+8>>3]=0;return}if(w=+bt(+u),y=h*+nt(+y)/w,h=+j[c>>3],u=(_-+nt(+u)*+nt(+h))/+bt(+h)/w,_=y>1?1:y,u=u>1?1:u,u=+j[c+8>>3]+ +Nr(+(_<-1?-1:_),+(u<-1?-1:u)),u>3.141592653589793)do u=u+-6.283185307179586;while(u>3.141592653589793);if(u<-3.141592653589793)do u=u+6.283185307179586;while(u<-3.141592653589793);j[d+8>>3]=u;return}while(0);if(+Ze(+(u+-1.5707963267948966))<1e-16){j[m>>3]=1.5707963267948966,j[d+8>>3]=0;return}if(+Ze(+(u+1.5707963267948966))<1e-16){j[m>>3]=-1.5707963267948966,j[d+8>>3]=0;return}if(u=+j[c+8>>3],u>3.141592653589793)do u=u+-6.283185307179586;while(u>3.141592653589793);if(u<-3.141592653589793)do u=u+6.283185307179586;while(u<-3.141592653589793);j[d+8>>3]=u}function nU(c,u){return c=c|0,u=u|0,c>>>0>15?(u=4,u|0):(j[u>>3]=+j[20528+(c<<3)>>3],u=0,u|0)}function iU(c,u){return c=c|0,u=u|0,c>>>0>15?(u=4,u|0):(j[u>>3]=+j[20656+(c<<3)>>3],u=0,u|0)}function oU(c,u){return c=c|0,u=u|0,c>>>0>15?(u=4,u|0):(j[u>>3]=+j[20784+(c<<3)>>3],u=0,u|0)}function sU(c,u){return c=c|0,u=u|0,c>>>0>15?(u=4,u|0):(j[u>>3]=+j[20912+(c<<3)>>3],u=0,u|0)}function Nv(c,u){c=c|0,u=u|0;var h=0;return c>>>0>15?(u=4,u|0):(h=ds(7,0,c,((c|0)<0)<<31>>31)|0,h=an(h|0,X()|0,120,0)|0,c=X()|0,f[u>>2]=h|2,f[u+4>>2]=c,u=0,u|0)}function bx(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0;return Z=+j[u>>3],B=+j[c>>3],O=+nt(+((Z-B)*.5)),y=+j[u+8>>3],I=+j[c+8>>3],_=+nt(+((y-I)*.5)),w=+bt(+B),V=+bt(+Z),_=O*O+_*(V*w*_),_=+Nr(+ +At(+_),+ +At(+(1-_)))*2,O=+j[h>>3],Z=+nt(+((O-Z)*.5)),d=+j[h+8>>3],y=+nt(+((d-y)*.5)),m=+bt(+O),y=Z*Z+y*(V*m*y),y=+Nr(+ +At(+y),+ +At(+(1-y)))*2,O=+nt(+((B-O)*.5)),d=+nt(+((I-d)*.5)),d=O*O+d*(w*m*d),d=+Nr(+ +At(+d),+ +At(+(1-d)))*2,m=(_+y+d)*.5,+(+nn(+ +At(+(+On(+(m*.5))*+On(+((m-_)*.5))*+On(+((m-y)*.5))*+On(+((m-d)*.5)))))*4)}function Dv(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0,w=0;if(w=U,U=U+192|0,y=w+168|0,_=w,m=cA(c,u,y)|0,m|0)return h=m,U=w,h|0;if(AA(c,u,_)|0&&Xe(23313,22742,386,22751),u=f[_>>2]|0,(u|0)>0){if(d=+bx(_+8|0,_+8+(((u|0)!=1&1)<<4)|0,y)+0,(u|0)!=1){c=1;do m=c,c=c+1|0,d=d+ +bx(_+8+(m<<4)|0,_+8+(((c|0)%(u|0)|0)<<4)|0,y);while((c|0)<(u|0))}}else d=0;return j[h>>3]=d,h=0,U=w,h|0}function aU(c,u,h){return c=c|0,u=u|0,h=h|0,c=Dv(c,u,h)|0,c|0||(j[h>>3]=+j[h>>3]*6371.007180918475*6371.007180918475),c|0}function lU(c,u,h){return c=c|0,u=u|0,h=h|0,c=Dv(c,u,h)|0,c|0||(j[h>>3]=+j[h>>3]*6371.007180918475*6371.007180918475*1e3*1e3),c|0}function uU(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0,w=0,O=0,I=0,B=0;if(w=U,U=U+176|0,_=w,c=$d(c,u,_)|0,c|0)return _=c,U=w,_|0;if(j[h>>3]=0,c=f[_>>2]|0,(c|0)<=1)return _=0,U=w,_|0;u=c+-1|0,c=0,d=+j[_+8>>3],m=+j[_+16>>3],y=0;do c=c+1|0,I=d,d=+j[_+8+(c<<4)>>3],B=+nt(+((d-I)*.5)),O=m,m=+j[_+8+(c<<4)+8>>3],O=+nt(+((m-O)*.5)),O=B*B+O*(+bt(+d)*+bt(+I)*O),y=y+ +Nr(+ +At(+O),+ +At(+(1-O)))*2;while((c|0)<(u|0));return j[h>>3]=y,_=0,U=w,_|0}function cU(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0,w=0,O=0,I=0,B=0;if(w=U,U=U+176|0,_=w,c=$d(c,u,_)|0,c|0)return _=c,y=+j[h>>3],y=y*6371.007180918475,j[h>>3]=y,U=w,_|0;if(j[h>>3]=0,c=f[_>>2]|0,(c|0)<=1)return _=0,y=0,y=y*6371.007180918475,j[h>>3]=y,U=w,_|0;u=c+-1|0,c=0,d=+j[_+8>>3],m=+j[_+16>>3],y=0;do c=c+1|0,I=d,d=+j[_+8+(c<<4)>>3],B=+nt(+((d-I)*.5)),O=m,m=+j[_+8+(c<<4)+8>>3],O=+nt(+((m-O)*.5)),O=B*B+O*(+bt(+I)*+bt(+d)*O),y=y+ +Nr(+ +At(+O),+ +At(+(1-O)))*2;while((c|0)!=(u|0));return j[h>>3]=y,_=0,B=y,B=B*6371.007180918475,j[h>>3]=B,U=w,_|0}function AU(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0,w=0,O=0,I=0,B=0;if(w=U,U=U+176|0,_=w,c=$d(c,u,_)|0,c|0)return _=c,y=+j[h>>3],y=y*6371.007180918475,y=y*1e3,j[h>>3]=y,U=w,_|0;if(j[h>>3]=0,c=f[_>>2]|0,(c|0)<=1)return _=0,y=0,y=y*6371.007180918475,y=y*1e3,j[h>>3]=y,U=w,_|0;u=c+-1|0,c=0,d=+j[_+8>>3],m=+j[_+16>>3],y=0;do c=c+1|0,I=d,d=+j[_+8+(c<<4)>>3],B=+nt(+((d-I)*.5)),O=m,m=+j[_+8+(c<<4)+8>>3],O=+nt(+((m-O)*.5)),O=B*B+O*(+bt(+I)*+bt(+d)*O),y=y+ +Nr(+ +At(+O),+ +At(+(1-O)))*2;while((c|0)!=(u|0));return j[h>>3]=y,_=0,B=y,B=B*6371.007180918475,B=B*1e3,j[h>>3]=B,U=w,_|0}function fU(c){c=c|0;var u=0,h=0,d=0;return u=ro(1,12)|0,u||Xe(22832,22787,49,22845),h=c+4|0,d=f[h>>2]|0,d|0?(d=d+8|0,f[d>>2]=u,f[h>>2]=u,u|0):(f[c>>2]|0&&Xe(22862,22787,61,22885),d=c,f[d>>2]=u,f[h>>2]=u,u|0)}function hU(c,u){c=c|0,u=u|0;var h=0,d=0;return d=to(24)|0,d||Xe(22899,22787,78,22913),f[d>>2]=f[u>>2],f[d+4>>2]=f[u+4>>2],f[d+8>>2]=f[u+8>>2],f[d+12>>2]=f[u+12>>2],f[d+16>>2]=0,u=c+4|0,h=f[u>>2]|0,h|0?(f[h+16>>2]=d,f[u>>2]=d,d|0):(f[c>>2]|0&&Xe(22928,22787,82,22913),f[c>>2]=d,f[u>>2]=d,d|0)}function wx(c){c=c|0;var u=0,h=0,d=0,m=0;if(c)for(d=1;;){if(u=f[c>>2]|0,u|0)do{if(h=f[u>>2]|0,h|0)do m=h,h=f[h+16>>2]|0,Je(m);while(h|0);m=u,u=f[u+8>>2]|0,Je(m)}while(u|0);if(u=c,c=f[c+8>>2]|0,d||Je(u),c)d=0;else break}}function dU(c){c=c|0;var u=0,h=0,d=0,m=0,y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0,ae=0,ye=0,me=0,fe=0,he=0,se=0,Be=0,Ue=0,Ie=0,Fe=0,kt=0,wt=0,Tt=0,at=0,st=0,lt=0,$t=0,et=0;if(m=c+8|0,f[m>>2]|0)return et=1,et|0;if(d=f[c>>2]|0,!d)return et=0,et|0;u=d,h=0;do h=h+1|0,u=f[u+8>>2]|0;while(u|0);if(h>>>0<2)return et=0,et|0;lt=to(h<<2)|0,lt||Xe(22948,22787,317,22967),st=to(h<<5)|0,st||Xe(22989,22787,321,22967),f[c>>2]=0,Ue=c+4|0,f[Ue>>2]=0,f[m>>2]=0,h=0,at=0,Be=0,V=0;e:for(;;){if(B=f[d>>2]|0,B){y=0,_=B;do{if(O=+j[_+8>>3],u=_,_=f[_+16>>2]|0,I=(_|0)==0,m=I?B:_,w=+j[m+8>>3],+Ze(+(O-w))>3.141592653589793){et=14;break}y=y+(w-O)*(+j[u>>3]+ +j[m>>3])}while(!I);if((et|0)==14){et=0,y=0,u=B;do se=+j[u+8>>3],Tt=u+16|0,wt=f[Tt>>2]|0,wt=wt|0?wt:B,he=+j[wt+8>>3],y=y+(+j[u>>3]+ +j[wt>>3])*((he<0?he+6.283185307179586:he)-(se<0?se+6.283185307179586:se)),u=f[(u|0?Tt:d)>>2]|0;while(u|0)}y>0?(f[lt+(at<<2)>>2]=d,at=at+1|0,m=Be,u=V):et=19}else et=19;if((et|0)==19){et=0;do if(h){if(u=h+8|0,f[u>>2]|0){et=21;break e}if(h=ro(1,12)|0,!h){et=23;break e}f[u>>2]=h,m=h+4|0,_=h,u=V}else if(V){m=Ue,_=V+8|0,u=d,h=c;break}else if(f[c>>2]|0){et=27;break e}else{m=Ue,_=c,u=d,h=c;break}while(0);if(f[_>>2]=d,f[m>>2]=d,_=st+(Be<<5)|0,I=f[d>>2]|0,I){for(B=st+(Be<<5)+8|0,j[B>>3]=17976931348623157e292,V=st+(Be<<5)+24|0,j[V>>3]=17976931348623157e292,j[_>>3]=-17976931348623157e292,Z=st+(Be<<5)+16|0,j[Z>>3]=-17976931348623157e292,me=17976931348623157e292,fe=-17976931348623157e292,m=0,ee=I,O=17976931348623157e292,ae=17976931348623157e292,ye=-17976931348623157e292,w=-17976931348623157e292;y=+j[ee>>3],se=+j[ee+8>>3],ee=f[ee+16>>2]|0,q=(ee|0)==0,he=+j[(q?I:ee)+8>>3],y<O&&(j[B>>3]=y,O=y),se<ae&&(j[V>>3]=se,ae=se),y>ye?j[_>>3]=y:y=ye,se>w&&(j[Z>>3]=se,w=se),me=se>0&se<me?se:me,fe=se<0&se>fe?se:fe,m=m|+Ze(+(se-he))>3.141592653589793,!q;)ye=y;m&&(j[Z>>3]=fe,j[V>>3]=me)}else f[_>>2]=0,f[_+4>>2]=0,f[_+8>>2]=0,f[_+12>>2]=0,f[_+16>>2]=0,f[_+20>>2]=0,f[_+24>>2]=0,f[_+28>>2]=0;m=Be+1|0}if(Tt=d+8|0,d=f[Tt>>2]|0,f[Tt>>2]=0,d)Be=m,V=u;else{et=45;break}}if((et|0)==21)Xe(22765,22787,35,22799);else if((et|0)==23)Xe(22819,22787,37,22799);else if((et|0)==27)Xe(22862,22787,61,22885);else if((et|0)==45){e:do if((at|0)>0){for(Tt=(m|0)==0,kt=m<<2,wt=(c|0)==0,Fe=0,u=0;;){if(Ie=f[lt+(Fe<<2)>>2]|0,Tt)et=73;else{if(Be=to(kt)|0,!Be){et=50;break}if(Ue=to(kt)|0,!Ue){et=52;break}t:do if(wt)h=0;else{for(m=0,h=0,_=c;d=st+(m<<5)|0,Sx(f[_>>2]|0,d,f[Ie>>2]|0)|0?(f[Be+(h<<2)>>2]=_,f[Ue+(h<<2)>>2]=d,q=h+1|0):q=h,_=f[_+8>>2]|0,_;)m=m+1|0,h=q;if((q|0)>0)if(d=f[Be>>2]|0,(q|0)==1)h=d;else for(Z=0,ee=-1,h=d,V=d;;){for(I=f[V>>2]|0,d=0,_=0;m=f[f[Be+(_<<2)>>2]>>2]|0,(m|0)==(I|0)?B=d:B=d+((Sx(m,f[Ue+(_<<2)>>2]|0,f[I>>2]|0)|0)&1)|0,_=_+1|0,(_|0)!=(q|0);)d=B;if(m=(B|0)>(ee|0),h=m?V:h,d=Z+1|0,(d|0)==(q|0))break t;Z=d,ee=m?B:ee,V=f[Be+(d<<2)>>2]|0}else h=0}while(0);if(Je(Be),Je(Ue),h){if(m=h+4|0,d=f[m>>2]|0,d)h=d+8|0;else if(f[h>>2]|0){et=70;break}f[h>>2]=Ie,f[m>>2]=Ie}else et=73}if((et|0)==73){if(et=0,u=f[Ie>>2]|0,u|0)do Ue=u,u=f[u+16>>2]|0,Je(Ue);while(u|0);Je(Ie),u=1}if(Fe=Fe+1|0,(Fe|0)>=(at|0)){$t=u;break e}}(et|0)==50?Xe(23004,22787,249,23023):(et|0)==52?Xe(23042,22787,252,23023):(et|0)==70&&Xe(22862,22787,61,22885)}else $t=0;while(0);return Je(lt),Je(st),et=$t,et|0}return 0}function Sx(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0,w=0,O=0,I=0,B=0;if(!(ox(u,h)|0)||(u=ix(u)|0,d=+j[h>>3],m=+j[h+8>>3],m=u&m<0?m+6.283185307179586:m,c=f[c>>2]|0,!c))return c=0,c|0;if(u){u=0,I=m,h=c;e:for(;;){for(;_=+j[h>>3],m=+j[h+8>>3],h=h+16|0,B=f[h>>2]|0,B=B|0?B:c,y=+j[B>>3],w=+j[B+8>>3],_>y?(O=_,_=w):(O=y,y=_,_=m,m=w),d=d==y|d==O?d+2220446049250313e-31:d,!!(d<y|d>O);)if(h=f[h>>2]|0,!h){h=22;break e}if(w=_<0?_+6.283185307179586:_,_=m<0?m+6.283185307179586:m,I=w==I|_==I?I+-2220446049250313e-31:I,O=w+(_-w)*((d-y)/(O-y)),(O<0?O+6.283185307179586:O)>I&&(u=u^1),h=f[h>>2]|0,!h){h=22;break}}if((h|0)==22)return u|0}else{u=0,I=m,h=c;e:for(;;){for(;_=+j[h>>3],m=+j[h+8>>3],h=h+16|0,B=f[h>>2]|0,B=B|0?B:c,y=+j[B>>3],w=+j[B+8>>3],_>y?(O=_,_=w):(O=y,y=_,_=m,m=w),d=d==y|d==O?d+2220446049250313e-31:d,!!(d<y|d>O);)if(h=f[h>>2]|0,!h){h=22;break e}if(I=_==I|m==I?I+-2220446049250313e-31:I,_+(m-_)*((d-y)/(O-y))>I&&(u=u^1),h=f[h>>2]|0,!h){h=22;break}}if((h|0)==22)return u|0}return 0}function ko(c,u,h,d,m){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0;var y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0,ae=0,ye=0,me=0,fe=0;if(fe=U,U=U+32|0,me=fe+16|0,ye=fe,y=Pe(c|0,u|0,52)|0,X()|0,y=y&15,ee=Pe(h|0,d|0,52)|0,X()|0,(y|0)!=(ee&15|0))return me=12,U=fe,me|0;if(I=Pe(c|0,u|0,45)|0,X()|0,I=I&127,B=Pe(h|0,d|0,45)|0,X()|0,B=B&127,I>>>0>121|B>>>0>121)return me=5,U=fe,me|0;if(ee=(I|0)!=(B|0),ee){if(w=Sv(I,B)|0,(w|0)==7)return me=1,U=fe,me|0;O=Sv(B,I)|0,(O|0)==7?Xe(23066,23090,161,23100):(q=w,_=O)}else q=0,_=0;V=mt(I)|0,Z=mt(B)|0,f[me>>2]=0,f[me+4>>2]=0,f[me+8>>2]=0,f[me+12>>2]=0;do if(q){if(B=f[4272+(I*28|0)+(q<<2)>>2]|0,w=(B|0)>0,Z)if(w){I=0,O=h,w=d;do O=Y$(O,w)|0,w=X()|0,_=hs(_)|0,(_|0)==1&&(_=hs(1)|0),I=I+1|0;while((I|0)!=(B|0));B=_,I=O,O=w}else B=_,I=h,O=d;else if(w){I=0,O=h,w=d;do O=Mv(O,w)|0,w=X()|0,_=hs(_)|0,I=I+1|0;while((I|0)!=(B|0));B=_,I=O,O=w}else B=_,I=h,O=d;if(kv(I,O,me)|0,ee||Xe(23115,23090,191,23100),w=(V|0)!=0,_=(Z|0)!=0,w&_&&Xe(23142,23090,192,23100),w){if(_=Mn(c,u)|0,(_|0)==7){y=5;break}if(Ye[21872+(_*7|0)+q>>0]|0){y=1;break}O=f[21040+(_*28|0)+(q<<2)>>2]|0,I=O}else if(_){if(_=Mn(I,O)|0,(_|0)==7){y=5;break}if(Ye[21872+(_*7|0)+B>>0]|0){y=1;break}I=0,O=f[21040+(B*28|0)+(_<<2)>>2]|0}else I=0,O=0;if((I|O|0)<0)y=5;else{if((O|0)>0){w=me+4|0,_=0;do Ld(w),_=_+1|0;while((_|0)!=(O|0))}if(f[ye>>2]=0,f[ye+4>>2]=0,f[ye+8>>2]=0,ux(ye,q),y|0)for(;si(y)|0?Fd(ye):ma(ye),(y|0)>1;)y=y+-1|0;if((I|0)>0){y=0;do Ld(ye),y=y+1|0;while((y|0)!=(I|0))}ae=me+4|0,_n(ae,ye,ae),on(ae),ae=51}}else if(kv(h,d,me)|0,(V|0)!=0&(Z|0)!=0)if((B|0)!=(I|0)&&Xe(23173,23090,261,23100),_=Mn(c,u)|0,y=Mn(h,d)|0,(_|0)==7|(y|0)==7)y=5;else if(Ye[21872+(_*7|0)+y>>0]|0)y=1;else if(_=f[21040+(_*28|0)+(y<<2)>>2]|0,(_|0)>0){w=me+4|0,y=0;do Ld(w),y=y+1|0;while((y|0)!=(_|0));ae=51}else ae=51;else ae=51;while(0);return(ae|0)==51&&(y=me+4|0,f[m>>2]=f[y>>2],f[m+4>>2]=f[y+4>>2],f[m+8>>2]=f[y+8>>2],y=0),me=y,U=fe,me|0}function Ex(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0,ae=0,ye=0,me=0,fe=0,he=0;if(ae=U,U=U+48|0,I=ae+36|0,_=ae+24|0,w=ae+12|0,O=ae,m=Pe(c|0,u|0,52)|0,X()|0,m=m&15,Z=Pe(c|0,u|0,45)|0,X()|0,Z=Z&127,Z>>>0>121)return d=5,U=ae,d|0;if(B=mt(Z)|0,De(m|0,0,52)|0,ye=X()|0|134225919,y=d,f[y>>2]=-1,f[y+4>>2]=ye,!m)return m=Bd(h)|0,(m|0)==7||(m=wv(Z,m)|0,(m|0)==127)?(ye=1,U=ae,ye|0):(ee=De(m|0,0,45)|0,q=X()|0,Z=d,q=f[Z+4>>2]&-1040385|q,ye=d,f[ye>>2]=f[Z>>2]|ee,f[ye+4>>2]=q,ye=0,U=ae,ye|0);for(f[I>>2]=f[h>>2],f[I+4>>2]=f[h+4>>2],f[I+8>>2]=f[h+8>>2],h=m;;){if(y=h,h=h+-1|0,f[_>>2]=f[I>>2],f[_+4>>2]=f[I+4>>2],f[_+8>>2]=f[I+8>>2],si(y)|0){if(m=b$(I)|0,m|0){h=13;break}f[w>>2]=f[I>>2],f[w+4>>2]=f[I+4>>2],f[w+8>>2]=f[I+8>>2],Fd(w)}else{if(m=w$(I)|0,m|0){h=13;break}f[w>>2]=f[I>>2],f[w+4>>2]=f[I+4>>2],f[w+8>>2]=f[I+8>>2],ma(w)}if(Ev(_,w,O),on(O),m=d,fe=f[m>>2]|0,m=f[m+4>>2]|0,he=(15-y|0)*3|0,me=De(7,0,he|0)|0,m=m&~(X()|0),he=De(Bd(O)|0,0,he|0)|0,m=X()|0|m,ye=d,f[ye>>2]=he|fe&~me,f[ye+4>>2]=m,(y|0)<=1){h=14;break}}e:do if((h|0)!=13&&(h|0)==14)if((f[I>>2]|0)<=1&&(f[I+4>>2]|0)<=1&&(f[I+8>>2]|0)<=1){h=Bd(I)|0,m=wv(Z,h)|0,(m|0)==127?O=0:O=mt(m)|0;t:do if(h){if(B){if(m=Mn(c,u)|0,(m|0)==7){m=5;break e}if(y=f[21248+(m*28|0)+(h<<2)>>2]|0,(y|0)>0){m=h,h=0;do m=ya(m)|0,h=h+1|0;while((h|0)!=(y|0))}else m=h;if((m|0)==1){m=9;break e}h=wv(Z,m)|0,(h|0)==127&&Xe(23200,23090,411,23230),mt(h)|0?Xe(23245,23090,412,23230):(q=h,ee=y,V=m)}else q=m,ee=0,V=h;if(w=f[4272+(Z*28|0)+(V<<2)>>2]|0,(w|0)<=-1&&Xe(23276,23090,419,23230),!O){if((ee|0)<0){m=5;break e}if(ee|0){y=d,m=0,h=f[y>>2]|0,y=f[y+4>>2]|0;do h=va(h,y)|0,y=X()|0,he=d,f[he>>2]=h,f[he+4>>2]=y,m=m+1|0;while((m|0)<(ee|0))}if((w|0)<=0){m=q,h=58;break}for(y=d,m=0,h=f[y>>2]|0,y=f[y+4>>2]|0;;)if(h=va(h,y)|0,y=X()|0,he=d,f[he>>2]=h,f[he+4>>2]=y,m=m+1|0,(m|0)==(w|0)){m=q,h=58;break t}}if(_=Sv(q,Z)|0,(_|0)==7&&Xe(23066,23090,428,23230),m=d,h=f[m>>2]|0,m=f[m+4>>2]|0,(w|0)>0){y=0;do h=va(h,m)|0,m=X()|0,he=d,f[he>>2]=h,f[he+4>>2]=m,y=y+1|0;while((y|0)!=(w|0))}if(m=Mn(h,m)|0,(m|0)==7&&Xe(23313,23090,440,23230),h=bv(q)|0,h=f[(h?21664:21456)+(_*28|0)+(m<<2)>>2]|0,(h|0)<0&&Xe(23313,23090,454,23230),!h)m=q,h=58;else{_=d,m=0,y=f[_>>2]|0,_=f[_+4>>2]|0;do y=Rv(y,_)|0,_=X()|0,he=d,f[he>>2]=y,f[he+4>>2]=_,m=m+1|0;while((m|0)<(h|0));m=q,h=58}}else if((B|0)!=0&(O|0)!=0){if(h=Mn(c,u)|0,y=d,y=Mn(f[y>>2]|0,f[y+4>>2]|0)|0,(h|0)==7|(y|0)==7){m=5;break e}if(y=f[21248+(h*28|0)+(y<<2)>>2]|0,(y|0)<0){m=5;break e}if(!y)h=59;else{w=d,h=0,_=f[w>>2]|0,w=f[w+4>>2]|0;do _=va(_,w)|0,w=X()|0,he=d,f[he>>2]=_,f[he+4>>2]=w,h=h+1|0;while((h|0)<(y|0));h=58}}else h=58;while(0);if((h|0)==58&&O&&(h=59),(h|0)==59&&(he=d,(Mn(f[he>>2]|0,f[he+4>>2]|0)|0)==1)){m=9;break}he=d,me=f[he>>2]|0,he=f[he+4>>2]&-1040385,fe=De(m|0,0,45)|0,he=he|(X()|0),m=d,f[m>>2]=me|fe,f[m+4>>2]=he,m=0}else m=1;while(0);return he=m,U=ae,he|0}function pU(c,u,h,d,m,y){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0,y=y|0;var _=0,w=0;return w=U,U=U+16|0,_=w,m?c=15:(c=ko(c,u,h,d,_)|0,c||(E$(_,y),c=0)),U=w,c|0}function gU(c,u,h,d,m){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0;var y=0,_=0;return _=U,U=U+16|0,y=_,d?h=15:(h=T$(h,y)|0,h||(h=Ex(c,u,y,m)|0)),U=_,h|0}function mU(c,u,h,d,m){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0;var y=0,_=0,w=0,O=0;return O=U,U=U+32|0,_=O+12|0,w=O,y=ko(c,u,c,u,_)|0,y|0?(w=y,U=O,w|0):(c=ko(c,u,h,d,w)|0,c|0?(w=c,U=O,w|0):(_=Tv(_,w)|0,w=m,f[w>>2]=_,f[w+4>>2]=((_|0)<0)<<31>>31,w=0,U=O,w|0))}function yU(c,u,h,d,m){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0;var y=0,_=0,w=0,O=0;return O=U,U=U+32|0,_=O+12|0,w=O,y=ko(c,u,c,u,_)|0,!y&&(y=ko(c,u,h,d,w)|0,!y)?(d=Tv(_,w)|0,d=ht(d|0,((d|0)<0)<<31>>31|0,1,0)|0,_=X()|0,w=m,f[w>>2]=d,f[w+4>>2]=_,w=0,U=O,w|0):(w=y,U=O,w|0)}function vU(c,u,h,d,m){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0;var y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0,ae=0,ye=0,me=0,fe=0,he=0,se=0,Be=0,Ue=0,Ie=0,Fe=0;if(Ie=U,U=U+48|0,_=Ie+24|0,w=Ie+12|0,Ue=Ie,y=ko(c,u,c,u,_)|0,!y&&(y=ko(c,u,h,d,w)|0,!y)){se=Tv(_,w)|0,Be=((se|0)<0)<<31>>31,f[_>>2]=0,f[_+4>>2]=0,f[_+8>>2]=0,f[w>>2]=0,f[w+4>>2]=0,f[w+8>>2]=0,ko(c,u,c,u,_)|0&&Xe(23313,23090,691,23299),ko(c,u,h,d,w)|0&&Xe(23313,23090,696,23299),hx(_),hx(w),se?(V=f[_>>2]|0,q=+(se|0),me=_+4|0,Z=f[me>>2]|0,fe=_+8|0,ee=f[fe>>2]|0,he=_,d=V,y=Z,h=ee,ae=+((f[w>>2]|0)-V|0)/q,ye=+((f[w+4>>2]|0)-Z|0)/q,q=+((f[w+8>>2]|0)-ee|0)/q):(y=_+4|0,h=_+8|0,me=y,fe=h,he=_,d=f[_>>2]|0,y=f[y>>2]|0,h=f[h>>2]|0,ae=0,ye=0,q=0),f[Ue>>2]=d,ee=Ue+4|0,f[ee>>2]=y,Z=Ue+8|0,f[Z>>2]=h;e:do if((se|0)<0)y=0;else for(B=0,V=0,y=d;;){I=+(V>>>0)+4294967296*+(B|0),Fe=ae*I+ +(y|0),O=ye*I+ +(f[me>>2]|0),I=q*I+ +(f[fe>>2]|0),h=~~+zd(+Fe),_=~~+zd(+O),y=~~+zd(+I),Fe=+Ze(+(+(h|0)-Fe)),O=+Ze(+(+(_|0)-O)),I=+Ze(+(+(y|0)-I));do if(Fe>O&Fe>I)h=0-(_+y)|0,d=_;else if(w=0-h|0,O>I){d=w-y|0;break}else{d=_,y=w-_|0;break}while(0);if(f[Ue>>2]=h,f[ee>>2]=d,f[Z>>2]=y,x$(Ue),y=Ex(c,u,Ue,m+(V<<3)|0)|0,y|0)break e;if(!((B|0)<(Be|0)|(B|0)==(Be|0)&V>>>0<se>>>0)){y=0;break e}y=ht(V|0,B|0,1,0)|0,w=X()|0,B=w,V=y,y=f[he>>2]|0}while(0);return Ue=y,U=Ie,Ue|0}return Ue=y,U=Ie,Ue|0}function ds(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0,_=0;if((h|0)==0&(d|0)==0)return m=0,y=1,ot(m|0),y|0;y=c,m=u,c=1,u=0;do _=(h&1|0)==0&!0,c=an((_?1:y)|0,(_?0:m)|0,c|0,u|0)|0,u=X()|0,h=Nx(h|0,d|0,1)|0,d=X()|0,y=an(y|0,m|0,y|0,m|0)|0,m=X()|0;while(!((h|0)==0&(d|0)==0));return ot(u|0),c|0}function Tx(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0;if(!(ox(u,h)|0)||(u=ix(u)|0,d=+j[h>>3],m=+j[h+8>>3],m=u&m<0?m+6.283185307179586:m,Z=f[c>>2]|0,(Z|0)<=0))return Z=0,Z|0;if(V=f[c+4>>2]|0,u){u=0,B=m,h=-1,c=0;e:for(;;){for(I=c;_=+j[V+(I<<4)>>3],m=+j[V+(I<<4)+8>>3],c=(h+2|0)%(Z|0)|0,y=+j[V+(c<<4)>>3],w=+j[V+(c<<4)+8>>3],_>y?(O=_,_=w):(O=y,y=_,_=m,m=w),d=d==y|d==O?d+2220446049250313e-31:d,!!(d<y|d>O);)if(h=I+1|0,(h|0)>=(Z|0)){h=22;break e}else c=I,I=h,h=c;if(w=_<0?_+6.283185307179586:_,_=m<0?m+6.283185307179586:m,B=w==B|_==B?B+-2220446049250313e-31:B,O=w+(_-w)*((d-y)/(O-y)),(O<0?O+6.283185307179586:O)>B&&(u=u^1),c=I+1|0,(c|0)>=(Z|0)){h=22;break}else h=I}if((h|0)==22)return u|0}else{u=0,B=m,h=-1,c=0;e:for(;;){for(I=c;_=+j[V+(I<<4)>>3],m=+j[V+(I<<4)+8>>3],c=(h+2|0)%(Z|0)|0,y=+j[V+(c<<4)>>3],w=+j[V+(c<<4)+8>>3],_>y?(O=_,_=w):(O=y,y=_,_=m,m=w),d=d==y|d==O?d+2220446049250313e-31:d,!!(d<y|d>O);)if(h=I+1|0,(h|0)>=(Z|0)){h=22;break e}else c=I,I=h,h=c;if(B=_==B|m==B?B+-2220446049250313e-31:B,_+(m-_)*((d-y)/(O-y))>B&&(u=u^1),c=I+1|0,(c|0)>=(Z|0)){h=22;break}else h=I}if((h|0)==22)return u|0}return 0}function xx(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0,ae=0,ye=0,me=0,fe=0;if(q=f[c>>2]|0,!q){f[u>>2]=0,f[u+4>>2]=0,f[u+8>>2]=0,f[u+12>>2]=0,f[u+16>>2]=0,f[u+20>>2]=0,f[u+24>>2]=0,f[u+28>>2]=0;return}if(ae=u+8|0,j[ae>>3]=17976931348623157e292,ye=u+24|0,j[ye>>3]=17976931348623157e292,j[u>>3]=-17976931348623157e292,me=u+16|0,j[me>>3]=-17976931348623157e292,!((q|0)<=0)){for(Z=f[c+4>>2]|0,I=17976931348623157e292,B=-17976931348623157e292,V=0,c=-1,y=17976931348623157e292,_=17976931348623157e292,O=-17976931348623157e292,d=-17976931348623157e292,ee=0;h=+j[Z+(ee<<4)>>3],w=+j[Z+(ee<<4)+8>>3],c=c+2|0,m=+j[Z+(((c|0)==(q|0)?0:c)<<4)+8>>3],h<y&&(j[ae>>3]=h,y=h),w<_&&(j[ye>>3]=w,_=w),h>O?j[u>>3]=h:h=O,w>d&&(j[me>>3]=w,d=w),I=w>0&w<I?w:I,B=w<0&w>B?w:B,V=V|+Ze(+(w-m))>3.141592653589793,c=ee+1|0,(c|0)!=(q|0);)fe=ee,O=h,ee=c,c=fe;V&&(j[me>>3]=B,j[ye>>3]=I)}}function _U(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0,ae=0,ye=0,me=0,fe=0,he=0,se=0,Be=0,Ue=0,Ie=0;if(q=f[c>>2]|0,q){if(ae=u+8|0,j[ae>>3]=17976931348623157e292,ye=u+24|0,j[ye>>3]=17976931348623157e292,j[u>>3]=-17976931348623157e292,me=u+16|0,j[me>>3]=-17976931348623157e292,(q|0)>0){for(m=f[c+4>>2]|0,Z=17976931348623157e292,ee=-17976931348623157e292,d=0,h=-1,O=17976931348623157e292,I=17976931348623157e292,V=-17976931348623157e292,_=-17976931348623157e292,fe=0;y=+j[m+(fe<<4)>>3],B=+j[m+(fe<<4)+8>>3],Ue=h+2|0,w=+j[m+(((Ue|0)==(q|0)?0:Ue)<<4)+8>>3],y<O&&(j[ae>>3]=y,O=y),B<I&&(j[ye>>3]=B,I=B),y>V?j[u>>3]=y:y=V,B>_&&(j[me>>3]=B,_=B),Z=B>0&B<Z?B:Z,ee=B<0&B>ee?B:ee,d=d|+Ze(+(B-w))>3.141592653589793,h=fe+1|0,(h|0)!=(q|0);)Ue=fe,V=y,fe=h,h=Ue;d&&(j[me>>3]=ee,j[ye>>3]=Z)}}else f[u>>2]=0,f[u+4>>2]=0,f[u+8>>2]=0,f[u+12>>2]=0,f[u+16>>2]=0,f[u+20>>2]=0,f[u+24>>2]=0,f[u+28>>2]=0;if(Ue=c+8|0,h=f[Ue>>2]|0,!((h|0)<=0)){Be=c+12|0,se=0;do if(m=f[Be>>2]|0,d=se,se=se+1|0,ye=u+(se<<5)|0,me=f[m+(d<<3)>>2]|0,me){if(fe=u+(se<<5)+8|0,j[fe>>3]=17976931348623157e292,c=u+(se<<5)+24|0,j[c>>3]=17976931348623157e292,j[ye>>3]=-17976931348623157e292,he=u+(se<<5)+16|0,j[he>>3]=-17976931348623157e292,(me|0)>0){for(q=f[m+(d<<3)+4>>2]|0,Z=17976931348623157e292,ee=-17976931348623157e292,m=0,d=-1,ae=0,O=17976931348623157e292,I=17976931348623157e292,B=-17976931348623157e292,_=-17976931348623157e292;y=+j[q+(ae<<4)>>3],V=+j[q+(ae<<4)+8>>3],d=d+2|0,w=+j[q+(((d|0)==(me|0)?0:d)<<4)+8>>3],y<O&&(j[fe>>3]=y,O=y),V<I&&(j[c>>3]=V,I=V),y>B?j[ye>>3]=y:y=B,V>_&&(j[he>>3]=V,_=V),Z=V>0&V<Z?V:Z,ee=V<0&V>ee?V:ee,m=m|+Ze(+(V-w))>3.141592653589793,d=ae+1|0,(d|0)!=(me|0);)Ie=ae,ae=d,B=y,d=Ie;m&&(j[he>>3]=ee,j[c>>3]=Z)}}else f[ye>>2]=0,f[ye+4>>2]=0,f[ye+8>>2]=0,f[ye+12>>2]=0,f[ye+16>>2]=0,f[ye+20>>2]=0,f[ye+24>>2]=0,f[ye+28>>2]=0,h=f[Ue>>2]|0;while((se|0)<(h|0))}}function bU(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0;if(!(Tx(c,u,h)|0))return m=0,m|0;if(m=c+8|0,(f[m>>2]|0)<=0)return m=1,m|0;for(d=c+12|0,c=0;;){if(y=c,c=c+1|0,Tx((f[d>>2]|0)+(y<<3)|0,u+(c<<5)|0,h)|0){c=0,d=6;break}if((c|0)>=(f[m>>2]|0)){c=1,d=6;break}}return(d|0)==6?c|0:0}function wU(){return 8}function SU(){return 16}function EU(){return 168}function TU(){return 8}function xU(){return 16}function PU(){return 12}function CU(){return 8}function OU(c){return c=c|0,+(+((f[c>>2]|0)>>>0)+4294967296*+(f[c+4>>2]|0))}function RU(c){c=c|0;var u=0,h=0;return h=+j[c>>3],u=+j[c+8>>3],+ +At(+(h*h+u*u))}function Px(c,u,h,d,m){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0;var y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0;I=+j[c>>3],O=+j[u>>3]-I,w=+j[c+8>>3],_=+j[u+8>>3]-w,V=+j[h>>3],y=+j[d>>3]-V,Z=+j[h+8>>3],B=+j[d+8>>3]-Z,y=(y*(w-Z)-(I-V)*B)/(O*B-_*y),j[m>>3]=I+O*y,j[m+8>>3]=w+_*y}function Cx(c,u){return c=c|0,u=u|0,+Ze(+(+j[c>>3]-+j[u>>3]))<11920928955078125e-23?(u=+Ze(+(+j[c+8>>3]-+j[u+8>>3]))<11920928955078125e-23,u|0):(u=0,u|0)}function Pr(c,u){c=c|0,u=u|0;var h=0,d=0,m=0;return m=+j[c>>3]-+j[u>>3],d=+j[c+8>>3]-+j[u+8>>3],h=+j[c+16>>3]-+j[u+16>>3],+(m*m+d*d+h*h)}function MU(c,u){c=c|0,u=u|0;var h=0,d=0,m=0;h=+j[c>>3],d=+bt(+h),h=+nt(+h),j[u+16>>3]=h,h=+j[c+8>>3],m=d*+bt(+h),j[u>>3]=m,h=d*+nt(+h),j[u+8>>3]=h}function kU(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0;if(y=U,U=U+16|0,m=y,d=Jt(c,u)|0,(h+-1|0)>>>0>5||(d=(d|0)!=0,(h|0)==1&d))return m=-1,U=y,m|0;do if(dA(c,u,m)|0)d=-1;else if(d){d=((f[21936+(h<<2)>>2]|0)+5-(f[m>>2]|0)|0)%5|0;break}else{d=((f[21968+(h<<2)>>2]|0)+6-(f[m>>2]|0)|0)%6|0;break}while(0);return m=d,U=y,m|0}function dA(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0,w=0,O=0,I=0;if(I=U,U=U+32|0,_=I+16|0,w=I,d=Dl(c,u,_)|0,d|0)return h=d,U=I,h|0;y=gx(c,u)|0,O=Mn(c,u)|0,d$(y,w),d=p$(y,f[_>>2]|0)|0;e:do if(mt(y)|0){do switch(y|0){case 4:{c=0;break}case 14:{c=1;break}case 24:{c=2;break}case 38:{c=3;break}case 49:{c=4;break}case 58:{c=5;break}case 63:{c=6;break}case 72:{c=7;break}case 83:{c=8;break}case 97:{c=9;break}case 107:{c=10;break}case 117:{c=11;break}default:{d=1;break e}}while(0);if(m=f[22e3+(c*24|0)+8>>2]|0,u=f[22e3+(c*24|0)+16>>2]|0,c=f[_>>2]|0,(c|0)!=(f[w>>2]|0)&&(w=bv(y)|0,c=f[_>>2]|0,w|(c|0)==(u|0)&&(d=(d+1|0)%6|0)),(O|0)==3&(c|0)==(u|0)){d=(d+5|0)%6|0,m=22;break}(O|0)==5&(c|0)==(m|0)&&(d=(d+1|0)%6|0),m=22}else m=22;while(0);return(m|0)==22&&(f[h>>2]=d,d=0),h=d,U=I,h|0}function ai(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0,ae=0,ye=0,me=0,fe=0,he=0;if(he=U,U=U+32|0,fe=he+24|0,ye=he+20|0,q=he+8|0,ee=he+16|0,Z=he,O=(Jt(c,u)|0)==0,O=O?6:5,B=Pe(c|0,u|0,52)|0,X()|0,B=B&15,O>>>0<=h>>>0)return d=2,U=he,d|0;V=(B|0)==0,!V&&(ae=De(7,0,(B^15)*3|0)|0,(ae&c|0)==0&((X()|0)&u|0)==0)?m=h:y=4;e:do if((y|0)==4){if(m=(Jt(c,u)|0)!=0,((m?4:5)|0)<(h|0)||dA(c,u,fe)|0||(y=(f[fe>>2]|0)+h|0,m?m=22288+(((y|0)%5|0)<<2)|0:m=22320+(((y|0)%6|0)<<2)|0,ae=f[m>>2]|0,(ae|0)==7))return d=1,U=he,d|0;f[ye>>2]=0,m=G(c,u,ae,ye,q)|0;do if(!m){if(w=q,I=f[w>>2]|0,w=f[w+4>>2]|0,_=w>>>0<u>>>0|(w|0)==(u|0)&I>>>0<c>>>0,y=_?I:c,_=_?w:u,!V&&(V=De(7,0,(B^15)*3|0)|0,(I&V|0)==0&(w&(X()|0)|0)==0))m=h;else{if(w=(h+-1+O|0)%(O|0)|0,m=Jt(c,u)|0,(w|0)<0&&Xe(23313,23315,245,23324),O=(m|0)!=0,((O?4:5)|0)<(w|0)&&Xe(23313,23315,245,23324),dA(c,u,fe)|0&&Xe(23313,23315,245,23324),m=(f[fe>>2]|0)+w|0,O?m=22288+(((m|0)%5|0)<<2)|0:m=22320+(((m|0)%6|0)<<2)|0,w=f[m>>2]|0,(w|0)==7&&Xe(23313,23315,245,23324),f[ee>>2]=0,m=G(c,u,w,ee,Z)|0,m|0)break;I=Z,O=f[I>>2]|0,I=f[I+4>>2]|0;do if(I>>>0<_>>>0|(I|0)==(_|0)&O>>>0<y>>>0){if(Jt(O,I)|0?y=de(O,I,c,u)|0:y=f[22384+((((f[ee>>2]|0)+(f[22352+(w<<2)>>2]|0)|0)%6|0)<<2)>>2]|0,m=Jt(O,I)|0,(y+-1|0)>>>0>5){m=-1,y=O,_=I;break}if(m=(m|0)!=0,(y|0)==1&m){m=-1,y=O,_=I;break}do if(dA(O,I,fe)|0)m=-1;else if(m){m=((f[21936+(y<<2)>>2]|0)+5-(f[fe>>2]|0)|0)%5|0;break}else{m=((f[21968+(y<<2)>>2]|0)+6-(f[fe>>2]|0)|0)%6|0;break}while(0);y=O,_=I}else m=h;while(0);w=q,I=f[w>>2]|0,w=f[w+4>>2]|0}if((y|0)==(I|0)&(_|0)==(w|0)){if(O=(Jt(I,w)|0)!=0,O?c=de(I,w,c,u)|0:c=f[22384+((((f[ye>>2]|0)+(f[22352+(ae<<2)>>2]|0)|0)%6|0)<<2)>>2]|0,m=Jt(I,w)|0,(c+-1|0)>>>0<=5&&(me=(m|0)!=0,!((c|0)==1&me)))do if(dA(I,w,fe)|0)m=-1;else if(me){m=((f[21936+(c<<2)>>2]|0)+5-(f[fe>>2]|0)|0)%5|0;break}else{m=((f[21968+(c<<2)>>2]|0)+6-(f[fe>>2]|0)|0)%6|0;break}while(0);else m=-1;m=m+1|0,m=(m|0)==6|O&(m|0)==5?0:m}u=_,c=y;break e}while(0);return d=m,U=he,d|0}while(0);return me=De(m|0,0,56)|0,fe=X()|0|u&-2130706433|536870912,f[d>>2]=me|c,f[d+4>>2]=fe,d=0,U=he,d|0}function IU(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0;return y=(Jt(c,u)|0)==0,d=ai(c,u,0,h)|0,m=(d|0)==0,y?!m||(d=ai(c,u,1,h+8|0)|0,d|0)||(d=ai(c,u,2,h+16|0)|0,d|0)||(d=ai(c,u,3,h+24|0)|0,d|0)||(d=ai(c,u,4,h+32|0)|0,d)?(y=d,y|0):ai(c,u,5,h+40|0)|0:!m||(d=ai(c,u,1,h+8|0)|0,d|0)||(d=ai(c,u,2,h+16|0)|0,d|0)||(d=ai(c,u,3,h+24|0)|0,d|0)||(d=ai(c,u,4,h+32|0)|0,d|0)?(y=d,y|0):(y=h+40|0,f[y>>2]=0,f[y+4>>2]=0,y=0,y|0)}function NU(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0,w=0,O=0;return O=U,U=U+192|0,m=O,y=O+168|0,_=Pe(c|0,u|0,56)|0,X()|0,_=_&7,w=u&-2130706433|134217728,d=Dl(c,w,y)|0,d|0?(w=d,U=O,w|0):(u=Pe(c|0,u|0,52)|0,X()|0,u=u&15,Jt(c,w)|0?xv(y,u,_,1,m):Pv(y,u,_,1,m),w=m+8|0,f[h>>2]=f[w>>2],f[h+4>>2]=f[w+4>>2],f[h+8>>2]=f[w+8>>2],f[h+12>>2]=f[w+12>>2],w=0,U=O,w|0)}function DU(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0;return m=U,U=U+16|0,h=m,!(!0&(u&2013265920|0)==536870912)||(d=u&-2130706433|134217728,!(Cv(c,d)|0))?(d=0,U=m,d|0):(y=Pe(c|0,u|0,56)|0,X()|0,y=(ai(c,d,y&7,h)|0)==0,d=h,d=y&((f[d>>2]|0)==(c|0)?(f[d+4>>2]|0)==(u|0):0)&1,U=m,d|0)}function Ox(c,u,h){c=c|0,u=u|0,h=h|0;var d=0;(u|0)>0?(d=ro(u,4)|0,f[c>>2]=d,d||Xe(23337,23360,40,23374)):f[c>>2]=0,f[c+4>>2]=u,f[c+8>>2]=0,f[c+12>>2]=h}function Rx(c){c=c|0;var u=0,h=0,d=0,m=0,y=0,_=0,w=0;m=c+4|0,y=c+12|0,_=c+8|0;e:for(;;){for(h=f[m>>2]|0,u=0;;){if((u|0)>=(h|0))break e;if(d=f[c>>2]|0,w=f[d+(u<<2)>>2]|0,!w)u=u+1|0;else break}u=d+(~~(+Ze(+(+Cn(10,+ +(15-(f[y>>2]|0)|0))*(+j[w>>3]+ +j[w+8>>3])))%+(h|0))>>>0<<2)|0,h=f[u>>2]|0;t:do if(h|0){if(d=w+32|0,(h|0)==(w|0))f[u>>2]=f[d>>2];else{if(h=h+32|0,u=f[h>>2]|0,!u)break;for(;(u|0)!=(w|0);)if(h=u+32|0,u=f[h>>2]|0,!u)break t;f[h>>2]=f[d>>2]}Je(w),f[_>>2]=(f[_>>2]|0)+-1}while(0)}Je(f[c>>2]|0)}function Mx(c){c=c|0;var u=0,h=0,d=0;for(d=f[c+4>>2]|0,h=0;;){if((h|0)>=(d|0)){u=0,h=4;break}if(u=f[(f[c>>2]|0)+(h<<2)>>2]|0,!u)h=h+1|0;else{h=4;break}}return(h|0)==4?u|0:0}function kx(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0;if(h=~~(+Ze(+(+Cn(10,+ +(15-(f[c+12>>2]|0)|0))*(+j[u>>3]+ +j[u+8>>3])))%+(f[c+4>>2]|0))>>>0,h=(f[c>>2]|0)+(h<<2)|0,d=f[h>>2]|0,!d)return y=1,y|0;y=u+32|0;do if((d|0)!=(u|0)){if(h=f[d+32>>2]|0,!h)return y=1,y|0;for(m=h;;){if((m|0)==(u|0)){m=8;break}if(h=f[m+32>>2]|0,h)d=m,m=h;else{h=1,m=10;break}}if((m|0)==8){f[d+32>>2]=f[y>>2];break}else if((m|0)==10)return h|0}else f[h>>2]=f[y>>2];while(0);return Je(u),y=c+8|0,f[y>>2]=(f[y>>2]|0)+-1,y=0,y|0}function BU(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0;y=to(40)|0,y||Xe(23390,23360,98,23403),f[y>>2]=f[u>>2],f[y+4>>2]=f[u+4>>2],f[y+8>>2]=f[u+8>>2],f[y+12>>2]=f[u+12>>2],m=y+16|0,f[m>>2]=f[h>>2],f[m+4>>2]=f[h+4>>2],f[m+8>>2]=f[h+8>>2],f[m+12>>2]=f[h+12>>2],f[y+32>>2]=0,m=~~(+Ze(+(+Cn(10,+ +(15-(f[c+12>>2]|0)|0))*(+j[u>>3]+ +j[u+8>>3])))%+(f[c+4>>2]|0))>>>0,m=(f[c>>2]|0)+(m<<2)|0,d=f[m>>2]|0;do if(!d)f[m>>2]=y;else{for(;!(Bl(d,u)|0&&Bl(d+16|0,h)|0);)if(m=f[d+32>>2]|0,d=m|0?m:d,!(f[d+32>>2]|0)){_=10;break}if((_|0)==10){f[d+32>>2]=y;break}return Je(y),_=d,_|0}while(0);return _=c+8|0,f[_>>2]=(f[_>>2]|0)+1,_=y,_|0}function FU(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0;if(m=~~(+Ze(+(+Cn(10,+ +(15-(f[c+12>>2]|0)|0))*(+j[u>>3]+ +j[u+8>>3])))%+(f[c+4>>2]|0))>>>0,m=f[(f[c>>2]|0)+(m<<2)>>2]|0,!m)return h=0,h|0;if(!h){for(c=m;;){if(Bl(c,u)|0){d=10;break}if(c=f[c+32>>2]|0,!c){c=0,d=10;break}}if((d|0)==10)return c|0}for(c=m;;){if(Bl(c,u)|0&&Bl(c+16|0,h)|0){d=10;break}if(c=f[c+32>>2]|0,!c){c=0,d=10;break}}return(d|0)==10?c|0:0}function LU(c,u){c=c|0,u=u|0;var h=0;if(h=~~(+Ze(+(+Cn(10,+ +(15-(f[c+12>>2]|0)|0))*(+j[u>>3]+ +j[u+8>>3])))%+(f[c+4>>2]|0))>>>0,c=f[(f[c>>2]|0)+(h<<2)>>2]|0,!c)return h=0,h|0;for(;;){if(Bl(c,u)|0){u=5;break}if(c=f[c+32>>2]|0,!c){c=0,u=5;break}}return(u|0)==5?c|0:0}function $U(){return 23424}function UU(c){return c=+c,+ +Bx(+c)}function ps(c){return c=+c,~~+UU(c)|0}function to(c){c=c|0;var u=0,h=0,d=0,m=0,y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0,ae=0,ye=0,me=0,fe=0,he=0,se=0,Be=0;Be=U,U=U+16|0,Z=Be;do if(c>>>0<245){if(I=c>>>0<11?16:c+11&-8,c=I>>>3,V=f[5857]|0,h=V>>>c,h&3|0)return u=(h&1^1)+c|0,c=23468+(u<<1<<2)|0,h=c+8|0,d=f[h>>2]|0,m=d+8|0,y=f[m>>2]|0,(y|0)==(c|0)?f[5857]=V&~(1<<u):(f[y+12>>2]=c,f[h>>2]=y),se=u<<3,f[d+4>>2]=se|3,se=d+se+4|0,f[se>>2]=f[se>>2]|1,se=m,U=Be,se|0;if(B=f[5859]|0,I>>>0>B>>>0){if(h|0)return u=2<<c,u=h<<c&(u|0-u),u=(u&0-u)+-1|0,w=u>>>12&16,u=u>>>w,h=u>>>5&8,u=u>>>h,y=u>>>2&4,u=u>>>y,c=u>>>1&2,u=u>>>c,d=u>>>1&1,d=(h|w|y|c|d)+(u>>>d)|0,u=23468+(d<<1<<2)|0,c=u+8|0,y=f[c>>2]|0,w=y+8|0,h=f[w>>2]|0,(h|0)==(u|0)?(c=V&~(1<<d),f[5857]=c):(f[h+12>>2]=u,f[c>>2]=h,c=V),se=d<<3,_=se-I|0,f[y+4>>2]=I|3,m=y+I|0,f[m+4>>2]=_|1,f[y+se>>2]=_,B|0&&(d=f[5862]|0,u=B>>>3,h=23468+(u<<1<<2)|0,u=1<<u,c&u?(c=h+8|0,u=f[c>>2]|0):(f[5857]=c|u,u=h,c=h+8|0),f[c>>2]=d,f[u+12>>2]=d,f[d+8>>2]=u,f[d+12>>2]=h),f[5859]=_,f[5862]=m,se=w,U=Be,se|0;if(y=f[5858]|0,y){for(h=(y&0-y)+-1|0,m=h>>>12&16,h=h>>>m,d=h>>>5&8,h=h>>>d,_=h>>>2&4,h=h>>>_,w=h>>>1&2,h=h>>>w,O=h>>>1&1,O=f[23732+((d|m|_|w|O)+(h>>>O)<<2)>>2]|0,h=O,w=O,O=(f[O+4>>2]&-8)-I|0;c=f[h+16>>2]|0,!(!c&&(c=f[h+20>>2]|0,!c));)_=(f[c+4>>2]&-8)-I|0,m=_>>>0<O>>>0,h=c,w=m?c:w,O=m?_:O;if(_=w+I|0,_>>>0>w>>>0){m=f[w+24>>2]|0,u=f[w+12>>2]|0;do if((u|0)==(w|0)){if(c=w+20|0,u=f[c>>2]|0,!u&&(c=w+16|0,u=f[c>>2]|0,!u)){h=0;break}for(;;)if(d=u+20|0,h=f[d>>2]|0,h)u=h,c=d;else if(d=u+16|0,h=f[d>>2]|0,h)u=h,c=d;else break;f[c>>2]=0,h=u}else h=f[w+8>>2]|0,f[h+12>>2]=u,f[u+8>>2]=h,h=u;while(0);do if(m|0){if(u=f[w+28>>2]|0,c=23732+(u<<2)|0,(w|0)==(f[c>>2]|0)){if(f[c>>2]=h,!h){f[5858]=y&~(1<<u);break}}else if(se=m+16|0,f[((f[se>>2]|0)==(w|0)?se:m+20|0)>>2]=h,!h)break;f[h+24>>2]=m,u=f[w+16>>2]|0,u|0&&(f[h+16>>2]=u,f[u+24>>2]=h),u=f[w+20>>2]|0,u|0&&(f[h+20>>2]=u,f[u+24>>2]=h)}while(0);return O>>>0<16?(se=O+I|0,f[w+4>>2]=se|3,se=w+se+4|0,f[se>>2]=f[se>>2]|1):(f[w+4>>2]=I|3,f[_+4>>2]=O|1,f[_+O>>2]=O,B|0&&(d=f[5862]|0,u=B>>>3,h=23468+(u<<1<<2)|0,u=1<<u,u&V?(c=h+8|0,u=f[c>>2]|0):(f[5857]=u|V,u=h,c=h+8|0),f[c>>2]=d,f[u+12>>2]=d,f[d+8>>2]=u,f[d+12>>2]=h),f[5859]=O,f[5862]=_),se=w+8|0,U=Be,se|0}else V=I}else V=I}else V=I}else if(c>>>0<=4294967231)if(c=c+11|0,I=c&-8,d=f[5858]|0,d){m=0-I|0,c=c>>>8,c?I>>>0>16777215?O=31:(V=(c+1048320|0)>>>16&8,ae=c<<V,w=(ae+520192|0)>>>16&4,ae=ae<<w,O=(ae+245760|0)>>>16&2,O=14-(w|V|O)+(ae<<O>>>15)|0,O=I>>>(O+7|0)&1|O<<1):O=0,h=f[23732+(O<<2)>>2]|0;e:do if(!h)h=0,c=0,ae=61;else for(c=0,w=I<<((O|0)==31?0:25-(O>>>1)|0),y=0;;){if(_=(f[h+4>>2]&-8)-I|0,_>>>0<m>>>0)if(_)c=h,m=_;else{c=h,m=0,ae=65;break e}if(ae=f[h+20>>2]|0,h=f[h+16+(w>>>31<<2)>>2]|0,y=(ae|0)==0|(ae|0)==(h|0)?y:ae,h)w=w<<1;else{h=y,ae=61;break}}while(0);if((ae|0)==61){if((h|0)==0&(c|0)==0){if(c=2<<O,c=(c|0-c)&d,!c){V=I;break}V=(c&0-c)+-1|0,_=V>>>12&16,V=V>>>_,y=V>>>5&8,V=V>>>y,w=V>>>2&4,V=V>>>w,O=V>>>1&2,V=V>>>O,h=V>>>1&1,c=0,h=f[23732+((y|_|w|O|h)+(V>>>h)<<2)>>2]|0}h?ae=65:(w=c,_=m)}if((ae|0)==65)for(y=h;;)if(V=(f[y+4>>2]&-8)-I|0,h=V>>>0<m>>>0,m=h?V:m,c=h?y:c,h=f[y+16>>2]|0,h||(h=f[y+20>>2]|0),h)y=h;else{w=c,_=m;break}if(w|0&&_>>>0<((f[5859]|0)-I|0)>>>0&&(B=w+I|0,B>>>0>w>>>0)){y=f[w+24>>2]|0,u=f[w+12>>2]|0;do if((u|0)==(w|0)){if(c=w+20|0,u=f[c>>2]|0,!u&&(c=w+16|0,u=f[c>>2]|0,!u)){u=0;break}for(;;)if(m=u+20|0,h=f[m>>2]|0,h)u=h,c=m;else if(m=u+16|0,h=f[m>>2]|0,h)u=h,c=m;else break;f[c>>2]=0}else se=f[w+8>>2]|0,f[se+12>>2]=u,f[u+8>>2]=se;while(0);do if(y){if(c=f[w+28>>2]|0,h=23732+(c<<2)|0,(w|0)==(f[h>>2]|0)){if(f[h>>2]=u,!u){d=d&~(1<<c),f[5858]=d;break}}else if(se=y+16|0,f[((f[se>>2]|0)==(w|0)?se:y+20|0)>>2]=u,!u)break;f[u+24>>2]=y,c=f[w+16>>2]|0,c|0&&(f[u+16>>2]=c,f[c+24>>2]=u),c=f[w+20>>2]|0,c&&(f[u+20>>2]=c,f[c+24>>2]=u)}while(0);e:do if(_>>>0<16)se=_+I|0,f[w+4>>2]=se|3,se=w+se+4|0,f[se>>2]=f[se>>2]|1;else{if(f[w+4>>2]=I|3,f[B+4>>2]=_|1,f[B+_>>2]=_,u=_>>>3,_>>>0<256){h=23468+(u<<1<<2)|0,c=f[5857]|0,u=1<<u,c&u?(c=h+8|0,u=f[c>>2]|0):(f[5857]=c|u,u=h,c=h+8|0),f[c>>2]=B,f[u+12>>2]=B,f[B+8>>2]=u,f[B+12>>2]=h;break}if(u=_>>>8,u?_>>>0>16777215?h=31:(he=(u+1048320|0)>>>16&8,se=u<<he,fe=(se+520192|0)>>>16&4,se=se<<fe,h=(se+245760|0)>>>16&2,h=14-(fe|he|h)+(se<<h>>>15)|0,h=_>>>(h+7|0)&1|h<<1):h=0,u=23732+(h<<2)|0,f[B+28>>2]=h,c=B+16|0,f[c+4>>2]=0,f[c>>2]=0,c=1<<h,!(d&c)){f[5858]=d|c,f[u>>2]=B,f[B+24>>2]=u,f[B+12>>2]=B,f[B+8>>2]=B;break}u=f[u>>2]|0;t:do if((f[u+4>>2]&-8|0)!=(_|0)){for(d=_<<((h|0)==31?0:25-(h>>>1)|0);h=u+16+(d>>>31<<2)|0,c=f[h>>2]|0,!!c;)if((f[c+4>>2]&-8|0)==(_|0)){u=c;break t}else d=d<<1,u=c;f[h>>2]=B,f[B+24>>2]=u,f[B+12>>2]=B,f[B+8>>2]=B;break e}while(0);he=u+8|0,se=f[he>>2]|0,f[se+12>>2]=B,f[he>>2]=B,f[B+8>>2]=se,f[B+12>>2]=u,f[B+24>>2]=0}while(0);return se=w+8|0,U=Be,se|0}else V=I}else V=I;else V=-1;while(0);if(h=f[5859]|0,h>>>0>=V>>>0)return u=h-V|0,c=f[5862]|0,u>>>0>15?(se=c+V|0,f[5862]=se,f[5859]=u,f[se+4>>2]=u|1,f[c+h>>2]=u,f[c+4>>2]=V|3):(f[5859]=0,f[5862]=0,f[c+4>>2]=h|3,se=c+h+4|0,f[se>>2]=f[se>>2]|1),se=c+8|0,U=Be,se|0;if(_=f[5860]|0,_>>>0>V>>>0)return fe=_-V|0,f[5860]=fe,se=f[5863]|0,he=se+V|0,f[5863]=he,f[he+4>>2]=fe|1,f[se+4>>2]=V|3,se=se+8|0,U=Be,se|0;if(f[5975]|0?c=f[5977]|0:(f[5977]=4096,f[5976]=4096,f[5978]=-1,f[5979]=-1,f[5980]=0,f[5968]=0,f[5975]=Z&-16^1431655768,c=4096),w=V+48|0,O=V+47|0,y=c+O|0,m=0-c|0,I=y&m,I>>>0<=V>>>0||(c=f[5967]|0,c|0&&(B=f[5965]|0,Z=B+I|0,Z>>>0<=B>>>0|Z>>>0>c>>>0)))return se=0,U=Be,se|0;e:do if(f[5968]&4)u=0,ae=143;else{h=f[5863]|0;t:do if(h){for(d=23876;Z=f[d>>2]|0,!(Z>>>0<=h>>>0&&(Z+(f[d+4>>2]|0)|0)>>>0>h>>>0);)if(c=f[d+8>>2]|0,c)d=c;else{ae=128;break t}if(u=y-_&m,u>>>0<2147483647)if(c=gs(u|0)|0,(c|0)==((f[d>>2]|0)+(f[d+4>>2]|0)|0)){if((c|0)!=-1){_=u,y=c,ae=145;break e}}else d=c,ae=136;else u=0}else ae=128;while(0);do if((ae|0)==128)if(h=gs(0)|0,(h|0)!=-1&&(u=h,ee=f[5976]|0,q=ee+-1|0,u=(q&u|0?(q+u&0-ee)-u|0:0)+I|0,ee=f[5965]|0,q=u+ee|0,u>>>0>V>>>0&u>>>0<2147483647)){if(Z=f[5967]|0,Z|0&&q>>>0<=ee>>>0|q>>>0>Z>>>0){u=0;break}if(c=gs(u|0)|0,(c|0)==(h|0)){_=u,y=h,ae=145;break e}else d=c,ae=136}else u=0;while(0);do if((ae|0)==136){if(h=0-u|0,!(w>>>0>u>>>0&(u>>>0<2147483647&(d|0)!=-1)))if((d|0)==-1){u=0;break}else{_=u,y=d,ae=145;break e}if(c=f[5977]|0,c=O-u+c&0-c,c>>>0>=2147483647){_=u,y=d,ae=145;break e}if((gs(c|0)|0)==-1){gs(h|0)|0,u=0;break}else{_=c+u|0,y=d,ae=145;break e}}while(0);f[5968]=f[5968]|4,ae=143}while(0);if((ae|0)==143&&I>>>0<2147483647&&(fe=gs(I|0)|0,q=gs(0)|0,ye=q-fe|0,me=ye>>>0>(V+40|0)>>>0,!((fe|0)==-1|me^1|fe>>>0<q>>>0&((fe|0)!=-1&(q|0)!=-1)^1))&&(_=me?ye:u,y=fe,ae=145),(ae|0)==145){u=(f[5965]|0)+_|0,f[5965]=u,u>>>0>(f[5966]|0)>>>0&&(f[5966]=u),O=f[5863]|0;e:do if(O){for(u=23876;;){if(c=f[u>>2]|0,h=f[u+4>>2]|0,(y|0)==(c+h|0)){ae=154;break}if(d=f[u+8>>2]|0,d)u=d;else break}if((ae|0)==154&&(he=u+4|0,(f[u+12>>2]&8|0)==0)&&y>>>0>O>>>0&c>>>0<=O>>>0){f[he>>2]=h+_,se=(f[5860]|0)+_|0,fe=O+8|0,fe=fe&7|0?0-fe&7:0,he=O+fe|0,fe=se-fe|0,f[5863]=he,f[5860]=fe,f[he+4>>2]=fe|1,f[O+se+4>>2]=40,f[5864]=f[5979];break}for(y>>>0<(f[5861]|0)>>>0&&(f[5861]=y),h=y+_|0,u=23876;;){if((f[u>>2]|0)==(h|0)){ae=162;break}if(c=f[u+8>>2]|0,c)u=c;else break}if((ae|0)==162&&!(f[u+12>>2]&8|0)){f[u>>2]=y,B=u+4|0,f[B>>2]=(f[B>>2]|0)+_,B=y+8|0,B=y+(B&7|0?0-B&7:0)|0,u=h+8|0,u=h+(u&7|0?0-u&7:0)|0,I=B+V|0,w=u-B-V|0,f[B+4>>2]=V|3;t:do if((O|0)==(u|0))se=(f[5860]|0)+w|0,f[5860]=se,f[5863]=I,f[I+4>>2]=se|1;else{if((f[5862]|0)==(u|0)){se=(f[5859]|0)+w|0,f[5859]=se,f[5862]=I,f[I+4>>2]=se|1,f[I+se>>2]=se;break}if(c=f[u+4>>2]|0,(c&3|0)==1){_=c&-8,d=c>>>3;r:do if(c>>>0<256)if(c=f[u+8>>2]|0,h=f[u+12>>2]|0,(h|0)==(c|0)){f[5857]=f[5857]&~(1<<d);break}else{f[c+12>>2]=h,f[h+8>>2]=c;break}else{y=f[u+24>>2]|0,c=f[u+12>>2]|0;do if((c|0)==(u|0)){if(h=u+16|0,d=h+4|0,c=f[d>>2]|0,c)h=d;else if(c=f[h>>2]|0,!c){c=0;break}for(;;)if(m=c+20|0,d=f[m>>2]|0,d)c=d,h=m;else if(m=c+16|0,d=f[m>>2]|0,d)c=d,h=m;else break;f[h>>2]=0}else se=f[u+8>>2]|0,f[se+12>>2]=c,f[c+8>>2]=se;while(0);if(!y)break;h=f[u+28>>2]|0,d=23732+(h<<2)|0;do if((f[d>>2]|0)!=(u|0)){if(se=y+16|0,f[((f[se>>2]|0)==(u|0)?se:y+20|0)>>2]=c,!c)break r}else{if(f[d>>2]=c,c|0)break;f[5858]=f[5858]&~(1<<h);break r}while(0);if(f[c+24>>2]=y,h=u+16|0,d=f[h>>2]|0,d|0&&(f[c+16>>2]=d,f[d+24>>2]=c),h=f[h+4>>2]|0,!h)break;f[c+20>>2]=h,f[h+24>>2]=c}while(0);u=u+_|0,m=_+w|0}else m=w;if(u=u+4|0,f[u>>2]=f[u>>2]&-2,f[I+4>>2]=m|1,f[I+m>>2]=m,u=m>>>3,m>>>0<256){h=23468+(u<<1<<2)|0,c=f[5857]|0,u=1<<u,c&u?(c=h+8|0,u=f[c>>2]|0):(f[5857]=c|u,u=h,c=h+8|0),f[c>>2]=I,f[u+12>>2]=I,f[I+8>>2]=u,f[I+12>>2]=h;break}u=m>>>8;do if(!u)d=0;else{if(m>>>0>16777215){d=31;break}he=(u+1048320|0)>>>16&8,se=u<<he,fe=(se+520192|0)>>>16&4,se=se<<fe,d=(se+245760|0)>>>16&2,d=14-(fe|he|d)+(se<<d>>>15)|0,d=m>>>(d+7|0)&1|d<<1}while(0);if(u=23732+(d<<2)|0,f[I+28>>2]=d,c=I+16|0,f[c+4>>2]=0,f[c>>2]=0,c=f[5858]|0,h=1<<d,!(c&h)){f[5858]=c|h,f[u>>2]=I,f[I+24>>2]=u,f[I+12>>2]=I,f[I+8>>2]=I;break}u=f[u>>2]|0;r:do if((f[u+4>>2]&-8|0)!=(m|0)){for(d=m<<((d|0)==31?0:25-(d>>>1)|0);h=u+16+(d>>>31<<2)|0,c=f[h>>2]|0,!!c;)if((f[c+4>>2]&-8|0)==(m|0)){u=c;break r}else d=d<<1,u=c;f[h>>2]=I,f[I+24>>2]=u,f[I+12>>2]=I,f[I+8>>2]=I;break t}while(0);he=u+8|0,se=f[he>>2]|0,f[se+12>>2]=I,f[he>>2]=I,f[I+8>>2]=se,f[I+12>>2]=u,f[I+24>>2]=0}while(0);return se=B+8|0,U=Be,se|0}for(u=23876;c=f[u>>2]|0,!(c>>>0<=O>>>0&&(se=c+(f[u+4>>2]|0)|0,se>>>0>O>>>0));)u=f[u+8>>2]|0;m=se+-47|0,c=m+8|0,c=m+(c&7|0?0-c&7:0)|0,m=O+16|0,c=c>>>0<m>>>0?O:c,u=c+8|0,h=_+-40|0,fe=y+8|0,fe=fe&7|0?0-fe&7:0,he=y+fe|0,fe=h-fe|0,f[5863]=he,f[5860]=fe,f[he+4>>2]=fe|1,f[y+h+4>>2]=40,f[5864]=f[5979],h=c+4|0,f[h>>2]=27,f[u>>2]=f[5969],f[u+4>>2]=f[5970],f[u+8>>2]=f[5971],f[u+12>>2]=f[5972],f[5969]=y,f[5970]=_,f[5972]=0,f[5971]=u,u=c+24|0;do he=u,u=u+4|0,f[u>>2]=7;while((he+8|0)>>>0<se>>>0);if((c|0)!=(O|0)){if(y=c-O|0,f[h>>2]=f[h>>2]&-2,f[O+4>>2]=y|1,f[c>>2]=y,u=y>>>3,y>>>0<256){h=23468+(u<<1<<2)|0,c=f[5857]|0,u=1<<u,c&u?(c=h+8|0,u=f[c>>2]|0):(f[5857]=c|u,u=h,c=h+8|0),f[c>>2]=O,f[u+12>>2]=O,f[O+8>>2]=u,f[O+12>>2]=h;break}if(u=y>>>8,u?y>>>0>16777215?d=31:(he=(u+1048320|0)>>>16&8,se=u<<he,fe=(se+520192|0)>>>16&4,se=se<<fe,d=(se+245760|0)>>>16&2,d=14-(fe|he|d)+(se<<d>>>15)|0,d=y>>>(d+7|0)&1|d<<1):d=0,h=23732+(d<<2)|0,f[O+28>>2]=d,f[O+20>>2]=0,f[m>>2]=0,u=f[5858]|0,c=1<<d,!(u&c)){f[5858]=u|c,f[h>>2]=O,f[O+24>>2]=h,f[O+12>>2]=O,f[O+8>>2]=O;break}u=f[h>>2]|0;t:do if((f[u+4>>2]&-8|0)!=(y|0)){for(d=y<<((d|0)==31?0:25-(d>>>1)|0);h=u+16+(d>>>31<<2)|0,c=f[h>>2]|0,!!c;)if((f[c+4>>2]&-8|0)==(y|0)){u=c;break t}else d=d<<1,u=c;f[h>>2]=O,f[O+24>>2]=u,f[O+12>>2]=O,f[O+8>>2]=O;break e}while(0);he=u+8|0,se=f[he>>2]|0,f[se+12>>2]=O,f[he>>2]=O,f[O+8>>2]=se,f[O+12>>2]=u,f[O+24>>2]=0}}else se=f[5861]|0,(se|0)==0|y>>>0<se>>>0&&(f[5861]=y),f[5969]=y,f[5970]=_,f[5972]=0,f[5866]=f[5975],f[5865]=-1,f[5870]=23468,f[5869]=23468,f[5872]=23476,f[5871]=23476,f[5874]=23484,f[5873]=23484,f[5876]=23492,f[5875]=23492,f[5878]=23500,f[5877]=23500,f[5880]=23508,f[5879]=23508,f[5882]=23516,f[5881]=23516,f[5884]=23524,f[5883]=23524,f[5886]=23532,f[5885]=23532,f[5888]=23540,f[5887]=23540,f[5890]=23548,f[5889]=23548,f[5892]=23556,f[5891]=23556,f[5894]=23564,f[5893]=23564,f[5896]=23572,f[5895]=23572,f[5898]=23580,f[5897]=23580,f[5900]=23588,f[5899]=23588,f[5902]=23596,f[5901]=23596,f[5904]=23604,f[5903]=23604,f[5906]=23612,f[5905]=23612,f[5908]=23620,f[5907]=23620,f[5910]=23628,f[5909]=23628,f[5912]=23636,f[5911]=23636,f[5914]=23644,f[5913]=23644,f[5916]=23652,f[5915]=23652,f[5918]=23660,f[5917]=23660,f[5920]=23668,f[5919]=23668,f[5922]=23676,f[5921]=23676,f[5924]=23684,f[5923]=23684,f[5926]=23692,f[5925]=23692,f[5928]=23700,f[5927]=23700,f[5930]=23708,f[5929]=23708,f[5932]=23716,f[5931]=23716,se=_+-40|0,fe=y+8|0,fe=fe&7|0?0-fe&7:0,he=y+fe|0,fe=se-fe|0,f[5863]=he,f[5860]=fe,f[he+4>>2]=fe|1,f[y+se+4>>2]=40,f[5864]=f[5979];while(0);if(u=f[5860]|0,u>>>0>V>>>0)return fe=u-V|0,f[5860]=fe,se=f[5863]|0,he=se+V|0,f[5863]=he,f[he+4>>2]=fe|1,f[se+4>>2]=V|3,se=se+8|0,U=Be,se|0}return se=$U()|0,f[se>>2]=12,se=0,U=Be,se|0}function Je(c){c=c|0;var u=0,h=0,d=0,m=0,y=0,_=0,w=0,O=0;if(c){h=c+-8|0,m=f[5861]|0,c=f[c+-4>>2]|0,u=c&-8,O=h+u|0;do if(c&1)w=h,_=h;else{if(d=f[h>>2]|0,!(c&3)||(_=h+(0-d)|0,y=d+u|0,_>>>0<m>>>0))return;if((f[5862]|0)==(_|0)){if(c=O+4|0,u=f[c>>2]|0,(u&3|0)!=3){w=_,u=y;break}f[5859]=y,f[c>>2]=u&-2,f[_+4>>2]=y|1,f[_+y>>2]=y;return}if(h=d>>>3,d>>>0<256)if(c=f[_+8>>2]|0,u=f[_+12>>2]|0,(u|0)==(c|0)){f[5857]=f[5857]&~(1<<h),w=_,u=y;break}else{f[c+12>>2]=u,f[u+8>>2]=c,w=_,u=y;break}m=f[_+24>>2]|0,c=f[_+12>>2]|0;do if((c|0)==(_|0)){if(u=_+16|0,h=u+4|0,c=f[h>>2]|0,c)u=h;else if(c=f[u>>2]|0,!c){c=0;break}for(;;)if(d=c+20|0,h=f[d>>2]|0,h)c=h,u=d;else if(d=c+16|0,h=f[d>>2]|0,h)c=h,u=d;else break;f[u>>2]=0}else w=f[_+8>>2]|0,f[w+12>>2]=c,f[c+8>>2]=w;while(0);if(m){if(u=f[_+28>>2]|0,h=23732+(u<<2)|0,(f[h>>2]|0)==(_|0)){if(f[h>>2]=c,!c){f[5858]=f[5858]&~(1<<u),w=_,u=y;break}}else if(w=m+16|0,f[((f[w>>2]|0)==(_|0)?w:m+20|0)>>2]=c,!c){w=_,u=y;break}f[c+24>>2]=m,u=_+16|0,h=f[u>>2]|0,h|0&&(f[c+16>>2]=h,f[h+24>>2]=c),u=f[u+4>>2]|0,u?(f[c+20>>2]=u,f[u+24>>2]=c,w=_,u=y):(w=_,u=y)}else w=_,u=y}while(0);if(!(_>>>0>=O>>>0)&&(c=O+4|0,d=f[c>>2]|0,!!(d&1))){if(d&2)f[c>>2]=d&-2,f[w+4>>2]=u|1,f[_+u>>2]=u,m=u;else{if((f[5863]|0)==(O|0)){if(O=(f[5860]|0)+u|0,f[5860]=O,f[5863]=w,f[w+4>>2]=O|1,(w|0)!=(f[5862]|0))return;f[5862]=0,f[5859]=0;return}if((f[5862]|0)==(O|0)){O=(f[5859]|0)+u|0,f[5859]=O,f[5862]=_,f[w+4>>2]=O|1,f[_+O>>2]=O;return}m=(d&-8)+u|0,h=d>>>3;do if(d>>>0<256)if(u=f[O+8>>2]|0,c=f[O+12>>2]|0,(c|0)==(u|0)){f[5857]=f[5857]&~(1<<h);break}else{f[u+12>>2]=c,f[c+8>>2]=u;break}else{y=f[O+24>>2]|0,c=f[O+12>>2]|0;do if((c|0)==(O|0)){if(u=O+16|0,h=u+4|0,c=f[h>>2]|0,c)u=h;else if(c=f[u>>2]|0,!c){h=0;break}for(;;)if(d=c+20|0,h=f[d>>2]|0,h)c=h,u=d;else if(d=c+16|0,h=f[d>>2]|0,h)c=h,u=d;else break;f[u>>2]=0,h=c}else h=f[O+8>>2]|0,f[h+12>>2]=c,f[c+8>>2]=h,h=c;while(0);if(y|0){if(c=f[O+28>>2]|0,u=23732+(c<<2)|0,(f[u>>2]|0)==(O|0)){if(f[u>>2]=h,!h){f[5858]=f[5858]&~(1<<c);break}}else if(d=y+16|0,f[((f[d>>2]|0)==(O|0)?d:y+20|0)>>2]=h,!h)break;f[h+24>>2]=y,c=O+16|0,u=f[c>>2]|0,u|0&&(f[h+16>>2]=u,f[u+24>>2]=h),c=f[c+4>>2]|0,c|0&&(f[h+20>>2]=c,f[c+24>>2]=h)}}while(0);if(f[w+4>>2]=m|1,f[_+m>>2]=m,(w|0)==(f[5862]|0)){f[5859]=m;return}}if(c=m>>>3,m>>>0<256){h=23468+(c<<1<<2)|0,u=f[5857]|0,c=1<<c,u&c?(u=h+8|0,c=f[u>>2]|0):(f[5857]=u|c,c=h,u=h+8|0),f[u>>2]=w,f[c+12>>2]=w,f[w+8>>2]=c,f[w+12>>2]=h;return}c=m>>>8,c?m>>>0>16777215?d=31:(_=(c+1048320|0)>>>16&8,O=c<<_,y=(O+520192|0)>>>16&4,O=O<<y,d=(O+245760|0)>>>16&2,d=14-(y|_|d)+(O<<d>>>15)|0,d=m>>>(d+7|0)&1|d<<1):d=0,c=23732+(d<<2)|0,f[w+28>>2]=d,f[w+20>>2]=0,f[w+16>>2]=0,u=f[5858]|0,h=1<<d;e:do if(!(u&h))f[5858]=u|h,f[c>>2]=w,f[w+24>>2]=c,f[w+12>>2]=w,f[w+8>>2]=w;else{c=f[c>>2]|0;t:do if((f[c+4>>2]&-8|0)!=(m|0)){for(d=m<<((d|0)==31?0:25-(d>>>1)|0);h=c+16+(d>>>31<<2)|0,u=f[h>>2]|0,!!u;)if((f[u+4>>2]&-8|0)==(m|0)){c=u;break t}else d=d<<1,c=u;f[h>>2]=w,f[w+24>>2]=c,f[w+12>>2]=w,f[w+8>>2]=w;break e}while(0);_=c+8|0,O=f[_>>2]|0,f[O+12>>2]=w,f[_>>2]=w,f[w+8>>2]=O,f[w+12>>2]=c,f[w+24>>2]=0}while(0);if(O=(f[5865]|0)+-1|0,f[5865]=O,!(O|0)){for(c=23884;c=f[c>>2]|0,c;)c=c+8|0;f[5865]=-1}}}}function ro(c,u){c=c|0,u=u|0;var h=0;return c?(h=Tr(u,c)|0,(u|c)>>>0>65535&&(h=((h>>>0)/(c>>>0)|0|0)==(u|0)?h:-1)):h=0,c=to(h)|0,!c||!(f[c+-4>>2]&3)||ba(c|0,0,h|0)|0,c|0}function ht(c,u,h,d){return c=c|0,u=u|0,h=h|0,d=d|0,h=c+h>>>0,ot(u+d+(h>>>0<c>>>0|0)>>>0|0),h|0|0}function sn(c,u,h,d){return c=c|0,u=u|0,h=h|0,d=d|0,d=u-d-(h>>>0>c>>>0|0)>>>0,ot(d|0),c-h>>>0|0|0}function Ix(c){return c=c|0,(c?31-(Kr(c^c-1)|0)|0:32)|0}function Bv(c,u,h,d,m){c=c|0,u=u|0,h=h|0,d=d|0,m=m|0;var y=0,_=0,w=0,O=0,I=0,B=0,V=0,Z=0,ee=0,q=0;if(B=c,O=u,I=O,_=h,Z=d,w=Z,!I)return y=(m|0)!=0,w?y?(f[m>>2]=c|0,f[m+4>>2]=u&0,Z=0,m=0,ot(Z|0),m|0):(Z=0,m=0,ot(Z|0),m|0):(y&&(f[m>>2]=(B>>>0)%(_>>>0),f[m+4>>2]=0),Z=0,m=(B>>>0)/(_>>>0)>>>0,ot(Z|0),m|0);y=(w|0)==0;do if(_){if(!y){if(y=(Kr(w|0)|0)-(Kr(I|0)|0)|0,y>>>0<=31){V=y+1|0,w=31-y|0,u=y-31>>31,_=V,c=B>>>(V>>>0)&u|I<<w,u=I>>>(V>>>0)&u,y=0,w=B<<w;break}return m?(f[m>>2]=c|0,f[m+4>>2]=O|u&0,Z=0,m=0,ot(Z|0),m|0):(Z=0,m=0,ot(Z|0),m|0)}if(y=_-1|0,y&_|0){w=(Kr(_|0)|0)+33-(Kr(I|0)|0)|0,q=64-w|0,V=32-w|0,O=V>>31,ee=w-32|0,u=ee>>31,_=w,c=V-1>>31&I>>>(ee>>>0)|(I<<V|B>>>(w>>>0))&u,u=u&I>>>(w>>>0),y=B<<q&O,w=(I<<q|B>>>(ee>>>0))&O|B<<V&w-33>>31;break}return m|0&&(f[m>>2]=y&B,f[m+4>>2]=0),(_|0)==1?(ee=O|u&0,q=c|0|0,ot(ee|0),q|0):(q=Ix(_|0)|0,ee=I>>>(q>>>0)|0,q=I<<32-q|B>>>(q>>>0)|0,ot(ee|0),q|0)}else{if(y)return m|0&&(f[m>>2]=(I>>>0)%(_>>>0),f[m+4>>2]=0),ee=0,q=(I>>>0)/(_>>>0)>>>0,ot(ee|0),q|0;if(!B)return m|0&&(f[m>>2]=0,f[m+4>>2]=(I>>>0)%(w>>>0)),ee=0,q=(I>>>0)/(w>>>0)>>>0,ot(ee|0),q|0;if(y=w-1|0,!(y&w))return m|0&&(f[m>>2]=c|0,f[m+4>>2]=y&I|u&0),ee=0,q=I>>>((Ix(w|0)|0)>>>0),ot(ee|0),q|0;if(y=(Kr(w|0)|0)-(Kr(I|0)|0)|0,y>>>0<=30){u=y+1|0,w=31-y|0,_=u,c=I<<w|B>>>(u>>>0),u=I>>>(u>>>0),y=0,w=B<<w;break}return m?(f[m>>2]=c|0,f[m+4>>2]=O|u&0,ee=0,q=0,ot(ee|0),q|0):(ee=0,q=0,ot(ee|0),q|0)}while(0);if(!_)I=w,O=0,w=0;else{V=h|0|0,B=Z|d&0,I=ht(V|0,B|0,-1,-1)|0,h=X()|0,O=w,w=0;do d=O,O=y>>>31|O<<1,y=w|y<<1,d=c<<1|d>>>31|0,Z=c>>>31|u<<1|0,sn(I|0,h|0,d|0,Z|0)|0,q=X()|0,ee=q>>31|((q|0)<0?-1:0)<<1,w=ee&1,c=sn(d|0,Z|0,ee&V|0,(((q|0)<0?-1:0)>>31|((q|0)<0?-1:0)<<1)&B|0)|0,u=X()|0,_=_-1|0;while(_|0);I=O,O=0}return _=0,m|0&&(f[m>>2]=c,f[m+4>>2]=u),ee=(y|0)>>>31|(I|_)<<1|(_<<1|y>>>31)&0|O,q=(y<<1|0)&-2|w,ot(ee|0),q|0}function _a(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0,_=0,w=0,O=0,I=0;return I=u>>31|((u|0)<0?-1:0)<<1,O=((u|0)<0?-1:0)>>31|((u|0)<0?-1:0)<<1,y=d>>31|((d|0)<0?-1:0)<<1,m=((d|0)<0?-1:0)>>31|((d|0)<0?-1:0)<<1,w=sn(I^c|0,O^u|0,I|0,O|0)|0,_=X()|0,c=y^I,u=m^O,sn((Bv(w,_,sn(y^h|0,m^d|0,y|0,m|0)|0,X()|0,0)|0)^c|0,(X()|0)^u|0,c|0,u|0)|0}function jU(c,u){c=c|0,u=u|0;var h=0,d=0,m=0,y=0;return y=c&65535,m=u&65535,h=Tr(m,y)|0,d=c>>>16,c=(h>>>16)+(Tr(m,d)|0)|0,m=u>>>16,u=Tr(m,y)|0,ot((c>>>16)+(Tr(m,d)|0)+(((c&65535)+u|0)>>>16)|0),c+u<<16|h&65535|0|0}function an(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0;return m=c,y=h,h=jU(m,y)|0,c=X()|0,ot((Tr(u,y)|0)+(Tr(d,m)|0)+c|c&0|0),h|0|0|0}function jd(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0,_=0,w=0,O=0,I=0;return m=U,U=U+16|0,w=m|0,_=u>>31|((u|0)<0?-1:0)<<1,y=((u|0)<0?-1:0)>>31|((u|0)<0?-1:0)<<1,I=d>>31|((d|0)<0?-1:0)<<1,O=((d|0)<0?-1:0)>>31|((d|0)<0?-1:0)<<1,c=sn(_^c|0,y^u|0,_|0,y|0)|0,u=X()|0,Bv(c,u,sn(I^h|0,O^d|0,I|0,O|0)|0,X()|0,w)|0,d=sn(f[w>>2]^_|0,f[w+4>>2]^y|0,_|0,y|0)|0,h=X()|0,U=m,ot(h|0),d|0}function Fl(c,u,h,d){c=c|0,u=u|0,h=h|0,d=d|0;var m=0,y=0;return y=U,U=U+16|0,m=y|0,Bv(c,u,h,d,m)|0,U=y,ot(f[m+4>>2]|0),f[m>>2]|0|0}function Nx(c,u,h){return c=c|0,u=u|0,h=h|0,(h|0)<32?(ot(u>>h|0),c>>>h|(u&(1<<h)-1)<<32-h):(ot(((u|0)<0?-1:0)|0),u>>h-32|0)}function Pe(c,u,h){return c=c|0,u=u|0,h=h|0,(h|0)<32?(ot(u>>>h|0),c>>>h|(u&(1<<h)-1)<<32-h):(ot(0),u>>>h-32|0)}function De(c,u,h){return c=c|0,u=u|0,h=h|0,(h|0)<32?(ot(u<<h|(c&(1<<h)-1<<32-h)>>>32-h|0),c<<h):(ot(c<<h-32|0),0)}function Dx(c,u){return c=+c,u=+u,c!=c?+u:u!=u?+c:+oi(+c,+u)}function Fv(c,u){return c=+c,u=+u,c!=c?+u:u!=u?+c:+Mo(+c,+u)}function zd(c){return c=+c,c>=0?+gr(c+.5):+vn(c-.5)}function Vd(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0;if((h|0)>=8192)return oA(c|0,u|0,h|0)|0,c|0;if(y=c|0,m=c+h|0,(c&3)==(u&3)){for(;c&3;){if(!h)return y|0;Ye[c>>0]=Ye[u>>0]|0,c=c+1|0,u=u+1|0,h=h-1|0}for(h=m&-4|0,d=h-64|0;(c|0)<=(d|0);)f[c>>2]=f[u>>2],f[c+4>>2]=f[u+4>>2],f[c+8>>2]=f[u+8>>2],f[c+12>>2]=f[u+12>>2],f[c+16>>2]=f[u+16>>2],f[c+20>>2]=f[u+20>>2],f[c+24>>2]=f[u+24>>2],f[c+28>>2]=f[u+28>>2],f[c+32>>2]=f[u+32>>2],f[c+36>>2]=f[u+36>>2],f[c+40>>2]=f[u+40>>2],f[c+44>>2]=f[u+44>>2],f[c+48>>2]=f[u+48>>2],f[c+52>>2]=f[u+52>>2],f[c+56>>2]=f[u+56>>2],f[c+60>>2]=f[u+60>>2],c=c+64|0,u=u+64|0;for(;(c|0)<(h|0);)f[c>>2]=f[u>>2],c=c+4|0,u=u+4|0}else for(h=m-4|0;(c|0)<(h|0);)Ye[c>>0]=Ye[u>>0]|0,Ye[c+1>>0]=Ye[u+1>>0]|0,Ye[c+2>>0]=Ye[u+2>>0]|0,Ye[c+3>>0]=Ye[u+3>>0]|0,c=c+4|0,u=u+4|0;for(;(c|0)<(m|0);)Ye[c>>0]=Ye[u>>0]|0,c=c+1|0,u=u+1|0;return y|0}function ba(c,u,h){c=c|0,u=u|0,h=h|0;var d=0,m=0,y=0,_=0;if(y=c+h|0,u=u&255,(h|0)>=67){for(;c&3;)Ye[c>>0]=u,c=c+1|0;for(d=y&-4|0,_=u|u<<8|u<<16|u<<24,m=d-64|0;(c|0)<=(m|0);)f[c>>2]=_,f[c+4>>2]=_,f[c+8>>2]=_,f[c+12>>2]=_,f[c+16>>2]=_,f[c+20>>2]=_,f[c+24>>2]=_,f[c+28>>2]=_,f[c+32>>2]=_,f[c+36>>2]=_,f[c+40>>2]=_,f[c+44>>2]=_,f[c+48>>2]=_,f[c+52>>2]=_,f[c+56>>2]=_,f[c+60>>2]=_,c=c+64|0;for(;(c|0)<(d|0);)f[c>>2]=_,c=c+4|0}for(;(c|0)<(y|0);)Ye[c>>0]=u,c=c+1|0;return y-h|0}function Bx(c){return c=+c,c>=0?+gr(c+.5):+vn(c-.5)}function gs(c){c=c|0;var u=0,h=0,d=0;return d=kl()|0,h=f[xt>>2]|0,u=h+c|0,(c|0)>0&(u|0)<(h|0)|(u|0)<0?(aA(u|0)|0,Rn(12),-1):(u|0)>(d|0)&&!(sA(u|0)|0)?(Rn(12),-1):(f[xt>>2]=u,h|0)}return{___divdi3:_a,___muldi3:an,___remdi3:jd,___uremdi3:Fl,_areNeighborCells:P$,_bitshift64Ashr:Nx,_bitshift64Lshr:Pe,_bitshift64Shl:De,_calloc:ro,_cellAreaKm2:aU,_cellAreaM2:lU,_cellAreaRads2:Dv,_cellToBoundary:AA,_cellToCenterChild:z$,_cellToChildPos:G$,_cellToChildren:U$,_cellToChildrenSize:Ud,_cellToLatLng:cA,_cellToLocalIj:pU,_cellToParent:Ov,_cellToVertex:ai,_cellToVertexes:IU,_cellsToDirectedEdge:C$,_cellsToLinkedMultiPolygon:Qr,_childPosToCell:Z$,_compactCells:V$,_destroyLinkedMultiPolygon:wx,_directedEdgeToBoundary:$d,_directedEdgeToCells:k$,_edgeLengthKm:cU,_edgeLengthM:AU,_edgeLengthRads:uU,_emscripten_replace_memory:Il,_free:Je,_getBaseCellNumber:gx,_getDirectedEdgeDestination:R$,_getDirectedEdgeOrigin:O$,_getHexagonAreaAvgKm2:nU,_getHexagonAreaAvgM2:iU,_getHexagonEdgeLengthAvgKm:oU,_getHexagonEdgeLengthAvgM:sU,_getIcosahedronFaces:yx,_getNumCells:Nv,_getPentagons:Iv,_getRes0Cells:m$,_getResolution:$$,_greatCircleDistanceKm:hA,_greatCircleDistanceM:eU,_greatCircleDistanceRads:J$,_gridDisk:Nd,_gridDiskDistances:Dd,_gridDistance:mU,_gridPathCells:vU,_gridPathCellsSize:yU,_gridRingUnsafe:xe,_i64Add:ht,_i64Subtract:sn,_isPentagon:Jt,_isResClassIII:X$,_isValidCell:Cv,_isValidDirectedEdge:M$,_isValidVertex:DU,_latLngToCell:mx,_llvm_maxnum_f64:Dx,_llvm_minnum_f64:Fv,_llvm_round_f64:zd,_localIjToCell:gU,_malloc:to,_maxFaceCount:Q$,_maxGridDiskSize:Id,_maxPolygonToCellsSize:$e,_memcpy:Vd,_memset:ba,_originToDirectedEdges:I$,_pentagonCount:q$,_polygonToCells:xr,_readInt64AsDoubleFromPointer:OU,_res0CellCount:g$,_round:Bx,_sbrk:gs,_sizeOfCellBoundary:EU,_sizeOfCoordIJ:CU,_sizeOfGeoLoop:TU,_sizeOfGeoPolygon:xU,_sizeOfH3Index:wU,_sizeOfLatLng:SU,_sizeOfLinkedGeoPolygon:PU,_uncompactCells:W$,_uncompactCellsSize:H$,_vertexToLatLng:NU,establishStackSpace:lA,stackAlloc:Mi,stackRestore:kd,stackSave:_v}}(xd,Pd,H);e.___divdi3=Ce.___divdi3,e.___muldi3=Ce.___muldi3,e.___remdi3=Ce.___remdi3,e.___uremdi3=Ce.___uremdi3,e._areNeighborCells=Ce._areNeighborCells,e._bitshift64Ashr=Ce._bitshift64Ashr,e._bitshift64Lshr=Ce._bitshift64Lshr,e._bitshift64Shl=Ce._bitshift64Shl,e._calloc=Ce._calloc,e._cellAreaKm2=Ce._cellAreaKm2,e._cellAreaM2=Ce._cellAreaM2,e._cellAreaRads2=Ce._cellAreaRads2,e._cellToBoundary=Ce._cellToBoundary,e._cellToCenterChild=Ce._cellToCenterChild,e._cellToChildPos=Ce._cellToChildPos,e._cellToChildren=Ce._cellToChildren,e._cellToChildrenSize=Ce._cellToChildrenSize,e._cellToLatLng=Ce._cellToLatLng,e._cellToLocalIj=Ce._cellToLocalIj,e._cellToParent=Ce._cellToParent,e._cellToVertex=Ce._cellToVertex,e._cellToVertexes=Ce._cellToVertexes,e._cellsToDirectedEdge=Ce._cellsToDirectedEdge,e._cellsToLinkedMultiPolygon=Ce._cellsToLinkedMultiPolygon,e._childPosToCell=Ce._childPosToCell,e._compactCells=Ce._compactCells,e._destroyLinkedMultiPolygon=Ce._destroyLinkedMultiPolygon,e._directedEdgeToBoundary=Ce._directedEdgeToBoundary,e._directedEdgeToCells=Ce._directedEdgeToCells,e._edgeLengthKm=Ce._edgeLengthKm,e._edgeLengthM=Ce._edgeLengthM,e._edgeLengthRads=Ce._edgeLengthRads;var yv=e._emscripten_replace_memory=Ce._emscripten_replace_memory;e._free=Ce._free,e._getBaseCellNumber=Ce._getBaseCellNumber,e._getDirectedEdgeDestination=Ce._getDirectedEdgeDestination,e._getDirectedEdgeOrigin=Ce._getDirectedEdgeOrigin,e._getHexagonAreaAvgKm2=Ce._getHexagonAreaAvgKm2,e._getHexagonAreaAvgM2=Ce._getHexagonAreaAvgM2,e._getHexagonEdgeLengthAvgKm=Ce._getHexagonEdgeLengthAvgKm,e._getHexagonEdgeLengthAvgM=Ce._getHexagonEdgeLengthAvgM,e._getIcosahedronFaces=Ce._getIcosahedronFaces,e._getNumCells=Ce._getNumCells,e._getPentagons=Ce._getPentagons,e._getRes0Cells=Ce._getRes0Cells,e._getResolution=Ce._getResolution,e._greatCircleDistanceKm=Ce._greatCircleDistanceKm,e._greatCircleDistanceM=Ce._greatCircleDistanceM,e._greatCircleDistanceRads=Ce._greatCircleDistanceRads,e._gridDisk=Ce._gridDisk,e._gridDiskDistances=Ce._gridDiskDistances,e._gridDistance=Ce._gridDistance,e._gridPathCells=Ce._gridPathCells,e._gridPathCellsSize=Ce._gridPathCellsSize,e._gridRingUnsafe=Ce._gridRingUnsafe,e._i64Add=Ce._i64Add,e._i64Subtract=Ce._i64Subtract,e._isPentagon=Ce._isPentagon,e._isResClassIII=Ce._isResClassIII,e._isValidCell=Ce._isValidCell,e._isValidDirectedEdge=Ce._isValidDirectedEdge,e._isValidVertex=Ce._isValidVertex,e._latLngToCell=Ce._latLngToCell,e._llvm_maxnum_f64=Ce._llvm_maxnum_f64,e._llvm_minnum_f64=Ce._llvm_minnum_f64,e._llvm_round_f64=Ce._llvm_round_f64,e._localIjToCell=Ce._localIjToCell,e._malloc=Ce._malloc,e._maxFaceCount=Ce._maxFaceCount,e._maxGridDiskSize=Ce._maxGridDiskSize,e._maxPolygonToCellsSize=Ce._maxPolygonToCellsSize,e._memcpy=Ce._memcpy,e._memset=Ce._memset,e._originToDirectedEdges=Ce._originToDirectedEdges,e._pentagonCount=Ce._pentagonCount,e._polygonToCells=Ce._polygonToCells,e._readInt64AsDoubleFromPointer=Ce._readInt64AsDoubleFromPointer,e._res0CellCount=Ce._res0CellCount,e._round=Ce._round,e._sbrk=Ce._sbrk,e._sizeOfCellBoundary=Ce._sizeOfCellBoundary,e._sizeOfCoordIJ=Ce._sizeOfCoordIJ,e._sizeOfGeoLoop=Ce._sizeOfGeoLoop,e._sizeOfGeoPolygon=Ce._sizeOfGeoPolygon,e._sizeOfH3Index=Ce._sizeOfH3Index,e._sizeOfLatLng=Ce._sizeOfLatLng,e._sizeOfLinkedGeoPolygon=Ce._sizeOfLinkedGeoPolygon,e._uncompactCells=Ce._uncompactCells,e._uncompactCellsSize=Ce._uncompactCellsSize,e._vertexToLatLng=Ce._vertexToLatLng,e.establishStackSpace=Ce.establishStackSpace;var Cd=e.stackAlloc=Ce.stackAlloc,vv=e.stackRestore=Ce.stackRestore,Od=e.stackSave=Ce.stackSave;if(e.asm=Ce,e.cwrap=T,e.setValue=b,e.getValue=S,Bt){As(Bt)||(Bt=o(Bt));{Ci();var nA=function(Ae){Ae.byteLength&&(Ae=new Uint8Array(Ae)),re.set(Ae,v),e.memoryInitializerRequest&&delete e.memoryInitializerRequest.response,Oi()},Rd=function(){s(Bt,nA,function(){throw"could not load memory initializer "+Bt})},Md=rA(Bt);if(Md)nA(Md.buffer);else if(e.memoryInitializerRequest){var pa=function(){var Ae=e.memoryInitializerRequest,we=Ae.response;if(Ae.status!==200&&Ae.status!==0){var Ne=rA(e.memoryInitializerRequestURL);if(Ne)we=Ne.buffer;else{console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+Ae.status+", retrying "+Bt),Rd();return}}nA(we)};e.memoryInitializerRequest.response?setTimeout(pa,0):e.memoryInitializerRequest.addEventListener("load",pa)}else Rd()}}var Ol;Yr=function Ae(){Ol||iA(),Ol||(Yr=Ae)};function iA(Ae){if(Dt>0||(Et(),Dt>0))return;function we(){Ol||(Ol=!0,!E&&(zt(),Oe(),e.onRuntimeInitialized&&e.onRuntimeInitialized(),We()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),we()},1)):we()}e.run=iA;function eo(Ae){throw e.onAbort&&e.onAbort(Ae),Ae+="",a(Ae),l(Ae),E=!0,"abort("+Ae+"). Build with -s ASSERTIONS=1 for more info."}if(e.abort=eo,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return iA(),t}(typeof cg=="object"?cg:{}),ut="number",qe=ut,MA=ut,tt=ut,rt=ut,An=ut,Ve=ut,Cte=[["sizeOfH3Index",ut],["sizeOfLatLng",ut],["sizeOfCellBoundary",ut],["sizeOfGeoLoop",ut],["sizeOfGeoPolygon",ut],["sizeOfLinkedGeoPolygon",ut],["sizeOfCoordIJ",ut],["readInt64AsDoubleFromPointer",ut],["isValidCell",MA,[tt,rt]],["latLngToCell",qe,[ut,ut,An,Ve]],["cellToLatLng",qe,[tt,rt,Ve]],["cellToBoundary",qe,[tt,rt,Ve]],["maxGridDiskSize",qe,[ut,Ve]],["gridDisk",qe,[tt,rt,ut,Ve]],["gridDiskDistances",qe,[tt,rt,ut,Ve,Ve]],["gridRingUnsafe",qe,[tt,rt,ut,Ve]],["maxPolygonToCellsSize",qe,[Ve,An,ut,Ve]],["polygonToCells",qe,[Ve,An,ut,Ve]],["cellsToLinkedMultiPolygon",qe,[Ve,ut,Ve]],["destroyLinkedMultiPolygon",null,[Ve]],["compactCells",qe,[Ve,Ve,ut,ut]],["uncompactCells",qe,[Ve,ut,ut,Ve,ut,An]],["uncompactCellsSize",qe,[Ve,ut,ut,An,Ve]],["isPentagon",MA,[tt,rt]],["isResClassIII",MA,[tt,rt]],["getBaseCellNumber",ut,[tt,rt]],["getResolution",ut,[tt,rt]],["maxFaceCount",qe,[tt,rt,Ve]],["getIcosahedronFaces",qe,[tt,rt,Ve]],["cellToParent",qe,[tt,rt,An,Ve]],["cellToChildren",qe,[tt,rt,An,Ve]],["cellToCenterChild",qe,[tt,rt,An,Ve]],["cellToChildrenSize",qe,[tt,rt,An,Ve]],["cellToChildPos",qe,[tt,rt,An,Ve]],["childPosToCell",qe,[ut,ut,tt,rt,An,Ve]],["areNeighborCells",qe,[tt,rt,tt,rt,Ve]],["cellsToDirectedEdge",qe,[tt,rt,tt,rt,Ve]],["getDirectedEdgeOrigin",qe,[tt,rt,Ve]],["getDirectedEdgeDestination",qe,[tt,rt,Ve]],["isValidDirectedEdge",MA,[tt,rt]],["directedEdgeToCells",qe,[tt,rt,Ve]],["originToDirectedEdges",qe,[tt,rt,Ve]],["directedEdgeToBoundary",qe,[tt,rt,Ve]],["gridDistance",qe,[tt,rt,tt,rt,Ve]],["gridPathCells",qe,[tt,rt,tt,rt,Ve]],["gridPathCellsSize",qe,[tt,rt,tt,rt,Ve]],["cellToLocalIj",qe,[tt,rt,tt,rt,ut,Ve]],["localIjToCell",qe,[tt,rt,Ve,ut,Ve]],["getHexagonAreaAvgM2",qe,[An,Ve]],["getHexagonAreaAvgKm2",qe,[An,Ve]],["getHexagonEdgeLengthAvgM",qe,[An,Ve]],["getHexagonEdgeLengthAvgKm",qe,[An,Ve]],["greatCircleDistanceM",ut,[Ve,Ve]],["greatCircleDistanceKm",ut,[Ve,Ve]],["greatCircleDistanceRads",ut,[Ve,Ve]],["cellAreaM2",qe,[tt,rt,Ve]],["cellAreaKm2",qe,[tt,rt,Ve]],["cellAreaRads2",qe,[tt,rt,Ve]],["edgeLengthM",qe,[tt,rt,Ve]],["edgeLengthKm",qe,[tt,rt,Ve]],["edgeLengthRads",qe,[tt,rt,Ve]],["getNumCells",qe,[An,Ve]],["getRes0Cells",qe,[Ve]],["res0CellCount",ut],["getPentagons",qe,[ut,Ve]],["pentagonCount",ut],["cellToVertex",qe,[tt,rt,ut,Ve]],["cellToVertexes",qe,[tt,rt,Ve]],["vertexToLatLng",qe,[tt,rt,Ve]],["isValidVertex",MA,[tt,rt]]],sa={};Cte.forEach(function(e){sa[e[0]]=cg.cwrap.apply(cg,e)});sa.sizeOfH3Index();sa.sizeOfLatLng();sa.sizeOfCellBoundary();sa.sizeOfGeoPolygon();sa.sizeOfGeoLoop();sa.sizeOfLinkedGeoPolygon();sa.sizeOfCoordIJ();function Ks(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ote(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kE(t){let e,r,n;t.length!==2?(e=Ks,r=(a,l)=>Ks(t(a),l),n=(a,l)=>t(a)-l):(e=t===Ks||t===Ote?t:Rte,r=t,n=t);function i(a,l,A=0,p=a.length){if(A<p){if(e(l,l)!==0)return p;do{const g=A+p>>>1;r(a[g],l)<0?A=g+1:p=g}while(A<p)}return A}function o(a,l,A=0,p=a.length){if(A<p){if(e(l,l)!==0)return p;do{const g=A+p>>>1;r(a[g],l)<=0?A=g+1:p=g}while(A<p)}return A}function s(a,l,A=0,p=a.length){const g=i(a,l,A,p-1);return g>A&&n(a[g-1],l)>-n(a[g],l)?g-1:g}return{left:i,center:s,right:o}}function Rte(){return 0}function JB(t){return t===null?NaN:+t}function*Mte(t,e){if(e===void 0)for(let r of t)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of t)(n=e(n,++r,t))!=null&&(n=+n)>=n&&(yield n)}}const kte=kE(Ks),Ite=kte.right;kE(JB).center;const sd=Ite;class yO extends Map{constructor(e,r=Bte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(vO(this,e))}has(e){return super.has(vO(this,e))}set(e,r){return super.set(Nte(this,e),r)}delete(e){return super.delete(Dte(this,e))}}function vO({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Nte({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Dte({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Bte(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Fte(t=Ks){if(t===Ks)return e5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function e5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Lte=Math.sqrt(50),$te=Math.sqrt(10),Ute=Math.sqrt(2);function Ag(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=Lte?10:o>=$te?5:o>=Ute?2:1;let a,l,A;return i<0?(A=Math.pow(10,-i)/s,a=Math.round(t*A),l=Math.round(e*A),a/A<t&&++a,l/A>e&&--l,A=-A):(A=Math.pow(10,i)*s,a=Math.round(t/A),l=Math.round(e/A),a*A<t&&++a,l*A>e&&--l),l<a&&.5<=r&&r<2?Ag(t,e,r*2):[a,l,A]}function p2(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,s]=n?Ag(e,t,r):Ag(t,e,r);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(n)if(s<0)for(let A=0;A<a;++A)l[A]=(o-A)/-s;else for(let A=0;A<a;++A)l[A]=(o-A)*s;else if(s<0)for(let A=0;A<a;++A)l[A]=(i+A)/-s;else for(let A=0;A<a;++A)l[A]=(i+A)*s;return l}function g2(t,e,r){return e=+e,t=+t,r=+r,Ag(t,e,r)[2]}function m2(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?g2(e,t,r):g2(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function _O(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function bO(t,e){let r;if(e===void 0)for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function t5(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?e5:Fte(i);n>r;){if(n-r>600){const l=n-r+1,A=e-r+1,p=Math.log(l),g=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*g*(l-g)/l)*(A-l/2<0?-1:1),b=Math.max(r,Math.floor(e-A*g/l+v)),S=Math.min(n,Math.floor(e+(l-A)*g/l+v));t5(t,e,b,S,i)}const o=t[e];let s=r,a=n;for(kA(t,r,e),i(t[n],o)>0&&kA(t,r,n);s<a;){for(kA(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[r],o)===0?kA(t,r,a):(++a,kA(t,a,n)),a<=e&&(r=a+1),e<=a&&(n=a-1)}return t}function kA(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function jte(t,e,r){if(t=Float64Array.from(Mte(t,r)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return bO(t);if(e>=1)return _O(t);var n,i=(n-1)*e,o=Math.floor(i),s=_O(t5(t,o).subarray(0,o+1)),a=bO(t.subarray(o+1));return s+(a-s)*(i-o)}}function zte(t,e,r=JB){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),s=+r(t[o],o,t),a=+r(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function Vte(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function Ei(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function as(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const y2=Symbol("implicit");function IE(){var t=new yO,e=[],r=[],n=y2;function i(o){let s=t.get(o);if(s===void 0){if(n!==y2)return n;t.set(o,s=e.push(o)-1)}return r[s%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new yO;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return IE(e,r).unknown(n)},Ei.apply(i,arguments),i}function oh(){var t=IE().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,s,a=!1,l=0,A=0,p=.5;delete t.unknown;function g(){var v=e().length,b=i<n,S=b?i:n,E=b?n:i;o=(E-S)/Math.max(1,v-l+A*2),a&&(o=Math.floor(o)),S+=(E-S-o*(v-l))*p,s=o*(1-l),a&&(S=Math.round(S),s=Math.round(s));var C=Vte(v).map(function(x){return S+o*x});return r(b?C.reverse():C)}return t.domain=function(v){return arguments.length?(e(v),g()):e()},t.range=function(v){return arguments.length?([n,i]=v,n=+n,i=+i,g()):[n,i]},t.rangeRound=function(v){return[n,i]=v,n=+n,i=+i,a=!0,g()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(v){return arguments.length?(a=!!v,g()):a},t.padding=function(v){return arguments.length?(l=Math.min(1,A=+v),g()):l},t.paddingInner=function(v){return arguments.length?(l=Math.min(1,v),g()):l},t.paddingOuter=function(v){return arguments.length?(A=+v,g()):A},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),g()):p},t.copy=function(){return oh(e(),[n,i]).round(a).paddingInner(l).paddingOuter(A).align(p)},Ei.apply(g(),arguments)}function r5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return r5(e())},t}function vf(){return r5(oh.apply(null,arguments).paddingInner(1))}function NE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function n5(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ad(){}var sh=.7,fg=1/sh,Lu="\\s*([+-]?\\d+)\\s*",ah="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wte=/^#([0-9a-f]{3,8})$/,Hte=new RegExp(`^rgb\\(${Lu},${Lu},${Lu}\\)$`),Xte=new RegExp(`^rgb\\(${wo},${wo},${wo}\\)$`),Yte=new RegExp(`^rgba\\(${Lu},${Lu},${Lu},${ah}\\)$`),Kte=new RegExp(`^rgba\\(${wo},${wo},${wo},${ah}\\)$`),Qte=new RegExp(`^hsl\\(${ah},${wo},${wo}\\)$`),qte=new RegExp(`^hsla\\(${ah},${wo},${wo},${ah}\\)$`),wO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};NE(ad,lh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:SO,formatHex:SO,formatHex8:Gte,formatHsl:Zte,formatRgb:EO,toString:EO});function SO(){return this.rgb().formatHex()}function Gte(){return this.rgb().formatHex8()}function Zte(){return i5(this).formatHsl()}function EO(){return this.rgb().formatRgb()}function lh(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Wte.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?TO(e):r===3?new Dn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?R0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?R0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Hte.exec(t))?new Dn(e[1],e[2],e[3],1):(e=Xte.exec(t))?new Dn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Yte.exec(t))?R0(e[1],e[2],e[3],e[4]):(e=Kte.exec(t))?R0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Qte.exec(t))?CO(e[1],e[2]/100,e[3]/100,1):(e=qte.exec(t))?CO(e[1],e[2]/100,e[3]/100,e[4]):wO.hasOwnProperty(t)?TO(wO[t]):t==="transparent"?new Dn(NaN,NaN,NaN,0):null}function TO(t){return new Dn(t>>16&255,t>>8&255,t&255,1)}function R0(t,e,r,n){return n<=0&&(t=e=r=NaN),new Dn(t,e,r,n)}function Jte(t){return t instanceof ad||(t=lh(t)),t?(t=t.rgb(),new Dn(t.r,t.g,t.b,t.opacity)):new Dn}function v2(t,e,r,n){return arguments.length===1?Jte(t):new Dn(t,e,r,n??1)}function Dn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}NE(Dn,v2,n5(ad,{brighter(t){return t=t==null?fg:Math.pow(fg,t),new Dn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?sh:Math.pow(sh,t),new Dn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Dn(Qa(this.r),Qa(this.g),Qa(this.b),hg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xO,formatHex:xO,formatHex8:ere,formatRgb:PO,toString:PO}));function xO(){return`#${ja(this.r)}${ja(this.g)}${ja(this.b)}`}function ere(){return`#${ja(this.r)}${ja(this.g)}${ja(this.b)}${ja((isNaN(this.opacity)?1:this.opacity)*255)}`}function PO(){const t=hg(this.opacity);return`${t===1?"rgb(":"rgba("}${Qa(this.r)}, ${Qa(this.g)}, ${Qa(this.b)}${t===1?")":`, ${t})`}`}function hg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qa(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ja(t){return t=Qa(t),(t<16?"0":"")+t.toString(16)}function CO(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ui(t,e,r,n)}function i5(t){if(t instanceof Ui)return new Ui(t.h,t.s,t.l,t.opacity);if(t instanceof ad||(t=lh(t)),!t)return new Ui;if(t instanceof Ui)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(r-n)/a+(r<n)*6:r===o?s=(n-e)/a+2:s=(e-r)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Ui(s,a,l,t.opacity)}function tre(t,e,r,n){return arguments.length===1?i5(t):new Ui(t,e,r,n??1)}function Ui(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}NE(Ui,tre,n5(ad,{brighter(t){return t=t==null?fg:Math.pow(fg,t),new Ui(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?sh:Math.pow(sh,t),new Ui(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Dn(Y_(t>=240?t-240:t+120,i,n),Y_(t,i,n),Y_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ui(OO(this.h),M0(this.s),M0(this.l),hg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=hg(this.opacity);return`${t===1?"hsl(":"hsla("}${OO(this.h)}, ${M0(this.s)*100}%, ${M0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function OO(t){return t=(t||0)%360,t<0?t+360:t}function M0(t){return Math.max(0,Math.min(1,t||0))}function Y_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const DE=t=>()=>t;function rre(t,e){return function(r){return t+r*e}}function nre(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function ire(t){return(t=+t)==1?o5:function(e,r){return r-e?nre(e,r,t):DE(isNaN(e)?r:e)}}function o5(t,e){var r=e-t;return r?rre(t,r):DE(isNaN(t)?e:t)}const RO=function t(e){var r=ire(e);function n(i,o){var s=r((i=v2(i)).r,(o=v2(o)).r),a=r(i.g,o.g),l=r(i.b,o.b),A=o5(i.opacity,o.opacity);return function(p){return i.r=s(p),i.g=a(p),i.b=l(p),i.opacity=A(p),i+""}}return n.gamma=t,n}(1);function ore(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function sre(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function are(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=Lc(t[s],e[s]);for(;s<r;++s)o[s]=e[s];return function(a){for(s=0;s<n;++s)o[s]=i[s](a);return o}}function lre(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function dg(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function ure(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Lc(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var _2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,K_=new RegExp(_2.source,"g");function cre(t){return function(){return t}}function Are(t){return function(e){return t(e)+""}}function fre(t,e){var r=_2.lastIndex=K_.lastIndex=0,n,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(n=_2.exec(t))&&(i=K_.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:dg(n,i)})),r=K_.lastIndex;return r<e.length&&(o=e.slice(r),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Are(l[0].x):cre(e):(e=l.length,function(A){for(var p=0,g;p<e;++p)a[(g=l[p]).i]=g.x(A);return a.join("")})}function Lc(t,e){var r=typeof e,n;return e==null||r==="boolean"?DE(e):(r==="number"?dg:r==="string"?(n=lh(e))?(e=n,RO):fre:e instanceof lh?RO:e instanceof Date?lre:sre(e)?ore:Array.isArray(e)?are:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ure:dg)(t,e)}function BE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function hre(t,e){e===void 0&&(e=t,t=Lc);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(s){var a=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return o[a](s-a)}}function dre(t){return function(){return t}}function pg(t){return+t}var MO=[0,1];function En(t){return t}function b2(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:dre(isNaN(e)?NaN:.5)}function pre(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function gre(t,e,r){var n=t[0],i=t[1],o=e[0],s=e[1];return i<n?(n=b2(i,n),o=r(s,o)):(n=b2(n,i),o=r(o,s)),function(a){return o(n(a))}}function mre(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=b2(t[s],t[s+1]),o[s]=r(e[s],e[s+1]);return function(a){var l=sd(t,a,1,n)-1;return o[l](i[l](a))}}function ld(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ey(){var t=MO,e=MO,r=Lc,n,i,o,s=En,a,l,A;function p(){var v=Math.min(t.length,e.length);return s!==En&&(s=pre(t[0],t[v-1])),a=v>2?mre:gre,l=A=null,g}function g(v){return v==null||isNaN(v=+v)?o:(l||(l=a(t.map(n),e,r)))(n(s(v)))}return g.invert=function(v){return s(i((A||(A=a(e,t.map(n),dg)))(v)))},g.domain=function(v){return arguments.length?(t=Array.from(v,pg),p()):t.slice()},g.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},g.rangeRound=function(v){return e=Array.from(v),r=BE,p()},g.clamp=function(v){return arguments.length?(s=v?!0:En,p()):s!==En},g.interpolate=function(v){return arguments.length?(r=v,p()):r},g.unknown=function(v){return arguments.length?(o=v,g):o},function(v,b){return n=v,i=b,p()}}function FE(){return ey()(En,En)}function yre(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function gg(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function sc(t){return t=gg(Math.abs(t)),t?t[1]:NaN}function vre(t,e){return function(r,n){for(var i=r.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),o.push(r.substring(i-=a,i+a)),!((l+=a+1)>n));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function _re(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var bre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uh(t){if(!(e=bre.exec(t)))throw new Error("invalid format: "+t);var e;return new LE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}uh.prototype=LE.prototype;function LE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}LE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wre(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var s5;function Sre(t,e){var r=gg(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-(s5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+gg(t,Math.max(0,e+o-1))[0]}function kO(t,e){var r=gg(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const IO={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:yre,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>kO(t*100,e),r:kO,s:Sre,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function NO(t){return t}var DO=Array.prototype.map,BO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ere(t){var e=t.grouping===void 0||t.thousands===void 0?NO:vre(DO.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?NO:_re(DO.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function A(g){g=uh(g);var v=g.fill,b=g.align,S=g.sign,E=g.symbol,C=g.zero,x=g.width,P=g.comma,T=g.precision,M=g.trim,R=g.type;R==="n"?(P=!0,R="g"):IO[R]||(T===void 0&&(T=12),M=!0,R="g"),(C||v==="0"&&b==="=")&&(C=!0,v="0",b="=");var k=E==="$"?r:E==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",D=E==="$"?n:/[%p]/.test(R)?s:"",$=IO[R],W=/[defgprs%]/.test(R);T=T===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function N(H){var Q=k,re=D,ne,J,ue;if(R==="c")re=$(H)+re,H="";else{H=+H;var pe=H<0||1/H<0;if(H=isNaN(H)?l:$(Math.abs(H),T),M&&(H=wre(H)),pe&&+H==0&&S!=="+"&&(pe=!1),Q=(pe?S==="("?S:a:S==="-"||S==="("?"":S)+Q,re=(R==="s"?BO[8+s5/3]:"")+re+(pe&&S==="("?")":""),W){for(ne=-1,J=H.length;++ne<J;)if(ue=H.charCodeAt(ne),48>ue||ue>57){re=(ue===46?i+H.slice(ne+1):H.slice(ne))+re,H=H.slice(0,ne);break}}}P&&!C&&(H=e(H,1/0));var le=Q.length+H.length+re.length,ge=le<x?new Array(x-le+1).join(v):"";switch(P&&C&&(H=e(ge+H,ge.length?x-re.length:1/0),ge=""),b){case"<":H=Q+H+re+ge;break;case"=":H=Q+ge+H+re;break;case"^":H=ge.slice(0,le=ge.length>>1)+Q+H+re+ge.slice(le);break;default:H=ge+Q+H+re;break}return o(H)}return N.toString=function(){return g+""},N}function p(g,v){var b=A((g=uh(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(sc(v)/3)))*3,E=Math.pow(10,-S),C=BO[8+S/3];return function(x){return b(E*x)+C}}return{format:A,formatPrefix:p}}var k0,$E,a5;Tre({thousands:",",grouping:[3],currency:["$",""]});function Tre(t){return k0=Ere(t),$E=k0.format,a5=k0.formatPrefix,k0}function xre(t){return Math.max(0,-sc(Math.abs(t)))}function Pre(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sc(e)/3)))*3-sc(Math.abs(t)))}function Cre(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sc(e)-sc(t))+1}function l5(t,e,r,n){var i=m2(t,e,r),o;switch(n=uh(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=Pre(i,s))&&(n.precision=o),a5(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=Cre(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=xre(i))&&(n.precision=o-(n.type==="%")*2);break}}return $E(n)}function aa(t){var e=t.domain;return t.ticks=function(r){var n=e();return p2(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return l5(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,s=n[i],a=n[o],l,A,p=10;for(a<s&&(A=s,s=a,a=A,A=i,i=o,o=A);p-- >0;){if(A=g2(s,a,r),A===l)return n[i]=s,n[o]=a,e(n);if(A>0)s=Math.floor(s/A)*A,a=Math.ceil(a/A)*A;else if(A<0)s=Math.ceil(s*A)/A,a=Math.floor(a*A)/A;else break;l=A}return t},t}function ac(){var t=FE();return t.copy=function(){return ld(t,ac())},Ei.apply(t,arguments),aa(t)}function u5(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,pg),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return u5(t).unknown(e)},t=arguments.length?Array.from(t,pg):[0,1],aa(r)}function c5(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],s;return o<i&&(s=r,r=n,n=s,s=i,i=o,o=s),t[r]=e.floor(i),t[n]=e.ceil(o),t}function FO(t){return Math.log(t)}function LO(t){return Math.exp(t)}function Ore(t){return-Math.log(-t)}function Rre(t){return-Math.exp(-t)}function Mre(t){return isFinite(t)?+("1e"+t):t<0?0:t}function kre(t){return t===10?Mre:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ire(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function $O(t){return(e,r)=>-t(-e,r)}function UE(t){const e=t(FO,LO),r=e.domain;let n=10,i,o;function s(){return i=Ire(n),o=kre(n),r()[0]<0?(i=$O(i),o=$O(o),t(Ore,Rre)):t(FO,LO),e}return e.base=function(a){return arguments.length?(n=+a,s()):n},e.domain=function(a){return arguments.length?(r(a),s()):r()},e.ticks=a=>{const l=r();let A=l[0],p=l[l.length-1];const g=p<A;g&&([A,p]=[p,A]);let v=i(A),b=i(p),S,E;const C=a==null?10:+a;let x=[];if(!(n%1)&&b-v<C){if(v=Math.floor(v),b=Math.ceil(b),A>0){for(;v<=b;++v)for(S=1;S<n;++S)if(E=v<0?S/o(-v):S*o(v),!(E<A)){if(E>p)break;x.push(E)}}else for(;v<=b;++v)for(S=n-1;S>=1;--S)if(E=v>0?S/o(-v):S*o(v),!(E<A)){if(E>p)break;x.push(E)}x.length*2<C&&(x=p2(A,p,C))}else x=p2(v,b,Math.min(b-v,C)).map(o);return g?x.reverse():x},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=uh(l)).precision==null&&(l.trim=!0),l=$E(l)),a===1/0)return l;const A=Math.max(1,n*a/e.ticks().length);return p=>{let g=p/o(Math.round(i(p)));return g*n<n-.5&&(g*=n),g<=A?l(p):""}},e.nice=()=>r(c5(r(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function A5(){const t=UE(ey()).domain([1,10]);return t.copy=()=>ld(t,A5()).base(t.base()),Ei.apply(t,arguments),t}function UO(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function jO(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function jE(t){var e=1,r=t(UO(e),jO(e));return r.constant=function(n){return arguments.length?t(UO(e=+n),jO(e)):e},aa(r)}function f5(){var t=jE(ey());return t.copy=function(){return ld(t,f5()).constant(t.constant())},Ei.apply(t,arguments)}function zO(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Nre(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Dre(t){return t<0?-t*t:t*t}function zE(t){var e=t(En,En),r=1;function n(){return r===1?t(En,En):r===.5?t(Nre,Dre):t(zO(r),zO(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},aa(e)}function VE(){var t=zE(ey());return t.copy=function(){return ld(t,VE()).exponent(t.exponent())},Ei.apply(t,arguments),t}function Bre(){return VE.apply(null,arguments).exponent(.5)}function VO(t){return Math.sign(t)*t*t}function Fre(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function h5(){var t=FE(),e=[0,1],r=!1,n;function i(o){var s=Fre(t(o));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(o){return t.invert(VO(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,pg)).map(VO)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return h5(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Ei.apply(i,arguments),aa(i)}function d5(){var t=[],e=[],r=[],n;function i(){var s=0,a=Math.max(1,e.length);for(r=new Array(a-1);++s<a;)r[s-1]=zte(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?n:e[sd(r,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Ks),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return d5().domain(t).range(e).unknown(n)},Ei.apply(o,arguments)}function p5(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[sd(n,l,0,r)]:o}function a(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var A=i.indexOf(l);return A<0?[NaN,NaN]:A<1?[t,n[0]]:A>=r?[n[r-1],e]:[n[A-1],n[A]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return p5().domain([t,e]).range(i).unknown(o)},Ei.apply(aa(s),arguments)}function g5(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[sd(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return g5().domain(t).range(e).unknown(r)},Ei.apply(i,arguments)}const Q_=new Date,q_=new Date;function jr(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let A;do l.push(A=new Date(+o)),e(o,a),t(o);while(A<o&&o<s);return l},i.filter=o=>jr(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),r&&(i.count=(o,s)=>(Q_.setTime(+o),q_.setTime(+s),t(Q_),t(q_),Math.floor(r(Q_,q_))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?s=>n(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const mg=jr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);mg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?jr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):mg);mg.range;const Vo=1e3,gi=Vo*60,Wo=gi*60,ts=Wo*24,WE=ts*7,WO=ts*30,G_=ts*365,za=jr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Vo)},(t,e)=>(e-t)/Vo,t=>t.getUTCSeconds());za.range;const HE=jr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vo)},(t,e)=>{t.setTime(+t+e*gi)},(t,e)=>(e-t)/gi,t=>t.getMinutes());HE.range;const XE=jr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*gi)},(t,e)=>(e-t)/gi,t=>t.getUTCMinutes());XE.range;const YE=jr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Vo-t.getMinutes()*gi)},(t,e)=>{t.setTime(+t+e*Wo)},(t,e)=>(e-t)/Wo,t=>t.getHours());YE.range;const KE=jr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Wo)},(t,e)=>(e-t)/Wo,t=>t.getUTCHours());KE.range;const ud=jr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*gi)/ts,t=>t.getDate()-1);ud.range;const ty=jr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ts,t=>t.getUTCDate()-1);ty.range;const m5=jr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ts,t=>Math.floor(t/ts));m5.range;function yl(t){return jr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*gi)/WE)}const ry=yl(0),yg=yl(1),Lre=yl(2),$re=yl(3),lc=yl(4),Ure=yl(5),jre=yl(6);ry.range;yg.range;Lre.range;$re.range;lc.range;Ure.range;jre.range;function vl(t){return jr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/WE)}const ny=vl(0),vg=vl(1),zre=vl(2),Vre=vl(3),uc=vl(4),Wre=vl(5),Hre=vl(6);ny.range;vg.range;zre.range;Vre.range;uc.range;Wre.range;Hre.range;const QE=jr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());QE.range;const qE=jr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());qE.range;const rs=jr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());rs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});rs.range;const ns=jr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ns.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ns.range;function y5(t,e,r,n,i,o){const s=[[za,1,Vo],[za,5,5*Vo],[za,15,15*Vo],[za,30,30*Vo],[o,1,gi],[o,5,5*gi],[o,15,15*gi],[o,30,30*gi],[i,1,Wo],[i,3,3*Wo],[i,6,6*Wo],[i,12,12*Wo],[n,1,ts],[n,2,2*ts],[r,1,WE],[e,1,WO],[e,3,3*WO],[t,1,G_]];function a(A,p,g){const v=p<A;v&&([A,p]=[p,A]);const b=g&&typeof g.range=="function"?g:l(A,p,g),S=b?b.range(A,+p+1):[];return v?S.reverse():S}function l(A,p,g){const v=Math.abs(p-A)/g,b=kE(([,,C])=>C).right(s,v);if(b===s.length)return t.every(m2(A/G_,p/G_,g));if(b===0)return mg.every(Math.max(m2(A,p,g),1));const[S,E]=s[v/s[b-1][2]<s[b][2]/v?b-1:b];return S.every(E)}return[a,l]}const[Xre,Yre]=y5(ns,qE,ny,m5,KE,XE),[Kre,Qre]=y5(rs,QE,ry,ud,YE,HE);function Z_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function J_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function IA(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function qre(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,A=NA(i),p=DA(i),g=NA(o),v=DA(o),b=NA(s),S=DA(s),E=NA(a),C=DA(a),x=NA(l),P=DA(l),T={a:pe,A:le,b:ge,B:Ee,c:null,d:qO,e:qO,f:vne,g:One,G:Mne,H:gne,I:mne,j:yne,L:v5,m:_ne,M:bne,p:Te,q:be,Q:JO,s:eR,S:wne,u:Sne,U:Ene,V:Tne,w:xne,W:Pne,x:null,X:null,y:Cne,Y:Rne,Z:kne,"%":ZO},M={a:Me,A:He,b:it,B:Mt,c:null,d:GO,e:GO,f:Bne,g:Xne,G:Kne,H:Ine,I:Nne,j:Dne,L:b5,m:Fne,M:Lne,p:Et,q:zt,Q:JO,s:eR,S:$ne,u:Une,U:jne,V:zne,w:Vne,W:Wne,x:null,X:null,y:Hne,Y:Yne,Z:Qne,"%":ZO},R={a:N,A:H,b:Q,B:re,c:ne,d:KO,e:KO,f:fne,g:YO,G:XO,H:QO,I:QO,j:lne,L:Ane,m:ane,M:une,p:W,q:sne,Q:dne,s:pne,S:cne,u:tne,U:rne,V:nne,w:ene,W:ine,x:J,X:ue,y:YO,Y:XO,Z:one,"%":hne};T.x=k(r,T),T.X=k(n,T),T.c=k(e,T),M.x=k(r,M),M.X=k(n,M),M.c=k(e,M);function k(Oe,We){return function(Ke){var Se=[],pt=-1,Ge=0,Yt=Oe.length,Ct,Dt,Yr;for(Ke instanceof Date||(Ke=new Date(+Ke));++pt<Yt;)Oe.charCodeAt(pt)===37&&(Se.push(Oe.slice(Ge,pt)),(Dt=HO[Ct=Oe.charAt(++pt)])!=null?Ct=Oe.charAt(++pt):Dt=Ct==="e"?" ":"0",(Yr=We[Ct])&&(Ct=Yr(Ke,Dt)),Se.push(Ct),Ge=pt+1);return Se.push(Oe.slice(Ge,pt)),Se.join("")}}function D(Oe,We){return function(Ke){var Se=IA(1900,void 0,1),pt=$(Se,Oe,Ke+="",0),Ge,Yt;if(pt!=Ke.length)return null;if("Q"in Se)return new Date(Se.Q);if("s"in Se)return new Date(Se.s*1e3+("L"in Se?Se.L:0));if(We&&!("Z"in Se)&&(Se.Z=0),"p"in Se&&(Se.H=Se.H%12+Se.p*12),Se.m===void 0&&(Se.m="q"in Se?Se.q:0),"V"in Se){if(Se.V<1||Se.V>53)return null;"w"in Se||(Se.w=1),"Z"in Se?(Ge=J_(IA(Se.y,0,1)),Yt=Ge.getUTCDay(),Ge=Yt>4||Yt===0?vg.ceil(Ge):vg(Ge),Ge=ty.offset(Ge,(Se.V-1)*7),Se.y=Ge.getUTCFullYear(),Se.m=Ge.getUTCMonth(),Se.d=Ge.getUTCDate()+(Se.w+6)%7):(Ge=Z_(IA(Se.y,0,1)),Yt=Ge.getDay(),Ge=Yt>4||Yt===0?yg.ceil(Ge):yg(Ge),Ge=ud.offset(Ge,(Se.V-1)*7),Se.y=Ge.getFullYear(),Se.m=Ge.getMonth(),Se.d=Ge.getDate()+(Se.w+6)%7)}else("W"in Se||"U"in Se)&&("w"in Se||(Se.w="u"in Se?Se.u%7:"W"in Se?1:0),Yt="Z"in Se?J_(IA(Se.y,0,1)).getUTCDay():Z_(IA(Se.y,0,1)).getDay(),Se.m=0,Se.d="W"in Se?(Se.w+6)%7+Se.W*7-(Yt+5)%7:Se.w+Se.U*7-(Yt+6)%7);return"Z"in Se?(Se.H+=Se.Z/100|0,Se.M+=Se.Z%100,J_(Se)):Z_(Se)}}function $(Oe,We,Ke,Se){for(var pt=0,Ge=We.length,Yt=Ke.length,Ct,Dt;pt<Ge;){if(Se>=Yt)return-1;if(Ct=We.charCodeAt(pt++),Ct===37){if(Ct=We.charAt(pt++),Dt=R[Ct in HO?We.charAt(pt++):Ct],!Dt||(Se=Dt(Oe,Ke,Se))<0)return-1}else if(Ct!=Ke.charCodeAt(Se++))return-1}return Se}function W(Oe,We,Ke){var Se=A.exec(We.slice(Ke));return Se?(Oe.p=p.get(Se[0].toLowerCase()),Ke+Se[0].length):-1}function N(Oe,We,Ke){var Se=b.exec(We.slice(Ke));return Se?(Oe.w=S.get(Se[0].toLowerCase()),Ke+Se[0].length):-1}function H(Oe,We,Ke){var Se=g.exec(We.slice(Ke));return Se?(Oe.w=v.get(Se[0].toLowerCase()),Ke+Se[0].length):-1}function Q(Oe,We,Ke){var Se=x.exec(We.slice(Ke));return Se?(Oe.m=P.get(Se[0].toLowerCase()),Ke+Se[0].length):-1}function re(Oe,We,Ke){var Se=E.exec(We.slice(Ke));return Se?(Oe.m=C.get(Se[0].toLowerCase()),Ke+Se[0].length):-1}function ne(Oe,We,Ke){return $(Oe,e,We,Ke)}function J(Oe,We,Ke){return $(Oe,r,We,Ke)}function ue(Oe,We,Ke){return $(Oe,n,We,Ke)}function pe(Oe){return s[Oe.getDay()]}function le(Oe){return o[Oe.getDay()]}function ge(Oe){return l[Oe.getMonth()]}function Ee(Oe){return a[Oe.getMonth()]}function Te(Oe){return i[+(Oe.getHours()>=12)]}function be(Oe){return 1+~~(Oe.getMonth()/3)}function Me(Oe){return s[Oe.getUTCDay()]}function He(Oe){return o[Oe.getUTCDay()]}function it(Oe){return l[Oe.getUTCMonth()]}function Mt(Oe){return a[Oe.getUTCMonth()]}function Et(Oe){return i[+(Oe.getUTCHours()>=12)]}function zt(Oe){return 1+~~(Oe.getUTCMonth()/3)}return{format:function(Oe){var We=k(Oe+="",T);return We.toString=function(){return Oe},We},parse:function(Oe){var We=D(Oe+="",!1);return We.toString=function(){return Oe},We},utcFormat:function(Oe){var We=k(Oe+="",M);return We.toString=function(){return Oe},We},utcParse:function(Oe){var We=D(Oe+="",!0);return We.toString=function(){return Oe},We}}}var HO={"-":"",_:" ",0:"0"},Xr=/^\s*\d+/,Gre=/^%/,Zre=/[\\^$*+?|[\]().{}]/g;function Rt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function Jre(t){return t.replace(Zre,"\\$&")}function NA(t){return new RegExp("^(?:"+t.map(Jre).join("|")+")","i")}function DA(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function ene(t,e,r){var n=Xr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function tne(t,e,r){var n=Xr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function rne(t,e,r){var n=Xr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function nne(t,e,r){var n=Xr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function ine(t,e,r){var n=Xr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function XO(t,e,r){var n=Xr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function YO(t,e,r){var n=Xr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function one(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function sne(t,e,r){var n=Xr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function ane(t,e,r){var n=Xr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function KO(t,e,r){var n=Xr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function lne(t,e,r){var n=Xr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function QO(t,e,r){var n=Xr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function une(t,e,r){var n=Xr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function cne(t,e,r){var n=Xr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Ane(t,e,r){var n=Xr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function fne(t,e,r){var n=Xr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function hne(t,e,r){var n=Gre.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function dne(t,e,r){var n=Xr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function pne(t,e,r){var n=Xr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function qO(t,e){return Rt(t.getDate(),e,2)}function gne(t,e){return Rt(t.getHours(),e,2)}function mne(t,e){return Rt(t.getHours()%12||12,e,2)}function yne(t,e){return Rt(1+ud.count(rs(t),t),e,3)}function v5(t,e){return Rt(t.getMilliseconds(),e,3)}function vne(t,e){return v5(t,e)+"000"}function _ne(t,e){return Rt(t.getMonth()+1,e,2)}function bne(t,e){return Rt(t.getMinutes(),e,2)}function wne(t,e){return Rt(t.getSeconds(),e,2)}function Sne(t){var e=t.getDay();return e===0?7:e}function Ene(t,e){return Rt(ry.count(rs(t)-1,t),e,2)}function _5(t){var e=t.getDay();return e>=4||e===0?lc(t):lc.ceil(t)}function Tne(t,e){return t=_5(t),Rt(lc.count(rs(t),t)+(rs(t).getDay()===4),e,2)}function xne(t){return t.getDay()}function Pne(t,e){return Rt(yg.count(rs(t)-1,t),e,2)}function Cne(t,e){return Rt(t.getFullYear()%100,e,2)}function One(t,e){return t=_5(t),Rt(t.getFullYear()%100,e,2)}function Rne(t,e){return Rt(t.getFullYear()%1e4,e,4)}function Mne(t,e){var r=t.getDay();return t=r>=4||r===0?lc(t):lc.ceil(t),Rt(t.getFullYear()%1e4,e,4)}function kne(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Rt(e/60|0,"0",2)+Rt(e%60,"0",2)}function GO(t,e){return Rt(t.getUTCDate(),e,2)}function Ine(t,e){return Rt(t.getUTCHours(),e,2)}function Nne(t,e){return Rt(t.getUTCHours()%12||12,e,2)}function Dne(t,e){return Rt(1+ty.count(ns(t),t),e,3)}function b5(t,e){return Rt(t.getUTCMilliseconds(),e,3)}function Bne(t,e){return b5(t,e)+"000"}function Fne(t,e){return Rt(t.getUTCMonth()+1,e,2)}function Lne(t,e){return Rt(t.getUTCMinutes(),e,2)}function $ne(t,e){return Rt(t.getUTCSeconds(),e,2)}function Une(t){var e=t.getUTCDay();return e===0?7:e}function jne(t,e){return Rt(ny.count(ns(t)-1,t),e,2)}function w5(t){var e=t.getUTCDay();return e>=4||e===0?uc(t):uc.ceil(t)}function zne(t,e){return t=w5(t),Rt(uc.count(ns(t),t)+(ns(t).getUTCDay()===4),e,2)}function Vne(t){return t.getUTCDay()}function Wne(t,e){return Rt(vg.count(ns(t)-1,t),e,2)}function Hne(t,e){return Rt(t.getUTCFullYear()%100,e,2)}function Xne(t,e){return t=w5(t),Rt(t.getUTCFullYear()%100,e,2)}function Yne(t,e){return Rt(t.getUTCFullYear()%1e4,e,4)}function Kne(t,e){var r=t.getUTCDay();return t=r>=4||r===0?uc(t):uc.ceil(t),Rt(t.getUTCFullYear()%1e4,e,4)}function Qne(){return"+0000"}function ZO(){return"%"}function JO(t){return+t}function eR(t){return Math.floor(+t/1e3)}var Xl,S5,E5;qne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qne(t){return Xl=qre(t),S5=Xl.format,Xl.parse,E5=Xl.utcFormat,Xl.utcParse,Xl}function Gne(t){return new Date(t)}function Zne(t){return t instanceof Date?+t:+new Date(+t)}function GE(t,e,r,n,i,o,s,a,l,A){var p=FE(),g=p.invert,v=p.domain,b=A(".%L"),S=A(":%S"),E=A("%I:%M"),C=A("%I %p"),x=A("%a %d"),P=A("%b %d"),T=A("%B"),M=A("%Y");function R(k){return(l(k)<k?b:a(k)<k?S:s(k)<k?E:o(k)<k?C:n(k)<k?i(k)<k?x:P:r(k)<k?T:M)(k)}return p.invert=function(k){return new Date(g(k))},p.domain=function(k){return arguments.length?v(Array.from(k,Zne)):v().map(Gne)},p.ticks=function(k){var D=v();return t(D[0],D[D.length-1],k??10)},p.tickFormat=function(k,D){return D==null?R:A(D)},p.nice=function(k){var D=v();return(!k||typeof k.range!="function")&&(k=e(D[0],D[D.length-1],k??10)),k?v(c5(D,k)):p},p.copy=function(){return ld(p,GE(t,e,r,n,i,o,s,a,l,A))},p}function Jne(){return Ei.apply(GE(Kre,Qre,rs,QE,ry,ud,YE,HE,za,S5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eie(){return Ei.apply(GE(Xre,Yre,ns,qE,ny,ty,KE,XE,za,E5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function iy(){var t=0,e=1,r,n,i,o,s=En,a=!1,l;function A(g){return g==null||isNaN(g=+g)?l:s(i===0?.5:(g=(o(g)-r)*i,a?Math.max(0,Math.min(1,g)):g))}A.domain=function(g){return arguments.length?([t,e]=g,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),A):[t,e]},A.clamp=function(g){return arguments.length?(a=!!g,A):a},A.interpolator=function(g){return arguments.length?(s=g,A):s};function p(g){return function(v){var b,S;return arguments.length?([b,S]=v,s=g(b,S),A):[s(0),s(1)]}}return A.range=p(Lc),A.rangeRound=p(BE),A.unknown=function(g){return arguments.length?(l=g,A):l},function(g){return o=g,r=g(t),n=g(e),i=r===n?0:1/(n-r),A}}function la(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function T5(){var t=aa(iy()(En));return t.copy=function(){return la(t,T5())},as.apply(t,arguments)}function x5(){var t=UE(iy()).domain([1,10]);return t.copy=function(){return la(t,x5()).base(t.base())},as.apply(t,arguments)}function P5(){var t=jE(iy());return t.copy=function(){return la(t,P5()).constant(t.constant())},as.apply(t,arguments)}function ZE(){var t=zE(iy());return t.copy=function(){return la(t,ZE()).exponent(t.exponent())},as.apply(t,arguments)}function tie(){return ZE.apply(null,arguments).exponent(.5)}function C5(){var t=[],e=En;function r(n){if(n!=null&&!isNaN(n=+n))return e((sd(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ks),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>jte(t,o/n))},r.copy=function(){return C5(e).domain(t)},as.apply(r,arguments)}function oy(){var t=0,e=.5,r=1,n=1,i,o,s,a,l,A=En,p,g=!1,v;function b(E){return isNaN(E=+E)?v:(E=.5+((E=+p(E))-o)*(n*E<n*o?a:l),A(g?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,r]=E,i=p(t=+t),o=p(e=+e),s=p(r=+r),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),n=o<i?-1:1,b):[t,e,r]},b.clamp=function(E){return arguments.length?(g=!!E,b):g},b.interpolator=function(E){return arguments.length?(A=E,b):A};function S(E){return function(C){var x,P,T;return arguments.length?([x,P,T]=C,A=hre(E,[x,P,T]),b):[A(0),A(.5),A(1)]}}return b.range=S(Lc),b.rangeRound=S(BE),b.unknown=function(E){return arguments.length?(v=E,b):v},function(E){return p=E,i=E(t),o=E(e),s=E(r),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),n=o<i?-1:1,b}}function O5(){var t=aa(oy()(En));return t.copy=function(){return la(t,O5())},as.apply(t,arguments)}function R5(){var t=UE(oy()).domain([.1,1,10]);return t.copy=function(){return la(t,R5()).base(t.base())},as.apply(t,arguments)}function M5(){var t=jE(oy());return t.copy=function(){return la(t,M5()).constant(t.constant())},as.apply(t,arguments)}function JE(){var t=zE(oy());return t.copy=function(){return la(t,JE()).exponent(t.exponent())},as.apply(t,arguments)}function rie(){return JE.apply(null,arguments).exponent(.5)}/* @license
Papa Parse
v5.0.0-beta.0
https://github.com/mholt/PapaParse
License: MIT
*/const tR="\uFEFF";function nie(t,e={},r=oie){e=e||{};var n=e.dynamicTyping||!1;Wi(n)&&(e.dynamicTypingFunction=n,n={}),e.dynamicTyping=n,e.transform=Wi(e.transform)?e.transform:!1;var i=new r(e);return i.stream(t)}function iie(t,e){var r=!1,n=!0,i=",",o=`\r
`,s='"',a=s+s,l=!1,A=null;g();var p=new RegExp(ch(s),"g");if(typeof t=="string"&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return v(null,t,l);if(typeof t[0]=="object")return v(A||Object.keys(t[0]),t,l)}else if(typeof t=="object")return typeof t.data=="string"&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:Object.keys(t.data[0])),!Array.isArray(t.data[0])&&typeof t.data[0]!="object"&&(t.data=[t.data])),v(t.fields||[],t.data||[],l);throw new Error("Unable to serialize unrecognized input");function g(){if(typeof e=="object"){if(typeof e.delimiter=="string"&&!Ho.BAD_DELIMITERS.filter(function(E){return e.delimiter.indexOf(E)!==-1}).length&&(i=e.delimiter),(typeof e.quotes=="boolean"||Array.isArray(e.quotes))&&(r=e.quotes),(typeof e.skipEmptyLines=="boolean"||typeof e.skipEmptyLines=="string")&&(l=e.skipEmptyLines),typeof e.newline=="string"&&(o=e.newline),typeof e.quoteChar=="string"&&(s=e.quoteChar),typeof e.header=="boolean"&&(n=e.header),Array.isArray(e.columns)){if(e.columns.length===0)throw new Error("Option columns is empty");A=e.columns}e.escapeChar!==void 0&&(a=e.escapeChar+s)}}function v(E,C,x){var P="";typeof E=="string"&&(E=JSON.parse(E)),typeof C=="string"&&(C=JSON.parse(C));var T=Array.isArray(E)&&E.length>0,M=!Array.isArray(C[0]);if(T&&n){for(var R=0;R<E.length;R++)R>0&&(P+=i),P+=b(E[R],R);C.length>0&&(P+=o)}for(var k=0;k<C.length;k++){var D=T?E.length:C[k].length,$=!1,W=T?Object.keys(C[k]).length===0:C[k].length===0;if(x&&!T&&($=x==="greedy"?C[k].join("").trim()==="":C[k].length===1&&C[k][0].length===0),x==="greedy"&&T){for(var N=[],H=0;H<D;H++){var Q=M?E[H]:H;N.push(C[k][Q])}$=N.join("").trim()===""}if(!$){for(var re=0;re<D;re++){re>0&&!W&&(P+=i);var ne=T&&M?E[re]:re;P+=b(C[k][ne],re)}k<C.length-1&&(!x||D>0&&!W)&&(P+=o)}}return P}function b(E,C){if(typeof E>"u"||E===null)return"";if(E.constructor===Date)return JSON.stringify(E).slice(1,25);E=E.toString().replace(p,a);var x=typeof r=="boolean"&&r||Array.isArray(r)&&r[C]||S(E,Ho.BAD_DELIMITERS)||E.indexOf(i)>-1||E.charAt(0)===" "||E.charAt(E.length-1)===" ";return x?s+E+s:E}function S(E,C){for(var x=0;x<C.length;x++)if(E.indexOf(C[x])>-1)return!0;return!1}}let k5=class{constructor(e){F(this,"_handle");F(this,"_config");F(this,"_finished",!1);F(this,"_completed",!1);F(this,"_input",null);F(this,"_baseIndex",0);F(this,"_partialLine","");F(this,"_rowCount",0);F(this,"_start",0);F(this,"isFirstChunk",!0);F(this,"_completeResults",{data:[],errors:[],meta:{}});var r={...e};r.chunkSize=parseInt(r.chunkSize),!e.step&&!e.chunk&&(r.chunkSize=null),this._handle=new I5(r),this._handle.streamer=this,this._config=r}parseChunk(e,r){if(this.isFirstChunk&&Wi(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(e);n!==void 0&&(e=n)}this.isFirstChunk=!1;var i=this._partialLine+e;this._partialLine="";var o=this._handle.parse(i,this._baseIndex,!this._finished);if(!(this._handle.paused()||this._handle.aborted())){var s=o.meta.cursor;this._finished||(this._partialLine=i.substring(s-this._baseIndex),this._baseIndex=s),o&&o.data&&(this._rowCount+=o.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(Wi(this._config.chunk)&&!r){if(this._config.chunk(o,this._handle),this._handle.paused()||this._handle.aborted())return;o=void 0,this._completeResults=void 0}return!this._config.step&&!this._config.chunk&&(this._completeResults.data=this._completeResults.data.concat(o.data),this._completeResults.errors=this._completeResults.errors.concat(o.errors),this._completeResults.meta=o.meta),!this._completed&&a&&Wi(this._config.complete)&&(!o||!o.meta.aborted)&&(this._config.complete(this._completeResults,this._input),this._completed=!0),o}}_sendError(e){Wi(this._config.error)&&this._config.error(e)}};class oie extends k5{constructor(r={}){super(r);F(this,"remaining")}stream(r){return this.remaining=r,this._nextChunk()}_nextChunk(){if(!this._finished){var r=this._config.chunkSize,n=r?this.remaining.substr(0,r):this.remaining;return this.remaining=r?this.remaining.substr(r):"",this._finished=!this.remaining,this.parseChunk(n)}}}const sie=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,aie=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/;class I5{constructor(e){F(this,"_config");F(this,"_stepCounter",0);F(this,"_rowCounter",0);F(this,"_input");F(this,"_parser");F(this,"_paused",!1);F(this,"_aborted",!1);F(this,"_delimiterError",!1);F(this,"_fields",[]);F(this,"_results",{data:[],errors:[],meta:{}});if(Wi(e.step)){var r=e.step;e.step=n=>{if(this._results=n,this.needsHeaderRow())this.processResults();else{if(this.processResults(),!this._results.data||this._results.data.length===0)return;this._stepCounter+=n.data.length,e.preview&&this._stepCounter>e.preview?this._parser.abort():r(this._results,this)}}}this._config=e}parse(e,r,n){var i=this._config.quoteChar||'"';if(this._config.newline||(this._config.newline=lie(e,i)),this._delimiterError=!1,this._config.delimiter)Wi(this._config.delimiter)&&(this._config.delimiter=this._config.delimiter(e),this._results.meta.delimiter=this._config.delimiter);else{var o=this.guessDelimiter(e,this._config.newline,this._config.skipEmptyLines,this._config.comments,this._config.delimitersToGuess);o.successful?this._config.delimiter=o.bestDelimiter:(this._delimiterError=!0,this._config.delimiter=Ho.DefaultDelimiter),this._results.meta.delimiter=this._config.delimiter}var s=N5(this._config);return this._config.preview&&this._config.header&&s.preview++,this._input=e,this._parser=new w2(s),this._results=this._parser.parse(this._input,r,n),this.processResults(),this._paused?{meta:{paused:!0}}:this._results||{meta:{paused:!1}}}paused(){return this._paused}pause(){this._paused=!0,this._parser.abort(),this._input=this._input.substr(this._parser.getCharIndex())}resume(){this._paused=!1,this.streamer.parseChunk(this._input,!0)}aborted(){return this._aborted}abort(){this._aborted=!0,this._parser.abort(),this._results.meta.aborted=!0,Wi(this._config.complete)&&this._config.complete(this._results),this._input=""}testEmptyLine(e){return this._config.skipEmptyLines==="greedy"?e.join("").trim()==="":e.length===1&&e[0].length===0}processResults(){if(this._results&&this._delimiterError&&(this.addError("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+Ho.DefaultDelimiter+"'"),this._delimiterError=!1),this._config.skipEmptyLines)for(var e=0;e<this._results.data.length;e++)this.testEmptyLine(this._results.data[e])&&this._results.data.splice(e--,1);return this.needsHeaderRow()&&this.fillHeaderFields(),this.applyHeaderAndDynamicTypingAndTransformation()}needsHeaderRow(){return this._config.header&&this._fields.length===0}fillHeaderFields(){if(!this._results)return;const e=n=>{Wi(this._config.transformHeader)&&(n=this._config.transformHeader(n)),this._fields.push(n)};if(Array.isArray(this._results.data[0])){for(var r=0;this.needsHeaderRow()&&r<this._results.data.length;r++)this._results.data[r].forEach(e);this._results.data.splice(0,1)}else this._results.data.forEach(e)}shouldApplyDynamicTyping(e){return this._config.dynamicTypingFunction&&this._config.dynamicTyping[e]===void 0&&(this._config.dynamicTyping[e]=this._config.dynamicTypingFunction(e)),(this._config.dynamicTyping[e]||this._config.dynamicTyping)===!0}parseDynamic(e,r){return this.shouldApplyDynamicTyping(e)?r==="true"||r==="TRUE"?!0:r==="false"||r==="FALSE"?!1:sie.test(r)?parseFloat(r):aie.test(r)?new Date(r):r===""?null:r:r}applyHeaderAndDynamicTypingAndTransformation(){if(!this._results||!this._results.data||!this._config.header&&!this._config.dynamicTyping&&!this._config.transform)return this._results;var e=1;return!this._results.data[0]||Array.isArray(this._results.data[0])?(this._results.data=this._results.data.map(this.processRow.bind(this)),e=this._results.data.length):this._results.data=this.processRow(this._results.data,0),this._config.header&&this._results.meta&&(this._results.meta.fields=this._fields),this._rowCounter+=e,this._results}processRow(e,r){var n=this._config.header?{}:[],i;for(i=0;i<e.length;i++){var o=i,s=e[i];this._config.header&&(o=i>=this._fields.length?"__parsed_extra":this._fields[i]),this._config.transform&&(s=this._config.transform(s,o)),s=this.parseDynamic(o,s),o==="__parsed_extra"?(n[o]=n[o]||[],n[o].push(s)):n[o]=s}return this._config.header&&(i>this._fields.length?this.addError("FieldMismatch","TooManyFields","Too many fields: expected "+this._fields.length+" fields but parsed "+i,this._rowCounter+r):i<this._fields.length&&this.addError("FieldMismatch","TooFewFields","Too few fields: expected "+this._fields.length+" fields but parsed "+i,this._rowCounter+r)),n}guessDelimiter(e,r,n,i,o){var s,a,l;o=o||[",","	","|",";",Ho.RECORD_SEP,Ho.UNIT_SEP];for(var A=0;A<o.length;A++){var p=o[A],g=0,v=0,b=0;l=void 0;for(var S=new w2({comments:i,delimiter:p,newline:r,preview:10}).parse(e),E=0;E<S.data.length;E++){if(n&&this.testEmptyLine(S.data[E])){b++;continue}var C=S.data[E].length;if(v+=C,typeof l>"u"){l=0;continue}else C>1&&(g+=Math.abs(C-l),l=C)}S.data.length>0&&(v/=S.data.length-b),(typeof a>"u"||g>a)&&v>1.99&&(a=g,s=p)}return this._config.delimiter=s,{successful:!!s,bestDelimiter:s}}addError(e,r,n,i){this._results.errors.push({type:e,code:r,message:n,row:i})}}function lie(t,e){t=t.substr(0,1024*1024);var r=new RegExp(ch(e)+"([^]*?)"+ch(e),"gm");t=t.replace(r,"");var n=t.split("\r"),i=t.split(`
`),o=i.length>1&&i[0].length<n[0].length;if(n.length===1||o)return`
`;for(var s=0,a=0;a<n.length;a++)n[a][0]===`
`&&s++;return s>=n.length/2?`\r
`:"\r"}function ch(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w2(t){t=t||{};var e=t.delimiter,r=t.newline,n=t.comments,i=t.step,o=t.preview,s=t.fastMode,a;t.quoteChar===void 0?a='"':a=t.quoteChar;var l=a;if(t.escapeChar!==void 0&&(l=t.escapeChar),(typeof e!="string"||Ho.BAD_DELIMITERS.indexOf(e)>-1)&&(e=","),n===e)throw new Error("Comment character same as delimiter");n===!0?n="#":(typeof n!="string"||Ho.BAD_DELIMITERS.indexOf(n)>-1)&&(n=!1),r!==`
`&&r!=="\r"&&r!==`\r
`&&(r=`
`);var A=0,p=!1;this.parse=function(g,v,b){if(typeof g!="string")throw new Error("Input must be a string");var S=g.length,E=e.length,C=r.length,x=n.length,P=Wi(i);A=0;var T=[],M=[],R=[],k=0;if(!g)return Te();if(s||s!==!1&&g.indexOf(a)===-1){for(var D=g.split(r),$=0;$<D.length;$++){const Me=D[$];if(A+=Me.length,$!==D.length-1)A+=r.length;else if(b)return Te();if(!(n&&Me.substr(0,x)===n)){if(P){if(T=[],pe(Me.split(e)),be(),p)return Te()}else pe(Me.split(e));if(o&&$>=o)return T=T.slice(0,o),Te(!0)}}return Te()}for(var W=g.indexOf(e,A),N=g.indexOf(r,A),H=new RegExp(ch(l)+ch(a),"g"),Q;;){if(g[A]===a){for(Q=A,A++;;){if(Q=g.indexOf(a,Q+1),Q===-1)return b||M.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:T.length,index:A}),ge();if(Q===S-1){var re=g.substring(A,Q).replace(H,a);return ge(re)}if(a===l&&g[Q+1]===l){Q++;continue}if(!(a!==l&&Q!==0&&g[Q-1]===l)){var ne=N===-1?W:Math.min(W,N),J=le(ne);if(g[Q+1+J]===e){if(R.push(g.substring(A,Q).replace(H,a)),A=Q+1+J+E,W=g.indexOf(e,A),N=g.indexOf(r,A),P&&(be(),p))return Te();if(o&&T.length>=o)return Te(!0);break}var ue=le(N);if(g.substr(Q+1+ue,C)===r){if(R.push(g.substring(A,Q).replace(H,a)),Ee(Q+1+ue+C),W=g.indexOf(e,A),P&&(be(),p))return Te();if(o&&T.length>=o)return Te(!0);break}M.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:T.length,index:A}),Q++}}if(P&&(be(),p))return Te();if(o&&T.length>=o)return Te(!0);continue}if(n&&R.length===0&&g.substr(A,x)===n){if(N===-1)return Te();A=N+C,N=g.indexOf(r,A),W=g.indexOf(e,A);continue}if(W!==-1&&(W<N||N===-1)){R.push(g.substring(A,W)),A=W+E,W=g.indexOf(e,A);continue}if(N!==-1){if(R.push(g.substring(A,N)),Ee(N+C),P&&(be(),p))return Te();if(o&&T.length>=o)return Te(!0);continue}break}return ge();function pe(Me){T.push(Me),k=A}function le(Me){var He=0;if(Me!==-1){var it=g.substring(Q+1,Me);it&&it.trim()===""&&(He=it.length)}return He}function ge(Me){return b||(typeof Me>"u"&&(Me=g.substr(A)),R.push(Me),A=S,pe(R),P&&be()),Te()}function Ee(Me){A=Me,pe(R),R=[],N=g.indexOf(r,A)}function Te(Me,He){var it=He||!1;return{data:it?T[0]:T,errors:M,meta:{delimiter:e,linebreak:r,aborted:p,truncated:!!Me,cursor:k+(v||0)}}}function be(){i(Te(void 0,!0)),T=[],M=[]}},this.abort=function(){p=!0},this.getCharIndex=function(){return A}}function N5(t){if(typeof t!="object"||t===null)return t;var e=Array.isArray(t)?[]:{};for(var r in t)e[r]=N5(t[r]);return e}function Wi(t){return typeof t=="function"}const Ho={parse:nie,unparse:iie,RECORD_SEP:String.fromCharCode(30),UNIT_SEP:String.fromCharCode(31),BYTE_ORDER_MARK:tR,BAD_DELIMITERS:["\r",`
`,'"',tR],WORKERS_SUPPORTED:!1,NODE_STREAM_INPUT:1,LocalChunkSize:1024*1024*10,RemoteChunkSize:1024*1024*5,DefaultDelimiter:",",Parser:w2,ParserHandle:I5,ChunkStreamer:k5},sy=Ho,{ChunkStreamer:uie}=sy;class cie extends uie{constructor(r={}){super(r);F(this,"textDecoder",new TextDecoder(this._config.encoding))}async stream(r){this._input=r;try{for await(const n of r)this.parseChunk(this.getStringChunk(n));this._finished=!0,this.parseChunk("")}catch(n){this._sendError(n)}}_nextChunk(){}getStringChunk(r){return typeof r=="string"?r:this.textDecoder.decode(r,{stream:!0})}}const Aie="4.3.2",eT="object-row-table",Ah={dataType:null,batchType:null,id:"csv",module:"csv",name:"CSV",version:Aie,extensions:["csv","tsv","dsv"],mimeTypes:["text/csv","text/tab-separated-values","text/dsv"],category:"table",parse:async(t,e)=>rR(new TextDecoder().decode(t),e),parseText:(t,e)=>rR(t,e),parseInBatches:fie,options:{csv:{shape:eT,optimizeMemoryUsage:!1,header:"auto",columnPrefix:"column",quoteChar:'"',escapeChar:'"',dynamicTyping:!0,comments:!1,skipEmptyLines:!0,delimitersToGuess:[",","	","|",";"]}}};async function rR(t,e){const r={...Ah.options.csv,...e==null?void 0:e.csv},n=hie(t),o=r.header==="auto"?D5(n):!!r.header,s={...r,header:o,download:!1,transformHeader:o?B5():void 0,error:g=>{throw new Error(g)}},a=sy.parse(t,s),l=a.data,A=a.meta.fields||F5(r.columnPrefix,n.length),p=r.shape||eT;switch(p){case"object-row-table":return{shape:"object-row-table",data:l.map(g=>Array.isArray(g)?KD(g,A):g)};case"array-row-table":return{shape:"array-row-table",data:l.map(g=>Array.isArray(g)?g:QD(g,A))};default:throw new Error(p)}}function fie(t,e){e={...e},e.batchSize==="auto"&&(e.batchSize=4e3);const r={...Ah.options.csv,...e==null?void 0:e.csv},n=new tV;let i=!0,o=null,s=null,a=null;const l={...r,header:!1,download:!1,chunkSize:1024*1024*5,skipEmptyLines:!1,step(A){let p=A.data;if(r.skipEmptyLines&&p.flat().join("").trim()==="")return;const g=A.meta.cursor;if(i&&!o&&(r.header==="auto"?D5(p):!!r.header)){o=p.map(B5());return}i&&(i=!1,o||(o=F5(r.columnPrefix,p.length)),a=die(p,o)),r.optimizeMemoryUsage&&(p=JSON.parse(JSON.stringify(p)));const v=r.shape||eT;s=s||new Tb(a,{shape:v,...e});try{s.addRow(p);const b=s&&s.getFullBatch({bytesUsed:g});b&&n.enqueue(b)}catch(b){n.enqueue(b)}},complete(A){try{const p=A.meta.cursor,g=s&&s.getFinalBatch({bytesUsed:p});g&&n.enqueue(g)}catch(p){n.enqueue(p)}n.close()}};return sy.parse(t,l,cie),n}function D5(t){return t&&t.every(e=>typeof e=="string")}function hie(t){return sy.parse(t,{dynamicTyping:!0,preview:1}).data[0]}function B5(){const t=new Set;return e=>{let r=e,n=1;for(;t.has(r);)r=`${e}.${n}`,n++;return t.add(r),r}}function F5(t,e=0){const r=[];for(let n=0;n<e;n++)r.push(`${t}${n+1}`);return r}function die(t,e){const r=e?{}:[];for(let n=0;n<t.length;n++){const i=e&&e[n]||n;switch(typeof t[n]){case"number":case"boolean":r[i]={name:String(i),index:n,type:Float32Array};break;case"string":default:r[i]={name:String(i),index:n,type:Array}}}return r}const pie="modulepreload",gie=function(t){return"/"+t},nR={},mie=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=gie(o),o in nR)return;nR[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!n)for(let p=i.length-1;p>=0;p--){const g=i[p];if(g.href===o&&(!s||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const A=document.createElement("link");if(A.rel=s?"stylesheet":pie,s||(A.as="script",A.crossOrigin=""),A.href=o,document.head.appendChild(A),s)return new Promise((p,g)=>{A.addEventListener("load",p),A.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})},yie=te.createContext(null);function vie(t,e){const r=Array.isArray(t)?t[0]:t?t.x:0,n=Array.isArray(t)?t[1]:t?t.y:0,i=Array.isArray(e)?e[0]:e?e.x:0,o=Array.isArray(e)?e[1]:e?e.y:0;return r===i&&n===o}function Lo(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!Lo(t[r],e[r]))return!1;return!0}else if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r)if(!e.hasOwnProperty(i)||!Lo(t[i],e[i]))return!1;return!0}return!1}function _ie(t){const e=t.clone();return e.pixelsToGLUnits=t.pixelsToGLUnits,e}function iR(t,e){if(!t.getProjection)return;const r=t.getProjection(),n=e.getProjection();Lo(r,n)||e.setProjection(r)}function oR(t){return{longitude:t.center.lng,latitude:t.center.lat,zoom:t.zoom,pitch:t.pitch,bearing:t.bearing,padding:t.padding}}function sR(t,e){const r=e.viewState||e;let n=!1;if("longitude"in r&&"latitude"in r){const i=t.center;t.center=new i.constructor(r.longitude,r.latitude),n=n||i!==t.center}if("zoom"in r){const i=t.zoom;t.zoom=r.zoom,n=n||i!==t.zoom}if("bearing"in r){const i=t.bearing;t.bearing=r.bearing,n=n||i!==t.bearing}if("pitch"in r){const i=t.pitch;t.pitch=r.pitch,n=n||i!==t.pitch}return r.padding&&!t.isPaddingEqual(r.padding)&&(n=!0,t.padding=r.padding),n}const bie=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function aR(t){if(!t)return null;if(typeof t=="string"||("toJS"in t&&(t=t.toJS()),!t.layers))return t;const e={};for(const n of t.layers)e[n.id]=n;const r=t.layers.map(n=>{let i=null;"interactive"in n&&(i=Object.assign({},n),delete i.interactive);const o=e[n.ref];if(o){i=i||Object.assign({},n),delete i.ref;for(const s of bie)s in o&&(i[s]=o[s])}return i||n});return{...t,layers:r}}const lR={version:8,sources:{},layers:[]},uR={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},e1={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},cR={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},wie=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],Sie=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class cc{constructor(e,r,n){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=i=>{const o=this.props[cR[i.type]];o?o(i):i.type==="error"&&console.error(i.error)},this._onPointerEvent=i=>{(i.type==="mousemove"||i.type==="mouseout")&&this._updateHover(i);const o=this.props[uR[i.type]];o&&(this.props.interactiveLayerIds&&i.type!=="mouseover"&&i.type!=="mouseout"&&(i.features=this._hoveredFeatures||this._queryRenderedFeatures(i.point)),o(i),delete i.features)},this._onCameraEvent=i=>{if(!this._internalUpdate){const o=this.props[e1[i.type]];o&&o(i)}i.type in this._deferredEvents&&(this._deferredEvents[i.type]=!1)},this._MapClass=e,this.props=r,this._initialize(n)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){const r=this.props;this.props=e;const n=this._updateSettings(e,r);n&&this._createShadowTransform(this._map);const i=this._updateSize(e),o=this._updateViewState(e,!0);this._updateStyle(e,r),this._updateStyleComponents(e,r),this._updateHandlers(e,r),(n||i||o&&!this._map.isMoving())&&this.redraw()}static reuse(e,r){const n=cc.savedMaps.pop();if(!n)return null;const i=n.map,o=i.getContainer();for(r.className=o.className;o.childNodes.length>0;)r.appendChild(o.childNodes[0]);i._container=r;const s=i._resizeObserver;s&&(s.disconnect(),s.observe(r)),n.setProps({...e,styleDiffing:!1}),i.resize();const{initialViewState:a}=e;return a&&(a.bounds?i.fitBounds(a.bounds,{...a.fitBoundsOptions,duration:0}):n._updateViewState(a,!1)),i.isStyleLoaded()?i.fire("load"):i.once("styledata",()=>i.fire("load")),i._update(),n}_initialize(e){const{props:r}=this,{mapStyle:n=lR}=r,i={...r,...r.initialViewState,accessToken:r.mapboxAccessToken||Eie()||null,container:e,style:aR(n)},o=i.initialViewState||i.viewState||i;if(Object.assign(i,{center:[o.longitude||0,o.latitude||0],zoom:o.zoom||0,pitch:o.pitch||0,bearing:o.bearing||0}),r.gl){const p=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=p,r.gl)}const s=new this._MapClass(i);o.padding&&s.setPadding(o.padding),r.cursor&&(s.getCanvas().style.cursor=r.cursor),this._createShadowTransform(s);const a=s._render;s._render=p=>{this._inRender=!0,a.call(s,p),this._inRender=!1};const l=s._renderTaskQueue.run;s._renderTaskQueue.run=p=>{l.call(s._renderTaskQueue,p),this._onBeforeRepaint()},s.on("render",()=>this._onAfterRepaint());const A=s.fire;s.fire=this._fireEvent.bind(this,A),s.on("resize",()=>{this._renderTransform.resize(s.transform.width,s.transform.height)}),s.on("styledata",()=>{this._updateStyleComponents(this.props,{}),iR(s.transform,this._renderTransform)}),s.on("sourcedata",()=>this._updateStyleComponents(this.props,{}));for(const p in uR)s.on(p,this._onPointerEvent);for(const p in e1)s.on(p,this._onCameraEvent);for(const p in cR)s.on(p,this._onEvent);this._map=s}recycle(){const r=this.map.getContainer().querySelector("[mapboxgl-children]");r==null||r.remove(),cc.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_createShadowTransform(e){const r=_ie(e.transform);e.painter.transform=r,this._renderTransform=r}_updateSize(e){const{viewState:r}=e;if(r){const n=this._map;if(r.width!==n.transform.width||r.height!==n.transform.height)return n.resize(),!0}return!1}_updateViewState(e,r){if(this._internalUpdate)return!1;const n=this._map,i=this._renderTransform,{zoom:o,pitch:s,bearing:a}=i,l=n.isMoving();l&&(i.cameraElevationReference="sea");const A=sR(i,{...oR(n.transform),...e});if(l&&(i.cameraElevationReference="ground"),A&&r){const p=this._deferredEvents;p.move=!0,p.zoom||(p.zoom=o!==i.zoom),p.rotate||(p.rotate=a!==i.bearing),p.pitch||(p.pitch=s!==i.pitch)}return l||sR(n.transform,e),A}_updateSettings(e,r){const n=this._map;let i=!1;for(const o of wie)if(o in e&&!Lo(e[o],r[o])){i=!0;const s=n[`set${o[0].toUpperCase()}${o.slice(1)}`];s==null||s.call(n,e[o])}return i}_updateStyle(e,r){if(e.cursor!==r.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle!==r.mapStyle){const{mapStyle:n=lR,styleDiffing:i=!0}=e,o={diff:i};return"localIdeographFontFamily"in e&&(o.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(aR(n),o),!0}return!1}_updateStyleComponents(e,r){const n=this._map;let i=!1;return n.isStyleLoaded()&&("light"in e&&n.setLight&&!Lo(e.light,r.light)&&(i=!0,n.setLight(e.light)),"fog"in e&&n.setFog&&!Lo(e.fog,r.fog)&&(i=!0,n.setFog(e.fog)),"terrain"in e&&n.setTerrain&&!Lo(e.terrain,r.terrain)&&(!e.terrain||n.getSource(e.terrain.source))&&(i=!0,n.setTerrain(e.terrain))),i}_updateHandlers(e,r){var n,i;const o=this._map;let s=!1;for(const a of Sie){const l=(n=e[a])!==null&&n!==void 0?n:!0,A=(i=r[a])!==null&&i!==void 0?i:!0;Lo(l,A)||(s=!0,l?o[a].enable(l):o[a].disable())}return s}_queryRenderedFeatures(e){const r=this._map,n=r.transform,{interactiveLayerIds:i=[]}=this.props;try{return r.transform=this._renderTransform,r.queryRenderedFeatures(e,{layers:i.filter(r.getLayer.bind(r))})}catch{return[]}finally{r.transform=n}}_updateHover(e){var r;const{props:n}=this;if(n.interactiveLayerIds&&(n.onMouseMove||n.onMouseEnter||n.onMouseLeave)){const o=e.type,s=((r=this._hoveredFeatures)===null||r===void 0?void 0:r.length)>0,a=this._queryRenderedFeatures(e.point),l=a.length>0;!l&&s&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=a,l&&!s&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=o}else this._hoveredFeatures=null}_fireEvent(e,r,n){const i=this._map,o=i.transform,s=typeof r=="string"?r:r.type;return s==="move"&&this._updateViewState(this.props,!1),s in e1&&(typeof r=="object"&&(r.viewState=oR(o)),this._map.isMoving())?(i.transform=this._renderTransform,e.call(i,r,n),i.transform=o,i):(e.call(i,r,n),i)}_onBeforeRepaint(){const e=this._map;this._internalUpdate=!0;for(const n in this._deferredEvents)this._deferredEvents[n]&&e.fire(n);this._internalUpdate=!1;const r=this._map.transform;e.transform=this._renderTransform,this._onAfterRepaint=()=>{iR(this._renderTransform,r),e.transform=r}}}cc.savedMaps=[];function Eie(){let t=null;if(typeof location<"u"){const e=/access_token=([^&\/]*)/.exec(location.search);t=e&&e[1]}try{t=t||void 0}catch{}try{t=t||{}.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return t}const Tie=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function xie(t){if(!t)return null;const e=t.map,r={getMap:()=>e,getCenter:()=>t.transform.center,getZoom:()=>t.transform.zoom,getBearing:()=>t.transform.bearing,getPitch:()=>t.transform.pitch,getPadding:()=>t.transform.padding,getBounds:()=>t.transform.getBounds(),project:n=>{const i=e.transform;e.transform=t.transform;const o=e.project(n);return e.transform=i,o},unproject:n=>{const i=e.transform;e.transform=t.transform;const o=e.unproject(n);return e.transform=i,o},queryTerrainElevation:(n,i)=>{const o=e.transform;e.transform=t.transform;const s=e.queryTerrainElevation(n,i);return e.transform=o,s},queryRenderedFeatures:(n,i)=>{const o=e.transform;e.transform=t.transform;const s=e.queryRenderedFeatures(n,i);return e.transform=o,s}};for(const n of Pie(e))!(n in r)&&!Tie.includes(n)&&(r[n]=e[n].bind(e));return r}function Pie(t){const e=new Set;let r=t;for(;r;){for(const n of Object.getOwnPropertyNames(r))n[0]!=="_"&&typeof t[n]=="function"&&n!=="fire"&&n!=="setEventedParent"&&e.add(n);r=Object.getPrototypeOf(r)}return Array.from(e)}const Cie=typeof document<"u"?te.useLayoutEffect:te.useEffect,Oie=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];function Rie(t,e){for(const n of Oie)n in e&&(t[n]=e[n]);const{RTLTextPlugin:r="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=e;r&&t.getRTLTextPluginStatus&&t.getRTLTextPluginStatus()==="unavailable"&&t.setRTLTextPlugin(r,n=>{n&&console.error(n)},!0)}const ay=te.createContext(null);function Mie(t,e,r){const n=te.useContext(yie),[i,o]=te.useState(null),s=te.useRef(),{current:a}=te.useRef({mapLib:null,map:null});te.useEffect(()=>{const p=t.mapLib;let g=!0,v;return Promise.resolve(p||r).then(b=>{if(!g)return;if(!b)throw new Error("Invalid mapLib");const S="Map"in b?b:b.default;if(!S.Map)throw new Error("Invalid mapLib");if(Rie(S,t),!S.supported||S.supported(t))t.reuseMaps&&(v=cc.reuse(t,s.current)),v||(v=new cc(S.Map,t,s.current)),a.map=xie(v),a.mapLib=S,o(v),n==null||n.onMapMount(a.map,t.id);else throw new Error("Map is not supported by this browser")}).catch(b=>{const{onError:S}=t;S?S({type:"error",target:null,originalEvent:null,error:b}):console.error(b)}),()=>{g=!1,v&&(n==null||n.onMapUnmount(t.id),t.reuseMaps?v.recycle():v.destroy())}},[]),Cie(()=>{i&&i.setProps(t)}),te.useImperativeHandle(e,()=>a.map,[i]);const l=te.useMemo(()=>({position:"relative",width:"100%",height:"100%",...t.style}),[t.style]),A={height:"100%"};return te.createElement("div",{id:t.id,ref:s,style:l},i&&te.createElement(ay.Provider,{value:a},te.createElement("div",{"mapboxgl-children":"",style:A},t.children)))}const kie=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function _l(t,e){if(!t||!e)return;const r=t.style;for(const n in e){const i=e[n];Number.isFinite(i)&&!kie.test(n)?r[n]=`${i}px`:r[n]=i}}function Iie(t,e){const{map:r,mapLib:n}=te.useContext(ay),i=te.useRef({props:t});i.current.props=t;const o=te.useMemo(()=>{let E=!1;te.Children.forEach(t.children,P=>{P&&(E=!0)});const C={...t,element:E?document.createElement("div"):null},x=new n.Marker(C);return x.setLngLat([t.longitude,t.latitude]),x.getElement().addEventListener("click",P=>{var T,M;(M=(T=i.current.props).onClick)===null||M===void 0||M.call(T,{type:"click",target:x,originalEvent:P})}),x.on("dragstart",P=>{var T,M;const R=P;R.lngLat=o.getLngLat(),(M=(T=i.current.props).onDragStart)===null||M===void 0||M.call(T,R)}),x.on("drag",P=>{var T,M;const R=P;R.lngLat=o.getLngLat(),(M=(T=i.current.props).onDrag)===null||M===void 0||M.call(T,R)}),x.on("dragend",P=>{var T,M;const R=P;R.lngLat=o.getLngLat(),(M=(T=i.current.props).onDragEnd)===null||M===void 0||M.call(T,R)}),x},[]);te.useEffect(()=>(o.addTo(r.getMap()),()=>{o.remove()}),[]);const{longitude:s,latitude:a,offset:l,style:A,draggable:p=!1,popup:g=null,rotation:v=0,rotationAlignment:b="auto",pitchAlignment:S="auto"}=t;return te.useEffect(()=>{_l(o.getElement(),A)},[A]),te.useImperativeHandle(e,()=>o,[]),(o.getLngLat().lng!==s||o.getLngLat().lat!==a)&&o.setLngLat([s,a]),l&&!vie(o.getOffset(),l)&&o.setOffset(l),o.isDraggable()!==p&&o.setDraggable(p),o.getRotation()!==v&&o.setRotation(v),o.getRotationAlignment()!==b&&o.setRotationAlignment(b),o.getPitchAlignment()!==S&&o.setPitchAlignment(S),o.getPopup()!==g&&o.setPopup(g),Gh.createPortal(t.children,o.getElement())}te.memo(te.forwardRef(Iie));function AR(t){return new Set(t?t.trim().split(/\s+/):[])}function Nie(t,e){const{map:r,mapLib:n}=te.useContext(ay),i=te.useMemo(()=>document.createElement("div"),[]),o=te.useRef({props:t});o.current.props=t;const s=te.useMemo(()=>{const a={...t},l=new n.Popup(a);return l.setLngLat([t.longitude,t.latitude]),l.once("open",A=>{var p,g;(g=(p=o.current.props).onOpen)===null||g===void 0||g.call(p,A)}),l},[]);if(te.useEffect(()=>{const a=l=>{var A,p;(p=(A=o.current.props).onClose)===null||p===void 0||p.call(A,l)};return s.on("close",a),s.setDOMContent(i).addTo(r.getMap()),()=>{s.off("close",a),s.isOpen()&&s.remove()}},[]),te.useEffect(()=>{_l(s.getElement(),t.style)},[t.style]),te.useImperativeHandle(e,()=>s,[]),s.isOpen()&&((s.getLngLat().lng!==t.longitude||s.getLngLat().lat!==t.latitude)&&s.setLngLat([t.longitude,t.latitude]),t.offset&&!Lo(s.options.offset,t.offset)&&s.setOffset(t.offset),(s.options.anchor!==t.anchor||s.options.maxWidth!==t.maxWidth)&&(s.options.anchor=t.anchor,s.setMaxWidth(t.maxWidth)),s.options.className!==t.className)){const a=AR(s.options.className),l=AR(t.className);for(const A of a)l.has(A)||s.removeClassName(A);for(const A of l)a.has(A)||s.addClassName(A);s.options.className=t.className}return Gh.createPortal(t.children,i)}te.memo(te.forwardRef(Nie));function $c(t,e,r,n){const i=te.useContext(ay),o=te.useMemo(()=>t(i),[]);return te.useEffect(()=>{const s=n||r||e,a=typeof e=="function"&&typeof r=="function"?e:null,l=typeof r=="function"?r:typeof e=="function"?e:null,{map:A}=i;return A.hasControl(o)||(A.addControl(o,s==null?void 0:s.position),a&&a(i)),()=>{l&&l(i),A.hasControl(o)&&A.removeControl(o)}},[]),o}function Die(t){const e=$c(({mapLib:r})=>new r.AttributionControl(t),{position:t.position});return te.useEffect(()=>{_l(e._container,t.style)},[t.style]),null}te.memo(Die);function Bie(t){const e=$c(({mapLib:r})=>new r.FullscreenControl({container:t.containerId&&document.getElementById(t.containerId)}),{position:t.position});return te.useEffect(()=>{_l(e._controlContainer,t.style)},[t.style]),null}te.memo(Bie);function Fie(t,e){const r=te.useRef({props:t}),n=$c(({mapLib:i})=>{const o=new i.GeolocateControl(t),s=o._setupUI;return o._setupUI=a=>{o._container.hasChildNodes()||s(a)},o.on("geolocate",a=>{var l,A;(A=(l=r.current.props).onGeolocate)===null||A===void 0||A.call(l,a)}),o.on("error",a=>{var l,A;(A=(l=r.current.props).onError)===null||A===void 0||A.call(l,a)}),o.on("outofmaxbounds",a=>{var l,A;(A=(l=r.current.props).onOutOfMaxBounds)===null||A===void 0||A.call(l,a)}),o.on("trackuserlocationstart",a=>{var l,A;(A=(l=r.current.props).onTrackUserLocationStart)===null||A===void 0||A.call(l,a)}),o.on("trackuserlocationend",a=>{var l,A;(A=(l=r.current.props).onTrackUserLocationEnd)===null||A===void 0||A.call(l,a)}),o},{position:t.position});return r.current.props=t,te.useImperativeHandle(e,()=>n,[]),te.useEffect(()=>{_l(n._container,t.style)},[t.style]),null}te.memo(te.forwardRef(Fie));function Lie(t){const e=$c(({mapLib:r})=>new r.NavigationControl(t),{position:t.position});return te.useEffect(()=>{_l(e._container,t.style)},[t.style]),null}const $ie=te.memo(Lie);function Uie(t){const e=$c(({mapLib:o})=>new o.ScaleControl(t),{position:t.position}),r=te.useRef(t),n=r.current;r.current=t;const{style:i}=t;return t.maxWidth!==void 0&&t.maxWidth!==n.maxWidth&&(e.options.maxWidth=t.maxWidth),t.unit!==void 0&&t.unit!==n.unit&&e.setUnit(t.unit),te.useEffect(()=>{_l(e._container,i)},[i]),null}te.memo(Uie);const jie=mie(()=>import("./mapbox-gl-73aa2036.js").then(t=>t.m),[]),zie=(()=>te.forwardRef(function(e,r){return Mie(e,r,jie)}))(),Vie=$ie;function L5(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=L5(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ct(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=L5(t))&&(n&&(n+=" "),n+=e);return n}var Wie=Array.isArray,Un=Wie,Hie=typeof Wd=="object"&&Wd&&Wd.Object===Object&&Wd,$5=Hie,Xie=$5,Yie=typeof self=="object"&&self&&self.Object===Object&&self,Kie=Xie||Yie||Function("return this")(),Ro=Kie,Qie=Ro,qie=Qie.Symbol,cd=qie,fR=cd,U5=Object.prototype,Gie=U5.hasOwnProperty,Zie=U5.toString,BA=fR?fR.toStringTag:void 0;function Jie(t){var e=Gie.call(t,BA),r=t[BA];try{t[BA]=void 0;var n=!0}catch{}var i=Zie.call(t);return n&&(e?t[BA]=r:delete t[BA]),i}var eoe=Jie,toe=Object.prototype,roe=toe.toString;function noe(t){return roe.call(t)}var ioe=noe,hR=cd,ooe=eoe,soe=ioe,aoe="[object Null]",loe="[object Undefined]",dR=hR?hR.toStringTag:void 0;function uoe(t){return t==null?t===void 0?loe:aoe:dR&&dR in Object(t)?ooe(t):soe(t)}var ls=uoe;function coe(t){return t!=null&&typeof t=="object"}var us=coe,Aoe=ls,foe=us,hoe="[object Symbol]";function doe(t){return typeof t=="symbol"||foe(t)&&Aoe(t)==hoe}var Uc=doe,poe=Un,goe=Uc,moe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yoe=/^\w*$/;function voe(t,e){if(poe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||goe(t)?!0:yoe.test(t)||!moe.test(t)||e!=null&&t in Object(e)}var tT=voe;function _oe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ua=_oe;const jc=Lt(ua);var boe=ls,woe=ua,Soe="[object AsyncFunction]",Eoe="[object Function]",Toe="[object GeneratorFunction]",xoe="[object Proxy]";function Poe(t){if(!woe(t))return!1;var e=boe(t);return e==Eoe||e==Toe||e==Soe||e==xoe}var rT=Poe;const dt=Lt(rT);var Coe=Ro,Ooe=Coe["__core-js_shared__"],Roe=Ooe,t1=Roe,pR=function(){var t=/[^.]+$/.exec(t1&&t1.keys&&t1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Moe(t){return!!pR&&pR in t}var koe=Moe,Ioe=Function.prototype,Noe=Ioe.toString;function Doe(t){if(t!=null){try{return Noe.call(t)}catch{}try{return t+""}catch{}}return""}var j5=Doe,Boe=rT,Foe=koe,Loe=ua,$oe=j5,Uoe=/[\\^$.*+?()[\]{}|]/g,joe=/^\[object .+?Constructor\]$/,zoe=Function.prototype,Voe=Object.prototype,Woe=zoe.toString,Hoe=Voe.hasOwnProperty,Xoe=RegExp("^"+Woe.call(Hoe).replace(Uoe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Yoe(t){if(!Loe(t)||Foe(t))return!1;var e=Boe(t)?Xoe:joe;return e.test($oe(t))}var Koe=Yoe;function Qoe(t,e){return t==null?void 0:t[e]}var qoe=Qoe,Goe=Koe,Zoe=qoe;function Joe(t,e){var r=Zoe(t,e);return Goe(r)?r:void 0}var bl=Joe,ese=bl,tse=ese(Object,"create"),ly=tse,gR=ly;function rse(){this.__data__=gR?gR(null):{},this.size=0}var nse=rse;function ise(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ose=ise,sse=ly,ase="__lodash_hash_undefined__",lse=Object.prototype,use=lse.hasOwnProperty;function cse(t){var e=this.__data__;if(sse){var r=e[t];return r===ase?void 0:r}return use.call(e,t)?e[t]:void 0}var Ase=cse,fse=ly,hse=Object.prototype,dse=hse.hasOwnProperty;function pse(t){var e=this.__data__;return fse?e[t]!==void 0:dse.call(e,t)}var gse=pse,mse=ly,yse="__lodash_hash_undefined__";function vse(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=mse&&e===void 0?yse:e,this}var _se=vse,bse=nse,wse=ose,Sse=Ase,Ese=gse,Tse=_se;function zc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}zc.prototype.clear=bse;zc.prototype.delete=wse;zc.prototype.get=Sse;zc.prototype.has=Ese;zc.prototype.set=Tse;var xse=zc;function Pse(){this.__data__=[],this.size=0}var Cse=Pse;function Ose(t,e){return t===e||t!==t&&e!==e}var nT=Ose,Rse=nT;function Mse(t,e){for(var r=t.length;r--;)if(Rse(t[r][0],e))return r;return-1}var uy=Mse,kse=uy,Ise=Array.prototype,Nse=Ise.splice;function Dse(t){var e=this.__data__,r=kse(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Nse.call(e,r,1),--this.size,!0}var Bse=Dse,Fse=uy;function Lse(t){var e=this.__data__,r=Fse(e,t);return r<0?void 0:e[r][1]}var $se=Lse,Use=uy;function jse(t){return Use(this.__data__,t)>-1}var zse=jse,Vse=uy;function Wse(t,e){var r=this.__data__,n=Vse(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Hse=Wse,Xse=Cse,Yse=Bse,Kse=$se,Qse=zse,qse=Hse;function Vc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Vc.prototype.clear=Xse;Vc.prototype.delete=Yse;Vc.prototype.get=Kse;Vc.prototype.has=Qse;Vc.prototype.set=qse;var cy=Vc,Gse=bl,Zse=Ro,Jse=Gse(Zse,"Map"),iT=Jse,mR=xse,eae=cy,tae=iT;function rae(){this.size=0,this.__data__={hash:new mR,map:new(tae||eae),string:new mR}}var nae=rae;function iae(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var oae=iae,sae=oae;function aae(t,e){var r=t.__data__;return sae(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Ay=aae,lae=Ay;function uae(t){var e=lae(this,t).delete(t);return this.size-=e?1:0,e}var cae=uae,Aae=Ay;function fae(t){return Aae(this,t).get(t)}var hae=fae,dae=Ay;function pae(t){return dae(this,t).has(t)}var gae=pae,mae=Ay;function yae(t,e){var r=mae(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var vae=yae,_ae=nae,bae=cae,wae=hae,Sae=gae,Eae=vae;function Wc(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Wc.prototype.clear=_ae;Wc.prototype.delete=bae;Wc.prototype.get=wae;Wc.prototype.has=Sae;Wc.prototype.set=Eae;var oT=Wc,z5=oT,Tae="Expected a function";function sT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Tae);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(sT.Cache||z5),r}sT.Cache=z5;var V5=sT;const xae=Lt(V5);var Pae=V5,Cae=500;function Oae(t){var e=Pae(t,function(n){return r.size===Cae&&r.clear(),n}),r=e.cache;return e}var Rae=Oae,Mae=Rae,kae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Iae=/\\(\\)?/g,Nae=Mae(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(kae,function(r,n,i,o){e.push(i?o.replace(Iae,"$1"):n||r)}),e}),Dae=Nae;function Bae(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var aT=Bae,yR=cd,Fae=aT,Lae=Un,$ae=Uc,Uae=1/0,vR=yR?yR.prototype:void 0,_R=vR?vR.toString:void 0;function W5(t){if(typeof t=="string")return t;if(Lae(t))return Fae(t,W5)+"";if($ae(t))return _R?_R.call(t):"";var e=t+"";return e=="0"&&1/t==-Uae?"-0":e}var jae=W5,zae=jae;function Vae(t){return t==null?"":zae(t)}var H5=Vae,Wae=Un,Hae=tT,Xae=Dae,Yae=H5;function Kae(t,e){return Wae(t)?t:Hae(t,e)?[t]:Xae(Yae(t))}var X5=Kae,Qae=Uc,qae=1/0;function Gae(t){if(typeof t=="string"||Qae(t))return t;var e=t+"";return e=="0"&&1/t==-qae?"-0":e}var fy=Gae,Zae=X5,Jae=fy;function ele(t,e){e=Zae(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Jae(e[r++])];return r&&r==n?t:void 0}var lT=ele,tle=lT;function rle(t,e,r){var n=t==null?void 0:tle(t,e);return n===void 0?r:n}var Y5=rle;const vi=Lt(Y5);function nle(t){return t==null}var ile=nle;const _t=Lt(ile);var ole=ls,sle=Un,ale=us,lle="[object String]";function ule(t){return typeof t=="string"||!sle(t)&&ale(t)&&ole(t)==lle}var cle=ule;const Ad=Lt(cle);var K5={exports:{}},jt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT=Symbol.for("react.element"),cT=Symbol.for("react.portal"),hy=Symbol.for("react.fragment"),dy=Symbol.for("react.strict_mode"),py=Symbol.for("react.profiler"),gy=Symbol.for("react.provider"),my=Symbol.for("react.context"),Ale=Symbol.for("react.server_context"),yy=Symbol.for("react.forward_ref"),vy=Symbol.for("react.suspense"),_y=Symbol.for("react.suspense_list"),by=Symbol.for("react.memo"),wy=Symbol.for("react.lazy"),fle=Symbol.for("react.offscreen"),Q5;Q5=Symbol.for("react.module.reference");function Ti(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case uT:switch(t=t.type,t){case hy:case py:case dy:case vy:case _y:return t;default:switch(t=t&&t.$$typeof,t){case Ale:case my:case yy:case wy:case by:case gy:return t;default:return e}}case cT:return e}}}jt.ContextConsumer=my;jt.ContextProvider=gy;jt.Element=uT;jt.ForwardRef=yy;jt.Fragment=hy;jt.Lazy=wy;jt.Memo=by;jt.Portal=cT;jt.Profiler=py;jt.StrictMode=dy;jt.Suspense=vy;jt.SuspenseList=_y;jt.isAsyncMode=function(){return!1};jt.isConcurrentMode=function(){return!1};jt.isContextConsumer=function(t){return Ti(t)===my};jt.isContextProvider=function(t){return Ti(t)===gy};jt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===uT};jt.isForwardRef=function(t){return Ti(t)===yy};jt.isFragment=function(t){return Ti(t)===hy};jt.isLazy=function(t){return Ti(t)===wy};jt.isMemo=function(t){return Ti(t)===by};jt.isPortal=function(t){return Ti(t)===cT};jt.isProfiler=function(t){return Ti(t)===py};jt.isStrictMode=function(t){return Ti(t)===dy};jt.isSuspense=function(t){return Ti(t)===vy};jt.isSuspenseList=function(t){return Ti(t)===_y};jt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===hy||t===py||t===dy||t===vy||t===_y||t===fle||typeof t=="object"&&t!==null&&(t.$$typeof===wy||t.$$typeof===by||t.$$typeof===gy||t.$$typeof===my||t.$$typeof===yy||t.$$typeof===Q5||t.getModuleId!==void 0)};jt.typeOf=Ti;K5.exports=jt;var hle=K5.exports,dle=ls,ple=us,gle="[object Number]";function mle(t){return typeof t=="number"||ple(t)&&dle(t)==gle}var q5=mle;const yle=Lt(q5);var vle=q5;function _le(t){return vle(t)&&t!=+t}var ble=_le;const fd=Lt(ble);var Hi=function(e){return e===0?0:e>0?1:-1},S2=function(e){return Ad(e)&&e.indexOf("%")===e.length-1},Le=function(e){return yle(e)&&!fd(e)},Ur=function(e){return Le(e)||Ad(e)},wle=0,hd=function(e){var r=++wle;return"".concat(e||"").concat(r)},sl=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Le(e)&&!Ad(e))return n;var o;if(S2(e)){var s=e.indexOf("%");o=r*parseFloat(e.slice(0,s))/100}else o=+e;return fd(o)&&(o=n),i&&o>r&&(o=r),o},Os=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Sle=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},$i=function(e,r){return Le(e)&&Le(r)?function(n){return e+n*(r-e)}:function(){return r}};function _g(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):vi(n,e))===r})}function $u(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function E2(t){"@babel/helpers - typeof";return E2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E2(t)}var Ele=["viewBox","children"],Tle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bR=["points","pathLength"],r1={svg:Ele,polygon:bR,polyline:bR},AT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],bg=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(te.isValidElement(e)&&(n=e.props),!jc(n))return null;var i={};return Object.keys(n).forEach(function(o){AT.includes(o)&&(i[o]=r||function(s){return n[o](n,s)})}),i},xle=function(e,r,n){return function(i){return e(r,n,i),null}},wg=function(e,r,n){if(!jc(e)||E2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];AT.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=xle(s,r,n))}),i},Ple=["children"],Cle=["children"];function wR(t,e){if(t==null)return{};var r=Ole(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ole(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function T2(t){"@babel/helpers - typeof";return T2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T2(t)}var SR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Qs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},ER=null,n1=null,fT=function t(e){if(e===ER&&Array.isArray(n1))return n1;var r=[];return te.Children.forEach(e,function(n){_t(n)||(hle.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),n1=r,ER=e,r};function _i(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Qs(i)}):n=[Qs(e)],fT(t).forEach(function(i){var o=vi(i,"type.displayName")||vi(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function Xn(t,e){var r=_i(t,e);return r&&r[0]}var TR=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Le(n)||n<=0||!Le(i)||i<=0)},Rle=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Mle=function(e){return e&&e.type&&Ad(e.type)&&Rle.indexOf(e.type)>=0},kle=function(e){return e&&T2(e)==="object"&&"clipDot"in e},Ile=function(e,r,n,i){var o,s=(o=r1==null?void 0:r1[i])!==null&&o!==void 0?o:[];return!dt(e)&&(i&&s.includes(r)||Tle.includes(r))||n&&AT.includes(r)},St=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(te.isValidElement(e)&&(i=e.props),!jc(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;Ile((a=i)===null||a===void 0?void 0:a[s],s,r,n)&&(o[s]=i[s])}),o},x2=function t(e,r){if(e===r)return!0;var n=te.Children.count(e);if(n!==te.Children.count(r))return!1;if(n===0)return!0;if(n===1)return xR(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],s=r[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!xR(o,s))return!1}return!0},xR=function(e,r){if(_t(e)&&_t(r))return!0;if(!_t(e)&&!_t(r)){var n=e.props||{},i=n.children,o=wR(n,Ple),s=r.props||{},a=s.children,l=wR(s,Cle);return i&&a?$u(o,l)&&x2(i,a):!i&&!a?$u(o,l):!1}return!1},PR=function(e,r){var n=[],i={};return fT(e).forEach(function(o,s){if(Mle(o))n.push(o);else if(o){var a=Qs(o.type),l=r[a]||{},A=l.handler,p=l.once;if(A&&(!p||!i[a])){var g=A(o,a,s);n.push(g),i[a]=!0}}}),n},Nle=function(e){var r=e&&e.type;return r&&SR[r]?SR[r]:null},Dle=function(e,r){return fT(r).indexOf(e)},Ble=["children","width","height","viewBox","className","style","title","desc"];function P2(){return P2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P2.apply(this,arguments)}function Fle(t,e){if(t==null)return{};var r=Lle(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function C2(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,A=Fle(t,Ble),p=i||{width:r,height:n,x:0,y:0},g=ct("recharts-surface",o);return K.createElement("svg",P2({},St(A,!0,"svg"),{className:g,width:r,height:n,style:s,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),K.createElement("title",null,a),K.createElement("desc",null,l),e)}var $le=["children","className"];function O2(){return O2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O2.apply(this,arguments)}function Ule(t,e){if(t==null)return{};var r=jle(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Sr=K.forwardRef(function(t,e){var r=t.children,n=t.className,i=Ule(t,$le),o=ct("recharts-layer",n);return K.createElement("g",O2({className:o},St(i,!0),{ref:e}),r)}),Ac=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]};function zle(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}var Vle=zle,Wle=Vle;function Hle(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:Wle(t,e,r)}var Xle=Hle,Yle="\\ud800-\\udfff",Kle="\\u0300-\\u036f",Qle="\\ufe20-\\ufe2f",qle="\\u20d0-\\u20ff",Gle=Kle+Qle+qle,Zle="\\ufe0e\\ufe0f",Jle="\\u200d",eue=RegExp("["+Jle+Yle+Gle+Zle+"]");function tue(t){return eue.test(t)}var G5=tue;function rue(t){return t.split("")}var nue=rue,Z5="\\ud800-\\udfff",iue="\\u0300-\\u036f",oue="\\ufe20-\\ufe2f",sue="\\u20d0-\\u20ff",aue=iue+oue+sue,lue="\\ufe0e\\ufe0f",uue="["+Z5+"]",R2="["+aue+"]",M2="\\ud83c[\\udffb-\\udfff]",cue="(?:"+R2+"|"+M2+")",J5="[^"+Z5+"]",e8="(?:\\ud83c[\\udde6-\\uddff]){2}",t8="[\\ud800-\\udbff][\\udc00-\\udfff]",Aue="\\u200d",r8=cue+"?",n8="["+lue+"]?",fue="(?:"+Aue+"(?:"+[J5,e8,t8].join("|")+")"+n8+r8+")*",hue=n8+r8+fue,due="(?:"+[J5+R2+"?",R2,e8,t8,uue].join("|")+")",pue=RegExp(M2+"(?="+M2+")|"+due+hue,"g");function gue(t){return t.match(pue)||[]}var mue=gue,yue=nue,vue=G5,_ue=mue;function bue(t){return vue(t)?_ue(t):yue(t)}var wue=bue,Sue=Xle,Eue=G5,Tue=wue,xue=H5;function Pue(t){return function(e){e=xue(e);var r=Eue(e)?Tue(e):void 0,n=r?r[0]:e.charAt(0),i=r?Sue(r,1).join(""):e.slice(1);return n[t]()+i}}var Cue=Pue,Oue=Cue,Rue=Oue("toUpperCase"),Mue=Rue;const Sy=Lt(Mue);function er(t){return function(){return t}}const i8=Math.cos,Sg=Math.sin,Zi=Math.sqrt,Eg=Math.PI,Ey=2*Eg,k2=Math.PI,I2=2*k2,Pa=1e-6,kue=I2-Pa;function o8(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Iue(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return o8;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Nue{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?o8:Iue(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=n-e,A=i-r,p=s-e,g=a-r,v=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>Pa)if(!(Math.abs(g*l-A*p)>Pa)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let b=n-s,S=i-a,E=l*l+A*A,C=b*b+S*S,x=Math.sqrt(E),P=Math.sqrt(v),T=o*Math.tan((k2-Math.acos((E+v-C)/(2*x*P)))/2),M=T/P,R=T/x;Math.abs(M-1)>Pa&&this._append`L${e+M*p},${r+M*g}`,this._append`A${o},${o},0,0,${+(g*b>p*S)},${this._x1=e+R*l},${this._y1=r+R*A}`}}arc(e,r,n,i,o,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),l=n*Math.sin(i),A=e+a,p=r+l,g=1^s,v=s?i-o:o-i;this._x1===null?this._append`M${A},${p}`:(Math.abs(this._x1-A)>Pa||Math.abs(this._y1-p)>Pa)&&this._append`L${A},${p}`,n&&(v<0&&(v=v%I2+I2),v>kue?this._append`A${n},${n},0,1,${g},${e-a},${r-l}A${n},${n},0,1,${g},${this._x1=A},${this._y1=p}`:v>Pa&&this._append`A${n},${n},0,${+(v>=k2)},${g},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function hT(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Nue(e)}function dT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function s8(t){this._context=t}s8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ty(t){return new s8(t)}function a8(t){return t[0]}function l8(t){return t[1]}function u8(t,e){var r=er(!0),n=null,i=Ty,o=null,s=hT(a);t=typeof t=="function"?t:t===void 0?a8:er(t),e=typeof e=="function"?e:e===void 0?l8:er(e);function a(l){var A,p=(l=dT(l)).length,g,v=!1,b;for(n==null&&(o=i(b=s())),A=0;A<=p;++A)!(A<p&&r(g=l[A],A,l))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+t(g,A,l),+e(g,A,l));if(b)return o=null,b+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:er(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:er(+l),a):e},a.defined=function(l){return arguments.length?(r=typeof l=="function"?l:er(!!l),a):r},a.curve=function(l){return arguments.length?(i=l,n!=null&&(o=i(n)),a):i},a.context=function(l){return arguments.length?(l==null?n=o=null:o=i(n=l),a):n},a}function I0(t,e,r){var n=null,i=er(!0),o=null,s=Ty,a=null,l=hT(A);t=typeof t=="function"?t:t===void 0?a8:er(+t),e=typeof e=="function"?e:er(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?l8:er(+r);function A(g){var v,b,S,E=(g=dT(g)).length,C,x=!1,P,T=new Array(E),M=new Array(E);for(o==null&&(a=s(P=l())),v=0;v<=E;++v){if(!(v<E&&i(C=g[v],v,g))===x)if(x=!x)b=v,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),S=v-1;S>=b;--S)a.point(T[S],M[S]);a.lineEnd(),a.areaEnd()}x&&(T[v]=+t(C,v,g),M[v]=+e(C,v,g),a.point(n?+n(C,v,g):T[v],r?+r(C,v,g):M[v]))}if(P)return a=null,P+""||null}function p(){return u8().defined(i).curve(s).context(o)}return A.x=function(g){return arguments.length?(t=typeof g=="function"?g:er(+g),n=null,A):t},A.x0=function(g){return arguments.length?(t=typeof g=="function"?g:er(+g),A):t},A.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:er(+g),A):n},A.y=function(g){return arguments.length?(e=typeof g=="function"?g:er(+g),r=null,A):e},A.y0=function(g){return arguments.length?(e=typeof g=="function"?g:er(+g),A):e},A.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:er(+g),A):r},A.lineX0=A.lineY0=function(){return p().x(t).y(e)},A.lineY1=function(){return p().x(t).y(r)},A.lineX1=function(){return p().x(n).y(e)},A.defined=function(g){return arguments.length?(i=typeof g=="function"?g:er(!!g),A):i},A.curve=function(g){return arguments.length?(s=g,o!=null&&(a=s(o)),A):s},A.context=function(g){return arguments.length?(g==null?o=a=null:a=s(o=g),A):o},A}class c8{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Due(t){return new c8(t,!0)}function Bue(t){return new c8(t,!1)}const pT={draw(t,e){const r=Zi(e/Eg);t.moveTo(r,0),t.arc(0,0,r,0,Ey)}},Fue={draw(t,e){const r=Zi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},A8=Zi(1/3),Lue=A8*2,$ue={draw(t,e){const r=Zi(e/Lue),n=r*A8;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Uue={draw(t,e){const r=Zi(e),n=-r/2;t.rect(n,n,r,r)}},jue=.8908130915292852,f8=Sg(Eg/10)/Sg(7*Eg/10),zue=Sg(Ey/10)*f8,Vue=-i8(Ey/10)*f8,Wue={draw(t,e){const r=Zi(e*jue),n=zue*r,i=Vue*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const s=Ey*o/5,a=i8(s),l=Sg(s);t.lineTo(l*r,-a*r),t.lineTo(a*n-l*i,l*n+a*i)}t.closePath()}},i1=Zi(3),Hue={draw(t,e){const r=-Zi(e/(i1*3));t.moveTo(0,r*2),t.lineTo(-i1*r,-r),t.lineTo(i1*r,-r),t.closePath()}},li=-.5,ui=Zi(3)/2,N2=1/Zi(12),Xue=(N2/2+1)*3,Yue={draw(t,e){const r=Zi(e/Xue),n=r/2,i=r*N2,o=n,s=r*N2+r,a=-o,l=s;t.moveTo(n,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(li*n-ui*i,ui*n+li*i),t.lineTo(li*o-ui*s,ui*o+li*s),t.lineTo(li*a-ui*l,ui*a+li*l),t.lineTo(li*n+ui*i,li*i-ui*n),t.lineTo(li*o+ui*s,li*s-ui*o),t.lineTo(li*a+ui*l,li*l-ui*a),t.closePath()}};function Kue(t,e){let r=null,n=hT(i);t=typeof t=="function"?t:er(t||pT),e=typeof e=="function"?e:er(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:er(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:er(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function Tg(){}function xg(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function h8(t){this._context=t}h8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Que(t){return new h8(t)}function d8(t){this._context=t}d8.prototype={areaStart:Tg,areaEnd:Tg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:xg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function que(t){return new d8(t)}function p8(t){this._context=t}p8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:xg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gue(t){return new p8(t)}function g8(t){this._context=t}g8.prototype={areaStart:Tg,areaEnd:Tg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Zue(t){return new g8(t)}function CR(t){return t<0?-1:1}function OR(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),a=(o*i+s*n)/(n+i);return(CR(o)+CR(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function RR(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function o1(t,e,r){var n=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-n)/3;t._context.bezierCurveTo(n+a,i+a*e,o-a,s-a*r,o,s)}function Pg(t){this._context=t}Pg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o1(this,this._t0,RR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,o1(this,RR(this,r=OR(this,t,e)),r);break;default:o1(this,this._t0,r=OR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function m8(t){this._context=new y8(t)}(m8.prototype=Object.create(Pg.prototype)).point=function(t,e){Pg.prototype.point.call(this,e,t)};function y8(t){this._context=t}y8.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function Jue(t){return new Pg(t)}function ece(t){return new m8(t)}function v8(t){this._context=t}v8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=MR(t),i=MR(e),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function MR(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function tce(t){return new v8(t)}function xy(t,e){this._context=t,this._t=e}xy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function rce(t){return new xy(t,.5)}function nce(t){return new xy(t,0)}function ice(t){return new xy(t,1)}function fc(t,e){if((s=t.length)>1)for(var r=1,n,i,o=t[e[0]],s,a=o.length;r<s;++r)for(i=o,o=t[e[r]],n=0;n<a;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function D2(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function oce(t,e){return t[e]}function sce(t){const e=[];return e.key=t,e}function ace(){var t=er([]),e=D2,r=fc,n=oce;function i(o){var s=Array.from(t.apply(this,arguments),sce),a,l=s.length,A=-1,p;for(const g of o)for(a=0,++A;a<l;++a)(s[a][A]=[0,+n(g,s[a].key,A,o)]).data=g;for(a=0,p=dT(e(s));a<l;++a)s[p[a]].index=a;return r(s,p),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:er(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:er(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?D2:typeof o=="function"?o:er(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??fc,i):r},i}function lce(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,s;i<o;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}fc(t,e)}}function uce(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var s=0,a=0;s<i;++s)a+=t[s][r][1]||0;n[r][1]+=n[r][0]=-a/2}fc(t,e)}}function cce(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,s;n<o;++n){for(var a=0,l=0,A=0;a<s;++a){for(var p=t[e[a]],g=p[n][1]||0,v=p[n-1][1]||0,b=(g-v)/2,S=0;S<a;++S){var E=t[e[S]],C=E[n][1]||0,x=E[n-1][1]||0;b+=C-x}l+=g,A+=b*g}i[n-1][1]+=i[n-1][0]=r,l&&(r-=A/l)}i[n-1][1]+=i[n-1][0]=r,fc(t,e)}}function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}var Ace=["type","size","sizeType"];function B2(){return B2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B2.apply(this,arguments)}function kR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(r),!0).forEach(function(n){fce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fce(t,e,r){return e=hce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hce(t){var e=dce(t,"string");return fh(e)=="symbol"?e:e+""}function dce(t,e){if(fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pce(t,e){if(t==null)return{};var r=gce(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var _8={symbolCircle:pT,symbolCross:Fue,symbolDiamond:$ue,symbolSquare:Uue,symbolStar:Wue,symbolTriangle:Hue,symbolWye:Yue},mce=Math.PI/180,yce=function(e){var r="symbol".concat(Sy(e));return _8[r]||pT},vce=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*mce;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},_ce=function(e,r){_8["symbol".concat(Sy(e))]=r},gT=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=pce(e,Ace),A=IR(IR({},l),{},{type:n,size:o,sizeType:a}),p=function(){var C=yce(n),x=Kue().type(C).size(vce(o,a,n));return x()},g=A.className,v=A.cx,b=A.cy,S=St(A,!0);return v===+v&&b===+b&&o===+o?K.createElement("path",B2({},S,{className:ct("recharts-symbols",g),transform:"translate(".concat(v,", ").concat(b,")"),d:p()})):null};gT.registerSymbol=_ce;function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function F2(){return F2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F2.apply(this,arguments)}function NR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(r),!0).forEach(function(n){hh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,w8(n.key),n)}}function Sce(t,e,r){return e&&DR(t.prototype,e),r&&DR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ece(t,e,r){return e=Cg(e),Tce(t,b8()?Reflect.construct(e,r||[],Cg(t).constructor):e.apply(t,r))}function Tce(t,e){if(e&&(hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xce(t)}function xce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b8=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cg(t)}function Pce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L2(t,e)}function L2(t,e){return L2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L2(t,e)}function hh(t,e,r){return e=w8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w8(t){var e=Cce(t,"string");return hc(e)=="symbol"?e:e+""}function Cce(t,e){if(hc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ci=32,mT=function(t){function e(){return wce(this,e),Ece(this,e,arguments)}return Pce(e,t),Sce(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=ci/2,s=ci/6,a=ci/3,l=n.inactive?i:n.color;if(n.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:ci,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(ci,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return K.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ci/8,"h").concat(ci,"v").concat(ci*3/4,"h").concat(-ci,"z"),className:"recharts-legend-icon"});if(K.isValidElement(n.legendIcon)){var A=bce({},n);return delete A.legendIcon,K.cloneElement(n.legendIcon,A)}return K.createElement(gT,{fill:l,cx:o,cy:o,size:ci,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,A=i.inactiveColor,p={x:0,y:0,width:ci,height:ci},g={display:a==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(b,S){var E=b.formatter||l,C=ct(hh(hh({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",b.inactive));if(b.type==="none")return null;var x=dt(b.value)?null:b.value;Ac(!dt(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var P=b.inactive?A:b.color;return K.createElement("li",F2({className:C,style:g,key:"legend-item-".concat(S)},wg(n.props,b,S)),K.createElement(C2,{width:s,height:s,viewBox:p,style:v},n.renderIcon(b)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:P}},E?E(x,b,S):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,s=n.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(te.PureComponent);hh(mT,"displayName","Legend");hh(mT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Oce=cy;function Rce(){this.__data__=new Oce,this.size=0}var Mce=Rce;function kce(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var Ice=kce;function Nce(t){return this.__data__.get(t)}var Dce=Nce;function Bce(t){return this.__data__.has(t)}var Fce=Bce,Lce=cy,$ce=iT,Uce=oT,jce=200;function zce(t,e){var r=this.__data__;if(r instanceof Lce){var n=r.__data__;if(!$ce||n.length<jce-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Uce(n)}return r.set(t,e),this.size=r.size,this}var Vce=zce,Wce=cy,Hce=Mce,Xce=Ice,Yce=Dce,Kce=Fce,Qce=Vce;function Hc(t){var e=this.__data__=new Wce(t);this.size=e.size}Hc.prototype.clear=Hce;Hc.prototype.delete=Xce;Hc.prototype.get=Yce;Hc.prototype.has=Kce;Hc.prototype.set=Qce;var S8=Hc,qce="__lodash_hash_undefined__";function Gce(t){return this.__data__.set(t,qce),this}var Zce=Gce;function Jce(t){return this.__data__.has(t)}var eAe=Jce,tAe=oT,rAe=Zce,nAe=eAe;function Og(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new tAe;++e<r;)this.add(t[e])}Og.prototype.add=Og.prototype.push=rAe;Og.prototype.has=nAe;var E8=Og;function iAe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var T8=iAe;function oAe(t,e){return t.has(e)}var x8=oAe,sAe=E8,aAe=T8,lAe=x8,uAe=1,cAe=2;function AAe(t,e,r,n,i,o){var s=r&uAe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var A=o.get(t),p=o.get(e);if(A&&p)return A==e&&p==t;var g=-1,v=!0,b=r&cAe?new sAe:void 0;for(o.set(t,e),o.set(e,t);++g<a;){var S=t[g],E=e[g];if(n)var C=s?n(E,S,g,e,t,o):n(S,E,g,t,e,o);if(C!==void 0){if(C)continue;v=!1;break}if(b){if(!aAe(e,function(x,P){if(!lAe(b,P)&&(S===x||i(S,x,r,n,o)))return b.push(P)})){v=!1;break}}else if(!(S===E||i(S,E,r,n,o))){v=!1;break}}return o.delete(t),o.delete(e),v}var P8=AAe,fAe=Ro,hAe=fAe.Uint8Array,dAe=hAe;function pAe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var gAe=pAe;function mAe(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var yT=mAe,BR=cd,FR=dAe,yAe=nT,vAe=P8,_Ae=gAe,bAe=yT,wAe=1,SAe=2,EAe="[object Boolean]",TAe="[object Date]",xAe="[object Error]",PAe="[object Map]",CAe="[object Number]",OAe="[object RegExp]",RAe="[object Set]",MAe="[object String]",kAe="[object Symbol]",IAe="[object ArrayBuffer]",NAe="[object DataView]",LR=BR?BR.prototype:void 0,s1=LR?LR.valueOf:void 0;function DAe(t,e,r,n,i,o,s){switch(r){case NAe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case IAe:return!(t.byteLength!=e.byteLength||!o(new FR(t),new FR(e)));case EAe:case TAe:case CAe:return yAe(+t,+e);case xAe:return t.name==e.name&&t.message==e.message;case OAe:case MAe:return t==e+"";case PAe:var a=_Ae;case RAe:var l=n&wAe;if(a||(a=bAe),t.size!=e.size&&!l)return!1;var A=s.get(t);if(A)return A==e;n|=SAe,s.set(t,e);var p=vAe(a(t),a(e),n,i,o,s);return s.delete(t),p;case kAe:if(s1)return s1.call(t)==s1.call(e)}return!1}var BAe=DAe;function FAe(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var C8=FAe,LAe=C8,$Ae=Un;function UAe(t,e,r){var n=e(t);return $Ae(t)?n:LAe(n,r(t))}var jAe=UAe;function zAe(t,e){for(var r=-1,n=t==null?0:t.length,i=0,o=[];++r<n;){var s=t[r];e(s,r,t)&&(o[i++]=s)}return o}var VAe=zAe;function WAe(){return[]}var HAe=WAe,XAe=VAe,YAe=HAe,KAe=Object.prototype,QAe=KAe.propertyIsEnumerable,$R=Object.getOwnPropertySymbols,qAe=$R?function(t){return t==null?[]:(t=Object(t),XAe($R(t),function(e){return QAe.call(t,e)}))}:YAe,GAe=qAe;function ZAe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var JAe=ZAe,efe=ls,tfe=us,rfe="[object Arguments]";function nfe(t){return tfe(t)&&efe(t)==rfe}var ife=nfe,UR=ife,ofe=us,O8=Object.prototype,sfe=O8.hasOwnProperty,afe=O8.propertyIsEnumerable,lfe=UR(function(){return arguments}())?UR:function(t){return ofe(t)&&sfe.call(t,"callee")&&!afe.call(t,"callee")},vT=lfe,Rg={exports:{}};function ufe(){return!1}var cfe=ufe;Rg.exports;(function(t,e){var r=Ro,n=cfe,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?r.Buffer:void 0,l=a?a.isBuffer:void 0,A=l||n;t.exports=A})(Rg,Rg.exports);var R8=Rg.exports,Afe=9007199254740991,ffe=/^(?:0|[1-9]\d*)$/;function hfe(t,e){var r=typeof t;return e=e??Afe,!!e&&(r=="number"||r!="symbol"&&ffe.test(t))&&t>-1&&t%1==0&&t<e}var _T=hfe,dfe=9007199254740991;function pfe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=dfe}var bT=pfe,gfe=ls,mfe=bT,yfe=us,vfe="[object Arguments]",_fe="[object Array]",bfe="[object Boolean]",wfe="[object Date]",Sfe="[object Error]",Efe="[object Function]",Tfe="[object Map]",xfe="[object Number]",Pfe="[object Object]",Cfe="[object RegExp]",Ofe="[object Set]",Rfe="[object String]",Mfe="[object WeakMap]",kfe="[object ArrayBuffer]",Ife="[object DataView]",Nfe="[object Float32Array]",Dfe="[object Float64Array]",Bfe="[object Int8Array]",Ffe="[object Int16Array]",Lfe="[object Int32Array]",$fe="[object Uint8Array]",Ufe="[object Uint8ClampedArray]",jfe="[object Uint16Array]",zfe="[object Uint32Array]",ir={};ir[Nfe]=ir[Dfe]=ir[Bfe]=ir[Ffe]=ir[Lfe]=ir[$fe]=ir[Ufe]=ir[jfe]=ir[zfe]=!0;ir[vfe]=ir[_fe]=ir[kfe]=ir[bfe]=ir[Ife]=ir[wfe]=ir[Sfe]=ir[Efe]=ir[Tfe]=ir[xfe]=ir[Pfe]=ir[Cfe]=ir[Ofe]=ir[Rfe]=ir[Mfe]=!1;function Vfe(t){return yfe(t)&&mfe(t.length)&&!!ir[gfe(t)]}var Wfe=Vfe;function Hfe(t){return function(e){return t(e)}}var M8=Hfe,Mg={exports:{}};Mg.exports;(function(t,e){var r=$5,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,s=o&&r.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Mg,Mg.exports);var Xfe=Mg.exports,Yfe=Wfe,Kfe=M8,jR=Xfe,zR=jR&&jR.isTypedArray,Qfe=zR?Kfe(zR):Yfe,k8=Qfe,qfe=JAe,Gfe=vT,Zfe=Un,Jfe=R8,ehe=_T,the=k8,rhe=Object.prototype,nhe=rhe.hasOwnProperty;function ihe(t,e){var r=Zfe(t),n=!r&&Gfe(t),i=!r&&!n&&Jfe(t),o=!r&&!n&&!i&&the(t),s=r||n||i||o,a=s?qfe(t.length,String):[],l=a.length;for(var A in t)(e||nhe.call(t,A))&&!(s&&(A=="length"||i&&(A=="offset"||A=="parent")||o&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||ehe(A,l)))&&a.push(A);return a}var ohe=ihe,she=Object.prototype;function ahe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||she;return t===r}var lhe=ahe;function uhe(t,e){return function(r){return t(e(r))}}var I8=uhe,che=I8,Ahe=che(Object.keys,Object),fhe=Ahe,hhe=lhe,dhe=fhe,phe=Object.prototype,ghe=phe.hasOwnProperty;function mhe(t){if(!hhe(t))return dhe(t);var e=[];for(var r in Object(t))ghe.call(t,r)&&r!="constructor"&&e.push(r);return e}var yhe=mhe,vhe=rT,_he=bT;function bhe(t){return t!=null&&_he(t.length)&&!vhe(t)}var dd=bhe,whe=ohe,She=yhe,Ehe=dd;function The(t){return Ehe(t)?whe(t):She(t)}var Py=The,xhe=jAe,Phe=GAe,Che=Py;function Ohe(t){return xhe(t,Che,Phe)}var Rhe=Ohe,VR=Rhe,Mhe=1,khe=Object.prototype,Ihe=khe.hasOwnProperty;function Nhe(t,e,r,n,i,o){var s=r&Mhe,a=VR(t),l=a.length,A=VR(e),p=A.length;if(l!=p&&!s)return!1;for(var g=l;g--;){var v=a[g];if(!(s?v in e:Ihe.call(e,v)))return!1}var b=o.get(t),S=o.get(e);if(b&&S)return b==e&&S==t;var E=!0;o.set(t,e),o.set(e,t);for(var C=s;++g<l;){v=a[g];var x=t[v],P=e[v];if(n)var T=s?n(P,x,v,e,t,o):n(x,P,v,t,e,o);if(!(T===void 0?x===P||i(x,P,r,n,o):T)){E=!1;break}C||(C=v=="constructor")}if(E&&!C){var M=t.constructor,R=e.constructor;M!=R&&"constructor"in t&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof R=="function"&&R instanceof R)&&(E=!1)}return o.delete(t),o.delete(e),E}var Dhe=Nhe,Bhe=bl,Fhe=Ro,Lhe=Bhe(Fhe,"DataView"),$he=Lhe,Uhe=bl,jhe=Ro,zhe=Uhe(jhe,"Promise"),Vhe=zhe,Whe=bl,Hhe=Ro,Xhe=Whe(Hhe,"Set"),N8=Xhe,Yhe=bl,Khe=Ro,Qhe=Yhe(Khe,"WeakMap"),qhe=Qhe,$2=$he,U2=iT,j2=Vhe,z2=N8,V2=qhe,D8=ls,Xc=j5,WR="[object Map]",Ghe="[object Object]",HR="[object Promise]",XR="[object Set]",YR="[object WeakMap]",KR="[object DataView]",Zhe=Xc($2),Jhe=Xc(U2),ede=Xc(j2),tde=Xc(z2),rde=Xc(V2),Ca=D8;($2&&Ca(new $2(new ArrayBuffer(1)))!=KR||U2&&Ca(new U2)!=WR||j2&&Ca(j2.resolve())!=HR||z2&&Ca(new z2)!=XR||V2&&Ca(new V2)!=YR)&&(Ca=function(t){var e=D8(t),r=e==Ghe?t.constructor:void 0,n=r?Xc(r):"";if(n)switch(n){case Zhe:return KR;case Jhe:return WR;case ede:return HR;case tde:return XR;case rde:return YR}return e});var nde=Ca,a1=S8,ide=P8,ode=BAe,sde=Dhe,QR=nde,qR=Un,GR=R8,ade=k8,lde=1,ZR="[object Arguments]",JR="[object Array]",N0="[object Object]",ude=Object.prototype,eM=ude.hasOwnProperty;function cde(t,e,r,n,i,o){var s=qR(t),a=qR(e),l=s?JR:QR(t),A=a?JR:QR(e);l=l==ZR?N0:l,A=A==ZR?N0:A;var p=l==N0,g=A==N0,v=l==A;if(v&&GR(t)){if(!GR(e))return!1;s=!0,p=!1}if(v&&!p)return o||(o=new a1),s||ade(t)?ide(t,e,r,n,i,o):ode(t,e,l,r,n,i,o);if(!(r&lde)){var b=p&&eM.call(t,"__wrapped__"),S=g&&eM.call(e,"__wrapped__");if(b||S){var E=b?t.value():t,C=S?e.value():e;return o||(o=new a1),i(E,C,r,n,o)}}return v?(o||(o=new a1),sde(t,e,r,n,i,o)):!1}var Ade=cde,fde=Ade,tM=us;function B8(t,e,r,n,i){return t===e?!0:t==null||e==null||!tM(t)&&!tM(e)?t!==t&&e!==e:fde(t,e,r,n,B8,i)}var wT=B8,hde=S8,dde=wT,pde=1,gde=2;function mde(t,e,r,n){var i=r.length,o=i,s=!n;if(t==null)return!o;for(t=Object(t);i--;){var a=r[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=r[i];var l=a[0],A=t[l],p=a[1];if(s&&a[2]){if(A===void 0&&!(l in t))return!1}else{var g=new hde;if(n)var v=n(A,p,l,t,e,g);if(!(v===void 0?dde(p,A,pde|gde,n,g):v))return!1}}return!0}var yde=mde,vde=ua;function _de(t){return t===t&&!vde(t)}var F8=_de,bde=F8,wde=Py;function Sde(t){for(var e=wde(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,bde(i)]}return e}var Ede=Sde;function Tde(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var L8=Tde,xde=yde,Pde=Ede,Cde=L8;function Ode(t){var e=Pde(t);return e.length==1&&e[0][2]?Cde(e[0][0],e[0][1]):function(r){return r===t||xde(r,t,e)}}var Rde=Ode;function Mde(t,e){return t!=null&&e in Object(t)}var kde=Mde,Ide=X5,Nde=vT,Dde=Un,Bde=_T,Fde=bT,Lde=fy;function $de(t,e,r){e=Ide(e,t);for(var n=-1,i=e.length,o=!1;++n<i;){var s=Lde(e[n]);if(!(o=t!=null&&r(t,s)))break;t=t[s]}return o||++n!=i?o:(i=t==null?0:t.length,!!i&&Fde(i)&&Bde(s,i)&&(Dde(t)||Nde(t)))}var Ude=$de,jde=kde,zde=Ude;function Vde(t,e){return t!=null&&zde(t,e,jde)}var Wde=Vde,Hde=wT,Xde=Y5,Yde=Wde,Kde=tT,Qde=F8,qde=L8,Gde=fy,Zde=1,Jde=2;function e0e(t,e){return Kde(t)&&Qde(e)?qde(Gde(t),e):function(r){var n=Xde(r,t);return n===void 0&&n===e?Yde(r,t):Hde(e,n,Zde|Jde)}}var t0e=e0e;function r0e(t){return t}var Yc=r0e;function n0e(t){return function(e){return e==null?void 0:e[t]}}var i0e=n0e,o0e=lT;function s0e(t){return function(e){return o0e(e,t)}}var a0e=s0e,l0e=i0e,u0e=a0e,c0e=tT,A0e=fy;function f0e(t){return c0e(t)?l0e(A0e(t)):u0e(t)}var h0e=f0e,d0e=Rde,p0e=t0e,g0e=Yc,m0e=Un,y0e=h0e;function v0e(t){return typeof t=="function"?t:t==null?g0e:typeof t=="object"?m0e(t)?p0e(t[0],t[1]):d0e(t):y0e(t)}var ca=v0e;function _0e(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var $8=_0e;function b0e(t){return t!==t}var w0e=b0e;function S0e(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var E0e=S0e,T0e=$8,x0e=w0e,P0e=E0e;function C0e(t,e,r){return e===e?P0e(t,e,r):T0e(t,x0e,r)}var O0e=C0e,R0e=O0e;function M0e(t,e){var r=t==null?0:t.length;return!!r&&R0e(t,e,0)>-1}var k0e=M0e;function I0e(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var N0e=I0e;function D0e(){}var B0e=D0e,l1=N8,F0e=B0e,L0e=yT,$0e=1/0,U0e=l1&&1/L0e(new l1([,-0]))[1]==$0e?function(t){return new l1(t)}:F0e,j0e=U0e,z0e=E8,V0e=k0e,W0e=N0e,H0e=x8,X0e=j0e,Y0e=yT,K0e=200;function Q0e(t,e,r){var n=-1,i=V0e,o=t.length,s=!0,a=[],l=a;if(r)s=!1,i=W0e;else if(o>=K0e){var A=e?null:X0e(t);if(A)return Y0e(A);s=!1,i=H0e,l=new z0e}else l=e?[]:a;e:for(;++n<o;){var p=t[n],g=e?e(p):p;if(p=r||p!==0?p:0,s&&g===g){for(var v=l.length;v--;)if(l[v]===g)continue e;e&&l.push(g),a.push(p)}else i(l,g,r)||(l!==a&&l.push(g),a.push(p))}return a}var q0e=Q0e,G0e=ca,Z0e=q0e;function J0e(t,e){return t&&t.length?Z0e(t,G0e(e)):[]}var epe=J0e;const rM=Lt(epe);function U8(t,e,r){return e===!0?rM(t,r):dt(e)?rM(t,e):t}function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}var tpe=["ref"];function nM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Io(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(r),!0).forEach(function(n){Cy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z8(n.key),n)}}function npe(t,e,r){return e&&iM(t.prototype,e),r&&iM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ipe(t,e,r){return e=kg(e),ope(t,j8()?Reflect.construct(e,r||[],kg(t).constructor):e.apply(t,r))}function ope(t,e){if(e&&(dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return spe(t)}function spe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j8=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kg(t)}function ape(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W2(t,e)}function W2(t,e){return W2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},W2(t,e)}function Cy(t,e,r){return e=z8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z8(t){var e=lpe(t,"string");return dc(e)=="symbol"?e:e+""}function lpe(t,e){if(dc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function upe(t,e){if(t==null)return{};var r=cpe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ape(t){return t.value}function fpe(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var r=upe(e,tpe);return K.createElement(mT,r)}var oM=1,Qi=function(t){function e(){var r;rpe(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=ipe(this,e,[].concat(i)),Cy(r,"lastBoundingBox",{width:-1,height:-1}),r}return ape(e,t),npe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>oM||Math.abs(i.height-this.lastBoundingBox.height)>oM)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Io({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,A=i.chartWidth,p=i.chartHeight,g,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&o==="vertical"){var b=this.getBBoxSnapshot();g={left:((A||0)-b.width)/2}}else g=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(a==="middle"){var S=this.getBBoxSnapshot();v={top:((p||0)-S.height)/2}}else v=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Io(Io({},g),v)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,A=i.payloadUniqBy,p=i.payload,g=Io(Io({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return K.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:function(b){n.wrapperNode=b}},fpe(o,Io(Io({},this.props),{},{payload:U8(p,A,Ape)})))}}],[{key:"getWithHeight",value:function(n,i){var o=Io(Io({},this.defaultProps),n.props),s=o.layout;return s==="vertical"&&Le(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(te.PureComponent);Cy(Qi,"displayName","Legend");Cy(Qi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var sM=cd,hpe=vT,dpe=Un,aM=sM?sM.isConcatSpreadable:void 0;function ppe(t){return dpe(t)||hpe(t)||!!(aM&&t&&t[aM])}var gpe=ppe,mpe=C8,ype=gpe;function V8(t,e,r,n,i){var o=-1,s=t.length;for(r||(r=ype),i||(i=[]);++o<s;){var a=t[o];e>0&&r(a)?e>1?V8(a,e-1,r,n,i):mpe(i,a):n||(i[i.length]=a)}return i}var W8=V8;function vpe(t){return function(e,r,n){for(var i=-1,o=Object(e),s=n(e),a=s.length;a--;){var l=s[t?a:++i];if(r(o[l],l,o)===!1)break}return e}}var _pe=vpe,bpe=_pe,wpe=bpe(),Spe=wpe,Epe=Spe,Tpe=Py;function xpe(t,e){return t&&Epe(t,e,Tpe)}var H8=xpe,Ppe=dd;function Cpe(t,e){return function(r,n){if(r==null)return r;if(!Ppe(r))return t(r,n);for(var i=r.length,o=e?i:-1,s=Object(r);(e?o--:++o<i)&&n(s[o],o,s)!==!1;);return r}}var Ope=Cpe,Rpe=H8,Mpe=Ope,kpe=Mpe(Rpe),ST=kpe,Ipe=ST,Npe=dd;function Dpe(t,e){var r=-1,n=Npe(t)?Array(t.length):[];return Ipe(t,function(i,o,s){n[++r]=e(i,o,s)}),n}var X8=Dpe;function Bpe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var Fpe=Bpe,lM=Uc;function Lpe(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,o=lM(t),s=e!==void 0,a=e===null,l=e===e,A=lM(e);if(!a&&!A&&!o&&t>e||o&&s&&l&&!a&&!A||n&&s&&l||!r&&l||!i)return 1;if(!n&&!o&&!A&&t<e||A&&r&&i&&!n&&!o||a&&r&&i||!s&&i||!l)return-1}return 0}var $pe=Lpe,Upe=$pe;function jpe(t,e,r){for(var n=-1,i=t.criteria,o=e.criteria,s=i.length,a=r.length;++n<s;){var l=Upe(i[n],o[n]);if(l){if(n>=a)return l;var A=r[n];return l*(A=="desc"?-1:1)}}return t.index-e.index}var zpe=jpe,u1=aT,Vpe=lT,Wpe=ca,Hpe=X8,Xpe=Fpe,Ype=M8,Kpe=zpe,Qpe=Yc,qpe=Un;function Gpe(t,e,r){e.length?e=u1(e,function(o){return qpe(o)?function(s){return Vpe(s,o.length===1?o[0]:o)}:o}):e=[Qpe];var n=-1;e=u1(e,Ype(Wpe));var i=Hpe(t,function(o,s,a){var l=u1(e,function(A){return A(o)});return{criteria:l,index:++n,value:o}});return Xpe(i,function(o,s){return Kpe(o,s,r)})}var Zpe=Gpe;function Jpe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var ege=Jpe,tge=ege,uM=Math.max;function rge(t,e,r){return e=uM(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=uM(n.length-e,0),s=Array(o);++i<o;)s[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(s),tge(t,this,a)}}var nge=rge;function ige(t){return function(){return t}}var oge=ige,sge=bl,age=function(){try{var t=sge(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Y8=age,lge=oge,cM=Y8,uge=Yc,cge=cM?function(t,e){return cM(t,"toString",{configurable:!0,enumerable:!1,value:lge(e),writable:!0})}:uge,Age=cge,fge=800,hge=16,dge=Date.now;function pge(t){var e=0,r=0;return function(){var n=dge(),i=hge-(n-r);if(r=n,i>0){if(++e>=fge)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var gge=pge,mge=Age,yge=gge,vge=yge(mge),_ge=vge,bge=Yc,wge=nge,Sge=_ge;function Ege(t,e){return Sge(wge(t,e,bge),t+"")}var Tge=Ege,xge=nT,Pge=dd,Cge=_T,Oge=ua;function Rge(t,e,r){if(!Oge(r))return!1;var n=typeof e;return(n=="number"?Pge(r)&&Cge(e,r.length):n=="string"&&e in r)?xge(r[e],t):!1}var Oy=Rge,Mge=W8,kge=Zpe,Ige=Tge,AM=Oy,Nge=Ige(function(t,e){if(t==null)return[];var r=e.length;return r>1&&AM(t,e[0],e[1])?e=[]:r>2&&AM(e[0],e[1],e[2])&&(e=[e[0]]),kge(t,Mge(e,1),[])}),Dge=Nge;const ET=Lt(Dge);function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function H2(){return H2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H2.apply(this,arguments)}function Bge(t,e){return Uge(t)||$ge(t,e)||Lge(t,e)||Fge()}function Fge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lge(t,e){if(t){if(typeof t=="string")return fM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fM(t,e)}}function fM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $ge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,A=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(p){A=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw i}}return a}}function Uge(t){if(Array.isArray(t))return t}function hM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(r),!0).forEach(function(n){jge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jge(t,e,r){return e=zge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zge(t){var e=Vge(t,"string");return dh(e)=="symbol"?e:e+""}function Vge(t,e){if(dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wge(t){return Array.isArray(t)&&Ur(t[0])&&Ur(t[1])?t.join(" ~ "):t}var Hge=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,A=l===void 0?{}:l,p=e.payload,g=e.formatter,v=e.itemSorter,b=e.wrapperClassName,S=e.labelClassName,E=e.label,C=e.labelFormatter,x=e.accessibilityLayer,P=x===void 0?!1:x,T=function(){if(p&&p.length){var Q={padding:0,margin:0},re=(v?ET(p,v):p).map(function(ne,J){if(ne.type==="none")return null;var ue=c1({display:"block",paddingTop:4,paddingBottom:4,color:ne.color||"#000"},a),pe=ne.formatter||g||Wge,le=ne.value,ge=ne.name,Ee=le,Te=ge;if(pe&&Ee!=null&&Te!=null){var be=pe(le,ge,ne,J,p);if(Array.isArray(be)){var Me=Bge(be,2);Ee=Me[0],Te=Me[1]}else Ee=be}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:ue},Ur(Te)?K.createElement("span",{className:"recharts-tooltip-item-name"},Te):null,Ur(Te)?K.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,K.createElement("span",{className:"recharts-tooltip-item-value"},Ee),K.createElement("span",{className:"recharts-tooltip-item-unit"},ne.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:Q},re)}return null},M=c1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),R=c1({margin:0},A),k=!_t(E),D=k?E:"",$=ct("recharts-default-tooltip",b),W=ct("recharts-tooltip-label",S);k&&C&&p!==void 0&&p!==null&&(D=C(E,p));var N=P?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",H2({className:$,style:M},N),K.createElement("p",{className:W,style:R},K.isValidElement(D)?D:"".concat(D)),T())};function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function D0(t,e,r){return e=Xge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xge(t){var e=Yge(t,"string");return ph(e)=="symbol"?e:e+""}function Yge(t,e){if(ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FA="recharts-tooltip-wrapper",Kge={visibility:"hidden"};function Qge(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return ct(FA,D0(D0(D0(D0({},"".concat(FA,"-right"),Le(r)&&e&&Le(e.x)&&r>=e.x),"".concat(FA,"-left"),Le(r)&&e&&Le(e.x)&&r<e.x),"".concat(FA,"-bottom"),Le(n)&&e&&Le(e.y)&&n>=e.y),"".concat(FA,"-top"),Le(n)&&e&&Le(e.y)&&n<e.y))}function dM(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,A=t.viewBoxDimension;if(o&&Le(o[n]))return o[n];var p=r[n]-a-i,g=r[n]+i;if(e[n])return s[n]?p:g;if(s[n]){var v=p,b=l[n];return v<b?Math.max(g,l[n]):Math.max(p,l[n])}var S=g+a,E=l[n]+A;return S>E?Math.max(p,l[n]):Math.max(g,l[n])}function qge(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Gge(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,A,p,g;return s.height>0&&s.width>0&&r?(p=dM({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),g=dM({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),A=qge({translateX:p,translateY:g,useTranslate3d:a})):A=Kge,{cssProperties:A,cssClasses:Qge({translateX:p,translateY:g,coordinate:r})}}function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function pM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(r),!0).forEach(function(n){Y2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q8(n.key),n)}}function Jge(t,e,r){return e&&mM(t.prototype,e),r&&mM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eme(t,e,r){return e=Ig(e),tme(t,K8()?Reflect.construct(e,r||[],Ig(t).constructor):e.apply(t,r))}function tme(t,e){if(e&&(pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rme(t)}function rme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K8=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ig(t)}function nme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X2(t,e)}function X2(t,e){return X2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X2(t,e)}function Y2(t,e,r){return e=Q8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q8(t){var e=ime(t,"string");return pc(e)=="symbol"?e:e+""}function ime(t,e){if(pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yM=1,ome=function(t){function e(){var r;Zge(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=eme(this,e,[].concat(i)),Y2(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Y2(r,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,A,p;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(A=(p=r.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&A!==void 0?A:0}})}}),r}return nme(e,t),Jge(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>yM||Math.abs(n.height-this.state.lastBoundingBox.height)>yM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,A=i.children,p=i.coordinate,g=i.hasPayload,v=i.isAnimationActive,b=i.offset,S=i.position,E=i.reverseDirection,C=i.useTranslate3d,x=i.viewBox,P=i.wrapperStyle,T=Gge({allowEscapeViewBox:s,coordinate:p,offsetTopLeft:b,position:S,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:C,viewBox:x}),M=T.cssClasses,R=T.cssProperties,k=gM(gM({transition:v&&o?"transform ".concat(a,"ms ").concat(l):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&g?"visible":"hidden",position:"absolute",top:0,left:0},P);return K.createElement("div",{tabIndex:-1,className:M,style:k,ref:function($){n.wrapperNode=$}},A)}}])}(te.PureComponent),sme=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ko={isSsr:sme(),get:function(e){return Ko[e]},set:function(e,r){if(typeof e=="string")Ko[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){Ko[i]=e[i]})}}};function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function vM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _M(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(r),!0).forEach(function(n){TT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ame(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,G8(n.key),n)}}function lme(t,e,r){return e&&bM(t.prototype,e),r&&bM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ume(t,e,r){return e=Ng(e),cme(t,q8()?Reflect.construct(e,r||[],Ng(t).constructor):e.apply(t,r))}function cme(t,e){if(e&&(gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ame(t)}function Ame(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q8=function(){return!!t})()}function Ng(t){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ng(t)}function fme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K2(t,e)}function K2(t,e){return K2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},K2(t,e)}function TT(t,e,r){return e=G8(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G8(t){var e=hme(t,"string");return gc(e)=="symbol"?e:e+""}function hme(t,e){if(gc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dme(t){return t.dataKey}function pme(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(Hge,e)}var kn=function(t){function e(){return ame(this,e),ume(this,e,arguments)}return fme(e,t),lme(e,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,A=i.content,p=i.coordinate,g=i.filterNull,v=i.isAnimationActive,b=i.offset,S=i.payload,E=i.payloadUniqBy,C=i.position,x=i.reverseDirection,P=i.useTranslate3d,T=i.viewBox,M=i.wrapperStyle,R=S??[];g&&R.length&&(R=U8(S.filter(function(D){return D.value!=null&&(D.hide!==!0||n.props.includeHidden)}),E,dme));var k=R.length>0;return K.createElement(ome,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:v,active:o,coordinate:p,hasPayload:k,offset:b,position:C,reverseDirection:x,useTranslate3d:P,viewBox:T,wrapperStyle:M},pme(A,_M(_M({},this.props),{},{payload:R})))}}])}(te.PureComponent);TT(kn,"displayName","Tooltip");TT(kn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ko.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var gme=Ro,mme=function(){return gme.Date.now()},yme=mme,vme=/\s/;function _me(t){for(var e=t.length;e--&&vme.test(t.charAt(e)););return e}var bme=_me,wme=bme,Sme=/^\s+/;function Eme(t){return t&&t.slice(0,wme(t)+1).replace(Sme,"")}var Tme=Eme,xme=Tme,wM=ua,Pme=Uc,SM=0/0,Cme=/^[-+]0x[0-9a-f]+$/i,Ome=/^0b[01]+$/i,Rme=/^0o[0-7]+$/i,Mme=parseInt;function kme(t){if(typeof t=="number")return t;if(Pme(t))return SM;if(wM(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=wM(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=xme(t);var r=Ome.test(t);return r||Rme.test(t)?Mme(t.slice(2),r?2:8):Cme.test(t)?SM:+t}var Z8=kme,Ime=ua,A1=yme,EM=Z8,Nme="Expected a function",Dme=Math.max,Bme=Math.min;function Fme(t,e,r){var n,i,o,s,a,l,A=0,p=!1,g=!1,v=!0;if(typeof t!="function")throw new TypeError(Nme);e=EM(e)||0,Ime(r)&&(p=!!r.leading,g="maxWait"in r,o=g?Dme(EM(r.maxWait)||0,e):o,v="trailing"in r?!!r.trailing:v);function b(k){var D=n,$=i;return n=i=void 0,A=k,s=t.apply($,D),s}function S(k){return A=k,a=setTimeout(x,e),p?b(k):s}function E(k){var D=k-l,$=k-A,W=e-D;return g?Bme(W,o-$):W}function C(k){var D=k-l,$=k-A;return l===void 0||D>=e||D<0||g&&$>=o}function x(){var k=A1();if(C(k))return P(k);a=setTimeout(x,E(k))}function P(k){return a=void 0,v&&n?b(k):(n=i=void 0,s)}function T(){a!==void 0&&clearTimeout(a),A=0,n=l=i=a=void 0}function M(){return a===void 0?s:P(A1())}function R(){var k=A1(),D=C(k);if(n=arguments,i=this,l=k,D){if(a===void 0)return S(l);if(g)return clearTimeout(a),a=setTimeout(x,e),b(l)}return a===void 0&&(a=setTimeout(x,e)),s}return R.cancel=T,R.flush=M,R}var Lme=Fme,$me=Lme,Ume=ua,jme="Expected a function";function zme(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(jme);return Ume(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),$me(t,e,{leading:n,maxWait:e,trailing:i})}var Vme=zme;const Wme=Lt(Vme);var J8=function(e){return null};J8.displayName="Cell";function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function TM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Q2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(r),!0).forEach(function(n){Hme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hme(t,e,r){return e=Xme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xme(t){var e=Yme(t,"string");return gh(e)=="symbol"?e:e+""}function Yme(t,e){if(gh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yl={widthCache:{},cacheCount:0},Kme=2e3,Qme={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xM="recharts_measurement_span";function qme(t){var e=Q2({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var _f=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ko.isSsr)return{width:0,height:0};var n=qme(r),i=JSON.stringify({text:e,copyStyle:n});if(Yl.widthCache[i])return Yl.widthCache[i];try{var o=document.getElementById(xM);o||(o=document.createElement("span"),o.setAttribute("id",xM),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=Q2(Q2({},Qme),n);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return Yl.widthCache[i]=l,++Yl.cacheCount>Kme&&(Yl.cacheCount=0,Yl.widthCache={}),l}catch{return{width:0,height:0}}},Gme=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function Dg(t,e){return tye(t)||eye(t,e)||Jme(t,e)||Zme()}function Zme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jme(t,e){if(t){if(typeof t=="string")return PM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PM(t,e)}}function PM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,A=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(p){A=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw i}}return a}}function tye(t){if(Array.isArray(t))return t}function rye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iye(n.key),n)}}function nye(t,e,r){return e&&CM(t.prototype,e),r&&CM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iye(t){var e=oye(t,"string");return mh(e)=="symbol"?e:e+""}function oye(t,e){if(mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,aye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lye=Object.keys(eF),Su="NaN";function uye(t,e){return t*eF[e]}var B0=function(){function t(e,r){rye(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!sye.test(r)&&(this.num=NaN,this.unit=""),lye.includes(r)&&(this.num=uye(e,r),this.unit="px")}return nye(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=aye.exec(r))!==null&&n!==void 0?n:[],o=Dg(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function tF(t){if(t.includes(Su))return Su;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=OM.exec(e))!==null&&r!==void 0?r:[],i=Dg(n,4),o=i[1],s=i[2],a=i[3],l=B0.parse(o??""),A=B0.parse(a??""),p=s==="*"?l.multiply(A):l.divide(A);if(p.isNaN())return Su;e=e.replace(OM,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var g,v=(g=RM.exec(e))!==null&&g!==void 0?g:[],b=Dg(v,4),S=b[1],E=b[2],C=b[3],x=B0.parse(S??""),P=B0.parse(C??""),T=E==="+"?x.add(P):x.subtract(P);if(T.isNaN())return Su;e=e.replace(RM,T.toString())}return e}var MM=/\(([^()]*)\)/;function cye(t){for(var e=t;e.includes("(");){var r=MM.exec(e),n=Dg(r,2),i=n[1];e=e.replace(MM,tF(i))}return e}function Aye(t){var e=t.replace(/\s+/g,"");return e=cye(e),e=tF(e),e}function fye(t){try{return Aye(t)}catch{return Su}}function f1(t){var e=fye(t.slice(5,-1));return e===Su?"":e}var hye=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],dye=["dx","dy","angle","className","breakAll"];function q2(){return q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q2.apply(this,arguments)}function kM(t,e){if(t==null)return{};var r=pye(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IM(t,e){return vye(t)||yye(t,e)||mye(t,e)||gye()}function gye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mye(t,e){if(t){if(typeof t=="string")return NM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NM(t,e)}}function NM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,A=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(p){A=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw i}}return a}}function vye(t){if(Array.isArray(t))return t}var rF=/[ \f\n\r\t\v\u2028\u2029]+/,nF=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];_t(r)||(n?o=r.toString().split(""):o=r.toString().split(rF));var s=o.map(function(l){return{word:l,width:_f(l,i).width}}),a=n?0:_f("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},_ye=function(e,r,n,i,o){var s=e.maxLines,a=e.children,l=e.style,A=e.breakAll,p=Le(s),g=a,v=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(ue,pe){var le=pe.word,ge=pe.width,Ee=ue[ue.length-1];if(Ee&&(i==null||o||Ee.width+ge+n<Number(i)))Ee.words.push(le),Ee.width+=ge+n;else{var Te={words:[le],width:ge};ue.push(Te)}return ue},[])},b=v(r),S=function(J){return J.reduce(function(ue,pe){return ue.width>pe.width?ue:pe})};if(!p)return b;for(var E="",C=function(J){var ue=g.slice(0,J),pe=nF({breakAll:A,style:l,children:ue+E}).wordsWithComputedWidth,le=v(pe),ge=le.length>s||S(le).width>Number(i);return[ge,le]},x=0,P=g.length-1,T=0,M;x<=P&&T<=g.length-1;){var R=Math.floor((x+P)/2),k=R-1,D=C(k),$=IM(D,2),W=$[0],N=$[1],H=C(R),Q=IM(H,1),re=Q[0];if(!W&&!re&&(x=R+1),W&&re&&(P=R-1),!W&&re){M=N;break}T++}return M||b},DM=function(e){var r=_t(e)?[]:e.toString().split(rF);return[{words:r}]},bye=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((r||n)&&!Ko.isSsr){var l,A,p=nF({breakAll:s,children:i,style:o});if(p){var g=p.wordsWithComputedWidth,v=p.spaceWidth;l=g,A=v}else return DM(i);return _ye({breakAll:s,children:i,maxLines:a,style:o},l,A,r,n)}return DM(i)},BM="#808080",Bg=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,A=l===void 0?"0.71em":l,p=e.scaleToFit,g=p===void 0?!1:p,v=e.textAnchor,b=v===void 0?"start":v,S=e.verticalAnchor,E=S===void 0?"end":S,C=e.fill,x=C===void 0?BM:C,P=kM(e,hye),T=te.useMemo(function(){return bye({breakAll:P.breakAll,children:P.children,maxLines:P.maxLines,scaleToFit:g,style:P.style,width:P.width})},[P.breakAll,P.children,P.maxLines,g,P.style,P.width]),M=P.dx,R=P.dy,k=P.angle,D=P.className,$=P.breakAll,W=kM(P,dye);if(!Ur(n)||!Ur(o))return null;var N=n+(Le(M)?M:0),H=o+(Le(R)?R:0),Q;switch(E){case"start":Q=f1("calc(".concat(A,")"));break;case"middle":Q=f1("calc(".concat((T.length-1)/2," * -").concat(a," + (").concat(A," / 2))"));break;default:Q=f1("calc(".concat(T.length-1," * -").concat(a,")"));break}var re=[];if(g){var ne=T[0].width,J=P.width;re.push("scale(".concat((Le(J)?J/ne:1)/ne,")"))}return k&&re.push("rotate(".concat(k,", ").concat(N,", ").concat(H,")")),re.length&&(W.transform=re.join(" ")),K.createElement("text",q2({},St(W,!0),{x:N,y:H,className:ct("recharts-text",D),textAnchor:b,fill:x.includes("url")?BM:x}),T.map(function(ue,pe){var le=ue.words.join($?"":" ");return K.createElement("tspan",{x:N,dy:pe===0?Q:a,key:"".concat(le,"-").concat(pe)},le)}))};const FM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:oh,scaleDiverging:O5,scaleDivergingLog:R5,scaleDivergingPow:JE,scaleDivergingSqrt:rie,scaleDivergingSymlog:M5,scaleIdentity:u5,scaleImplicit:y2,scaleLinear:ac,scaleLog:A5,scaleOrdinal:IE,scalePoint:vf,scalePow:VE,scaleQuantile:d5,scaleQuantize:p5,scaleRadial:h5,scaleSequential:T5,scaleSequentialLog:x5,scaleSequentialPow:ZE,scaleSequentialQuantile:C5,scaleSequentialSqrt:tie,scaleSequentialSymlog:P5,scaleSqrt:Bre,scaleSymlog:f5,scaleThreshold:g5,scaleTime:Jne,scaleUtc:eie,tickFormat:l5},Symbol.toStringTag,{value:"Module"}));var wye=Uc;function Sye(t,e,r){for(var n=-1,i=t.length;++n<i;){var o=t[n],s=e(o);if(s!=null&&(a===void 0?s===s&&!wye(s):r(s,a)))var a=s,l=o}return l}var iF=Sye;function Eye(t,e){return t>e}var Tye=Eye,xye=iF,Pye=Tye,Cye=Yc;function Oye(t){return t&&t.length?xye(t,Cye,Pye):void 0}var Rye=Oye;const Ry=Lt(Rye);function Mye(t,e){return t<e}var kye=Mye,Iye=iF,Nye=kye,Dye=Yc;function Bye(t){return t&&t.length?Iye(t,Dye,Nye):void 0}var Fye=Bye;const My=Lt(Fye);var Lye=aT,$ye=ca,Uye=X8,jye=Un;function zye(t,e){var r=jye(t)?Lye:Uye;return r(t,$ye(e))}var Vye=zye,Wye=W8,Hye=Vye;function Xye(t,e){return Wye(Hye(t,e),1)}var Yye=Xye;const Kye=Lt(Yye);var Qye=wT;function qye(t,e){return Qye(t,e)}var Gye=qye;const ky=Lt(Gye);var Kc=1e9,Zye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},PT,cr=!0,Si="[DecimalError] ",qa=Si+"Invalid argument: ",xT=Si+"Exponent out of range: ",Qc=Math.floor,Oa=Math.pow,Jye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kn,Vr=1e7,or=7,oF=9007199254740991,Fg=Qc(oF/or),ze={};ze.absoluteValue=ze.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ze.comparedTo=ze.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};ze.decimalPlaces=ze.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*or;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ze.dividedBy=ze.div=function(t){return Qo(this,new this.constructor(t))};ze.dividedToIntegerBy=ze.idiv=function(t){var e=this,r=e.constructor;return Gt(Qo(e,new r(t),0,1),r.precision)};ze.equals=ze.eq=function(t){return!this.cmp(t)};ze.exponent=function(){return Ir(this)};ze.greaterThan=ze.gt=function(t){return this.cmp(t)>0};ze.greaterThanOrEqualTo=ze.gte=function(t){return this.cmp(t)>=0};ze.isInteger=ze.isint=function(){return this.e>this.d.length-2};ze.isNegative=ze.isneg=function(){return this.s<0};ze.isPositive=ze.ispos=function(){return this.s>0};ze.isZero=function(){return this.s===0};ze.lessThan=ze.lt=function(t){return this.cmp(t)<0};ze.lessThanOrEqualTo=ze.lte=function(t){return this.cmp(t)<1};ze.logarithm=ze.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Kn))throw Error(Si+"NaN");if(r.s<1)throw Error(Si+(r.s?"NaN":"-Infinity"));return r.eq(Kn)?new n(0):(cr=!1,e=Qo(yh(r,o),yh(t,o),o),cr=!0,Gt(e,i))};ze.minus=ze.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?lF(e,t):sF(e,(t.s=-t.s,t))};ze.modulo=ze.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Si+"NaN");return r.s?(cr=!1,e=Qo(r,t,0,1).times(t),cr=!0,r.minus(e)):Gt(new n(r),i)};ze.naturalExponential=ze.exp=function(){return aF(this)};ze.naturalLogarithm=ze.ln=function(){return yh(this)};ze.negated=ze.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ze.plus=ze.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?sF(e,t):lF(e,(t.s=-t.s,t))};ze.precision=ze.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(qa+t);if(e=Ir(i)+1,n=i.d.length-1,r=n*or+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ze.squareRoot=ze.sqrt=function(){var t,e,r,n,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Si+"NaN")}for(t=Ir(a),cr=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=vo(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Qc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(o=n,n=o.plus(Qo(a,o,s+2)).times(.5),vo(o.d).slice(0,s)===(e=vo(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Gt(o,r+1,0),o.times(o).eq(a)){n=o;break}}else if(e!="9999")break;s+=4}return cr=!0,Gt(n,r)};ze.times=ze.mul=function(t){var e,r,n,i,o,s,a,l,A,p=this,g=p.constructor,v=p.d,b=(t=new g(t)).d;if(!p.s||!t.s)return new g(0);for(t.s*=p.s,r=p.e+t.e,l=v.length,A=b.length,l<A&&(o=v,v=b,b=o,s=l,l=A,A=s),o=[],s=l+A,n=s;n--;)o.push(0);for(n=A;--n>=0;){for(e=0,i=l+n;i>n;)a=o[i]+b[n]*v[i-n-1]+e,o[i--]=a%Vr|0,e=a/Vr|0;o[i]=(o[i]+e)%Vr|0}for(;!o[--s];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,cr?Gt(t,g.precision):t};ze.toDecimalPlaces=ze.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Po(t,0,Kc),e===void 0?e=n.rounding:Po(e,0,8),Gt(r,t+Ir(r)+1,e))};ze.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=al(n,!0):(Po(t,0,Kc),e===void 0?e=i.rounding:Po(e,0,8),n=Gt(new i(n),t+1,e),r=al(n,!0,t+1)),r};ze.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?al(i):(Po(t,0,Kc),e===void 0?e=o.rounding:Po(e,0,8),n=Gt(new o(i),t+Ir(i)+1,e),r=al(n.abs(),!1,t+Ir(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ze.toInteger=ze.toint=function(){var t=this,e=t.constructor;return Gt(new e(t),Ir(t)+1,e.rounding)};ze.toNumber=function(){return+this};ze.toPower=ze.pow=function(t){var e,r,n,i,o,s,a=this,l=a.constructor,A=12,p=+(t=new l(t));if(!t.s)return new l(Kn);if(a=new l(a),!a.s){if(t.s<1)throw Error(Si+"Infinity");return a}if(a.eq(Kn))return a;if(n=l.precision,t.eq(Kn))return Gt(a,n);if(e=t.e,r=t.d.length-1,s=e>=r,o=a.s,s){if((r=p<0?-p:p)<=oF){for(i=new l(Kn),e=Math.ceil(n/or+4),cr=!1;r%2&&(i=i.times(a),$M(i.d,e)),r=Qc(r/2),r!==0;)a=a.times(a),$M(a.d,e);return cr=!0,t.s<0?new l(Kn).div(i):Gt(i,n)}}else if(o<0)throw Error(Si+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,a.s=1,cr=!1,i=t.times(yh(a,n+A)),cr=!0,i=aF(i),i.s=o,i};ze.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=Ir(i),n=al(i,r<=o.toExpNeg||r>=o.toExpPos)):(Po(t,1,Kc),e===void 0?e=o.rounding:Po(e,0,8),i=Gt(new o(i),t,e),r=Ir(i),n=al(i,t<=r||r<=o.toExpNeg,t)),n};ze.toSignificantDigits=ze.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Po(t,1,Kc),e===void 0?e=n.rounding:Po(e,0,8)),Gt(new n(r),t,e)};ze.toString=ze.valueOf=ze.val=ze.toJSON=ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ir(t),r=t.constructor;return al(t,e<=r.toExpNeg||e>=r.toExpPos)};function sF(t,e){var r,n,i,o,s,a,l,A,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),cr?Gt(e,g):e;if(l=t.d,A=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(n=l,o=-o,a=A.length):(n=A,i=s,a=l.length),s=Math.ceil(g/or),a=s>a?s+1:a+1,o>a&&(o=a,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(a=l.length,o=A.length,a-o<0&&(o=a,n=A,A=l,l=n),r=0;o;)r=(l[--o]=l[o]+A[o]+r)/Vr|0,l[o]%=Vr;for(r&&(l.unshift(r),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,cr?Gt(e,g):e}function Po(t,e,r){if(t!==~~t||t<e||t>r)throw Error(qa+t)}function vo(t){var e,r,n,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)n=t[e]+"",r=or-n.length,r&&(o+=Ts(r)),o+=n;s=t[e],n=s+"",r=or-n.length,r&&(o+=Ts(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Qo=function(){function t(n,i){var o,s=0,a=n.length;for(n=n.slice();a--;)o=n[a]*i+s,n[a]=o%Vr|0,s=o/Vr|0;return s&&n.unshift(s),n}function e(n,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(n[a]!=i[a]){l=n[a]>i[a]?1:-1;break}return l}function r(n,i,o){for(var s=0;o--;)n[o]-=s,s=n[o]<i[o]?1:0,n[o]=s*Vr+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s){var a,l,A,p,g,v,b,S,E,C,x,P,T,M,R,k,D,$,W=n.constructor,N=n.s==i.s?1:-1,H=n.d,Q=i.d;if(!n.s)return new W(n);if(!i.s)throw Error(Si+"Division by zero");for(l=n.e-i.e,D=Q.length,R=H.length,b=new W(N),S=b.d=[],A=0;Q[A]==(H[A]||0);)++A;if(Q[A]>(H[A]||0)&&--l,o==null?P=o=W.precision:s?P=o+(Ir(n)-Ir(i))+1:P=o,P<0)return new W(0);if(P=P/or+2|0,A=0,D==1)for(p=0,Q=Q[0],P++;(A<R||p)&&P--;A++)T=p*Vr+(H[A]||0),S[A]=T/Q|0,p=T%Q|0;else{for(p=Vr/(Q[0]+1)|0,p>1&&(Q=t(Q,p),H=t(H,p),D=Q.length,R=H.length),M=D,E=H.slice(0,D),C=E.length;C<D;)E[C++]=0;$=Q.slice(),$.unshift(0),k=Q[0],Q[1]>=Vr/2&&++k;do p=0,a=e(Q,E,D,C),a<0?(x=E[0],D!=C&&(x=x*Vr+(E[1]||0)),p=x/k|0,p>1?(p>=Vr&&(p=Vr-1),g=t(Q,p),v=g.length,C=E.length,a=e(g,E,v,C),a==1&&(p--,r(g,D<v?$:Q,v))):(p==0&&(a=p=1),g=Q.slice()),v=g.length,v<C&&g.unshift(0),r(E,g,C),a==-1&&(C=E.length,a=e(Q,E,D,C),a<1&&(p++,r(E,D<C?$:Q,C))),C=E.length):a===0&&(p++,E=[0]),S[A++]=p,a&&E[0]?E[C++]=H[M]||0:(E=[H[M]],C=1);while((M++<R||E[0]!==void 0)&&P--)}return S[0]||S.shift(),b.e=l,Gt(b,s?o+Ir(b)+1:o)}}();function aF(t,e){var r,n,i,o,s,a,l=0,A=0,p=t.constructor,g=p.precision;if(Ir(t)>16)throw Error(xT+Ir(t));if(!t.s)return new p(Kn);for(e==null?(cr=!1,a=g):a=e,s=new p(.03125);t.abs().gte(.1);)t=t.times(s),A+=5;for(n=Math.log(Oa(2,A))/Math.LN10*2+5|0,a+=n,r=i=o=new p(Kn),p.precision=a;;){if(i=Gt(i.times(t),a),r=r.times(++l),s=o.plus(Qo(i,r,a)),vo(s.d).slice(0,a)===vo(o.d).slice(0,a)){for(;A--;)o=Gt(o.times(o),a);return p.precision=g,e==null?(cr=!0,Gt(o,g)):o}o=s}}function Ir(t){for(var e=t.e*or,r=t.d[0];r>=10;r/=10)e++;return e}function h1(t,e,r){if(e>t.LN10.sd())throw cr=!0,r&&(t.precision=r),Error(Si+"LN10 precision limit exceeded");return Gt(new t(t.LN10),e)}function Ts(t){for(var e="";t--;)e+="0";return e}function yh(t,e){var r,n,i,o,s,a,l,A,p,g=1,v=10,b=t,S=b.d,E=b.constructor,C=E.precision;if(b.s<1)throw Error(Si+(b.s?"NaN":"-Infinity"));if(b.eq(Kn))return new E(0);if(e==null?(cr=!1,A=C):A=e,b.eq(10))return e==null&&(cr=!0),h1(E,A);if(A+=v,E.precision=A,r=vo(S),n=r.charAt(0),o=Ir(b),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(t),r=vo(b.d),n=r.charAt(0),g++;o=Ir(b),n>1?(b=new E("0."+r),o++):b=new E(n+"."+r.slice(1))}else return l=h1(E,A+2,C).times(o+""),b=yh(new E(n+"."+r.slice(1)),A-v).plus(l),E.precision=C,e==null?(cr=!0,Gt(b,C)):b;for(a=s=b=Qo(b.minus(Kn),b.plus(Kn),A),p=Gt(b.times(b),A),i=3;;){if(s=Gt(s.times(p),A),l=a.plus(Qo(s,new E(i),A)),vo(l.d).slice(0,A)===vo(a.d).slice(0,A))return a=a.times(2),o!==0&&(a=a.plus(h1(E,A+2,C).times(o+""))),a=Qo(a,new E(g),A),E.precision=C,e==null?(cr=!0,Gt(a,C)):a;a=l,i+=2}}function LM(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Qc(r/or),t.d=[],n=(r+1)%or,r<0&&(n+=or),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=or;n<i;)t.d.push(+e.slice(n,n+=or));e=e.slice(n),n=or-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),cr&&(t.e>Fg||t.e<-Fg))throw Error(xT+r)}else t.s=0,t.e=0,t.d=[0];return t}function Gt(t,e,r){var n,i,o,s,a,l,A,p,g=t.d;for(s=1,o=g[0];o>=10;o/=10)s++;if(n=e-s,n<0)n+=or,i=e,A=g[p=0];else{if(p=Math.ceil((n+1)/or),o=g.length,p>=o)return t;for(A=o=g[p],s=1;o>=10;o/=10)s++;n%=or,i=n-or+s}if(r!==void 0&&(o=Oa(10,s-i-1),a=A/o%10|0,l=e<0||g[p+1]!==void 0||A%o,l=r<4?(a||l)&&(r==0||r==(t.s<0?3:2)):a>5||a==5&&(r==4||l||r==6&&(n>0?i>0?A/Oa(10,s-i):0:g[p-1])%10&1||r==(t.s<0?8:7))),e<1||!g[0])return l?(o=Ir(t),g.length=1,e=e-o-1,g[0]=Oa(10,(or-e%or)%or),t.e=Qc(-e/or)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(n==0?(g.length=p,o=1,p--):(g.length=p+1,o=Oa(10,or-n),g[p]=i>0?(A/Oa(10,s-i)%Oa(10,i)|0)*o:0),l)for(;;)if(p==0){(g[0]+=o)==Vr&&(g[0]=1,++t.e);break}else{if(g[p]+=o,g[p]!=Vr)break;g[p--]=0,o=1}for(n=g.length;g[--n]===0;)g.pop();if(cr&&(t.e>Fg||t.e<-Fg))throw Error(xT+Ir(t));return t}function lF(t,e){var r,n,i,o,s,a,l,A,p,g,v=t.constructor,b=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),cr?Gt(e,b):e;if(l=t.d,g=e.d,n=e.e,A=t.e,l=l.slice(),s=A-n,s){for(p=s<0,p?(r=l,s=-s,a=g.length):(r=g,n=A,a=l.length),i=Math.max(Math.ceil(b/or),a)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,a=g.length,p=i<a,p&&(a=i),i=0;i<a;i++)if(l[i]!=g[i]){p=l[i]<g[i];break}s=0}for(p&&(r=l,l=g,g=r,e.s=-e.s),a=l.length,i=g.length-a;i>0;--i)l[a++]=0;for(i=g.length;i>s;){if(l[--i]<g[i]){for(o=i;o&&l[--o]===0;)l[o]=Vr-1;--l[o],l[i]+=Vr}l[i]-=g[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,cr?Gt(e,b):e):new v(0)}function al(t,e,r){var n,i=Ir(t),o=vo(t.d),s=o.length;return e?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+Ts(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ts(-i-1)+o,r&&(n=r-s)>0&&(o+=Ts(n))):i>=s?(o+=Ts(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+Ts(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=Ts(n))),t.s<0?"-"+o:o}function $M(t,e){if(t.length>e)return t.length=e,!0}function uF(t){var e,r,n;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(qa+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return LM(s,o.toString())}else if(typeof o!="string")throw Error(qa+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Jye.test(o))LM(s,o);else throw Error(qa+o)}if(i.prototype=ze,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=uF,i.config=i.set=eve,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function eve(t){if(!t||typeof t!="object")throw Error(Si+"Object expected");var e,r,n,i=["precision",1,Kc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Qc(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(qa+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qa+r+": "+n);return this}var PT=uF(Zye);Kn=new PT(1);const Ht=PT;function tve(t){return ove(t)||ive(t)||nve(t)||rve()}function rve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nve(t,e){if(t){if(typeof t=="string")return G2(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G2(t,e)}}function ive(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ove(t){if(Array.isArray(t))return G2(t)}function G2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var sve=function(e){return e},cF={"@@functional/placeholder":!0},AF=function(e){return e===cF},UM=function(e){return function r(){return arguments.length===0||arguments.length===1&&AF(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},ave=function t(e,r){return e===1?r:UM(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==cF}).length;return s>=e?r.apply(void 0,i):t(e-s,UM(function(){for(var a=arguments.length,l=new Array(a),A=0;A<a;A++)l[A]=arguments[A];var p=i.map(function(g){return AF(g)?l.shift():g});return r.apply(void 0,tve(p).concat(l))}))})},Iy=function(e){return ave(e.length,e)},Z2=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},lve=Iy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),uve=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return sve;var i=r.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},J2=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},fF=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r&&o.every(function(a,l){return a===r[l]})||(r=o,n=e.apply(void 0,o)),n}};function cve(t){var e;return t===0?e=1:e=Math.floor(new Ht(t).abs().log(10).toNumber())+1,e}function Ave(t,e,r){for(var n=new Ht(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var fve=Iy(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),hve=Iy(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),dve=Iy(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Ny={rangeStep:Ave,getDigitCount:cve,interpolateNumber:fve,uninterpolateNumber:hve,uninterpolateTruncation:dve};function ew(t){return mve(t)||gve(t)||hF(t)||pve()}function pve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gve(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mve(t){if(Array.isArray(t))return tw(t)}function vh(t,e){return _ve(t)||vve(t,e)||hF(t,e)||yve()}function yve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hF(t,e){if(t){if(typeof t=="string")return tw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tw(t,e)}}function tw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vve(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(n=(a=s.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}}function _ve(t){if(Array.isArray(t))return t}function dF(t){var e=vh(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function pF(t,e,r){if(t.lte(0))return new Ht(0);var n=Ny.getDigitCount(t.toNumber()),i=new Ht(10).pow(n),o=t.div(i),s=n!==1?.05:.1,a=new Ht(Math.ceil(o.div(s).toNumber())).add(r).mul(s),l=a.mul(i);return e?l:new Ht(Math.ceil(l))}function bve(t,e,r){var n=1,i=new Ht(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new Ht(10).pow(Ny.getDigitCount(t)-1),i=new Ht(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new Ht(Math.floor(t)))}else t===0?i=new Ht(Math.floor((e-1)/2)):r||(i=new Ht(Math.floor(t)));var s=Math.floor((e-1)/2),a=uve(lve(function(l){return i.add(new Ht(l-s).mul(n)).toNumber()}),Z2);return a(0,e)}function gF(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ht(0),tickMin:new Ht(0),tickMax:new Ht(0)};var o=pF(new Ht(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new Ht(0):(s=new Ht(t).add(e).div(2),s=s.sub(new Ht(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Ht(e).sub(s).div(o).toNumber()),A=a+l+1;return A>r?gF(t,e,r,n,i+1):(A<r&&(l=e>0?l+(r-A):l,a=e>0?a:a+(r-A)),{step:o,tickMin:s.sub(new Ht(a).mul(o)),tickMax:s.add(new Ht(l).mul(o))})}function wve(t){var e=vh(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=dF([r,n]),l=vh(a,2),A=l[0],p=l[1];if(A===-1/0||p===1/0){var g=p===1/0?[A].concat(ew(Z2(0,i-1).map(function(){return 1/0}))):[].concat(ew(Z2(0,i-1).map(function(){return-1/0})),[p]);return r>n?J2(g):g}if(A===p)return bve(A,i,o);var v=gF(A,p,s,o),b=v.step,S=v.tickMin,E=v.tickMax,C=Ny.rangeStep(S,E.add(new Ht(.1).mul(b)),b);return r>n?J2(C):C}function Sve(t,e){var r=vh(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=dF([n,i]),a=vh(s,2),l=a[0],A=a[1];if(l===-1/0||A===1/0)return[n,i];if(l===A)return[l];var p=Math.max(e,2),g=pF(new Ht(A).sub(l).div(p-1),o,0),v=[].concat(ew(Ny.rangeStep(new Ht(l),new Ht(A).sub(new Ht(.99).mul(g)),g)),[A]);return n>i?J2(v):v}var Eve=fF(wve),Tve=fF(Sve),xve=!0,d1="Invariant failed";function ll(t,e){if(!t){if(xve)throw new Error(d1);var r=typeof e=="function"?e():e,n=r?"".concat(d1,": ").concat(r):d1;throw new Error(n)}}var Pve=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function Lg(){return Lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lg.apply(this,arguments)}function Cve(t,e){return kve(t)||Mve(t,e)||Rve(t,e)||Ove()}function Ove(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rve(t,e){if(t){if(typeof t=="string")return jM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jM(t,e)}}function jM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mve(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,A=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(p){A=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw i}}return a}}function kve(t){if(Array.isArray(t))return t}function Ive(t,e){if(t==null)return{};var r=Nve(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Nve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Dve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vF(n.key),n)}}function Bve(t,e,r){return e&&zM(t.prototype,e),r&&zM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fve(t,e,r){return e=$g(e),Lve(t,mF()?Reflect.construct(e,r||[],$g(t).constructor):e.apply(t,r))}function Lve(t,e){if(e&&(mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ve(t)}function $ve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mF=function(){return!!t})()}function $g(t){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$g(t)}function Uve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rw(t,e)}function rw(t,e){return rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rw(t,e)}function yF(t,e,r){return e=vF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vF(t){var e=jve(t,"string");return mc(e)=="symbol"?e:e+""}function jve(t,e){if(mc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pd=function(t){function e(){return Dve(this,e),Fve(this,e,arguments)}return Uve(e,t),Bve(e,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,s=n.width,a=n.dataKey,l=n.data,A=n.dataPointFormatter,p=n.xAxis,g=n.yAxis,v=Ive(n,Pve),b=St(v,!1);this.props.direction==="x"&&p.type!=="number"&&ll(!1);var S=l.map(function(E){var C=A(E,a),x=C.x,P=C.y,T=C.value,M=C.errorVal;if(!M)return null;var R=[],k,D;if(Array.isArray(M)){var $=Cve(M,2);k=$[0],D=$[1]}else k=D=M;if(o==="vertical"){var W=p.scale,N=P+i,H=N+s,Q=N-s,re=W(T-k),ne=W(T+D);R.push({x1:ne,y1:H,x2:ne,y2:Q}),R.push({x1:re,y1:N,x2:ne,y2:N}),R.push({x1:re,y1:H,x2:re,y2:Q})}else if(o==="horizontal"){var J=g.scale,ue=x+i,pe=ue-s,le=ue+s,ge=J(T-k),Ee=J(T+D);R.push({x1:pe,y1:Ee,x2:le,y2:Ee}),R.push({x1:ue,y1:ge,x2:ue,y2:Ee}),R.push({x1:pe,y1:ge,x2:le,y2:ge})}return K.createElement(Sr,Lg({className:"recharts-errorBar",key:"bar-".concat(R.map(function(Te){return"".concat(Te.x1,"-").concat(Te.x2,"-").concat(Te.y1,"-").concat(Te.y2)}))},b),R.map(function(Te){return K.createElement("line",Lg({},Te,{key:"line-".concat(Te.x1,"-").concat(Te.x2,"-").concat(Te.y1,"-").concat(Te.y2)}))}))});return K.createElement(Sr,{className:"recharts-errorBars"},S)}}])}(K.Component);yF(pd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});yF(pd,"displayName","ErrorBar");function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function VM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(r),!0).forEach(function(n){zve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zve(t,e,r){return e=Vve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vve(t){var e=Wve(t,"string");return _h(e)=="symbol"?e:e+""}function Wve(t,e){if(_h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _F=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Xn(r,Qi);if(!s)return null;var a=Qi.defaultProps,l=a!==void 0?Sa(Sa({},a),s.props):{},A;return s.props&&s.props.payload?A=s.props&&s.props.payload:o==="children"?A=(n||[]).reduce(function(p,g){var v=g.item,b=g.props,S=b.sectors||b.data||[];return p.concat(S.map(function(E){return{type:s.props.iconType||v.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):A=(n||[]).map(function(p){var g=p.item,v=g.type.defaultProps,b=v!==void 0?Sa(Sa({},v),g.props):{},S=b.dataKey,E=b.name,C=b.legendType,x=b.hide;return{inactive:x,dataKey:S,type:l.iconType||C||"square",color:CT(g),value:E||S,payload:b}}),Sa(Sa(Sa({},l),Qi.getWithHeight(s,i)),{},{payload:A,item:s})};function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function WM(t){return Kve(t)||Yve(t)||Xve(t)||Hve()}function Hve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xve(t,e){if(t){if(typeof t=="string")return nw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nw(t,e)}}function Yve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kve(t){if(Array.isArray(t))return nw(t)}function nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function br(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(r),!0).forEach(function(n){Uu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uu(t,e,r){return e=Qve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qve(t){var e=qve(t,"string");return bh(e)=="symbol"?e:e+""}function qve(t,e){if(bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ri(t,e,r){return _t(t)||_t(e)?r:Ur(e)?vi(t,e,r):dt(e)?e(t):r}function bf(t,e,r,n){var i=Kye(t,function(a){return ri(a,e)});if(r==="number"){var o=i.filter(function(a){return Le(a)||parseFloat(a)});return o.length?[My(o),Ry(o)]:[1/0,-1/0]}var s=n?i.filter(function(a){return!_t(a)}):i;return s.map(function(a){return Ur(a)||a instanceof Date?a:""})}var Gve=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,A=0;A<a;A++){var p=A>0?i[A-1].coordinate:i[a-1].coordinate,g=i[A].coordinate,v=A>=a-1?i[0].coordinate:i[A+1].coordinate,b=void 0;if(Hi(g-p)!==Hi(v-g)){var S=[];if(Hi(v-g)===Hi(l[1]-l[0])){b=v;var E=g+l[1]-l[0];S[0]=Math.min(E,(E+p)/2),S[1]=Math.max(E,(E+p)/2)}else{b=p;var C=v+l[1]-l[0];S[0]=Math.min(g,(C+g)/2),S[1]=Math.max(g,(C+g)/2)}var x=[Math.min(g,(b+g)/2),Math.max(g,(b+g)/2)];if(e>x[0]&&e<=x[1]||e>=S[0]&&e<=S[1]){s=i[A].index;break}}else{var P=Math.min(p,v),T=Math.max(p,v);if(e>(P+g)/2&&e<=(T+g)/2){s=i[A].index;break}}}else for(var M=0;M<a;M++)if(M===0&&e<=(n[M].coordinate+n[M+1].coordinate)/2||M>0&&M<a-1&&e>(n[M].coordinate+n[M-1].coordinate)/2&&e<=(n[M].coordinate+n[M+1].coordinate)/2||M===a-1&&e>(n[M].coordinate+n[M-1].coordinate)/2){s=n[M].index;break}return s},CT=function(e){var r,n=e,i=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?br(br({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},Zve=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,A=a.length;l<A;l++)for(var p=o[a[l]].stackGroups,g=Object.keys(p),v=0,b=g.length;v<b;v++){var S=p[g[v]],E=S.items,C=S.cateAxisId,x=E.filter(function(D){return Qs(D.type).indexOf("Bar")>=0});if(x&&x.length){var P=x[0].type.defaultProps,T=P!==void 0?br(br({},P),x[0].props):x[0].props,M=T.barSize,R=T[C];s[R]||(s[R]=[]);var k=_t(M)?r:M;s[R].push({item:x[0],stackList:x.slice(1),barSize:_t(k)?void 0:sl(k,n,0)})}}return s},Jve=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var A=sl(r,i,0,!0),p,g=[];if(s[0].barSize===+s[0].barSize){var v=!1,b=i/l,S=s.reduce(function(M,R){return M+R.barSize||0},0);S+=(l-1)*A,S>=i&&(S-=(l-1)*A,A=0),S>=i&&b>0&&(v=!0,b*=.9,S=l*b);var E=(i-S)/2>>0,C={offset:E-A,size:0};p=s.reduce(function(M,R){var k={item:R.item,position:{offset:C.offset+C.size+A,size:v?b:R.barSize}},D=[].concat(WM(M),[k]);return C=D[D.length-1].position,R.stackList&&R.stackList.length&&R.stackList.forEach(function($){D.push({item:$,position:C})}),D},g)}else{var x=sl(n,i,0,!0);i-2*x-(l-1)*A<=0&&(A=0);var P=(i-2*x-(l-1)*A)/l;P>1&&(P>>=0);var T=a===+a?Math.min(P,a):P;p=s.reduce(function(M,R,k){var D=[].concat(WM(M),[{item:R.item,position:{offset:x+(P+A)*k+(P-T)/2,size:T}}]);return R.stackList&&R.stackList.length&&R.stackList.forEach(function($){D.push({item:$,position:D[D.length-1].position})}),D},g)}return p},e_e=function(e,r,n,i){var o=n.children,s=n.width,a=n.margin,l=s-(a.left||0)-(a.right||0),A=_F({children:o,legendWidth:l});if(A){var p=i||{},g=p.width,v=p.height,b=A.align,S=A.verticalAlign,E=A.layout;if((E==="vertical"||E==="horizontal"&&S==="middle")&&b!=="center"&&Le(e[b]))return br(br({},e),{},Uu({},b,e[b]+(g||0)));if((E==="horizontal"||E==="vertical"&&b==="center")&&S!=="middle"&&Le(e[S]))return br(br({},e),{},Uu({},S,e[S]+(v||0)))}return e},t_e=function(e,r,n){return _t(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},bF=function(e,r,n,i,o){var s=r.props.children,a=_i(s,pd).filter(function(A){return t_e(i,o,A.props.direction)});if(a&&a.length){var l=a.map(function(A){return A.props.dataKey});return e.reduce(function(A,p){var g=ri(p,n);if(_t(g))return A;var v=Array.isArray(g)?[My(g),Ry(g)]:[g,g],b=l.reduce(function(S,E){var C=ri(p,E,0),x=v[0]-Math.abs(Array.isArray(C)?C[0]:C),P=v[1]+Math.abs(Array.isArray(C)?C[1]:C);return[Math.min(x,S[0]),Math.max(P,S[1])]},[1/0,-1/0]);return[Math.min(b[0],A[0]),Math.max(b[1],A[1])]},[1/0,-1/0])}return null},r_e=function(e,r,n,i,o){var s=r.map(function(a){return bF(e,a,n,o,i)}).filter(function(a){return!_t(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},wF=function(e,r,n,i,o){var s=r.map(function(l){var A=l.props.dataKey;return n==="number"&&A&&bF(e,l,A,i)||bf(e,A,n,o)});if(n==="number")return s.reduce(function(l,A){return[Math.min(l[0],A[0]),Math.max(l[1],A[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,A){for(var p=0,g=A.length;p<g;p++)a[A[p]]||(a[A[p]]=!0,l.push(A[p]));return l},[])},SF=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},EF=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(s=!0),l.coordinate});return o||a.push(r),s||a.push(n),a},Xo=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,A=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(A=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Hi(a[0]-a[1])*2*A:A,r&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(g){var v=o?o.indexOf(g):g;return{coordinate:i(v)+A,value:g,offset:A}});return p.filter(function(g){return!fd(g.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(g,v){return{coordinate:i(g)+A,value:g,index:v,offset:A}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(g){return{coordinate:i(g)+A,value:g,offset:A}}):i.domain().map(function(g,v){return{coordinate:i(g)+A,value:o?o[g]:g,index:v,offset:A}})},p1=new WeakMap,F0=function(e,r){if(typeof r!="function")return e;p1.has(e)||p1.set(e,new WeakMap);var n=p1.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},n_e=function(e,r,n){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:oh(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:ac(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:vf(),realScaleType:"point"}:o==="category"?{scale:oh(),realScaleType:"band"}:{scale:ac(),realScaleType:"linear"};if(Ad(i)){var l="scale".concat(Sy(i));return{scale:(FM[l]||vf)(),realScaleType:FM[l]?l:"point"}}return dt(i)?{scale:i}:{scale:vf(),realScaleType:"point"}},XM=1e-4,i_e=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-XM,s=Math.max(i[0],i[1])+XM,a=e(r[0]),l=e(r[n-1]);(a<o||a>s||l<o||l>s)&&e.domain([r[0],r[n-1]])}},o_e=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},s_e=function(e,r){if(!r||r.length!==2||!Le(r[0])||!Le(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!Le(e[0])||e[0]<n)&&(o[0]=n),(!Le(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},a_e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,s=0,a=0;a<r;++a){var l=fd(e[a][n][1])?e[a][n][0]:e[a][n][1];l>=0?(e[a][n][0]=o,e[a][n][1]=o+l,o=e[a][n][1]):(e[a][n][0]=s,e[a][n][1]=s+l,s=e[a][n][1])}},l_e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,s=0;s<r;++s){var a=fd(e[s][n][1])?e[s][n][0]:e[s][n][1];a>=0?(e[s][n][0]=o,e[s][n][1]=o+a,o=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},u_e={sign:a_e,expand:lce,none:fc,silhouette:uce,wiggle:cce,positive:l_e},c_e=function(e,r,n){var i=r.map(function(a){return a.props.dataKey}),o=u_e[n],s=ace().keys(i).value(function(a,l){return+ri(a,l,0)}).order(D2).offset(o);return s(e)},A_e=function(e,r,n,i,o,s){if(!e)return null;var a=s?r.reverse():r,l={},A=a.reduce(function(g,v){var b,S=(b=v.type)!==null&&b!==void 0&&b.defaultProps?br(br({},v.type.defaultProps),v.props):v.props,E=S.stackId,C=S.hide;if(C)return g;var x=S[n],P=g[x]||{hasStack:!1,stackGroups:{}};if(Ur(E)){var T=P.stackGroups[E]||{numericAxisId:n,cateAxisId:i,items:[]};T.items.push(v),P.hasStack=!0,P.stackGroups[E]=T}else P.stackGroups[hd("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[v]};return br(br({},g),{},Uu({},x,P))},l),p={};return Object.keys(A).reduce(function(g,v){var b=A[v];if(b.hasStack){var S={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(E,C){var x=b.stackGroups[C];return br(br({},E),{},Uu({},C,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:c_e(e,x.items,o)}))},S)}return br(br({},g),{},Uu({},v,b))},p)},f_e=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,s=r.originalDomain,a=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var A=e.domain();if(!A.length)return null;var p=Eve(A,o,a);return e.domain([My(p),Ry(p)]),{niceTicks:p}}if(o&&i==="number"){var g=e.domain(),v=Tve(g,o,a);return{niceTicks:v}}return null};function YM(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!_t(i[e.dataKey])){var a=_g(r,"value",i[e.dataKey]);if(a)return a.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=ri(i,_t(s)?e.dataKey:s);return _t(l)?null:e.scale(l)}var KM=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(r.type==="category")return n[a]?n[a].coordinate+i:null;var l=ri(s,r.dataKey,r.domain[a]);return _t(l)?null:r.scale(l)-o/2+i},h_e=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},d_e=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?br(br({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Ur(o)){var s=r[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},p_e=function(e){return e.reduce(function(r,n){return[My(n.concat([r[0]]).filter(Le)),Ry(n.concat([r[1]]).filter(Le))]},[1/0,-1/0])},TF=function(e,r,n){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(A,p){var g=p_e(p.slice(r,n+1));return[Math.min(A[0],g[0]),Math.max(A[1],g[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},QM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iw=function(e,r,n){if(dt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Le(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(QM.test(e[0])){var o=+QM.exec(e[0])[1];i[0]=r[0]-o}else dt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Le(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(qM.test(e[1])){var s=+qM.exec(e[1])[1];i[1]=r[1]+s}else dt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Ug=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=ET(r,function(g){return g.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var A=o[a],p=o[a-1];s=Math.min((A.coordinate||0)-(p.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},GM=function(e,r,n){return!e||!e.length||ky(e,vi(n,"type.defaultProps.domain"))?r:e},xF=function(e,r){var n=e.type.defaultProps?br(br({},e.type.defaultProps),e.props):e.props,i=n.dataKey,o=n.name,s=n.unit,a=n.formatter,l=n.tooltipType,A=n.chartType,p=n.hide;return br(br({},St(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:CT(e),value:ri(r,i),type:l,payload:r,chartType:A,hide:p})};function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function ZM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(r),!0).forEach(function(n){g_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g_e(t,e,r){return e=m_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m_e(t){var e=y_e(t,"string");return wh(e)=="symbol"?e:e+""}function y_e(t,e){if(wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jg=Math.PI/180,v_e=function(e){return e*180/Math.PI},en=function(e,r,n,i){return{x:e+Math.cos(-jg*i)*n,y:r+Math.sin(-jg*i)*n}},__e=function(e,r){var n=e.x,i=e.y,o=r.x,s=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-s,2))},b_e=function(e,r){var n=e.x,i=e.y,o=r.cx,s=r.cy,a=__e({x:n,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(n-o)/a,A=Math.acos(l);return i>s&&(A=2*Math.PI-A),{radius:a,angle:v_e(A),angleInRadian:A}},w_e=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),s=Math.min(i,o);return{startAngle:r-s*360,endAngle:n-s*360}},S_e=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},ek=function(e,r){var n=e.x,i=e.y,o=b_e({x:n,y:i},r),s=o.radius,a=o.angle,l=r.innerRadius,A=r.outerRadius;if(s<l||s>A)return!1;if(s===0)return!0;var p=w_e(r),g=p.startAngle,v=p.endAngle,b=a,S;if(g<=v){for(;b>v;)b-=360;for(;b<g;)b+=360;S=b>=g&&b<=v}else{for(;b>g;)b-=360;for(;b<v;)b+=360;S=b>=v&&b<=g}return S?JM(JM({},r),{},{radius:s,angle:S_e(b,r)}):null};function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}var E_e=["offset"];function T_e(t){return O_e(t)||C_e(t)||P_e(t)||x_e()}function x_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P_e(t,e){if(t){if(typeof t=="string")return ow(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ow(t,e)}}function C_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function O_e(t){if(Array.isArray(t))return ow(t)}function ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R_e(t,e){if(t==null)return{};var r=M_e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function M_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Br(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(r),!0).forEach(function(n){k_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k_e(t,e,r){return e=I_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I_e(t){var e=N_e(t,"string");return Sh(e)=="symbol"?e:e+""}function N_e(t,e){if(Sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eh(){return Eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eh.apply(this,arguments)}var D_e=function(e){var r=e.value,n=e.formatter,i=_t(e.children)?r:e.children;return dt(n)?n(i):i},B_e=function(e,r){var n=Hi(r-e),i=Math.min(Math.abs(r-e),360);return n*i},F_e=function(e,r,n){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,A=l.cx,p=l.cy,g=l.innerRadius,v=l.outerRadius,b=l.startAngle,S=l.endAngle,E=l.clockWise,C=(g+v)/2,x=B_e(b,S),P=x>=0?1:-1,T,M;i==="insideStart"?(T=b+P*s,M=E):i==="insideEnd"?(T=S-P*s,M=!E):i==="end"&&(T=S+P*s,M=E),M=x<=0?M:!M;var R=en(A,p,C,T),k=en(A,p,C,T+(M?1:-1)*359),D="M".concat(R.x,",").concat(R.y,`
    A`).concat(C,",").concat(C,",0,1,").concat(M?0:1,`,
    `).concat(k.x,",").concat(k.y),$=_t(e.id)?hd("recharts-radial-line-"):e.id;return K.createElement("text",Eh({},n,{dominantBaseline:"central",className:ct("recharts-radial-bar-label",a)}),K.createElement("defs",null,K.createElement("path",{id:$,d:D})),K.createElement("textPath",{xlinkHref:"#".concat($)},r))},L_e=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,s=o.cx,a=o.cy,l=o.innerRadius,A=o.outerRadius,p=o.startAngle,g=o.endAngle,v=(p+g)/2;if(i==="outside"){var b=en(s,a,A+n,v),S=b.x,E=b.y;return{x:S,y:E,textAnchor:S>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var C=(l+A)/2,x=en(s,a,C,v),P=x.x,T=x.y;return{x:P,y:T,textAnchor:"middle",verticalAnchor:"middle"}},$_e=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,s=r,a=s.x,l=s.y,A=s.width,p=s.height,g=p>=0?1:-1,v=g*i,b=g>0?"end":"start",S=g>0?"start":"end",E=A>=0?1:-1,C=E*i,x=E>0?"end":"start",P=E>0?"start":"end";if(o==="top"){var T={x:a+A/2,y:l-g*i,textAnchor:"middle",verticalAnchor:b};return Br(Br({},T),n?{height:Math.max(l-n.y,0),width:A}:{})}if(o==="bottom"){var M={x:a+A/2,y:l+p+v,textAnchor:"middle",verticalAnchor:S};return Br(Br({},M),n?{height:Math.max(n.y+n.height-(l+p),0),width:A}:{})}if(o==="left"){var R={x:a-C,y:l+p/2,textAnchor:x,verticalAnchor:"middle"};return Br(Br({},R),n?{width:Math.max(R.x-n.x,0),height:p}:{})}if(o==="right"){var k={x:a+A+C,y:l+p/2,textAnchor:P,verticalAnchor:"middle"};return Br(Br({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:p}:{})}var D=n?{width:A,height:p}:{};return o==="insideLeft"?Br({x:a+C,y:l+p/2,textAnchor:P,verticalAnchor:"middle"},D):o==="insideRight"?Br({x:a+A-C,y:l+p/2,textAnchor:x,verticalAnchor:"middle"},D):o==="insideTop"?Br({x:a+A/2,y:l+v,textAnchor:"middle",verticalAnchor:S},D):o==="insideBottom"?Br({x:a+A/2,y:l+p-v,textAnchor:"middle",verticalAnchor:b},D):o==="insideTopLeft"?Br({x:a+C,y:l+v,textAnchor:P,verticalAnchor:S},D):o==="insideTopRight"?Br({x:a+A-C,y:l+v,textAnchor:x,verticalAnchor:S},D):o==="insideBottomLeft"?Br({x:a+C,y:l+p-v,textAnchor:P,verticalAnchor:b},D):o==="insideBottomRight"?Br({x:a+A-C,y:l+p-v,textAnchor:x,verticalAnchor:b},D):jc(o)&&(Le(o.x)||S2(o.x))&&(Le(o.y)||S2(o.y))?Br({x:a+sl(o.x,A),y:l+sl(o.y,p),textAnchor:"end",verticalAnchor:"end"},D):Br({x:a+A/2,y:l+p/2,textAnchor:"middle",verticalAnchor:"middle"},D)},U_e=function(e){return"cx"in e&&Le(e.cx)};function gn(t){var e=t.offset,r=e===void 0?5:e,n=R_e(t,E_e),i=Br({offset:r},n),o=i.viewBox,s=i.position,a=i.value,l=i.children,A=i.content,p=i.className,g=p===void 0?"":p,v=i.textBreakAll;if(!o||_t(a)&&_t(l)&&!te.isValidElement(A)&&!dt(A))return null;if(te.isValidElement(A))return te.cloneElement(A,i);var b;if(dt(A)){if(b=te.createElement(A,i),te.isValidElement(b))return b}else b=D_e(i);var S=U_e(o),E=St(i,!0);if(S&&(s==="insideStart"||s==="insideEnd"||s==="end"))return F_e(i,b,E);var C=S?L_e(i):$_e(i);return K.createElement(Bg,Eh({className:ct("recharts-label",g)},E,C,{breakAll:v}),b)}gn.displayName="Label";var PF=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,A=e.innerRadius,p=e.outerRadius,g=e.x,v=e.y,b=e.top,S=e.left,E=e.width,C=e.height,x=e.clockWise,P=e.labelViewBox;if(P)return P;if(Le(E)&&Le(C)){if(Le(g)&&Le(v))return{x:g,y:v,width:E,height:C};if(Le(b)&&Le(S))return{x:b,y:S,width:E,height:C}}return Le(g)&&Le(v)?{x:g,y:v,width:0,height:0}:Le(r)&&Le(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:s||i||0,innerRadius:A||0,outerRadius:p||l||a||0,clockWise:x}:e.viewBox?e.viewBox:{}},j_e=function(e,r){return e?e===!0?K.createElement(gn,{key:"label-implicit",viewBox:r}):Ur(e)?K.createElement(gn,{key:"label-implicit",viewBox:r,value:e}):te.isValidElement(e)?e.type===gn?te.cloneElement(e,{key:"label-implicit",viewBox:r}):K.createElement(gn,{key:"label-implicit",content:e,viewBox:r}):dt(e)?K.createElement(gn,{key:"label-implicit",content:e,viewBox:r}):jc(e)?K.createElement(gn,Eh({viewBox:r},e,{key:"label-implicit"})):null:null},z_e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=PF(e),s=_i(i,gn).map(function(l,A){return te.cloneElement(l,{viewBox:r||o,key:"label-".concat(A)})});if(!n)return s;var a=j_e(e.label,r||o);return[a].concat(T_e(s))};gn.parseViewBox=PF;gn.renderCallByParent=z_e;function V_e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var W_e=V_e;const H_e=Lt(W_e);function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}var X_e=["valueAccessor"],Y_e=["data","dataKey","clockWise","id","textBreakAll"];function K_e(t){return Z_e(t)||G_e(t)||q_e(t)||Q_e()}function Q_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q_e(t,e){if(t){if(typeof t=="string")return sw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sw(t,e)}}function G_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Z_e(t){if(Array.isArray(t))return sw(t)}function sw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zg.apply(this,arguments)}function rk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rk(Object(r),!0).forEach(function(n){J_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function J_e(t,e,r){return e=e1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e1e(t){var e=t1e(t,"string");return Th(e)=="symbol"?e:e+""}function t1e(t,e){if(Th(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Th(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ik(t,e){if(t==null)return{};var r=r1e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function r1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var n1e=function(e){return Array.isArray(e.value)?H_e(e.value):e.value};function qs(t){var e=t.valueAccessor,r=e===void 0?n1e:e,n=ik(t,X_e),i=n.data,o=n.dataKey,s=n.clockWise,a=n.id,l=n.textBreakAll,A=ik(n,Y_e);return!i||!i.length?null:K.createElement(Sr,{className:"recharts-label-list"},i.map(function(p,g){var v=_t(o)?r(p,g):ri(p&&p.payload,o),b=_t(a)?{}:{id:"".concat(a,"-").concat(g)};return K.createElement(gn,zg({},St(p,!0),A,b,{parentViewBox:p.parentViewBox,value:v,textBreakAll:l,viewBox:gn.parseViewBox(_t(s)?p:nk(nk({},p),{},{clockWise:s})),key:"label-".concat(g),index:g}))}))}qs.displayName="LabelList";function i1e(t,e){return t?t===!0?K.createElement(qs,{key:"labelList-implicit",data:e}):K.isValidElement(t)||dt(t)?K.createElement(qs,{key:"labelList-implicit",data:e,content:t}):jc(t)?K.createElement(qs,zg({data:e},t,{key:"labelList-implicit"})):null:null}function o1e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=_i(n,qs).map(function(s,a){return te.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!r)return i;var o=i1e(t.label,e);return[o].concat(K_e(i))}qs.renderCallByParent=o1e;function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aw.apply(this,arguments)}function ok(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(r),!0).forEach(function(n){s1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s1e(t,e,r){return e=a1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a1e(t){var e=l1e(t,"string");return xh(e)=="symbol"?e:e+""}function l1e(t,e){if(xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u1e=function(e,r){var n=Hi(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},L0=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,A=e.cornerIsExternal,p=l*(a?1:-1)+i,g=Math.asin(l/p)/jg,v=A?o:o+s*g,b=en(r,n,p,v),S=en(r,n,i,v),E=A?o-s*g:o,C=en(r,n,p*Math.cos(g*jg),E);return{center:b,circleTangency:S,lineTangency:C,theta:g}},CF=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=u1e(s,a),A=s+l,p=en(r,n,o,s),g=en(r,n,o,A),v="M ".concat(p.x,",").concat(p.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>A),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(i>0){var b=en(r,n,i,s),S=en(r,n,i,A);v+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=A),`,
            `).concat(b.x,",").concat(b.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},c1e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,A=e.startAngle,p=e.endAngle,g=Hi(p-A),v=L0({cx:r,cy:n,radius:o,angle:A,sign:g,cornerRadius:s,cornerIsExternal:l}),b=v.circleTangency,S=v.lineTangency,E=v.theta,C=L0({cx:r,cy:n,radius:o,angle:p,sign:-g,cornerRadius:s,cornerIsExternal:l}),x=C.circleTangency,P=C.lineTangency,T=C.theta,M=l?Math.abs(A-p):Math.abs(A-p)-E-T;if(M<0)return a?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):CF({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:A,endAngle:p});var R="M ".concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(M>180),",").concat(+(g<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(P.x,",").concat(P.y,`
  `);if(i>0){var k=L0({cx:r,cy:n,radius:i,angle:A,sign:g,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),D=k.circleTangency,$=k.lineTangency,W=k.theta,N=L0({cx:r,cy:n,radius:i,angle:p,sign:-g,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),H=N.circleTangency,Q=N.lineTangency,re=N.theta,ne=l?Math.abs(A-p):Math.abs(A-p)-W-re;if(ne<0&&s===0)return"".concat(R,"L").concat(r,",").concat(n,"Z");R+="L".concat(Q.x,",").concat(Q.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(H.x,",").concat(H.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(ne>180),",").concat(+(g>0),",").concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat($.x,",").concat($.y,"Z")}else R+="L".concat(r,",").concat(n,"Z");return R},A1e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},OF=function(e){var r=sk(sk({},A1e),e),n=r.cx,i=r.cy,o=r.innerRadius,s=r.outerRadius,a=r.cornerRadius,l=r.forceCornerRadius,A=r.cornerIsExternal,p=r.startAngle,g=r.endAngle,v=r.className;if(s<o||p===g)return null;var b=ct("recharts-sector",v),S=s-o,E=sl(a,S,0,!0),C;return E>0&&Math.abs(p-g)<360?C=c1e({cx:n,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(E,S/2),forceCornerRadius:l,cornerIsExternal:A,startAngle:p,endAngle:g}):C=CF({cx:n,cy:i,innerRadius:o,outerRadius:s,startAngle:p,endAngle:g}),K.createElement("path",aw({},St(r,!0),{className:b,d:C,role:"img"}))};function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lw.apply(this,arguments)}function ak(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(r),!0).forEach(function(n){f1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f1e(t,e,r){return e=h1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h1e(t){var e=d1e(t,"string");return Ph(e)=="symbol"?e:e+""}function d1e(t,e){if(Ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uk={curveBasisClosed:que,curveBasisOpen:Gue,curveBasis:Que,curveBumpX:Due,curveBumpY:Bue,curveLinearClosed:Zue,curveLinear:Ty,curveMonotoneX:Jue,curveMonotoneY:ece,curveNatural:tce,curveStep:rce,curveStepAfter:ice,curveStepBefore:nce},$0=function(e){return e.x===+e.x&&e.y===+e.y},LA=function(e){return e.x},$A=function(e){return e.y},p1e=function(e,r){if(dt(e))return e;var n="curve".concat(Sy(e));return(n==="curveMonotone"||n==="curveBump")&&r?uk["".concat(n).concat(r==="vertical"?"Y":"X")]:uk[n]||Ty},g1e=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,A=l===void 0?!1:l,p=p1e(n,a),g=A?o.filter(function(E){return $0(E)}):o,v;if(Array.isArray(s)){var b=A?s.filter(function(E){return $0(E)}):s,S=g.map(function(E,C){return lk(lk({},E),{},{base:b[C]})});return a==="vertical"?v=I0().y($A).x1(LA).x0(function(E){return E.base.x}):v=I0().x(LA).y1($A).y0(function(E){return E.base.y}),v.defined($0).curve(p),v(S)}return a==="vertical"&&Le(s)?v=I0().y($A).x1(LA).x0(s):Le(s)?v=I0().x(LA).y1($A).y0(s):v=u8().x(LA).y($A),v.defined($0).curve(p),v(g)},uw=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?g1e(e):i;return K.createElement("path",lw({},St(e,!1),bg(e),{className:ct("recharts-curve",r),d:s,ref:o}))},RF={exports:{}},m1e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",y1e=m1e,v1e=y1e;function MF(){}function kF(){}kF.resetWarningCache=MF;var _1e=function(){function t(n,i,o,s,a,l){if(l!==v1e){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:kF,resetWarningCache:MF};return r.PropTypes=r,r};RF.exports=_1e();var b1e=RF.exports;const Ft=Lt(b1e);var w1e=Object.getOwnPropertyNames,S1e=Object.getOwnPropertySymbols,E1e=Object.prototype.hasOwnProperty;function ck(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function U0(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var o=i.cache,s=o.get(r),a=o.get(n);if(s&&a)return s===n&&a===r;o.set(r,n),o.set(n,r);var l=t(r,n,i);return o.delete(r),o.delete(n),l}}function Ak(t){return w1e(t).concat(S1e(t))}var T1e=Object.hasOwn||function(t,e){return E1e.call(t,e)};function wl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var x1e="__v",P1e="__o",C1e="_owner",fk=Object.getOwnPropertyDescriptor,hk=Object.keys;function O1e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function R1e(t,e){return wl(t.getTime(),e.getTime())}function M1e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function k1e(t,e){return t===e}function dk(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var A=e.entries(),p=!1,g=0;(a=A.next())&&!a.done;){if(i[g]){g++;continue}var v=s.value,b=a.value;if(r.equals(v[0],b[0],l,g,t,e,r)&&r.equals(v[1],b[1],v[0],b[0],t,e,r)){p=i[g]=!0;break}g++}if(!p)return!1;l++}return!0}var I1e=wl;function N1e(t,e,r){var n=hk(t),i=n.length;if(hk(e).length!==i)return!1;for(;i-- >0;)if(!IF(t,e,r,n[i]))return!1;return!0}function UA(t,e,r){var n=Ak(t),i=n.length;if(Ak(e).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=n[i],!IF(t,e,r,o)||(s=fk(t,o),a=fk(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function D1e(t,e){return wl(t.valueOf(),e.valueOf())}function B1e(t,e){return t.source===e.source&&t.flags===e.flags}function pk(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),o=t.values(),s,a;(s=o.next())&&!s.done;){for(var l=e.values(),A=!1,p=0;(a=l.next())&&!a.done;){if(!i[p]&&r.equals(s.value,a.value,s.value,a.value,t,e,r)){A=i[p]=!0;break}p++}if(!A)return!1}return!0}function F1e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function L1e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function IF(t,e,r,n){return(n===C1e||n===P1e||n===x1e)&&(t.$$typeof||e.$$typeof)?!0:T1e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var $1e="[object Arguments]",U1e="[object Boolean]",j1e="[object Date]",z1e="[object Error]",V1e="[object Map]",W1e="[object Number]",H1e="[object Object]",X1e="[object RegExp]",Y1e="[object Set]",K1e="[object String]",Q1e="[object URL]",q1e=Array.isArray,gk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,mk=Object.assign,G1e=Object.prototype.toString.call.bind(Object.prototype.toString);function Z1e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,s=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,A=t.areRegExpsEqual,p=t.areSetsEqual,g=t.areTypedArraysEqual,v=t.areUrlsEqual;return function(S,E,C){if(S===E)return!0;if(S==null||E==null)return!1;var x=typeof S;if(x!==typeof E)return!1;if(x!=="object")return x==="number"?s(S,E,C):x==="function"?i(S,E,C):!1;var P=S.constructor;if(P!==E.constructor)return!1;if(P===Object)return a(S,E,C);if(q1e(S))return e(S,E,C);if(gk!=null&&gk(S))return g(S,E,C);if(P===Date)return r(S,E,C);if(P===RegExp)return A(S,E,C);if(P===Map)return o(S,E,C);if(P===Set)return p(S,E,C);var T=G1e(S);return T===j1e?r(S,E,C):T===X1e?A(S,E,C):T===V1e?o(S,E,C):T===Y1e?p(S,E,C):T===H1e?typeof S.then!="function"&&typeof E.then!="function"&&a(S,E,C):T===Q1e?v(S,E,C):T===z1e?n(S,E,C):T===$1e?a(S,E,C):T===U1e||T===W1e||T===K1e?l(S,E,C):!1}}function J1e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?UA:O1e,areDatesEqual:R1e,areErrorsEqual:M1e,areFunctionsEqual:k1e,areMapsEqual:n?ck(dk,UA):dk,areNumbersEqual:I1e,areObjectsEqual:n?UA:N1e,arePrimitiveWrappersEqual:D1e,areRegExpsEqual:B1e,areSetsEqual:n?ck(pk,UA):pk,areTypedArraysEqual:n?UA:F1e,areUrlsEqual:L1e};if(r&&(i=mk({},i,r(i))),e){var o=U0(i.areArraysEqual),s=U0(i.areMapsEqual),a=U0(i.areObjectsEqual),l=U0(i.areSetsEqual);i=mk({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function ebe(t){return function(e,r,n,i,o,s,a){return t(e,r,a)}}function tbe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,o=t.strict;if(n)return function(l,A){var p=n(),g=p.cache,v=g===void 0?e?new WeakMap:void 0:g,b=p.meta;return r(l,A,{cache:v,equals:i,meta:b,strict:o})};if(e)return function(l,A){return r(l,A,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,A){return r(l,A,s)}}var rbe=Aa();Aa({strict:!0});Aa({circular:!0});Aa({circular:!0,strict:!0});Aa({createInternalComparator:function(){return wl}});Aa({strict:!0,createInternalComparator:function(){return wl}});Aa({circular:!0,createInternalComparator:function(){return wl}});Aa({circular:!0,createInternalComparator:function(){return wl},strict:!0});function Aa(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,o=t.strict,s=o===void 0?!1:o,a=J1e(t),l=Z1e(a),A=n?n(l):ebe(l);return tbe({circular:r,comparator:l,createState:i,equals:A,strict:s})}function nbe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function yk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):nbe(i)};requestAnimationFrame(n)}function cw(t){"@babel/helpers - typeof";return cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cw(t)}function ibe(t){return lbe(t)||abe(t)||sbe(t)||obe()}function obe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sbe(t,e){if(t){if(typeof t=="string")return vk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vk(t,e)}}function vk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function abe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lbe(t){if(Array.isArray(t))return t}function ube(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,a=ibe(s),l=a[0],A=a.slice(1);if(typeof l=="number"){yk(i.bind(null,A),l);return}i(l),yk(i.bind(null,A));return}cw(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function _k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(r),!0).forEach(function(n){NF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NF(t,e,r){return e=cbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cbe(t){var e=Abe(t,"string");return Ch(e)==="symbol"?e:String(e)}function Abe(t,e){if(Ch(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ch(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fbe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},hbe=function(e){return e},dbe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},wf=function(e,r){return Object.keys(r).reduce(function(n,i){return bk(bk({},n),{},NF({},i,e(i,r[i])))},{})},wk=function(e,r,n){return e.map(function(i){return"".concat(dbe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function pbe(t,e){return ybe(t)||mbe(t,e)||DF(t,e)||gbe()}function gbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,A=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(p){A=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw i}}return a}}function ybe(t){if(Array.isArray(t))return t}function vbe(t){return wbe(t)||bbe(t)||DF(t)||_be()}function _be(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DF(t,e){if(t){if(typeof t=="string")return Aw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Aw(t,e)}}function bbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wbe(t){if(Array.isArray(t))return Aw(t)}function Aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Vg=1e-4,BF=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},FF=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},Sk=function(e,r){return function(n){var i=BF(e,r);return FF(i,n)}},Sbe=function(e,r){return function(n){var i=BF(e,r),o=[].concat(vbe(i.map(function(s,a){return s*a}).slice(1)),[0]);return FF(o,n)}},Ek=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],s=r[2],a=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var A=l[1].split(")")[0].split(",").map(function(C){return parseFloat(C)}),p=pbe(A,4);i=p[0],o=p[1],s=p[2],a=p[3]}}}var g=Sk(i,s),v=Sk(o,a),b=Sbe(i,s),S=function(x){return x>1?1:x<0?0:x},E=function(x){for(var P=x>1?1:x,T=P,M=0;M<8;++M){var R=g(T)-P,k=b(T);if(Math.abs(R-P)<Vg||k<Vg)return v(T);T=S(T-R/k)}return v(T)};return E.isStepper=!1,E},Ebe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(p,g,v){var b=-(p-g)*n,S=v*o,E=v+(b-S)*a/1e3,C=v*a/1e3+p;return Math.abs(C-g)<Vg&&Math.abs(E)<Vg?[g,0]:[C,E]};return l.isStepper=!0,l.dt=a,l},Tbe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Ek(i);case"spring":return Ebe();default:if(i.split("(")[0]==="cubic-bezier")return Ek(i)}return typeof i=="function"?i:null};function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function Tk(t){return Cbe(t)||Pbe(t)||LF(t)||xbe()}function xbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cbe(t){if(Array.isArray(t))return hw(t)}function xk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(r),!0).forEach(function(n){fw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fw(t,e,r){return e=Obe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Obe(t){var e=Rbe(t,"string");return Oh(e)==="symbol"?e:String(e)}function Rbe(t,e){if(Oh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Oh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mbe(t,e){return Nbe(t)||Ibe(t,e)||LF(t,e)||kbe()}function kbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LF(t,e){if(t){if(typeof t=="string")return hw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hw(t,e)}}function hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ibe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,A=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(p){A=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw i}}return a}}function Nbe(t){if(Array.isArray(t))return t}var Wg=function(e,r,n){return e+(r-e)*n},dw=function(e){var r=e.from,n=e.to;return r!==n},Dbe=function t(e,r,n){var i=wf(function(o,s){if(dw(s)){var a=e(s.from,s.to,s.velocity),l=Mbe(a,2),A=l[0],p=l[1];return Gr(Gr({},s),{},{from:A,velocity:p})}return s},r);return n<1?wf(function(o,s){return dw(s)?Gr(Gr({},s),{},{velocity:Wg(s.velocity,i[o].velocity,n),from:Wg(s.from,i[o].from,n)}):s},r):t(e,i,n-1)};const Bbe=function(t,e,r,n,i){var o=fbe(t,e),s=o.reduce(function(C,x){return Gr(Gr({},C),{},fw({},x,[t[x],e[x]]))},{}),a=o.reduce(function(C,x){return Gr(Gr({},C),{},fw({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,A,p,g=function(){return null},v=function(){return wf(function(x,P){return P.from},a)},b=function(){return!Object.values(a).filter(dw).length},S=function(x){A||(A=x);var P=x-A,T=P/r.dt;a=Dbe(r,a,T),i(Gr(Gr(Gr({},t),e),v())),A=x,b()||(l=requestAnimationFrame(g))},E=function(x){p||(p=x);var P=(x-p)/n,T=wf(function(R,k){return Wg.apply(void 0,Tk(k).concat([r(P)]))},s);if(i(Gr(Gr(Gr({},t),e),T)),P<1)l=requestAnimationFrame(g);else{var M=wf(function(R,k){return Wg.apply(void 0,Tk(k).concat([r(1)]))},s);i(Gr(Gr(Gr({},t),e),M))}};return g=r.isStepper?S:E,function(){return requestAnimationFrame(g),function(){cancelAnimationFrame(l)}}};function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}var Fbe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Lbe(t,e){if(t==null)return{};var r=$be(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $be(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function g1(t){return Vbe(t)||zbe(t)||jbe(t)||Ube()}function Ube(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jbe(t,e){if(t){if(typeof t=="string")return pw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pw(t,e)}}function zbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vbe(t){if(Array.isArray(t))return pw(t)}function pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(r),!0).forEach(function(n){JA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JA(t,e,r){return e=$F(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ck(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$F(n.key),n)}}function Hbe(t,e,r){return e&&Ck(t.prototype,e),r&&Ck(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $F(t){var e=Xbe(t,"string");return yc(e)==="symbol"?e:String(e)}function Xbe(t,e){if(yc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(yc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ybe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gw(t,e)}function gw(t,e){return gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gw(t,e)}function Kbe(t){var e=Qbe();return function(){var n=Hg(t),i;if(e){var o=Hg(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return mw(this,i)}}function mw(t,e){if(e&&(yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yw(t)}function yw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hg(t){return Hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hg(t)}var Dy=function(t){Ybe(r,t);var e=Kbe(r);function r(n,i){var o;Wbe(this,r),o=e.call(this,n,i);var s=o.props,a=s.isActive,l=s.attributeName,A=s.from,p=s.to,g=s.steps,v=s.children,b=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(yw(o)),o.changeStyle=o.changeStyle.bind(yw(o)),!a||b<=0)return o.state={style:{}},typeof v=="function"&&(o.state={style:p}),mw(o);if(g&&g.length)o.state={style:g[0].style};else if(A){if(typeof v=="function")return o.state={style:A},mw(o);o.state={style:l?JA({},l,A):A}}else o.state={style:{}};return o}return Hbe(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,A=o.shouldReAnimate,p=o.to,g=o.from,v=this.state.style;if(a){if(!s){var b={style:l?JA({},l,p):p};this.state&&v&&(l&&v[l]!==p||!l&&v!==p)&&this.setState(b);return}if(!(rbe(i.to,p)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=S||A?g:i.to;if(this.state&&v){var C={style:l?JA({},l,E):E};(l&&v[l]!==E||!l&&v!==E)&&this.setState(C)}this.runAnimation(Ii(Ii({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,A=i.easing,p=i.begin,g=i.onAnimationEnd,v=i.onAnimationStart,b=Bbe(s,a,Tbe(A),l,this.changeStyle),S=function(){o.stopJSAnimation=b()};this.manager.start([v,p,S,l,g])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,A=s[0],p=A.style,g=A.duration,v=g===void 0?0:g,b=function(E,C,x){if(x===0)return E;var P=C.duration,T=C.easing,M=T===void 0?"ease":T,R=C.style,k=C.properties,D=C.onAnimationEnd,$=x>0?s[x-1]:C,W=k||Object.keys(R);if(typeof M=="function"||M==="spring")return[].concat(g1(E),[o.runJSAnimation.bind(o,{from:$.style,to:R,duration:P,easing:M}),P]);var N=wk(W,P,M),H=Ii(Ii(Ii({},$.style),R),{},{transition:N});return[].concat(g1(E),[H,P,D]).filter(hbe)};return this.manager.start([l].concat(g1(s.reduce(b,[p,Math.max(v,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=ube());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,A=i.easing,p=i.onAnimationStart,g=i.onAnimationEnd,v=i.steps,b=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof A=="function"||typeof b=="function"||A==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var E=a?JA({},a,l):l,C=wk(Object.keys(E),s,A);S.start([p,o,Ii(Ii({},E),{},{transition:C}),s,g])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Lbe(i,Fbe),A=te.Children.count(o),p=this.state.style;if(typeof o=="function")return o(p);if(!a||A===0||s<=0)return o;var g=function(b){var S=b.props,E=S.style,C=E===void 0?{}:E,x=S.className,P=te.cloneElement(b,Ii(Ii({},l),{},{style:Ii(Ii({},C),p),className:x}));return P};return A===1?g(te.Children.only(o)):K.createElement("div",null,te.Children.map(o,function(v){return g(v)}))}}]),r}(te.PureComponent);Dy.displayName="Animate";Dy.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Dy.propTypes={from:Ft.oneOfType([Ft.object,Ft.string]),to:Ft.oneOfType([Ft.object,Ft.string]),attributeName:Ft.string,duration:Ft.number,begin:Ft.number,easing:Ft.oneOfType([Ft.string,Ft.func]),steps:Ft.arrayOf(Ft.shape({duration:Ft.number.isRequired,style:Ft.object.isRequired,easing:Ft.oneOfType([Ft.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ft.func]),properties:Ft.arrayOf("string"),onAnimationEnd:Ft.func})),children:Ft.oneOfType([Ft.node,Ft.func]),isActive:Ft.bool,canBegin:Ft.bool,onAnimationEnd:Ft.func,shouldReAnimate:Ft.bool,onAnimationStart:Ft.func,onAnimationReStart:Ft.func};const vc=Dy;function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vw.apply(null,arguments)}function qbe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function _w(t,e){return _w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},_w(t,e)}function Gbe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_w(t,e)}const Ok={disabled:!1},UF=K.createContext(null);var Zbe=function(e){return e.scrollTop},ef="unmounted",Ra="exited",Ma="entering",nu="entered",bw="exiting",cs=function(t){Gbe(e,t);function e(n,i){var o;o=t.call(this,n,i)||this;var s=i,a=s&&!s.isMounting?n.enter:n.appear,l;return o.appearStatus=null,n.in?a?(l=Ra,o.appearStatus=Ma):l=nu:n.unmountOnExit||n.mountOnEnter?l=ef:l=Ra,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===ef?{status:Ra}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Ma&&s!==nu&&(o=Ma):(s===Ma||s===nu)&&(o=bw)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Ma){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:l0.findDOMNode(this);s&&Zbe(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ra&&this.setState({status:ef})},r.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[l0.findDOMNode(this),a],A=l[0],p=l[1],g=this.getTimeouts(),v=a?g.appear:g.enter;if(!i&&!s||Ok.disabled){this.safeSetState({status:nu},function(){o.props.onEntered(A)});return}this.props.onEnter(A,p),this.safeSetState({status:Ma},function(){o.props.onEntering(A,p),o.onTransitionEnd(v,function(){o.safeSetState({status:nu},function(){o.props.onEntered(A,p)})})})},r.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:l0.findDOMNode(this);if(!o||Ok.disabled){this.safeSetState({status:Ra},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:bw},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Ra},function(){i.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:l0.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],A=l[0],p=l[1];this.props.addEndListener(A,p)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===ef)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=qbe(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return K.createElement(UF.Provider,{value:null},typeof s=="function"?s(i,a):K.cloneElement(K.Children.only(s),a))},e}(K.Component);cs.contextType=UF;cs.propTypes={};function Kl(){}cs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Kl,onEntering:Kl,onEntered:Kl,onExit:Kl,onExiting:Kl,onExited:Kl};cs.UNMOUNTED=ef;cs.EXITED=Ra;cs.ENTERING=Ma;cs.ENTERED=nu;cs.EXITING=bw;const Jbe=cs;function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function Xg(){return Xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xg.apply(this,arguments)}function e2e(t,e){return i2e(t)||n2e(t,e)||r2e(t,e)||t2e()}function t2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r2e(t,e){if(t){if(typeof t=="string")return Rk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rk(t,e)}}function Rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,A=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(p){A=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw i}}return a}}function i2e(t){if(Array.isArray(t))return t}function Mk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(r),!0).forEach(function(n){o2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o2e(t,e,r){return e=s2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s2e(t){var e=a2e(t,"string");return Rh(e)=="symbol"?e:e+""}function a2e(t,e){if(Rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ik=function(e,r,n,i,o){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),a=i>=0?1:-1,l=n>=0?1:-1,A=i>=0&&n>=0||i<0&&n<0?1:0,p;if(s>0&&o instanceof Array){for(var g=[0,0,0,0],v=0,b=4;v<b;v++)g[v]=o[v]>s?s:o[v];p="M".concat(e,",").concat(r+a*g[0]),g[0]>0&&(p+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(A,",").concat(e+l*g[0],",").concat(r)),p+="L ".concat(e+n-l*g[1],",").concat(r),g[1]>0&&(p+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(A,`,
        `).concat(e+n,",").concat(r+a*g[1])),p+="L ".concat(e+n,",").concat(r+i-a*g[2]),g[2]>0&&(p+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(A,`,
        `).concat(e+n-l*g[2],",").concat(r+i)),p+="L ".concat(e+l*g[3],",").concat(r+i),g[3]>0&&(p+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(A,`,
        `).concat(e,",").concat(r+i-a*g[3])),p+="Z"}else if(s>0&&o===+o&&o>0){var S=Math.min(s,o);p="M ".concat(e,",").concat(r+a*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(A,",").concat(e+l*S,",").concat(r,`
            L `).concat(e+n-l*S,",").concat(r,`
            A `).concat(S,",").concat(S,",0,0,").concat(A,",").concat(e+n,",").concat(r+a*S,`
            L `).concat(e+n,",").concat(r+i-a*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(A,",").concat(e+n-l*S,",").concat(r+i,`
            L `).concat(e+l*S,",").concat(r+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(A,",").concat(e,",").concat(r+i-a*S," Z")}else p="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return p},l2e=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,s=r.y,a=r.width,l=r.height;if(Math.abs(a)>0&&Math.abs(l)>0){var A=Math.min(o,o+a),p=Math.max(o,o+a),g=Math.min(s,s+l),v=Math.max(s,s+l);return n>=A&&n<=p&&i>=g&&i<=v}return!1},u2e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OT=function(e){var r=kk(kk({},u2e),e),n=te.useRef(),i=te.useState(-1),o=e2e(i,2),s=o[0],a=o[1];te.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var M=n.current.getTotalLength();M&&a(M)}catch{}},[]);var l=r.x,A=r.y,p=r.width,g=r.height,v=r.radius,b=r.className,S=r.animationEasing,E=r.animationDuration,C=r.animationBegin,x=r.isAnimationActive,P=r.isUpdateAnimationActive;if(l!==+l||A!==+A||p!==+p||g!==+g||p===0||g===0)return null;var T=ct("recharts-rectangle",b);return P?K.createElement(vc,{canBegin:s>0,from:{width:p,height:g,x:l,y:A},to:{width:p,height:g,x:l,y:A},duration:E,animationEasing:S,isActive:P},function(M){var R=M.width,k=M.height,D=M.x,$=M.y;return K.createElement(vc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:C,duration:E,isActive:x,easing:S},K.createElement("path",Xg({},St(r,!0),{className:T,d:Ik(D,$,R,k,v),ref:n})))}):K.createElement("path",Xg({},St(r,!0),{className:T,d:Ik(l,A,p,g,v)}))};function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ww.apply(this,arguments)}var RT=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,s=ct("recharts-dot",o);return r===+r&&n===+n&&i===+i?K.createElement("circle",ww({},St(e,!1),bg(e),{className:s,cx:r,cy:n,r:i})):null};function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}var c2e=["x","y","top","left","width","height","className"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sw.apply(this,arguments)}function Nk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function A2e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(r),!0).forEach(function(n){f2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f2e(t,e,r){return e=h2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h2e(t){var e=d2e(t,"string");return Mh(e)=="symbol"?e:e+""}function d2e(t,e){if(Mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p2e(t,e){if(t==null)return{};var r=g2e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function g2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var m2e=function(e,r,n,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},y2e=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,A=l===void 0?0:l,p=e.width,g=p===void 0?0:p,v=e.height,b=v===void 0?0:v,S=e.className,E=p2e(e,c2e),C=A2e({x:n,y:o,top:a,left:A,width:g,height:b},E);return!Le(n)||!Le(o)||!Le(g)||!Le(b)||!Le(a)||!Le(A)?null:K.createElement("path",Sw({},St(C,!0),{className:ct("recharts-cross",S),d:m2e(n,o,g,b,a,A)}))},v2e=I8,_2e=v2e(Object.getPrototypeOf,Object),b2e=_2e,w2e=ls,S2e=b2e,E2e=us,T2e="[object Object]",x2e=Function.prototype,P2e=Object.prototype,jF=x2e.toString,C2e=P2e.hasOwnProperty,O2e=jF.call(Object);function R2e(t){if(!E2e(t)||w2e(t)!=T2e)return!1;var e=S2e(t);if(e===null)return!0;var r=C2e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&jF.call(r)==O2e}var M2e=R2e;const k2e=Lt(M2e);var I2e=ls,N2e=us,D2e="[object Boolean]";function B2e(t){return t===!0||t===!1||N2e(t)&&I2e(t)==D2e}var F2e=B2e;const L2e=Lt(F2e);function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function Yg(){return Yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yg.apply(this,arguments)}function $2e(t,e){return V2e(t)||z2e(t,e)||j2e(t,e)||U2e()}function U2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j2e(t,e){if(t){if(typeof t=="string")return Dk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dk(t,e)}}function Dk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,A=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(p){A=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw i}}return a}}function V2e(t){if(Array.isArray(t))return t}function Bk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(r),!0).forEach(function(n){W2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W2e(t,e,r){return e=H2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H2e(t){var e=X2e(t,"string");return kh(e)=="symbol"?e:e+""}function X2e(t,e){if(kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lk=function(e,r,n,i,o){var s=n-i,a;return a="M ".concat(e,",").concat(r),a+="L ".concat(e+n,",").concat(r),a+="L ".concat(e+n-s/2,",").concat(r+o),a+="L ".concat(e+n-s/2-i,",").concat(r+o),a+="L ".concat(e,",").concat(r," Z"),a},Y2e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},K2e=function(e){var r=Fk(Fk({},Y2e),e),n=te.useRef(),i=te.useState(-1),o=$2e(i,2),s=o[0],a=o[1];te.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var T=n.current.getTotalLength();T&&a(T)}catch{}},[]);var l=r.x,A=r.y,p=r.upperWidth,g=r.lowerWidth,v=r.height,b=r.className,S=r.animationEasing,E=r.animationDuration,C=r.animationBegin,x=r.isUpdateAnimationActive;if(l!==+l||A!==+A||p!==+p||g!==+g||v!==+v||p===0&&g===0||v===0)return null;var P=ct("recharts-trapezoid",b);return x?K.createElement(vc,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:v,x:l,y:A},to:{upperWidth:p,lowerWidth:g,height:v,x:l,y:A},duration:E,animationEasing:S,isActive:x},function(T){var M=T.upperWidth,R=T.lowerWidth,k=T.height,D=T.x,$=T.y;return K.createElement(vc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:C,duration:E,easing:S},K.createElement("path",Yg({},St(r,!0),{className:P,d:Lk(D,$,M,R,k),ref:n})))}):K.createElement("g",null,K.createElement("path",Yg({},St(r,!0),{className:P,d:Lk(l,A,p,g,v)})))},Q2e=["option","shapeType","propTransformer","activeClassName","isActive"];function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function q2e(t,e){if(t==null)return{};var r=G2e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function G2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(r),!0).forEach(function(n){Z2e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z2e(t,e,r){return e=J2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J2e(t){var e=ewe(t,"string");return Ih(e)=="symbol"?e:e+""}function ewe(t,e){if(Ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function twe(t,e){return Kg(Kg({},e),t)}function rwe(t,e){return t==="symbols"}function Uk(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return K.createElement(OT,r);case"trapezoid":return K.createElement(K2e,r);case"sector":return K.createElement(OF,r);case"symbols":if(rwe(e))return K.createElement(gT,r);break;default:return null}}function nwe(t){return te.isValidElement(t)?t.props:t}function iwe(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?twe:n,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=q2e(t,Q2e),A;if(te.isValidElement(e))A=te.cloneElement(e,Kg(Kg({},l),nwe(e)));else if(dt(e))A=e(l);else if(k2e(e)&&!L2e(e)){var p=i(e,l);A=K.createElement(Uk,{shapeType:r,elementProps:p})}else{var g=l;A=K.createElement(Uk,{shapeType:r,elementProps:g})}return a?K.createElement(Sr,{className:s},A):A}function By(t,e){return e!=null&&"trapezoids"in t.props}function Fy(t,e){return e!=null&&"sectors"in t.props}function Nh(t,e){return e!=null&&"points"in t.props}function owe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function swe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function awe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function lwe(t,e){var r;return By(t,e)?r=owe:Fy(t,e)?r=swe:Nh(t,e)&&(r=awe),r}function uwe(t,e){var r;return By(t,e)?r="trapezoids":Fy(t,e)?r="sectors":Nh(t,e)&&(r="points"),r}function cwe(t,e){if(By(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Fy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Nh(t,e)?e.payload:{}}function Awe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=uwe(r,e),o=cwe(r,e),s=n.filter(function(l,A){var p=ky(o,l),g=r.props[i].filter(function(S){var E=lwe(r,e);return E(S,e)}),v=r.props[i].indexOf(g[g.length-1]),b=A===v;return p&&b}),a=n.indexOf(s[s.length-1]);return a}var fwe=Math.ceil,hwe=Math.max;function dwe(t,e,r,n){for(var i=-1,o=hwe(fwe((e-t)/(r||1)),0),s=Array(o);o--;)s[n?o:++i]=t,t+=r;return s}var pwe=dwe,gwe=Z8,jk=1/0,mwe=17976931348623157e292;function ywe(t){if(!t)return t===0?t:0;if(t=gwe(t),t===jk||t===-jk){var e=t<0?-1:1;return e*mwe}return t===t?t:0}var zF=ywe,vwe=pwe,_we=Oy,m1=zF;function bwe(t){return function(e,r,n){return n&&typeof n!="number"&&_we(e,r,n)&&(r=n=void 0),e=m1(e),r===void 0?(r=e,e=0):r=m1(r),n=n===void 0?e<r?1:-1:m1(n),vwe(e,r,n,t)}}var wwe=bwe,Swe=wwe,Ewe=Swe(),Twe=Ewe;const Qg=Lt(Twe);function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function zk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(r),!0).forEach(function(n){VF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VF(t,e,r){return e=xwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xwe(t){var e=Pwe(t,"string");return Dh(e)=="symbol"?e:e+""}function Pwe(t,e){if(Dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cwe=["Webkit","Moz","O","ms"],Owe=function(e,r){if(!e)return null;var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Cwe.reduce(function(o,s){return Vk(Vk({},o),{},VF({},s+n,r))},{});return i[e]=r,i};function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function qg(){return qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qg.apply(this,arguments)}function Wk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(r),!0).forEach(function(n){Wn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HF(n.key),n)}}function Mwe(t,e,r){return e&&Hk(t.prototype,e),r&&Hk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kwe(t,e,r){return e=Gg(e),Iwe(t,WF()?Reflect.construct(e,r||[],Gg(t).constructor):e.apply(t,r))}function Iwe(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nwe(t)}function Nwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WF=function(){return!!t})()}function Gg(t){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gg(t)}function Dwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ew(t,e)}function Ew(t,e){return Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ew(t,e)}function Wn(t,e,r){return e=HF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HF(t){var e=Bwe(t,"string");return _c(e)=="symbol"?e:e+""}function Bwe(t,e){if(_c(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fwe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,A=vf().domain(Qg(0,l)).range([o,o+s-a]),p=A.domain().map(function(g){return A(g)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:A(n),endX:A(i),scale:A,scaleValues:p}},Xk=function(e){return e.changedTouches&&!!e.changedTouches.length},bc=function(t){function e(r){var n;return Rwe(this,e),n=kwe(this,e,[r]),Wn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Wn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Wn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),n.detachDragEndListener()}),Wn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Wn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Wn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Wn(n,"handleSlideDragStart",function(i){var o=Xk(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Dwe(e,t),Mwe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,s=this.state.scaleValues,a=this.props,l=a.gap,A=a.data,p=A.length-1,g=Math.min(i,o),v=Math.max(i,o),b=e.getIndexInRange(s,g),S=e.getIndexInRange(s,v);return{startIndex:b-b%l,endIndex:S===p?p:S-S%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=ri(o[n],a,n);return dt(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,A=l.x,p=l.width,g=l.travellerWidth,v=l.startIndex,b=l.endIndex,S=l.onChange,E=n.pageX-o;E>0?E=Math.min(E,A+p-g-a,A+p-g-s):E<0&&(E=Math.max(E,A-s,A-a));var C=this.getIndex({startX:s+E,endX:a+E});(C.startIndex!==v||C.endIndex!==b)&&S&&S(C),this.setState({startX:s+E,endX:a+E,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=Xk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,A=this.state[s],p=this.props,g=p.x,v=p.width,b=p.travellerWidth,S=p.onChange,E=p.gap,C=p.data,x={startX:this.state.startX,endX:this.state.endX},P=n.pageX-o;P>0?P=Math.min(P,g+v-b-A):P<0&&(P=Math.max(P,g-A)),x[s]=A+P;var T=this.getIndex(x),M=T.startIndex,R=T.endIndex,k=function(){var $=C.length-1;return s==="startX"&&(a>l?M%E===0:R%E===0)||a<l&&R===$||s==="endX"&&(a>l?R%E===0:M%E===0)||a>l&&R===$};this.setState(Wn(Wn({},s,A+P),"brushMoveStartX",n.pageX),function(){S&&k()&&S(T)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,A=s.endX,p=this.state[i],g=a.indexOf(p);if(g!==-1){var v=g+n;if(!(v===-1||v>=a.length)){var b=a[v];i==="startX"&&b>=A||i==="endX"&&b<=l||this.setState(Wn({},i,b),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,a=n.height,l=n.fill,A=n.stroke;return K.createElement("rect",{stroke:A,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,a=n.height,l=n.data,A=n.children,p=n.padding,g=te.Children.only(A);return g?K.cloneElement(g,{x:i,y:o,width:s,height:a,margin:p,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,s,a=this,l=this.props,A=l.y,p=l.travellerWidth,g=l.height,v=l.traveller,b=l.ariaLabel,S=l.data,E=l.startIndex,C=l.endIndex,x=Math.max(n,this.props.x),P=y1(y1({},St(this.props,!1)),{},{x,y:A,width:p,height:g}),T=b||"Min value: ".concat((o=S[E])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=S[C])===null||s===void 0?void 0:s.name);return K.createElement(Sr,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(R){["ArrowLeft","ArrowRight"].includes(R.key)&&(R.preventDefault(),R.stopPropagation(),a.handleTravellerMoveKeyboard(R.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,P))}},{key:"renderSlide",value:function(n,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,A=o.travellerWidth,p=Math.min(n,i)+A,g=Math.max(Math.abs(i-n)-A,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:p,y:s,width:g,height:a})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,s=n.y,a=n.height,l=n.travellerWidth,A=n.stroke,p=this.state,g=p.startX,v=p.endX,b=5,S={pointerEvents:"none",fill:A};return K.createElement(Sr,{className:"recharts-brush-texts"},K.createElement(Bg,qg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(g,v)-b,y:s+a/2},S),this.getTextOfTick(i)),K.createElement(Bg,qg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(g,v)+l+b,y:s+a/2},S),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,s=n.children,a=n.x,l=n.y,A=n.width,p=n.height,g=n.alwaysShowText,v=this.state,b=v.startX,S=v.endX,E=v.isTextActive,C=v.isSlideMoving,x=v.isTravellerMoving,P=v.isTravellerFocused;if(!i||!i.length||!Le(a)||!Le(l)||!Le(A)||!Le(p)||A<=0||p<=0)return null;var T=ct("recharts-brush",o),M=K.Children.count(s)===1,R=Owe("userSelect","none");return K.createElement(Sr,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:R},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(b,S),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(S,"endX"),(E||C||x||P||g)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,s=n.width,a=n.height,l=n.stroke,A=Math.floor(o+a/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),K.createElement("line",{x1:i+1,y1:A,x2:i+s-1,y2:A,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:A+2,x2:i+s-1,y2:A+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return K.isValidElement(n)?o=K.cloneElement(n,i):dt(n)?o=n(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,s=n.width,a=n.x,l=n.travellerWidth,A=n.updateId,p=n.startIndex,g=n.endIndex;if(o!==i.prevData||A!==i.prevUpdateId)return y1({prevData:o,prevTravellerWidth:l,prevUpdateId:A,prevX:a,prevWidth:s},o&&o.length?Fwe({data:o,width:s,x:a,travellerWidth:l,startIndex:p,endIndex:g}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var v=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:A,prevX:a,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);n[l]>i?a=l:s=l}return i>=n[a]?a:s}}])}(te.PureComponent);Wn(bc,"displayName","Brush");Wn(bc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Lwe=ST;function $we(t,e){var r;return Lwe(t,function(n,i,o){return r=e(n,i,o),!r}),!!r}var Uwe=$we,jwe=T8,zwe=ca,Vwe=Uwe,Wwe=Un,Hwe=Oy;function Xwe(t,e,r){var n=Wwe(t)?jwe:Vwe;return r&&Hwe(t,e,r)&&(e=void 0),n(t,zwe(e))}var Ywe=Xwe;const Kwe=Lt(Ywe);var So=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},Yk=Y8;function Qwe(t,e,r){e=="__proto__"&&Yk?Yk(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var qwe=Qwe,Gwe=qwe,Zwe=H8,Jwe=ca;function eSe(t,e){var r={};return e=Jwe(e),Zwe(t,function(n,i,o){Gwe(r,i,e(n,i,o))}),r}var tSe=eSe;const rSe=Lt(tSe);function nSe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var iSe=nSe,oSe=ST;function sSe(t,e){var r=!0;return oSe(t,function(n,i,o){return r=!!e(n,i,o),r}),r}var aSe=sSe,lSe=iSe,uSe=aSe,cSe=ca,ASe=Un,fSe=Oy;function hSe(t,e,r){var n=ASe(t)?lSe:uSe;return r&&fSe(t,e,r)&&(e=void 0),n(t,cSe(e))}var dSe=hSe;const XF=Lt(dSe);var pSe=["x","y"];function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tw.apply(this,arguments)}function Kk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(r),!0).forEach(function(n){gSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gSe(t,e,r){return e=mSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mSe(t){var e=ySe(t,"string");return Bh(e)=="symbol"?e:e+""}function ySe(t,e){if(Bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vSe(t,e){if(t==null)return{};var r=_Se(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _Se(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bSe(t,e){var r=t.x,n=t.y,i=vSe(t,pSe),o="".concat(r),s=parseInt(o,10),a="".concat(n),l=parseInt(a,10),A="".concat(e.height||i.height),p=parseInt(A,10),g="".concat(e.width||i.width),v=parseInt(g,10);return jA(jA(jA(jA(jA({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:p,width:v,name:e.name,radius:e.radius})}function Qk(t){return K.createElement(iwe,Tw({shapeType:"rectangle",propTransformer:bSe,activeClassName:"recharts-active-bar"},t))}var wSe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var o=typeof n=="number";return o?e(n,i):(o||ll(!1),r)}},SSe=["value","background"],YF;function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function ESe(t,e){if(t==null)return{};var r=TSe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Zg(){return Zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zg.apply(this,arguments)}function qk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(r),!0).forEach(function(n){Bs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QF(n.key),n)}}function PSe(t,e,r){return e&&Gk(t.prototype,e),r&&Gk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CSe(t,e,r){return e=Jg(e),OSe(t,KF()?Reflect.construct(e,r||[],Jg(t).constructor):e.apply(t,r))}function OSe(t,e){if(e&&(wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RSe(t)}function RSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KF=function(){return!!t})()}function Jg(t){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jg(t)}function MSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xw(t,e)}function xw(t,e){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xw(t,e)}function Bs(t,e,r){return e=QF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QF(t){var e=kSe(t,"string");return wc(e)=="symbol"?e:e+""}function kSe(t,e){if(wc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gd=function(t){function e(){var r;xSe(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=CSe(this,e,[].concat(i)),Bs(r,"state",{isAnimationFinished:!1}),Bs(r,"id",hd("recharts-bar-")),Bs(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Bs(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return MSe(e,t),PSe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,A=o.activeBar,p=St(this.props,!1);return n&&n.map(function(g,v){var b=v===l,S=b?A:s,E=Or(Or(Or({},p),g),{},{isActive:b,option:S,index:v,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(Sr,Zg({className:"recharts-bar-rectangle"},wg(i.props,g,v),{key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value)}),K.createElement(Qk,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,A=i.animationDuration,p=i.animationEasing,g=i.animationId,v=this.state.prevData;return K.createElement(vc,{begin:l,duration:A,isActive:a,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var S=b.t,E=o.map(function(C,x){var P=v&&v[x];if(P){var T=$i(P.x,C.x),M=$i(P.y,C.y),R=$i(P.width,C.width),k=$i(P.height,C.height);return Or(Or({},C),{},{x:T(S),y:M(S),width:R(S),height:k(S)})}if(s==="horizontal"){var D=$i(0,C.height),$=D(S);return Or(Or({},C),{},{y:C.y+C.height-$,height:$})}var W=$i(0,C.width),N=W(S);return Or(Or({},C),{},{width:N})});return K.createElement(Sr,null,n.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!ky(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=St(this.props.background,!1);return o.map(function(A,p){A.value;var g=A.background,v=ESe(A,SSe);if(!g)return null;var b=Or(Or(Or(Or(Or({},v),{},{fill:"#eee"},g),l),wg(n.props,A,p)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:p,className:"recharts-bar-background-rectangle"});return K.createElement(Qk,Zg({key:"background-bar-".concat(p),option:n.props.background,isActive:p===a},b))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,A=o.layout,p=o.children,g=_i(p,pd);if(!g)return null;var v=A==="vertical"?s[0].height/2:s[0].width/2,b=function(C,x){var P=Array.isArray(C.value)?C.value[1]:C.value;return{x:C.x,y:C.y,value:P,errorVal:ri(C,x)}},S={clipPath:n?"url(#clipPath-".concat(i,")"):null};return K.createElement(Sr,S,g.map(function(E){return K.cloneElement(E,{key:"error-bar-".concat(i,"-").concat(E.props.dataKey),data:s,xAxis:a,yAxis:l,layout:A,offset:v,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,s=n.className,a=n.xAxis,l=n.yAxis,A=n.left,p=n.top,g=n.width,v=n.height,b=n.isAnimationActive,S=n.background,E=n.id;if(i||!o||!o.length)return null;var C=this.state.isAnimationFinished,x=ct("recharts-bar",s),P=a&&a.allowDataOverflow,T=l&&l.allowDataOverflow,M=P||T,R=_t(E)?this.id:E;return K.createElement(Sr,{className:x},P||T?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(R)},K.createElement("rect",{x:P?A:A-g/2,y:T?p:p-v/2,width:P?g:g*2,height:T?v:v*2}))):null,K.createElement(Sr,{className:"recharts-bar-rectangles",clipPath:M?"url(#clipPath-".concat(R,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(M,R),(!b||C)&&qs.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(te.PureComponent);YF=gd;Bs(gd,"displayName","Bar");Bs(gd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ko.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Bs(gd,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,A=t.stackedData,p=t.dataStartIndex,g=t.displayedData,v=t.offset,b=o_e(n,r);if(!b)return null;var S=e.layout,E=r.type.defaultProps,C=E!==void 0?Or(Or({},E),r.props):r.props,x=C.dataKey,P=C.children,T=C.minPointSize,M=S==="horizontal"?s:o,R=A?M.scale.domain():null,k=h_e({numericAxis:M}),D=_i(P,J8),$=g.map(function(W,N){var H,Q,re,ne,J,ue;A?H=s_e(A[p+N],R):(H=ri(W,x),Array.isArray(H)||(H=[k,H]));var pe=wSe(T,YF.defaultProps.minPointSize)(H[1],N);if(S==="horizontal"){var le,ge=[s.scale(H[0]),s.scale(H[1])],Ee=ge[0],Te=ge[1];Q=KM({axis:o,ticks:a,bandSize:i,offset:b.offset,entry:W,index:N}),re=(le=Te??Ee)!==null&&le!==void 0?le:void 0,ne=b.size;var be=Ee-Te;if(J=Number.isNaN(be)?0:be,ue={x:Q,y:s.y,width:ne,height:s.height},Math.abs(pe)>0&&Math.abs(J)<Math.abs(pe)){var Me=Hi(J||pe)*(Math.abs(pe)-Math.abs(J));re-=Me,J+=Me}}else{var He=[o.scale(H[0]),o.scale(H[1])],it=He[0],Mt=He[1];if(Q=it,re=KM({axis:s,ticks:l,bandSize:i,offset:b.offset,entry:W,index:N}),ne=Mt-it,J=b.size,ue={x:o.x,y:re,width:o.width,height:J},Math.abs(pe)>0&&Math.abs(ne)<Math.abs(pe)){var Et=Hi(ne||pe)*(Math.abs(pe)-Math.abs(ne));ne+=Et}}return Or(Or(Or({},W),{},{x:Q,y:re,width:ne,height:J,value:A?H:H[1],payload:W,background:ue},D&&D[N]&&D[N].props),{},{tooltipPayload:[xF(r,W)],tooltipPosition:{x:Q+ne/2,y:re+J/2}})});return Or({data:$,layout:S},v)});function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function ISe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qF(n.key),n)}}function NSe(t,e,r){return e&&Zk(t.prototype,e),r&&Zk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(r),!0).forEach(function(n){Ly(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ly(t,e,r){return e=qF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qF(t){var e=DSe(t,"string");return Fh(e)=="symbol"?e:e+""}function DSe(t,e){if(Fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BSe=function(e,r,n,i,o){var s=e.width,a=e.height,l=e.layout,A=e.children,p=Object.keys(r),g={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},v=!!Xn(A,gd);return p.reduce(function(b,S){var E=r[S],C=E.orientation,x=E.domain,P=E.padding,T=P===void 0?{}:P,M=E.mirror,R=E.reversed,k="".concat(C).concat(M?"Mirror":""),D,$,W,N,H;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var Q=x[1]-x[0],re=1/0,ne=E.categoricalDomain.sort();if(ne.forEach(function(He,it){it>0&&(re=Math.min((He||0)-(ne[it-1]||0),re))}),Number.isFinite(re)){var J=re/Q,ue=E.layout==="vertical"?n.height:n.width;if(E.padding==="gap"&&(D=J*ue/2),E.padding==="no-gap"){var pe=sl(e.barCategoryGap,J*ue),le=J*ue/2;D=le-pe-(le-pe)/ue*pe}}}i==="xAxis"?$=[n.left+(T.left||0)+(D||0),n.left+n.width-(T.right||0)-(D||0)]:i==="yAxis"?$=l==="horizontal"?[n.top+n.height-(T.bottom||0),n.top+(T.top||0)]:[n.top+(T.top||0)+(D||0),n.top+n.height-(T.bottom||0)-(D||0)]:$=E.range,R&&($=[$[1],$[0]]);var ge=n_e(E,o,v),Ee=ge.scale,Te=ge.realScaleType;Ee.domain(x).range($),i_e(Ee);var be=f_e(Ee,Bi(Bi({},E),{},{realScaleType:Te}));i==="xAxis"?(H=C==="top"&&!M||C==="bottom"&&M,W=n.left,N=g[k]-H*E.height):i==="yAxis"&&(H=C==="left"&&!M||C==="right"&&M,W=g[k]-H*E.width,N=n.top);var Me=Bi(Bi(Bi({},E),be),{},{realScaleType:Te,x:W,y:N,scale:Ee,width:i==="xAxis"?n.width:E.width,height:i==="yAxis"?n.height:E.height});return Me.bandSize=Ug(Me,be),!E.hide&&i==="xAxis"?g[k]+=(H?-1:1)*Me.height:E.hide||(g[k]+=(H?-1:1)*Me.width),Bi(Bi({},b),{},Ly({},S,Me))},{})},GF=function(e,r){var n=e.x,i=e.y,o=r.x,s=r.y;return{x:Math.min(n,o),y:Math.min(i,s),width:Math.abs(o-n),height:Math.abs(s-i)}},FSe=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return GF({x:r,y:n},{x:i,y:o})},ZF=function(){function t(e){ISe(this,t),this.scale=e}return NSe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(r)+a}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Ly(ZF,"EPS",1e-4);var MT=function(e){var r=Object.keys(e).reduce(function(n,i){return Bi(Bi({},n),{},Ly({},i,ZF.create(e[i])))},{});return Bi(Bi({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return rSe(i,function(l,A){return r[A].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return XF(i,function(o,s){return r[s].isInRange(o)})}})};function LSe(t){return(t%180+180)%180}var $Se=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=LSe(i),s=o*Math.PI/180,a=Math.atan(n/r),l=s>a&&s<Math.PI-a?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},USe=ca,jSe=dd,zSe=Py;function VSe(t){return function(e,r,n){var i=Object(e);if(!jSe(e)){var o=USe(r);e=zSe(e),r=function(a){return o(i[a],a,i)}}var s=t(e,r,n);return s>-1?i[o?e[s]:s]:void 0}}var WSe=VSe,HSe=zF;function XSe(t){var e=HSe(t),r=e%1;return e===e?r?e-r:e:0}var YSe=XSe,KSe=$8,QSe=ca,qSe=YSe,GSe=Math.max;function ZSe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:qSe(r);return i<0&&(i=GSe(n+i,0)),KSe(t,QSe(e),i)}var JSe=ZSe,eEe=WSe,tEe=JSe,rEe=eEe(tEe),nEe=rEe;const iEe=Lt(nEe);var oEe=xae(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),kT=te.createContext(void 0),IT=te.createContext(void 0),JF=te.createContext(void 0),eL=te.createContext({}),tL=te.createContext(void 0),rL=te.createContext(0),nL=te.createContext(0),eI=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,s=e.clipPathId,a=e.children,l=e.width,A=e.height,p=oEe(o);return K.createElement(kT.Provider,{value:n},K.createElement(IT.Provider,{value:i},K.createElement(eL.Provider,{value:o},K.createElement(JF.Provider,{value:p},K.createElement(tL.Provider,{value:s},K.createElement(rL.Provider,{value:A},K.createElement(nL.Provider,{value:l},a)))))))},sEe=function(){return te.useContext(tL)},iL=function(e){var r=te.useContext(kT);r==null&&ll(!1);var n=r[e];return n==null&&ll(!1),n},aEe=function(){var e=te.useContext(kT);return Os(e)},lEe=function(){var e=te.useContext(IT),r=iEe(e,function(n){return XF(n.domain,Number.isFinite)});return r||Os(e)},oL=function(e){var r=te.useContext(IT);r==null&&ll(!1);var n=r[e];return n==null&&ll(!1),n},uEe=function(){var e=te.useContext(JF);return e},cEe=function(){return te.useContext(eL)},NT=function(){return te.useContext(nL)},DT=function(){return te.useContext(rL)};function Sc(t){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(t)}function AEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aL(n.key),n)}}function fEe(t,e,r){return e&&tI(t.prototype,e),r&&tI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hEe(t,e,r){return e=em(e),dEe(t,sL()?Reflect.construct(e,r||[],em(t).constructor):e.apply(t,r))}function dEe(t,e){if(e&&(Sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pEe(t)}function pEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sL=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},em(t)}function gEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pw(t,e)}function Pw(t,e){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pw(t,e)}function rI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rI(Object(r),!0).forEach(function(n){BT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BT(t,e,r){return e=aL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aL(t){var e=mEe(t,"string");return Sc(e)=="symbol"?e:e+""}function mEe(t,e){if(Sc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yEe(t,e){return wEe(t)||bEe(t,e)||_Ee(t,e)||vEe()}function vEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ee(t,e){if(t){if(typeof t=="string")return iI(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iI(t,e)}}function iI(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,A=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(p){A=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw i}}return a}}function wEe(t){if(Array.isArray(t))return t}function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cw.apply(this,arguments)}var SEe=function(e,r){var n;return K.isValidElement(e)?n=K.cloneElement(e,r):dt(e)?n=e(r):n=K.createElement("line",Cw({},r,{className:"recharts-reference-line-line"})),n},EEe=function(e,r,n,i,o,s,a,l,A){var p=o.x,g=o.y,v=o.width,b=o.height;if(n){var S=A.y,E=e.y.apply(S,{position:s});if(So(A,"discard")&&!e.y.isInRange(E))return null;var C=[{x:p+v,y:E},{x:p,y:E}];return l==="left"?C.reverse():C}if(r){var x=A.x,P=e.x.apply(x,{position:s});if(So(A,"discard")&&!e.x.isInRange(P))return null;var T=[{x:P,y:g+b},{x:P,y:g}];return a==="top"?T.reverse():T}if(i){var M=A.segment,R=M.map(function(k){return e.apply(k,{position:s})});return So(A,"discard")&&Kwe(R,function(k){return!e.isInRange(k)})?null:R}return null};function TEe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,A=sEe(),p=iL(i),g=oL(o),v=uEe();if(!A||!v)return null;Ac(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=MT({x:p.scale,y:g.scale}),S=Ur(e),E=Ur(r),C=n&&n.length===2,x=EEe(b,S,E,C,v,t.position,p.orientation,g.orientation,t);if(!x)return null;var P=yEe(x,2),T=P[0],M=T.x,R=T.y,k=P[1],D=k.x,$=k.y,W=So(t,"hidden")?"url(#".concat(A,")"):void 0,N=nI(nI({clipPath:W},St(t,!0)),{},{x1:M,y1:R,x2:D,y2:$});return K.createElement(Sr,{className:ct("recharts-reference-line",a)},SEe(s,N),gn.renderCallByParent(t,FSe({x1:M,y1:R,x2:D,y2:$})))}var FT=function(t){function e(){return AEe(this,e),hEe(this,e,arguments)}return gEe(e,t),fEe(e,[{key:"render",value:function(){return K.createElement(TEe,this.props)}}])}(K.Component);BT(FT,"displayName","ReferenceLine");BT(FT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ow(){return Ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ow.apply(this,arguments)}function Ec(t){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ec(t)}function oI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oI(Object(r),!0).forEach(function(n){$y(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uL(n.key),n)}}function PEe(t,e,r){return e&&aI(t.prototype,e),r&&aI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CEe(t,e,r){return e=tm(e),OEe(t,lL()?Reflect.construct(e,r||[],tm(t).constructor):e.apply(t,r))}function OEe(t,e){if(e&&(Ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return REe(t)}function REe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lL=function(){return!!t})()}function tm(t){return tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tm(t)}function MEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rw(t,e)}function Rw(t,e){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rw(t,e)}function $y(t,e,r){return e=uL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uL(t){var e=kEe(t,"string");return Ec(e)=="symbol"?e:e+""}function kEe(t,e){if(Ec(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IEe=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,s=MT({x:i.scale,y:o.scale}),a=s.apply({x:r,y:n},{bandAware:!0});return So(e,"discard")&&!s.isInRange(a)?null:a},Uy=function(t){function e(){return xEe(this,e),CEe(this,e,arguments)}return MEe(e,t),PEe(e,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,s=n.r,a=n.alwaysShow,l=n.clipPathId,A=Ur(i),p=Ur(o);if(Ac(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!A||!p)return null;var g=IEe(this.props);if(!g)return null;var v=g.x,b=g.y,S=this.props,E=S.shape,C=S.className,x=So(this.props,"hidden")?"url(#".concat(l,")"):void 0,P=sI(sI({clipPath:x},St(this.props,!0)),{},{cx:v,cy:b});return K.createElement(Sr,{className:ct("recharts-reference-dot",C)},e.renderDot(E,P),gn.renderCallByParent(this.props,{x:v-s,y:b-s,width:2*s,height:2*s}))}}])}(K.Component);$y(Uy,"displayName","ReferenceDot");$y(Uy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});$y(Uy,"renderDot",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):dt(t)?r=t(e):r=K.createElement(RT,Ow({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mw.apply(this,arguments)}function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function lI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lI(Object(r),!0).forEach(function(n){jy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AL(n.key),n)}}function DEe(t,e,r){return e&&cI(t.prototype,e),r&&cI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function BEe(t,e,r){return e=rm(e),FEe(t,cL()?Reflect.construct(e,r||[],rm(t).constructor):e.apply(t,r))}function FEe(t,e){if(e&&(Tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LEe(t)}function LEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cL=function(){return!!t})()}function rm(t){return rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rm(t)}function $Ee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kw(t,e)}function kw(t,e){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kw(t,e)}function jy(t,e,r){return e=AL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AL(t){var e=UEe(t,"string");return Tc(e)=="symbol"?e:e+""}function UEe(t,e){if(Tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jEe=function(e,r,n,i,o){var s=o.x1,a=o.x2,l=o.y1,A=o.y2,p=o.xAxis,g=o.yAxis;if(!p||!g)return null;var v=MT({x:p.scale,y:g.scale}),b={x:e?v.x.apply(s,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(l,{position:"start"}):v.y.rangeMin},S={x:r?v.x.apply(a,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(A,{position:"end"}):v.y.rangeMax};return So(o,"discard")&&(!v.isInRange(b)||!v.isInRange(S))?null:GF(b,S)},zy=function(t){function e(){return NEe(this,e),BEe(this,e,arguments)}return $Ee(e,t),DEe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,s=n.y1,a=n.y2,l=n.className,A=n.alwaysShow,p=n.clipPathId;Ac(A===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=Ur(i),v=Ur(o),b=Ur(s),S=Ur(a),E=this.props.shape;if(!g&&!v&&!b&&!S&&!E)return null;var C=jEe(g,v,b,S,this.props);if(!C&&!E)return null;var x=So(this.props,"hidden")?"url(#".concat(p,")"):void 0;return K.createElement(Sr,{className:ct("recharts-reference-area",l)},e.renderRect(E,uI(uI({clipPath:x},St(this.props,!0)),C)),gn.renderCallByParent(this.props,C))}}])}(K.Component);jy(zy,"displayName","ReferenceArea");jy(zy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});jy(zy,"renderRect",function(t,e){var r;return K.isValidElement(t)?r=K.cloneElement(t,e):dt(t)?r=t(e):r=K.createElement(OT,Mw({},e,{className:"recharts-reference-area-rect"})),r});function fL(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)if(r===void 0||r(t[i])===!0)n.push(t[i]);else return;return n}function zEe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return $Se(n,r)}function VEe(t,e,r){var n=r==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:n?i:o,end:n?i+s:o+a}:{start:n?i+s:o+a,end:n?i:o}}function nm(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function WEe(t,e){return fL(t,e+1)}function HEe(t,e,r,n,i){for(var o=(n||[]).slice(),s=e.start,a=e.end,l=0,A=1,p=s,g=function(){var S=n==null?void 0:n[l];if(S===void 0)return{v:fL(n,A)};var E=l,C,x=function(){return C===void 0&&(C=r(S,E)),C},P=S.coordinate,T=l===0||nm(t,P,x,p,a);T||(l=0,p=s,A+=1),T&&(p=P+t*(x()/2+i),l+=A)},v;A<=o.length;)if(v=g(),v)return v.v;return[]}function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function AI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(r),!0).forEach(function(n){XEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XEe(t,e,r){return e=YEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YEe(t){var e=KEe(t,"string");return Lh(e)=="symbol"?e:e+""}function KEe(t,e){if(Lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QEe(t,e,r,n,i){for(var o=(n||[]).slice(),s=o.length,a=e.start,l=e.end,A=function(v){var b=o[v],S,E=function(){return S===void 0&&(S=r(b,v)),S};if(v===s-1){var C=t*(b.coordinate+t*E()/2-l);o[v]=b=hn(hn({},b),{},{tickCoord:C>0?b.coordinate-C*t:b.coordinate})}else o[v]=b=hn(hn({},b),{},{tickCoord:b.coordinate});var x=nm(t,b.tickCoord,E,a,l);x&&(l=b.tickCoord-t*(E()/2+i),o[v]=hn(hn({},b),{},{isShow:!0}))},p=s-1;p>=0;p--)A(p);return o}function qEe(t,e,r,n,i,o){var s=(n||[]).slice(),a=s.length,l=e.start,A=e.end;if(o){var p=n[a-1],g=r(p,a-1),v=t*(p.coordinate+t*g/2-A);s[a-1]=p=hn(hn({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate});var b=nm(t,p.tickCoord,function(){return g},l,A);b&&(A=p.tickCoord-t*(g/2+i),s[a-1]=hn(hn({},p),{},{isShow:!0}))}for(var S=o?a-1:a,E=function(P){var T=s[P],M,R=function(){return M===void 0&&(M=r(T,P)),M};if(P===0){var k=t*(T.coordinate-t*R()/2-l);s[P]=T=hn(hn({},T),{},{tickCoord:k<0?T.coordinate-k*t:T.coordinate})}else s[P]=T=hn(hn({},T),{},{tickCoord:T.coordinate});var D=nm(t,T.tickCoord,R,l,A);D&&(l=T.tickCoord+t*(R()/2+i),s[P]=hn(hn({},T),{},{isShow:!0}))},C=0;C<S;C++)E(C);return s}function LT(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,A=t.tickFormatter,p=t.unit,g=t.angle;if(!i||!i.length||!n)return[];if(Le(l)||Ko.isSsr)return WEe(i,typeof l=="number"&&Le(l)?l:0);var v=[],b=a==="top"||a==="bottom"?"width":"height",S=p&&b==="width"?_f(p,{fontSize:e,letterSpacing:r}):{width:0,height:0},E=function(T,M){var R=dt(A)?A(T.value,M):T.value;return b==="width"?zEe(_f(R,{fontSize:e,letterSpacing:r}),S,g):_f(R,{fontSize:e,letterSpacing:r})[b]},C=i.length>=2?Hi(i[1].coordinate-i[0].coordinate):1,x=VEe(o,C,b);return l==="equidistantPreserveStart"?HEe(C,x,E,i,s):(l==="preserveStart"||l==="preserveStartEnd"?v=qEe(C,x,E,i,s,l==="preserveStartEnd"):v=QEe(C,x,E,i,s),v.filter(function(P){return P.isShow}))}var GEe=["viewBox"],ZEe=["viewBox"],JEe=["ticks"];function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function Eu(){return Eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eu.apply(this,arguments)}function fI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(r),!0).forEach(function(n){$T(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v1(t,e){if(t==null)return{};var r=eTe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dL(n.key),n)}}function rTe(t,e,r){return e&&hI(t.prototype,e),r&&hI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nTe(t,e,r){return e=im(e),iTe(t,hL()?Reflect.construct(e,r||[],im(t).constructor):e.apply(t,r))}function iTe(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oTe(t)}function oTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hL=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},im(t)}function sTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Iw(t,e)}function Iw(t,e){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Iw(t,e)}function $T(t,e,r){return e=dL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dL(t){var e=aTe(t,"string");return xc(e)=="symbol"?e:e+""}function aTe(t,e){if(xc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qc=function(t){function e(r){var n;return tTe(this,e),n=nTe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return sTe(e,t),rTe(e,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,s=v1(n,GEe),a=this.props,l=a.viewBox,A=v1(a,ZEe);return!$u(o,l)||!$u(s,A)||!$u(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,A=i.orientation,p=i.tickSize,g=i.mirror,v=i.tickMargin,b,S,E,C,x,P,T=g?-1:1,M=n.tickSize||p,R=Le(n.tickCoord)?n.tickCoord:n.coordinate;switch(A){case"top":b=S=n.coordinate,C=s+ +!g*l,E=C-T*M,P=E-T*v,x=R;break;case"left":E=C=n.coordinate,S=o+ +!g*a,b=S-T*M,x=b-T*v,P=R;break;case"right":E=C=n.coordinate,S=o+ +g*a,b=S+T*M,x=b+T*v,P=R;break;default:b=S=n.coordinate,C=s+ +g*l,E=C+T*M,P=E+T*v,x=R;break}return{line:{x1:b,y1:E,x2:S,y2:C},tick:{x,y:P}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,a=n.height,l=n.orientation,A=n.mirror,p=n.axisLine,g=wn(wn(wn({},St(this.props,!1)),St(p,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var v=+(l==="top"&&!A||l==="bottom"&&A);g=wn(wn({},g),{},{x1:i,y1:o+v*a,x2:i+s,y2:o+v*a})}else{var b=+(l==="left"&&!A||l==="right"&&A);g=wn(wn({},g),{},{x1:i+b*s,y1:o,x2:i+b*s,y2:o+a})}return K.createElement("line",Eu({},g,{className:ct("recharts-cartesian-axis-line",vi(p,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var s=this,a=this.props,l=a.tickLine,A=a.stroke,p=a.tick,g=a.tickFormatter,v=a.unit,b=LT(wn(wn({},this.props),{},{ticks:n}),i,o),S=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),C=St(this.props,!1),x=St(p,!1),P=wn(wn({},C),{},{fill:"none"},St(l,!1)),T=b.map(function(M,R){var k=s.getTickLineCoord(M),D=k.line,$=k.tick,W=wn(wn(wn(wn({textAnchor:S,verticalAnchor:E},C),{},{stroke:"none",fill:A},x),$),{},{index:R,payload:M,visibleTicksCount:b.length,tickFormatter:g});return K.createElement(Sr,Eu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},wg(s.props,M,R)),l&&K.createElement("line",Eu({},P,D,{className:ct("recharts-cartesian-axis-tick-line",vi(l,"className"))})),p&&e.renderTickItem(p,W,"".concat(dt(g)?g(M.value,R):M.value).concat(v||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,A=i.className,p=i.hide;if(p)return null;var g=this.props,v=g.ticks,b=v1(g,JEe),S=v;return dt(l)&&(S=v&&v.length>0?l(this.props):l(b)),s<=0||a<=0||!S||!S.length?null:K.createElement(Sr,{className:ct("recharts-cartesian-axis",A),ref:function(C){n.layerReference=C}},o&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),gn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var s;return K.isValidElement(n)?s=K.cloneElement(n,i):dt(n)?s=n(i):s=K.createElement(Bg,Eu({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(te.Component);$T(qc,"displayName","CartesianAxis");$T(qc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var lTe=["x1","y1","x2","y2","key"],uTe=["offset"];function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function dI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(r),!0).forEach(function(n){cTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cTe(t,e,r){return e=ATe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ATe(t){var e=fTe(t,"string");return ul(e)=="symbol"?e:e+""}function fTe(t,e){if(ul(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Va(){return Va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Va.apply(this,arguments)}function pI(t,e){if(t==null)return{};var r=hTe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var dTe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return K.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function pL(t,e){var r;if(K.isValidElement(t))r=K.cloneElement(t,e);else if(dt(t))r=t(e);else{var n=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=pI(e,lTe),A=St(l,!1);A.offset;var p=pI(A,uTe);r=K.createElement("line",Va({},p,{x1:n,y1:i,x2:o,y2:s,fill:"none",key:a}))}return r}function pTe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var A=mn(mn({},t),{},{x1:e,y1:a,x2:e+r,y2:a,key:"line-".concat(l),index:l});return pL(i,A)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function gTe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var A=mn(mn({},t),{},{x1:a,y1:e,x2:a,y2:e+r,key:"line-".concat(l),index:l});return pL(i,A)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function mTe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,A=l===void 0?!0:l;if(!A||!e||!e.length)return null;var p=a.map(function(v){return Math.round(v+i-i)}).sort(function(v,b){return v-b});i!==p[0]&&p.unshift(0);var g=p.map(function(v,b){var S=!p[b+1],E=S?i+s-v:p[b+1]-v;if(E<=0)return null;var C=b%e.length;return K.createElement("rect",{key:"react-".concat(b),y:v,x:n,height:E,width:o,stroke:"none",fill:e[C],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function yTe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,A=t.verticalPoints;if(!r||!n||!n.length)return null;var p=A.map(function(v){return Math.round(v+o-o)}).sort(function(v,b){return v-b});o!==p[0]&&p.unshift(0);var g=p.map(function(v,b){var S=!p[b+1],E=S?o+a-v:p[b+1]-v;if(E<=0)return null;var C=b%n.length;return K.createElement("rect",{key:"react-".concat(b),x:v,y:s,width:E,height:l,stroke:"none",fill:n[C],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var vTe=function(e,r){var n=e.xAxis,i=e.width,o=e.height,s=e.offset;return EF(LT(mn(mn(mn({},qc.defaultProps),n),{},{ticks:Xo(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,r)},_Te=function(e,r){var n=e.yAxis,i=e.width,o=e.height,s=e.offset;return EF(LT(mn(mn(mn({},qc.defaultProps),n),{},{ticks:Xo(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,r)},Ql={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Gc(t){var e,r,n,i,o,s,a=NT(),l=DT(),A=cEe(),p=mn(mn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ql.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Ql.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Ql.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ql.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ql.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Ql.verticalFill,x:Le(t.x)?t.x:A.left,y:Le(t.y)?t.y:A.top,width:Le(t.width)?t.width:A.width,height:Le(t.height)?t.height:A.height}),g=p.x,v=p.y,b=p.width,S=p.height,E=p.syncWithTicks,C=p.horizontalValues,x=p.verticalValues,P=aEe(),T=lEe();if(!Le(b)||b<=0||!Le(S)||S<=0||!Le(g)||g!==+g||!Le(v)||v!==+v)return null;var M=p.verticalCoordinatesGenerator||vTe,R=p.horizontalCoordinatesGenerator||_Te,k=p.horizontalPoints,D=p.verticalPoints;if((!k||!k.length)&&dt(R)){var $=C&&C.length,W=R({yAxis:T?mn(mn({},T),{},{ticks:$?C:T.ticks}):void 0,width:a,height:l,offset:A},$?!0:E);Ac(Array.isArray(W),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ul(W),"]")),Array.isArray(W)&&(k=W)}if((!D||!D.length)&&dt(M)){var N=x&&x.length,H=M({xAxis:P?mn(mn({},P),{},{ticks:N?x:P.ticks}):void 0,width:a,height:l,offset:A},N?!0:E);Ac(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ul(H),"]")),Array.isArray(H)&&(D=H)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(dTe,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),K.createElement(pTe,Va({},p,{offset:A,horizontalPoints:k,xAxis:P,yAxis:T})),K.createElement(gTe,Va({},p,{offset:A,verticalPoints:D,xAxis:P,yAxis:T})),K.createElement(mTe,Va({},p,{horizontalPoints:k})),K.createElement(yTe,Va({},p,{verticalPoints:D})))}Gc.displayName="CartesianGrid";var bTe=["type","layout","connectNulls","ref"],wTe=["key"];function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function gI(t,e){if(t==null)return{};var r=STe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function STe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Sf(){return Sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sf.apply(this,arguments)}function mI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mI(Object(r),!0).forEach(function(n){Fi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ql(t){return PTe(t)||xTe(t)||TTe(t)||ETe()}function ETe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TTe(t,e){if(t){if(typeof t=="string")return Nw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nw(t,e)}}function xTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PTe(t){if(Array.isArray(t))return Nw(t)}function Nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mL(n.key),n)}}function OTe(t,e,r){return e&&yI(t.prototype,e),r&&yI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function RTe(t,e,r){return e=om(e),MTe(t,gL()?Reflect.construct(e,r||[],om(t).constructor):e.apply(t,r))}function MTe(t,e){if(e&&(Pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kTe(t)}function kTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gL=function(){return!!t})()}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},om(t)}function ITe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dw(t,e)}function Dw(t,e){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dw(t,e)}function Fi(t,e,r){return e=mL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mL(t){var e=NTe(t,"string");return Pc(e)=="symbol"?e:e+""}function NTe(t,e){if(Pc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Co=function(t){function e(){var r;CTe(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=RTe(this,e,[].concat(i)),Fi(r,"state",{isAnimationFinished:!0,totalLength:0}),Fi(r,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),Fi(r,"getStrokeDasharray",function(s,a,l){var A=l.reduce(function(x,P){return x+P});if(!A)return r.generateSimpleStrokeDasharray(a,s);for(var p=Math.floor(s/A),g=s%A,v=a-s,b=[],S=0,E=0;S<l.length;E+=l[S],++S)if(E+l[S]>g){b=[].concat(ql(l.slice(0,S)),[g-E]);break}var C=b.length%2===0?[0,v]:[v];return[].concat(ql(e.repeat(l,p)),ql(b),C).map(function(x){return"".concat(x,"px")}).join(", ")}),Fi(r,"id",hd("recharts-line-")),Fi(r,"pathRef",function(s){r.mainCurve=s}),Fi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Fi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return ITe(e,t),OTe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,A=o.layout,p=o.children,g=_i(p,pd);if(!g)return null;var v=function(E,C){return{x:E.x,y:E.y,value:E.value,errorVal:ri(E.payload,C)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return K.createElement(Sr,b,g.map(function(S){return K.cloneElement(S,{key:"bar-".concat(S.props.dataKey),data:s,xAxis:a,yAxis:l,layout:A,dataPointFormatter:v})}))}},{key:"renderDots",value:function(n,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,A=a.points,p=a.dataKey,g=St(this.props,!1),v=St(l,!0),b=A.map(function(E,C){var x=Vn(Vn(Vn({key:"dot-".concat(C),r:3},g),v),{},{value:E.value,dataKey:p,cx:E.x,cy:E.y,index:C,payload:E.payload});return e.renderDotItem(l,x)}),S={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return K.createElement(Sr,Sf({className:"recharts-line-dots",key:"dots"},S),b)}},{key:"renderCurveStatically",value:function(n,i,o,s){var a=this.props,l=a.type,A=a.layout,p=a.connectNulls;a.ref;var g=gI(a,bTe),v=Vn(Vn(Vn({},St(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:n},s),{},{type:l,layout:A,connectNulls:p});return K.createElement(uw,Sf({},v,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,A=s.isAnimationActive,p=s.animationBegin,g=s.animationDuration,v=s.animationEasing,b=s.animationId,S=s.animateNewValues,E=s.width,C=s.height,x=this.state,P=x.prevPoints,T=x.totalLength;return K.createElement(vc,{begin:p,duration:g,isActive:A,easing:v,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(M){var R=M.t;if(P){var k=P.length/a.length,D=a.map(function(Q,re){var ne=Math.floor(re*k);if(P[ne]){var J=P[ne],ue=$i(J.x,Q.x),pe=$i(J.y,Q.y);return Vn(Vn({},Q),{},{x:ue(R),y:pe(R)})}if(S){var le=$i(E*2,Q.x),ge=$i(C/2,Q.y);return Vn(Vn({},Q),{},{x:le(R),y:ge(R)})}return Vn(Vn({},Q),{},{x:Q.x,y:Q.y})});return o.renderCurveStatically(D,n,i)}var $=$i(0,T),W=$(R),N;if(l){var H="".concat(l).split(/[,\s]+/gim).map(function(Q){return parseFloat(Q)});N=o.getStrokeDasharray(W,T,H)}else N=o.generateSimpleStrokeDasharray(T,W);return o.renderCurveStatically(a,n,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(n,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,A=l.prevPoints,p=l.totalLength;return a&&s&&s.length&&(!A&&p>0||!ky(A,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,A=i.xAxis,p=i.yAxis,g=i.top,v=i.left,b=i.width,S=i.height,E=i.isAnimationActive,C=i.id;if(o||!a||!a.length)return null;var x=this.state.isAnimationFinished,P=a.length===1,T=ct("recharts-line",l),M=A&&A.allowDataOverflow,R=p&&p.allowDataOverflow,k=M||R,D=_t(C)?this.id:C,$=(n=St(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},W=$.r,N=W===void 0?3:W,H=$.strokeWidth,Q=H===void 0?2:H,re=kle(s)?s:{},ne=re.clipDot,J=ne===void 0?!0:ne,ue=N*2+Q;return K.createElement(Sr,{className:T},M||R?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(D)},K.createElement("rect",{x:M?v:v-b/2,y:R?g:g-S/2,width:M?b:b*2,height:R?S:S*2})),!J&&K.createElement("clipPath",{id:"clipPath-dots-".concat(D)},K.createElement("rect",{x:v-ue/2,y:g-ue/2,width:b+ue,height:S+ue}))):null,!P&&this.renderCurve(k,D),this.renderErrorBar(k,D),(P||s)&&this.renderDots(k,J,D),(!E||x)&&qs.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var o=n.length%2!==0?[].concat(ql(n),[0]):n,s=[],a=0;a<i;++a)s=[].concat(ql(s),ql(o));return s}},{key:"renderDotItem",value:function(n,i){var o;if(K.isValidElement(n))o=K.cloneElement(n,i);else if(dt(n))o=n(i);else{var s=i.key,a=gI(i,wTe),l=ct("recharts-line-dot",typeof n!="boolean"?n.className:"");o=K.createElement(RT,Sf({key:s},a,{className:l}))}return o}}])}(te.PureComponent);Fi(Co,"displayName","Line");Fi(Co,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ko.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Fi(Co,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,A=t.offset,p=e.layout,g=l.map(function(v,b){var S=ri(v,s);return p==="horizontal"?{x:YM({axis:r,ticks:i,bandSize:a,entry:v,index:b}),y:_t(S)?null:n.scale(S),value:S,payload:v}:{x:_t(S)?null:r.scale(S),y:YM({axis:n,ticks:o,bandSize:a,entry:v,index:b}),value:S,payload:v}});return Vn({points:g,layout:p},A)});function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function DTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_L(n.key),n)}}function BTe(t,e,r){return e&&vI(t.prototype,e),r&&vI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function FTe(t,e,r){return e=sm(e),LTe(t,yL()?Reflect.construct(e,r||[],sm(t).constructor):e.apply(t,r))}function LTe(t,e){if(e&&(Cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Te(t)}function $Te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yL=function(){return!!t})()}function sm(t){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sm(t)}function UTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bw(t,e)}function Bw(t,e){return Bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bw(t,e)}function vL(t,e,r){return e=_L(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _L(t){var e=jTe(t,"string");return Cc(e)=="symbol"?e:e+""}function jTe(t,e){if(Cc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fw.apply(this,arguments)}function zTe(t){var e=t.xAxisId,r=NT(),n=DT(),i=iL(e);return i==null?null:K.createElement(qc,Fw({},i,{className:ct("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Xo(s,!0)}}))}var fa=function(t){function e(){return DTe(this,e),FTe(this,e,arguments)}return UTe(e,t),BTe(e,[{key:"render",value:function(){return K.createElement(zTe,this.props)}}])}(K.Component);vL(fa,"displayName","XAxis");vL(fa,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function VTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _I(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SL(n.key),n)}}function WTe(t,e,r){return e&&_I(t.prototype,e),r&&_I(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function HTe(t,e,r){return e=am(e),XTe(t,bL()?Reflect.construct(e,r||[],am(t).constructor):e.apply(t,r))}function XTe(t,e){if(e&&(Oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YTe(t)}function YTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bL=function(){return!!t})()}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},am(t)}function KTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lw(t,e)}function Lw(t,e){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Lw(t,e)}function wL(t,e,r){return e=SL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SL(t){var e=QTe(t,"string");return Oc(e)=="symbol"?e:e+""}function QTe(t,e){if(Oc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$w.apply(this,arguments)}var qTe=function(e){var r=e.yAxisId,n=NT(),i=DT(),o=oL(r);return o==null?null:K.createElement(qc,$w({},o,{className:ct("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(a){return Xo(a,!0)}}))},ha=function(t){function e(){return VTe(this,e),HTe(this,e,arguments)}return KTe(e,t),WTe(e,[{key:"render",value:function(){return K.createElement(qTe,this.props)}}])}(K.Component);wL(ha,"displayName","YAxis");wL(ha,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function bI(t){return exe(t)||JTe(t)||ZTe(t)||GTe()}function GTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZTe(t,e){if(t){if(typeof t=="string")return Uw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uw(t,e)}}function JTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function exe(t){if(Array.isArray(t))return Uw(t)}function Uw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var jw=function(e,r,n,i,o){var s=_i(e,FT),a=_i(e,Uy),l=[].concat(bI(s),bI(a)),A=_i(e,zy),p="".concat(i,"Id"),g=i[0],v=r;if(l.length&&(v=l.reduce(function(E,C){if(C.props[p]===n&&So(C.props,"extendDomain")&&Le(C.props[g])){var x=C.props[g];return[Math.min(E[0],x),Math.max(E[1],x)]}return E},v)),A.length){var b="".concat(g,"1"),S="".concat(g,"2");v=A.reduce(function(E,C){if(C.props[p]===n&&So(C.props,"extendDomain")&&Le(C.props[b])&&Le(C.props[S])){var x=C.props[b],P=C.props[S];return[Math.min(E[0],x,P),Math.max(E[1],x,P)]}return E},v)}return o&&o.length&&(v=o.reduce(function(E,C){return Le(C)?[Math.min(E[0],C),Math.max(E[1],C)]:E},v)),v},EL={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,A,p){this.fn=l,this.context=A,this.once=p||!1}function o(l,A,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var b=new i(p,g||l,v),S=r?r+A:A;return l._events[S]?l._events[S].fn?l._events[S]=[l._events[S],b]:l._events[S].push(b):(l._events[S]=b,l._eventsCount++),l}function s(l,A){--l._eventsCount===0?l._events=new n:delete l._events[A]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var A=[],p,g;if(this._eventsCount===0)return A;for(g in p=this._events)e.call(p,g)&&A.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(p)):A},a.prototype.listeners=function(A){var p=r?r+A:A,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,b=g.length,S=new Array(b);v<b;v++)S[v]=g[v].fn;return S},a.prototype.listenerCount=function(A){var p=r?r+A:A,g=this._events[p];return g?g.fn?1:g.length:0},a.prototype.emit=function(A,p,g,v,b,S){var E=r?r+A:A;if(!this._events[E])return!1;var C=this._events[E],x=arguments.length,P,T;if(C.fn){switch(C.once&&this.removeListener(A,C.fn,void 0,!0),x){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,p),!0;case 3:return C.fn.call(C.context,p,g),!0;case 4:return C.fn.call(C.context,p,g,v),!0;case 5:return C.fn.call(C.context,p,g,v,b),!0;case 6:return C.fn.call(C.context,p,g,v,b,S),!0}for(T=1,P=new Array(x-1);T<x;T++)P[T-1]=arguments[T];C.fn.apply(C.context,P)}else{var M=C.length,R;for(T=0;T<M;T++)switch(C[T].once&&this.removeListener(A,C[T].fn,void 0,!0),x){case 1:C[T].fn.call(C[T].context);break;case 2:C[T].fn.call(C[T].context,p);break;case 3:C[T].fn.call(C[T].context,p,g);break;case 4:C[T].fn.call(C[T].context,p,g,v);break;default:if(!P)for(R=1,P=new Array(x-1);R<x;R++)P[R-1]=arguments[R];C[T].fn.apply(C[T].context,P)}}return!0},a.prototype.on=function(A,p,g){return o(this,A,p,g,!1)},a.prototype.once=function(A,p,g){return o(this,A,p,g,!0)},a.prototype.removeListener=function(A,p,g,v){var b=r?r+A:A;if(!this._events[b])return this;if(!p)return s(this,b),this;var S=this._events[b];if(S.fn)S.fn===p&&(!v||S.once)&&(!g||S.context===g)&&s(this,b);else{for(var E=0,C=[],x=S.length;E<x;E++)(S[E].fn!==p||v&&!S[E].once||g&&S[E].context!==g)&&C.push(S[E]);C.length?this._events[b]=C.length===1?C[0]:C:s(this,b)}return this},a.prototype.removeAllListeners=function(A){var p;return A?(p=r?r+A:A,this._events[p]&&s(this,p)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(EL);var txe=EL.exports;const rxe=Lt(txe);var _1=new rxe,b1="recharts.syncMouseEvents";function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function nxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TL(n.key),n)}}function ixe(t,e,r){return e&&wI(t.prototype,e),r&&wI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function w1(t,e,r){return e=TL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TL(t){var e=oxe(t,"string");return $h(e)=="symbol"?e:e+""}function oxe(t,e){if($h(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($h(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sxe=function(){function t(){nxe(this,t),w1(this,"activeIndex",0),w1(this,"coordinateList",[]),w1(this,"layout","horizontal")}return ixe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,s=r.container,a=s===void 0?null:s,l=r.layout,A=l===void 0?null:l,p=r.offset,g=p===void 0?null:p,v=r.mouseHandlerCallback,b=v===void 0?null:v;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=a??this.container,this.layout=A??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,A=((r=window)===null||r===void 0?void 0:r.scrollX)||0,p=((n=window)===null||n===void 0?void 0:n.scrollY)||0,g=o+l+A,v=s+this.offset.top+a/2+p;this.mouseHandlerCallback({pageX:g,pageY:v})}}}])}();function axe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Le(n)&&Le(i))return!0}return!1}function lxe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function xL(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,s=en(e,r,n,i),a=en(e,r,n,o);return{points:[s,a],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function uxe(t,e,r){var n,i,o,s;if(t==="horizontal")n=e.x,o=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,A=e.innerRadius,p=e.outerRadius,g=e.angle,v=en(a,l,A,g),b=en(a,l,p,g);n=v.x,i=v.y,o=b.x,s=b.y}else return xL(e);return[{x:n,y:i},{x:o,y:s}]}function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function SI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(r),!0).forEach(function(n){cxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cxe(t,e,r){return e=Axe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Axe(t){var e=fxe(t,"string");return Uh(e)=="symbol"?e:e+""}function fxe(t,e){if(Uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hxe(t){var e,r,n=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,A=t.activeTooltipIndex,p=t.tooltipAxisBandSize,g=t.layout,v=t.chartName,b=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!o||!s||v!=="ScatterChart"&&i!=="axis")return null;var S,E=uw;if(v==="ScatterChart")S=s,E=y2e;else if(v==="BarChart")S=lxe(g,s,l,p),E=OT;else if(g==="radial"){var C=xL(s),x=C.cx,P=C.cy,T=C.radius,M=C.startAngle,R=C.endAngle;S={cx:x,cy:P,startAngle:M,endAngle:R,innerRadius:T,outerRadius:T},E=OF}else S={points:uxe(g,s,l)},E=uw;var k=j0(j0(j0(j0({stroke:"#ccc",pointerEvents:"none"},l),S),St(b,!1)),{},{payload:a,payloadIndex:A,className:ct("recharts-tooltip-cursor",b.className)});return te.isValidElement(b)?te.cloneElement(b,k):te.createElement(E,k)}var dxe=["item"],pxe=["children","className","width","height","style","compact","title","desc"];function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function Tu(){return Tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tu.apply(this,arguments)}function EI(t,e){return yxe(t)||mxe(t,e)||CL(t,e)||gxe()}function gxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mxe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,A=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(p){A=!0,i=p}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(A)throw i}}return a}}function yxe(t){if(Array.isArray(t))return t}function TI(t,e){if(t==null)return{};var r=vxe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _xe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OL(n.key),n)}}function bxe(t,e,r){return e&&xI(t.prototype,e),r&&xI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wxe(t,e,r){return e=lm(e),Sxe(t,PL()?Reflect.construct(e,r||[],lm(t).constructor):e.apply(t,r))}function Sxe(t,e){if(e&&(Rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Exe(t)}function Exe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PL=function(){return!!t})()}function lm(t){return lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lm(t)}function Txe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zw(t,e)}function zw(t,e){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zw(t,e)}function Mc(t){return Cxe(t)||Pxe(t)||CL(t)||xxe()}function xxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CL(t,e){if(t){if(typeof t=="string")return Vw(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vw(t,e)}}function Pxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cxe(t){if(Array.isArray(t))return Vw(t)}function Vw(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(r),!0).forEach(function(n){Qe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qe(t,e,r){return e=OL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OL(t){var e=Oxe(t,"string");return Rc(e)=="symbol"?e:e+""}function Oxe(t,e){if(Rc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rxe={xAxis:["bottom","top"],yAxis:["left","right"]},Mxe={width:"100%",height:"100%"},RL={x:0,y:0};function z0(t){return t}var kxe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Ixe=function(e,r,n,i){var o=r.find(function(p){return p&&p.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return _e(_e(_e({},i),en(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,A=i.angle;return _e(_e(_e({},i),en(i.cx,i.cy,l,A)),{},{angle:A,radius:l})}return RL},Vy=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,s=(n??[]).reduce(function(a,l){var A=l.props.data;return A&&A.length?[].concat(Mc(a),Mc(A)):a},[]);return s.length>0?s:e&&e.length&&Le(i)&&Le(o)?e.slice(i,o+1):[]};function ML(t){return t==="number"?[0,"auto"]:void 0}var Ww=function(e,r,n,i){var o=e.graphicalItems,s=e.tooltipAxis,a=Vy(r,e);return n<0||!o||!o.length||n>=a.length?null:o.reduce(function(l,A){var p,g=(p=A.props.data)!==null&&p!==void 0?p:r;g&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(g=g.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(s.dataKey&&!s.allowDuplicatedCategory){var b=g===void 0?a:g;v=_g(b,s.dataKey,i)}else v=g&&g[n]||a[n];return v?[].concat(Mc(l),[xF(A,v)]):l},[])},CI=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},s=kxe(o,n),a=e.orderedTooltipTicks,l=e.tooltipAxis,A=e.tooltipTicks,p=Gve(s,a,A,l);if(p>=0&&A){var g=A[p]&&A[p].value,v=Ww(e,r,p,g),b=Ixe(n,a,p,o);return{activeTooltipIndex:p,activeLabel:g,activePayload:v,activeCoordinate:b}}return null},Nxe=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,s=r.axisIdKey,a=r.stackGroups,l=r.dataStartIndex,A=r.dataEndIndex,p=e.layout,g=e.children,v=e.stackOffset,b=SF(p,o);return n.reduce(function(S,E){var C,x=E.type.defaultProps!==void 0?_e(_e({},E.type.defaultProps),E.props):E.props,P=x.type,T=x.dataKey,M=x.allowDataOverflow,R=x.allowDuplicatedCategory,k=x.scale,D=x.ticks,$=x.includeHidden,W=x[s];if(S[W])return S;var N=Vy(e.data,{graphicalItems:i.filter(function(be){var Me,He=s in be.props?be.props[s]:(Me=be.type.defaultProps)===null||Me===void 0?void 0:Me[s];return He===W}),dataStartIndex:l,dataEndIndex:A}),H=N.length,Q,re,ne;axe(x.domain,M,P)&&(Q=iw(x.domain,null,M),b&&(P==="number"||k!=="auto")&&(ne=bf(N,T,"category")));var J=ML(P);if(!Q||Q.length===0){var ue,pe=(ue=x.domain)!==null&&ue!==void 0?ue:J;if(T){if(Q=bf(N,T,P),P==="category"&&b){var le=Sle(Q);R&&le?(re=Q,Q=Qg(0,H)):R||(Q=GM(pe,Q,E).reduce(function(be,Me){return be.indexOf(Me)>=0?be:[].concat(Mc(be),[Me])},[]))}else if(P==="category")R?Q=Q.filter(function(be){return be!==""&&!_t(be)}):Q=GM(pe,Q,E).reduce(function(be,Me){return be.indexOf(Me)>=0||Me===""||_t(Me)?be:[].concat(Mc(be),[Me])},[]);else if(P==="number"){var ge=r_e(N,i.filter(function(be){var Me,He,it=s in be.props?be.props[s]:(Me=be.type.defaultProps)===null||Me===void 0?void 0:Me[s],Mt="hide"in be.props?be.props.hide:(He=be.type.defaultProps)===null||He===void 0?void 0:He.hide;return it===W&&($||!Mt)}),T,o,p);ge&&(Q=ge)}b&&(P==="number"||k!=="auto")&&(ne=bf(N,T,"category"))}else b?Q=Qg(0,H):a&&a[W]&&a[W].hasStack&&P==="number"?Q=v==="expand"?[0,1]:TF(a[W].stackGroups,l,A):Q=wF(N,i.filter(function(be){var Me=s in be.props?be.props[s]:be.type.defaultProps[s],He="hide"in be.props?be.props.hide:be.type.defaultProps.hide;return Me===W&&($||!He)}),P,p,!0);if(P==="number")Q=jw(g,Q,W,o,D),pe&&(Q=iw(pe,Q,M));else if(P==="category"&&pe){var Ee=pe,Te=Q.every(function(be){return Ee.indexOf(be)>=0});Te&&(Q=Ee)}}return _e(_e({},S),{},Qe({},W,_e(_e({},x),{},{axisType:o,domain:Q,categoricalDomain:ne,duplicateDomain:re,originalDomain:(C=x.domain)!==null&&C!==void 0?C:J,isCategorical:b,layout:p})))},{})},Dxe=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,s=r.axisIdKey,a=r.stackGroups,l=r.dataStartIndex,A=r.dataEndIndex,p=e.layout,g=e.children,v=Vy(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:A}),b=v.length,S=SF(p,o),E=-1;return n.reduce(function(C,x){var P=x.type.defaultProps!==void 0?_e(_e({},x.type.defaultProps),x.props):x.props,T=P[s],M=ML("number");if(!C[T]){E++;var R;return S?R=Qg(0,b):a&&a[T]&&a[T].hasStack?(R=TF(a[T].stackGroups,l,A),R=jw(g,R,T,o)):(R=iw(M,wF(v,n.filter(function(k){var D,$,W=s in k.props?k.props[s]:(D=k.type.defaultProps)===null||D===void 0?void 0:D[s],N="hide"in k.props?k.props.hide:($=k.type.defaultProps)===null||$===void 0?void 0:$.hide;return W===T&&!N}),"number",p),i.defaultProps.allowDataOverflow),R=jw(g,R,T,o)),_e(_e({},C),{},Qe({},T,_e(_e({axisType:o},i.defaultProps),{},{hide:!0,orientation:vi(Rxe,"".concat(o,".").concat(E%2),null),domain:R,originalDomain:M,isCategorical:S,layout:p})))}return C},{})},Bxe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,s=r.graphicalItems,a=r.stackGroups,l=r.dataStartIndex,A=r.dataEndIndex,p=e.children,g="".concat(i,"Id"),v=_i(p,o),b={};return v&&v.length?b=Nxe(e,{axes:v,graphicalItems:s,axisType:i,axisIdKey:g,stackGroups:a,dataStartIndex:l,dataEndIndex:A}):s&&s.length&&(b=Dxe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:g,stackGroups:a,dataStartIndex:l,dataEndIndex:A})),b},Fxe=function(e){var r=Os(e),n=Xo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ET(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ug(r,n)}},OI=function(e){var r=e.children,n=e.defaultShowTooltip,i=Xn(r,bc),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Lxe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Qs(r&&r.type);return n&&n.indexOf("Bar")>=0})},RI=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$xe=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,A=n.width,p=n.height,g=n.children,v=n.margin||{},b=Xn(g,bc),S=Xn(g,Qi),E=Object.keys(l).reduce(function(R,k){var D=l[k],$=D.orientation;return!D.mirror&&!D.hide?_e(_e({},R),{},Qe({},$,R[$]+D.width)):R},{left:v.left||0,right:v.right||0}),C=Object.keys(s).reduce(function(R,k){var D=s[k],$=D.orientation;return!D.mirror&&!D.hide?_e(_e({},R),{},Qe({},$,vi(R,"".concat($))+D.height)):R},{top:v.top||0,bottom:v.bottom||0}),x=_e(_e({},C),E),P=x.bottom;b&&(x.bottom+=b.props.height||bc.defaultProps.height),S&&r&&(x=e_e(x,i,n,r));var T=A-x.left-x.right,M=p-x.top-x.bottom;return _e(_e({brushBottom:P},x),{},{width:Math.max(T,0),height:Math.max(M,0)})},Uxe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},jxe=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,A=e.legendContent,p=e.formatAxisMap,g=e.defaultProps,v=function(x,P){var T=P.graphicalItems,M=P.stackGroups,R=P.offset,k=P.updateId,D=P.dataStartIndex,$=P.dataEndIndex,W=x.barSize,N=x.layout,H=x.barGap,Q=x.barCategoryGap,re=x.maxBarSize,ne=RI(N),J=ne.numericAxisName,ue=ne.cateAxisName,pe=Lxe(T),le=[];return T.forEach(function(ge,Ee){var Te=Vy(x.data,{graphicalItems:[ge],dataStartIndex:D,dataEndIndex:$}),be=ge.type.defaultProps!==void 0?_e(_e({},ge.type.defaultProps),ge.props):ge.props,Me=be.dataKey,He=be.maxBarSize,it=be["".concat(J,"Id")],Mt=be["".concat(ue,"Id")],Et={},zt=l.reduce(function(Bt,jn){var As=P["".concat(jn.axisType,"Map")],Ri=be["".concat(jn.axisType,"Id")];As&&As[Ri]||jn.axisType==="zAxis"||ll(!1);var fs=As[Ri];return _e(_e({},Bt),{},Qe(Qe({},jn.axisType,fs),"".concat(jn.axisType,"Ticks"),Xo(fs)))},Et),Oe=zt[ue],We=zt["".concat(ue,"Ticks")],Ke=M&&M[it]&&M[it].hasStack&&d_e(ge,M[it].stackGroups),Se=Qs(ge.type).indexOf("Bar")>=0,pt=Ug(Oe,We),Ge=[],Yt=pe&&Zve({barSize:W,stackGroups:M,totalSize:Uxe(zt,ue)});if(Se){var Ct,Dt,Yr=_t(He)?re:He,Ci=(Ct=(Dt=Ug(Oe,We,!0))!==null&&Dt!==void 0?Dt:Yr)!==null&&Ct!==void 0?Ct:0;Ge=Jve({barGap:H,barCategoryGap:Q,bandSize:Ci!==pt?Ci:pt,sizeList:Yt[Mt],maxBarSize:Yr}),Ci!==pt&&(Ge=Ge.map(function(Bt){return _e(_e({},Bt),{},{position:_e(_e({},Bt.position),{},{offset:Bt.position.offset-Ci/2})})}))}var Oi=ge&&ge.type&&ge.type.getComposedData;Oi&&le.push({props:_e(_e({},Oi(_e(_e({},zt),{},{displayedData:Te,props:x,dataKey:Me,item:ge,bandSize:pt,barPosition:Ge,offset:R,stackedData:Ke,layout:N,dataStartIndex:D,dataEndIndex:$}))),{},Qe(Qe(Qe({key:ge.key||"item-".concat(Ee)},J,zt[J]),ue,zt[ue]),"animationId",k)),childIndex:Dle(ge,x.children),item:ge})}),le},b=function(x,P){var T=x.props,M=x.dataStartIndex,R=x.dataEndIndex,k=x.updateId;if(!TR({props:T}))return null;var D=T.children,$=T.layout,W=T.stackOffset,N=T.data,H=T.reverseStackOrder,Q=RI($),re=Q.numericAxisName,ne=Q.cateAxisName,J=_i(D,n),ue=A_e(N,J,"".concat(re,"Id"),"".concat(ne,"Id"),W,H),pe=l.reduce(function(be,Me){var He="".concat(Me.axisType,"Map");return _e(_e({},be),{},Qe({},He,Bxe(T,_e(_e({},Me),{},{graphicalItems:J,stackGroups:Me.axisType===re&&ue,dataStartIndex:M,dataEndIndex:R}))))},{}),le=$xe(_e(_e({},pe),{},{props:T,graphicalItems:J}),P==null?void 0:P.legendBBox);Object.keys(pe).forEach(function(be){pe[be]=p(T,pe[be],le,be.replace("Map",""),r)});var ge=pe["".concat(ne,"Map")],Ee=Fxe(ge),Te=v(T,_e(_e({},pe),{},{dataStartIndex:M,dataEndIndex:R,updateId:k,graphicalItems:J,stackGroups:ue,offset:le}));return _e(_e({formattedGraphicalItems:Te,graphicalItems:J,offset:le,stackGroups:ue},Ee),pe)},S=function(C){function x(P){var T,M,R;return _xe(this,x),R=wxe(this,x,[P]),Qe(R,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Qe(R,"accessibilityManager",new sxe),Qe(R,"handleLegendBBoxUpdate",function(k){if(k){var D=R.state,$=D.dataStartIndex,W=D.dataEndIndex,N=D.updateId;R.setState(_e({legendBBox:k},b({props:R.props,dataStartIndex:$,dataEndIndex:W,updateId:N},_e(_e({},R.state),{},{legendBBox:k}))))}}),Qe(R,"handleReceiveSyncEvent",function(k,D,$){if(R.props.syncId===k){if($===R.eventEmitterSymbol&&typeof R.props.syncMethod!="function")return;R.applySyncEvent(D)}}),Qe(R,"handleBrushChange",function(k){var D=k.startIndex,$=k.endIndex;if(D!==R.state.dataStartIndex||$!==R.state.dataEndIndex){var W=R.state.updateId;R.setState(function(){return _e({dataStartIndex:D,dataEndIndex:$},b({props:R.props,dataStartIndex:D,dataEndIndex:$,updateId:W},R.state))}),R.triggerSyncEvent({dataStartIndex:D,dataEndIndex:$})}}),Qe(R,"handleMouseEnter",function(k){var D=R.getMouseInfo(k);if(D){var $=_e(_e({},D),{},{isTooltipActive:!0});R.setState($),R.triggerSyncEvent($);var W=R.props.onMouseEnter;dt(W)&&W($,k)}}),Qe(R,"triggeredAfterMouseMove",function(k){var D=R.getMouseInfo(k),$=D?_e(_e({},D),{},{isTooltipActive:!0}):{isTooltipActive:!1};R.setState($),R.triggerSyncEvent($);var W=R.props.onMouseMove;dt(W)&&W($,k)}),Qe(R,"handleItemMouseEnter",function(k){R.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Qe(R,"handleItemMouseLeave",function(){R.setState(function(){return{isTooltipActive:!1}})}),Qe(R,"handleMouseMove",function(k){k.persist(),R.throttleTriggeredAfterMouseMove(k)}),Qe(R,"handleMouseLeave",function(k){R.throttleTriggeredAfterMouseMove.cancel();var D={isTooltipActive:!1};R.setState(D),R.triggerSyncEvent(D);var $=R.props.onMouseLeave;dt($)&&$(D,k)}),Qe(R,"handleOuterEvent",function(k){var D=Nle(k),$=vi(R.props,"".concat(D));if(D&&dt($)){var W,N;/.*touch.*/i.test(D)?N=R.getMouseInfo(k.changedTouches[0]):N=R.getMouseInfo(k),$((W=N)!==null&&W!==void 0?W:{},k)}}),Qe(R,"handleClick",function(k){var D=R.getMouseInfo(k);if(D){var $=_e(_e({},D),{},{isTooltipActive:!0});R.setState($),R.triggerSyncEvent($);var W=R.props.onClick;dt(W)&&W($,k)}}),Qe(R,"handleMouseDown",function(k){var D=R.props.onMouseDown;if(dt(D)){var $=R.getMouseInfo(k);D($,k)}}),Qe(R,"handleMouseUp",function(k){var D=R.props.onMouseUp;if(dt(D)){var $=R.getMouseInfo(k);D($,k)}}),Qe(R,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&R.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Qe(R,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&R.handleMouseDown(k.changedTouches[0])}),Qe(R,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&R.handleMouseUp(k.changedTouches[0])}),Qe(R,"handleDoubleClick",function(k){var D=R.props.onDoubleClick;if(dt(D)){var $=R.getMouseInfo(k);D($,k)}}),Qe(R,"handleContextMenu",function(k){var D=R.props.onContextMenu;if(dt(D)){var $=R.getMouseInfo(k);D($,k)}}),Qe(R,"triggerSyncEvent",function(k){R.props.syncId!==void 0&&_1.emit(b1,R.props.syncId,k,R.eventEmitterSymbol)}),Qe(R,"applySyncEvent",function(k){var D=R.props,$=D.layout,W=D.syncMethod,N=R.state.updateId,H=k.dataStartIndex,Q=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)R.setState(_e({dataStartIndex:H,dataEndIndex:Q},b({props:R.props,dataStartIndex:H,dataEndIndex:Q,updateId:N},R.state)));else if(k.activeTooltipIndex!==void 0){var re=k.chartX,ne=k.chartY,J=k.activeTooltipIndex,ue=R.state,pe=ue.offset,le=ue.tooltipTicks;if(!pe)return;if(typeof W=="function")J=W(le,k);else if(W==="value"){J=-1;for(var ge=0;ge<le.length;ge++)if(le[ge].value===k.activeLabel){J=ge;break}}var Ee=_e(_e({},pe),{},{x:pe.left,y:pe.top}),Te=Math.min(re,Ee.x+Ee.width),be=Math.min(ne,Ee.y+Ee.height),Me=le[J]&&le[J].value,He=Ww(R.state,R.props.data,J),it=le[J]?{x:$==="horizontal"?le[J].coordinate:Te,y:$==="horizontal"?be:le[J].coordinate}:RL;R.setState(_e(_e({},k),{},{activeLabel:Me,activeCoordinate:it,activePayload:He,activeTooltipIndex:J}))}else R.setState(k)}),Qe(R,"renderCursor",function(k){var D,$=R.state,W=$.isTooltipActive,N=$.activeCoordinate,H=$.activePayload,Q=$.offset,re=$.activeTooltipIndex,ne=$.tooltipAxisBandSize,J=R.getTooltipEventType(),ue=(D=k.props.active)!==null&&D!==void 0?D:W,pe=R.props.layout,le=k.key||"_recharts-cursor";return K.createElement(hxe,{key:le,activeCoordinate:N,activePayload:H,activeTooltipIndex:re,chartName:r,element:k,isActive:ue,layout:pe,offset:Q,tooltipAxisBandSize:ne,tooltipEventType:J})}),Qe(R,"renderPolarAxis",function(k,D,$){var W=vi(k,"type.axisType"),N=vi(R.state,"".concat(W,"Map")),H=k.type.defaultProps,Q=H!==void 0?_e(_e({},H),k.props):k.props,re=N&&N[Q["".concat(W,"Id")]];return te.cloneElement(k,_e(_e({},re),{},{className:ct(W,re.className),key:k.key||"".concat(D,"-").concat($),ticks:Xo(re,!0)}))}),Qe(R,"renderPolarGrid",function(k){var D=k.props,$=D.radialLines,W=D.polarAngles,N=D.polarRadius,H=R.state,Q=H.radiusAxisMap,re=H.angleAxisMap,ne=Os(Q),J=Os(re),ue=J.cx,pe=J.cy,le=J.innerRadius,ge=J.outerRadius;return te.cloneElement(k,{polarAngles:Array.isArray(W)?W:Xo(J,!0).map(function(Ee){return Ee.coordinate}),polarRadius:Array.isArray(N)?N:Xo(ne,!0).map(function(Ee){return Ee.coordinate}),cx:ue,cy:pe,innerRadius:le,outerRadius:ge,key:k.key||"polar-grid",radialLines:$})}),Qe(R,"renderLegend",function(){var k=R.state.formattedGraphicalItems,D=R.props,$=D.children,W=D.width,N=D.height,H=R.props.margin||{},Q=W-(H.left||0)-(H.right||0),re=_F({children:$,formattedGraphicalItems:k,legendWidth:Q,legendContent:A});if(!re)return null;var ne=re.item,J=TI(re,dxe);return te.cloneElement(ne,_e(_e({},J),{},{chartWidth:W,chartHeight:N,margin:H,onBBoxUpdate:R.handleLegendBBoxUpdate}))}),Qe(R,"renderTooltip",function(){var k,D=R.props,$=D.children,W=D.accessibilityLayer,N=Xn($,kn);if(!N)return null;var H=R.state,Q=H.isTooltipActive,re=H.activeCoordinate,ne=H.activePayload,J=H.activeLabel,ue=H.offset,pe=(k=N.props.active)!==null&&k!==void 0?k:Q;return te.cloneElement(N,{viewBox:_e(_e({},ue),{},{x:ue.left,y:ue.top}),active:pe,label:J,payload:pe?ne:[],coordinate:re,accessibilityLayer:W})}),Qe(R,"renderBrush",function(k){var D=R.props,$=D.margin,W=D.data,N=R.state,H=N.offset,Q=N.dataStartIndex,re=N.dataEndIndex,ne=N.updateId;return te.cloneElement(k,{key:k.key||"_recharts-brush",onChange:F0(R.handleBrushChange,k.props.onChange),data:W,x:Le(k.props.x)?k.props.x:H.left,y:Le(k.props.y)?k.props.y:H.top+H.height+H.brushBottom-($.bottom||0),width:Le(k.props.width)?k.props.width:H.width,startIndex:Q,endIndex:re,updateId:"brush-".concat(ne)})}),Qe(R,"renderReferenceElement",function(k,D,$){if(!k)return null;var W=R,N=W.clipPathId,H=R.state,Q=H.xAxisMap,re=H.yAxisMap,ne=H.offset,J=k.type.defaultProps||{},ue=k.props,pe=ue.xAxisId,le=pe===void 0?J.xAxisId:pe,ge=ue.yAxisId,Ee=ge===void 0?J.yAxisId:ge;return te.cloneElement(k,{key:k.key||"".concat(D,"-").concat($),xAxis:Q[le],yAxis:re[Ee],viewBox:{x:ne.left,y:ne.top,width:ne.width,height:ne.height},clipPathId:N})}),Qe(R,"renderActivePoints",function(k){var D=k.item,$=k.activePoint,W=k.basePoint,N=k.childIndex,H=k.isRange,Q=[],re=D.props.key,ne=D.item.type.defaultProps!==void 0?_e(_e({},D.item.type.defaultProps),D.item.props):D.item.props,J=ne.activeDot,ue=ne.dataKey,pe=_e(_e({index:N,dataKey:ue,cx:$.x,cy:$.y,r:4,fill:CT(D.item),strokeWidth:2,stroke:"#fff",payload:$.payload,value:$.value},St(J,!1)),bg(J));return Q.push(x.renderActiveDot(J,pe,"".concat(re,"-activePoint-").concat(N))),W?Q.push(x.renderActiveDot(J,_e(_e({},pe),{},{cx:W.x,cy:W.y}),"".concat(re,"-basePoint-").concat(N))):H&&Q.push(null),Q}),Qe(R,"renderGraphicChild",function(k,D,$){var W=R.filterFormatItem(k,D,$);if(!W)return null;var N=R.getTooltipEventType(),H=R.state,Q=H.isTooltipActive,re=H.tooltipAxis,ne=H.activeTooltipIndex,J=H.activeLabel,ue=R.props.children,pe=Xn(ue,kn),le=W.props,ge=le.points,Ee=le.isRange,Te=le.baseLine,be=W.item.type.defaultProps!==void 0?_e(_e({},W.item.type.defaultProps),W.item.props):W.item.props,Me=be.activeDot,He=be.hide,it=be.activeBar,Mt=be.activeShape,Et=!!(!He&&Q&&pe&&(Me||it||Mt)),zt={};N!=="axis"&&pe&&pe.props.trigger==="click"?zt={onClick:F0(R.handleItemMouseEnter,k.props.onClick)}:N!=="axis"&&(zt={onMouseLeave:F0(R.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:F0(R.handleItemMouseEnter,k.props.onMouseEnter)});var Oe=te.cloneElement(k,_e(_e({},W.props),zt));function We(jn){return typeof re.dataKey=="function"?re.dataKey(jn.payload):null}if(Et)if(ne>=0){var Ke,Se;if(re.dataKey&&!re.allowDuplicatedCategory){var pt=typeof re.dataKey=="function"?We:"payload.".concat(re.dataKey.toString());Ke=_g(ge,pt,J),Se=Ee&&Te&&_g(Te,pt,J)}else Ke=ge==null?void 0:ge[ne],Se=Ee&&Te&&Te[ne];if(Mt||it){var Ge=k.props.activeIndex!==void 0?k.props.activeIndex:ne;return[te.cloneElement(k,_e(_e(_e({},W.props),zt),{},{activeIndex:Ge})),null,null]}if(!_t(Ke))return[Oe].concat(Mc(R.renderActivePoints({item:W,activePoint:Ke,basePoint:Se,childIndex:ne,isRange:Ee})))}else{var Yt,Ct=(Yt=R.getItemByXY(R.state.activeCoordinate))!==null&&Yt!==void 0?Yt:{graphicalItem:Oe},Dt=Ct.graphicalItem,Yr=Dt.item,Ci=Yr===void 0?k:Yr,Oi=Dt.childIndex,Bt=_e(_e(_e({},W.props),zt),{},{activeIndex:Oi});return[te.cloneElement(Ci,Bt),null,null]}return Ee?[Oe,null,null]:[Oe,null]}),Qe(R,"renderCustomized",function(k,D,$){return te.cloneElement(k,_e(_e({key:"recharts-customized-".concat($)},R.props),R.state))}),Qe(R,"renderMap",{CartesianGrid:{handler:z0,once:!0},ReferenceArea:{handler:R.renderReferenceElement},ReferenceLine:{handler:z0},ReferenceDot:{handler:R.renderReferenceElement},XAxis:{handler:z0},YAxis:{handler:z0},Brush:{handler:R.renderBrush,once:!0},Bar:{handler:R.renderGraphicChild},Line:{handler:R.renderGraphicChild},Area:{handler:R.renderGraphicChild},Radar:{handler:R.renderGraphicChild},RadialBar:{handler:R.renderGraphicChild},Scatter:{handler:R.renderGraphicChild},Pie:{handler:R.renderGraphicChild},Funnel:{handler:R.renderGraphicChild},Tooltip:{handler:R.renderCursor,once:!0},PolarGrid:{handler:R.renderPolarGrid,once:!0},PolarAngleAxis:{handler:R.renderPolarAxis},PolarRadiusAxis:{handler:R.renderPolarAxis},Customized:{handler:R.renderCustomized}}),R.clipPathId="".concat((T=P.id)!==null&&T!==void 0?T:hd("recharts"),"-clip"),R.throttleTriggeredAfterMouseMove=Wme(R.triggeredAfterMouseMove,(M=P.throttleDelay)!==null&&M!==void 0?M:1e3/60),R.state={},R}return Txe(x,C),bxe(x,[{key:"componentDidMount",value:function(){var T,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,M=T.children,R=T.data,k=T.height,D=T.layout,$=Xn(M,kn);if($){var W=$.props.defaultIndex;if(!(typeof W!="number"||W<0||W>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[W]&&this.state.tooltipTicks[W].value,H=Ww(this.state,R,W,N),Q=this.state.tooltipTicks[W].coordinate,re=(this.state.offset.top+k)/2,ne=D==="horizontal",J=ne?{x:Q,y:re}:{y:Q,x:re},ue=this.state.formattedGraphicalItems.find(function(le){var ge=le.item;return ge.type.name==="Scatter"});ue&&(J=_e(_e({},J),ue.props.points[W].tooltipPosition),H=ue.props.points[W].tooltipPayload);var pe={activeTooltipIndex:W,isTooltipActive:!0,activeLabel:N,activePayload:H,activeCoordinate:J};this.setState(pe),this.renderCursor($),this.accessibilityManager.setIndex(W)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var R,k;this.accessibilityManager.setDetails({offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(T){x2([Xn(T.children,kn)],[Xn(this.props.children,kn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=Xn(this.props.children,kn);if(T&&typeof T.props.shared=="boolean"){var M=T.props.shared?"axis":"item";return a.indexOf(M)>=0?M:o}return o}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var M=this.container,R=M.getBoundingClientRect(),k=Gme(R),D={chartX:Math.round(T.pageX-k.left),chartY:Math.round(T.pageY-k.top)},$=R.width/M.offsetWidth||1,W=this.inRange(D.chartX,D.chartY,$);if(!W)return null;var N=this.state,H=N.xAxisMap,Q=N.yAxisMap,re=this.getTooltipEventType();if(re!=="axis"&&H&&Q){var ne=Os(H).scale,J=Os(Q).scale,ue=ne&&ne.invert?ne.invert(D.chartX):null,pe=J&&J.invert?J.invert(D.chartY):null;return _e(_e({},D),{},{xValue:ue,yValue:pe})}var le=CI(this.state,this.props.data,this.props.layout,W);return le?_e(_e({},D),le):null}},{key:"inRange",value:function(T,M){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,D=T/R,$=M/R;if(k==="horizontal"||k==="vertical"){var W=this.state.offset,N=D>=W.left&&D<=W.left+W.width&&$>=W.top&&$<=W.top+W.height;return N?{x:D,y:$}:null}var H=this.state,Q=H.angleAxisMap,re=H.radiusAxisMap;if(Q&&re){var ne=Os(Q);return ek({x:D,y:$},ne)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,M=this.getTooltipEventType(),R=Xn(T,kn),k={};R&&M==="axis"&&(R.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var D=bg(this.props,this.handleOuterEvent);return _e(_e({},D),k)}},{key:"addListener",value:function(){_1.on(b1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){_1.removeListener(b1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,M,R){for(var k=this.state.formattedGraphicalItems,D=0,$=k.length;D<$;D++){var W=k[D];if(W.item===T||W.props.key===T.key||M===Qs(W.item.type)&&R===W.childIndex)return W}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,M=this.state.offset,R=M.left,k=M.top,D=M.height,$=M.width;return K.createElement("defs",null,K.createElement("clipPath",{id:T},K.createElement("rect",{x:R,y:k,height:D,width:$})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(M,R){var k=EI(R,2),D=k[0],$=k[1];return _e(_e({},M),{},Qe({},D,$.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(M,R){var k=EI(R,2),D=k[0],$=k[1];return _e(_e({},M),{},Qe({},D,$.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[T])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(T){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[T])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(T){var M=this.state,R=M.formattedGraphicalItems,k=M.activeItem;if(R&&R.length)for(var D=0,$=R.length;D<$;D++){var W=R[D],N=W.props,H=W.item,Q=H.type.defaultProps!==void 0?_e(_e({},H.type.defaultProps),H.props):H.props,re=Qs(H.type);if(re==="Bar"){var ne=(N.data||[]).find(function(le){return l2e(T,le)});if(ne)return{graphicalItem:W,payload:ne}}else if(re==="RadialBar"){var J=(N.data||[]).find(function(le){return ek(T,le)});if(J)return{graphicalItem:W,payload:J}}else if(By(W,k)||Fy(W,k)||Nh(W,k)){var ue=Awe({graphicalItem:W,activeTooltipItem:k,itemData:Q.data}),pe=Q.activeIndex===void 0?ue:Q.activeIndex;return{graphicalItem:_e(_e({},W),{},{childIndex:pe}),payload:Nh(W,k)?Q.data[ue]:W.props.data[ue]}}}return null}},{key:"render",value:function(){var T=this;if(!TR(this))return null;var M=this.props,R=M.children,k=M.className,D=M.width,$=M.height,W=M.style,N=M.compact,H=M.title,Q=M.desc,re=TI(M,pxe),ne=St(re,!1);if(N)return K.createElement(eI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(C2,Tu({},ne,{width:D,height:$,title:H,desc:Q}),this.renderClipPath(),PR(R,this.renderMap)));if(this.props.accessibilityLayer){var J,ue;ne.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,ne.role=(ue=this.props.role)!==null&&ue!==void 0?ue:"application",ne.onKeyDown=function(le){T.accessibilityManager.keyboardEvent(le)},ne.onFocus=function(){T.accessibilityManager.focus()}}var pe=this.parseEventsOfWrapper();return K.createElement(eI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",Tu({className:ct("recharts-wrapper",k),style:_e({position:"relative",cursor:"default",width:D,height:$},W)},pe,{ref:function(ge){T.container=ge}}),K.createElement(C2,Tu({},ne,{width:D,height:$,title:H,desc:Q,style:Mxe}),this.renderClipPath(),PR(R,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(te.Component);Qe(S,"displayName",r),Qe(S,"defaultProps",_e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},g)),Qe(S,"getDerivedStateFromProps",function(C,x){var P=C.dataKey,T=C.data,M=C.children,R=C.width,k=C.height,D=C.layout,$=C.stackOffset,W=C.margin,N=x.dataStartIndex,H=x.dataEndIndex;if(x.updateId===void 0){var Q=OI(C);return _e(_e(_e({},Q),{},{updateId:0},b(_e(_e({props:C},Q),{},{updateId:0}),x)),{},{prevDataKey:P,prevData:T,prevWidth:R,prevHeight:k,prevLayout:D,prevStackOffset:$,prevMargin:W,prevChildren:M})}if(P!==x.prevDataKey||T!==x.prevData||R!==x.prevWidth||k!==x.prevHeight||D!==x.prevLayout||$!==x.prevStackOffset||!$u(W,x.prevMargin)){var re=OI(C),ne={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},J=_e(_e({},CI(x,T,D)),{},{updateId:x.updateId+1}),ue=_e(_e(_e({},re),ne),J);return _e(_e(_e({},ue),b(_e({props:C},ue),x)),{},{prevDataKey:P,prevData:T,prevWidth:R,prevHeight:k,prevLayout:D,prevStackOffset:$,prevMargin:W,prevChildren:M})}if(!x2(M,x.prevChildren)){var pe,le,ge,Ee,Te=Xn(M,bc),be=Te&&(pe=(le=Te.props)===null||le===void 0?void 0:le.startIndex)!==null&&pe!==void 0?pe:N,Me=Te&&(ge=(Ee=Te.props)===null||Ee===void 0?void 0:Ee.endIndex)!==null&&ge!==void 0?ge:H,He=be!==N||Me!==H,it=!_t(T),Mt=it&&!He?x.updateId:x.updateId+1;return _e(_e({updateId:Mt},b(_e(_e({props:C},x),{},{updateId:Mt,dataStartIndex:be,dataEndIndex:Me}),x)),{},{prevChildren:M,dataStartIndex:be,dataEndIndex:Me})}return null}),Qe(S,"renderActiveDot",function(C,x,P){var T;return te.isValidElement(C)?T=te.cloneElement(C,x):dt(C)?T=C(x):T=K.createElement(RT,x),K.createElement(Sr,{className:"recharts-active-dot",key:P},T)});var E=te.forwardRef(function(x,P){return K.createElement(S,Tu({},x,{ref:P}))});return E.displayName=S.displayName,E},md=jxe({chartName:"LineChart",GraphicalChild:Co,axisComponents:[{axisType:"xAxis",AxisComp:fa},{axisType:"yAxis",AxisComp:ha}],formatAxisMap:BSe});function Sl(t,e,r=void 0){const n={};for(const i in t){const o=t[i];let s="",a=!0;for(let l=0;l<o.length;l+=1){const A=o[l];A&&(s+=(a===!0?"":" ")+e(A),a=!1,r&&r[A]&&(s+=" "+r[A]))}n[i]=s}return n}let MI=0;function zxe(t){const[e,r]=te.useState(t),n=t||e;return te.useEffect(()=>{e==null&&(MI+=1,r(`mui-${MI}`))},[e]),n}const Vxe={...R1},kI=Vxe.useId;function Wxe(t){if(kI!==void 0){const e=kI();return t??e}return zxe(t)}function cl(t,...e){const r=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(n=>r.searchParams.append("args[]",n)),`Minified MUI error #${t}; visit ${r} for the full message.`}function qi(t){if(typeof t!="string")throw new Error(cl(7));return t.charAt(0).toUpperCase()+t.slice(1)}var kL={exports:{}},Zt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UT=Symbol.for("react.transitional.element"),jT=Symbol.for("react.portal"),Wy=Symbol.for("react.fragment"),Hy=Symbol.for("react.strict_mode"),Xy=Symbol.for("react.profiler"),Yy=Symbol.for("react.consumer"),Ky=Symbol.for("react.context"),Qy=Symbol.for("react.forward_ref"),qy=Symbol.for("react.suspense"),Gy=Symbol.for("react.suspense_list"),Zy=Symbol.for("react.memo"),Jy=Symbol.for("react.lazy"),Hxe=Symbol.for("react.offscreen"),Xxe=Symbol.for("react.client.reference");function xi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case UT:switch(t=t.type,t){case Wy:case Xy:case Hy:case qy:case Gy:return t;default:switch(t=t&&t.$$typeof,t){case Ky:case Qy:case Jy:case Zy:return t;case Yy:return t;default:return e}}case jT:return e}}}Zt.ContextConsumer=Yy;Zt.ContextProvider=Ky;Zt.Element=UT;Zt.ForwardRef=Qy;Zt.Fragment=Wy;Zt.Lazy=Jy;Zt.Memo=Zy;Zt.Portal=jT;Zt.Profiler=Xy;Zt.StrictMode=Hy;Zt.Suspense=qy;Zt.SuspenseList=Gy;Zt.isContextConsumer=function(t){return xi(t)===Yy};Zt.isContextProvider=function(t){return xi(t)===Ky};Zt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===UT};Zt.isForwardRef=function(t){return xi(t)===Qy};Zt.isFragment=function(t){return xi(t)===Wy};Zt.isLazy=function(t){return xi(t)===Jy};Zt.isMemo=function(t){return xi(t)===Zy};Zt.isPortal=function(t){return xi(t)===jT};Zt.isProfiler=function(t){return xi(t)===Xy};Zt.isStrictMode=function(t){return xi(t)===Hy};Zt.isSuspense=function(t){return xi(t)===qy};Zt.isSuspenseList=function(t){return xi(t)===Gy};Zt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Wy||t===Xy||t===Hy||t===qy||t===Gy||t===Hxe||typeof t=="object"&&t!==null&&(t.$$typeof===Jy||t.$$typeof===Zy||t.$$typeof===Ky||t.$$typeof===Yy||t.$$typeof===Qy||t.$$typeof===Xxe||t.getModuleId!==void 0)};Zt.typeOf=xi;kL.exports=Zt;var IL=kL.exports;function go(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function NL(t){if(te.isValidElement(t)||IL.isValidElementType(t)||!go(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=NL(t[r])}),e}function Jn(t,e,r={clone:!0}){const n=r.clone?{...t}:t;return go(t)&&go(e)&&Object.keys(e).forEach(i=>{te.isValidElement(e[i])||IL.isValidElementType(e[i])?n[i]=e[i]:go(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&go(t[i])?n[i]=Jn(t[i],e[i],r):r.clone?n[i]=go(e[i])?NL(e[i]):e[i]:n[i]=e[i]}),n}function II(...t){return t.reduce((e,r)=>r==null?e:function(...i){e.apply(this,i),r.apply(this,i)},()=>{})}function Al(t){return t&&t.ownerDocument||document}function um(t){return Al(t).defaultView||window}function Hw(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const Yxe=typeof window<"u"?te.useLayoutEffect:te.useEffect,Xw=Yxe;function NI(t){const e=te.useRef(t);return Xw(()=>{e.current=t}),te.useRef((...r)=>(0,e.current)(...r)).current}function Zc(...t){return te.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{Hw(r,e)})},t)}function Kxe(t=window){const e=t.document.documentElement.clientWidth;return t.innerWidth-e}function Yw(t,e){const r={...e};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=n;if(i==="components"||i==="slots")r[i]={...t[i],...r[i]};else if(i==="componentsProps"||i==="slotProps"){const o=t[i],s=e[i];if(!s)r[i]=o||{};else if(!o)r[i]=s;else{r[i]={...s};for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)){const l=a;r[i][l]=Yw(o[l],s[l])}}}else r[i]===void 0&&(r[i]=t[i])}return r}const DI=t=>t,Qxe=()=>{let t=DI;return{configure(e){t=e},generate(e){return t(e)},reset(){t=DI}}},qxe=Qxe(),Gxe=qxe,Zxe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function da(t,e,r="Mui"){const n=Zxe[e];return n?`${r}-${n}`:`${Gxe.generate(t)}-${e}`}function El(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=da(t,i,r)}),n}function Jxe(t,e=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,r))}function e3e(t){return typeof t=="string"}function t3e(t,e,r){return t===void 0||e3e(t)?e:{...e,ownerState:{...e.ownerState,...r}}}function DL(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function BI(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function r3e(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:o}=t;if(!e){const b=ct(r==null?void 0:r.className,o,i==null?void 0:i.className,n==null?void 0:n.className),S={...r==null?void 0:r.style,...i==null?void 0:i.style,...n==null?void 0:n.style},E={...r,...i,...n};return b.length>0&&(E.className=b),Object.keys(S).length>0&&(E.style=S),{props:E,internalRef:void 0}}const s=DL({...i,...n}),a=BI(n),l=BI(i),A=e(s),p=ct(A==null?void 0:A.className,r==null?void 0:r.className,o,i==null?void 0:i.className,n==null?void 0:n.className),g={...A==null?void 0:A.style,...r==null?void 0:r.style,...i==null?void 0:i.style,...n==null?void 0:n.style},v={...A,...r,...l,...a};return p.length>0&&(v.className=p),Object.keys(g).length>0&&(v.style=g),{props:v,internalRef:A.ref}}function n3e(t,e,r){return typeof t=="function"?t(e,r):t}function zT(t){var e;return parseInt(te.version,10)>=19?((e=t==null?void 0:t.props)==null?void 0:e.ref)||null:(t==null?void 0:t.ref)||null}function i3e(t){const e=Al(t);return e.body===t?um(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Ef(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function FI(t){return parseInt(um(t).getComputedStyle(t).paddingRight,10)||0}function o3e(t){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(t.tagName),n=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return r||n}function LI(t,e,r,n,i){const o=[e,r,...n];[].forEach.call(t.children,s=>{const a=!o.includes(s),l=!o3e(s);a&&l&&Ef(s,i)})}function S1(t,e){let r=-1;return t.some((n,i)=>e(n)?(r=i,!0):!1),r}function s3e(t,e){const r=[],n=t.container;if(!e.disableScrollLock){if(i3e(n)){const s=Kxe(um(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${FI(n)+s}px`;const a=Al(n).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{r.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${FI(l)+s}px`})}let o;if(n.parentNode instanceof DocumentFragment)o=Al(n).body;else{const s=n.parentElement,a=um(n);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:n}r.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{r.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function a3e(t){const e=[];return[].forEach.call(t.children,r=>{r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}class l3e{constructor(){this.modals=[],this.containers=[]}add(e,r){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Ef(e.modalRef,!1);const i=a3e(r);LI(r,e.mount,e.modalRef,i,!0);const o=S1(this.containers,s=>s.container===r);return o!==-1?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:r,restore:null,hiddenSiblings:i}),n)}mount(e,r){const n=S1(this.containers,o=>o.modals.includes(e)),i=this.containers[n];i.restore||(i.restore=s3e(i,r))}remove(e,r=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const i=S1(this.containers,s=>s.modals.includes(e)),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&Ef(e.modalRef,r),LI(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&Ef(s.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}var BL={exports:{}},ev={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u3e=te,c3e=Symbol.for("react.element"),A3e=Symbol.for("react.fragment"),f3e=Object.prototype.hasOwnProperty,h3e=u3e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d3e={key:!0,ref:!0,__self:!0,__source:!0};function FL(t,e,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)f3e.call(e,n)&&!d3e.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:c3e,type:t,key:o,ref:s,props:i,_owner:h3e.current}}ev.Fragment=A3e;ev.jsx=FL;ev.jsxs=FL;BL.exports=ev;var Lr=BL.exports;const p3e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function g3e(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function m3e(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=n=>t.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=e(`[name="${t.name}"]:checked`);return r||(r=e(`[name="${t.name}"]`)),r!==t}function y3e(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||m3e(t))}function v3e(t){const e=[],r=[];return Array.from(t.querySelectorAll(p3e)).forEach((n,i)=>{const o=g3e(n);o===-1||!y3e(n)||(o===0?e.push(n):r.push({documentOrder:i,tabIndex:o,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(e)}function _3e(){return!0}function b3e(t){const{children:e,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:o=v3e,isEnabled:s=_3e,open:a}=t,l=te.useRef(!1),A=te.useRef(null),p=te.useRef(null),g=te.useRef(null),v=te.useRef(null),b=te.useRef(!1),S=te.useRef(null),E=Zc(zT(e),S),C=te.useRef(null);te.useEffect(()=>{!a||!S.current||(b.current=!r)},[r,a]),te.useEffect(()=>{if(!a||!S.current)return;const T=Al(S.current);return S.current.contains(T.activeElement)||(S.current.hasAttribute("tabIndex")||S.current.setAttribute("tabIndex","-1"),b.current&&S.current.focus()),()=>{i||(g.current&&g.current.focus&&(l.current=!0,g.current.focus()),g.current=null)}},[a]),te.useEffect(()=>{if(!a||!S.current)return;const T=Al(S.current),M=D=>{C.current=D,!(n||!s()||D.key!=="Tab")&&T.activeElement===S.current&&D.shiftKey&&(l.current=!0,p.current&&p.current.focus())},R=()=>{var W,N;const D=S.current;if(D===null)return;if(!T.hasFocus()||!s()||l.current){l.current=!1;return}if(D.contains(T.activeElement)||n&&T.activeElement!==A.current&&T.activeElement!==p.current)return;if(T.activeElement!==v.current)v.current=null;else if(v.current!==null)return;if(!b.current)return;let $=[];if((T.activeElement===A.current||T.activeElement===p.current)&&($=o(S.current)),$.length>0){const H=!!((W=C.current)!=null&&W.shiftKey&&((N=C.current)==null?void 0:N.key)==="Tab"),Q=$[0],re=$[$.length-1];typeof Q!="string"&&typeof re!="string"&&(H?re.focus():Q.focus())}else D.focus()};T.addEventListener("focusin",R),T.addEventListener("keydown",M,!0);const k=setInterval(()=>{T.activeElement&&T.activeElement.tagName==="BODY"&&R()},50);return()=>{clearInterval(k),T.removeEventListener("focusin",R),T.removeEventListener("keydown",M,!0)}},[r,n,i,s,a,o]);const x=T=>{g.current===null&&(g.current=T.relatedTarget),b.current=!0,v.current=T.target;const M=e.props.onFocus;M&&M(T)},P=T=>{g.current===null&&(g.current=T.relatedTarget),b.current=!0};return Lr.jsxs(te.Fragment,{children:[Lr.jsx("div",{tabIndex:a?0:-1,onFocus:P,ref:A,"data-testid":"sentinelStart"}),te.cloneElement(e,{ref:E,onFocus:x}),Lr.jsx("div",{tabIndex:a?0:-1,onFocus:P,ref:p,"data-testid":"sentinelEnd"})]})}function w3e(t){return typeof t=="function"?t():t}const S3e=te.forwardRef(function(e,r){const{children:n,container:i,disablePortal:o=!1}=e,[s,a]=te.useState(null),l=Zc(te.isValidElement(n)?zT(n):null,r);if(Xw(()=>{o||a(w3e(i)||document.body)},[i,o]),Xw(()=>{if(s&&!o)return Hw(r,s),()=>{Hw(r,null)}},[r,s,o]),o){if(te.isValidElement(n)){const A={ref:l};return te.cloneElement(n,A)}return n}return s&&Gh.createPortal(n,s)}),E3e=S3e;function Tf(t,e){return e?Jn(t,e,{clone:!1}):t}function T3e(t,e){if(!t.containerQueries)return e;const r=Object.keys(e).filter(n=>n.startsWith("@container")).sort((n,i)=>{var s,a;const o=/min-width:\s*([0-9.]+)/;return+(((s=n.match(o))==null?void 0:s[1])||0)-+(((a=i.match(o))==null?void 0:a[1])||0)});return r.length?r.reduce((n,i)=>{const o=e[i];return delete n[i],n[i]=o,n},{...e}):e}function x3e(t,e){return e==="@"||e.startsWith("@")&&(t.some(r=>e.startsWith(`@${r}`))||!!e.match(/^@\d/))}function P3e(t,e){const r=e.match(/^@([^/]+)?\/?(.+)?$/);if(!r)return null;const[,n,i]=r,o=Number.isNaN(+n)?n||0:+n;return t.containerQueries(i).up(o)}function C3e(t){const e=(o,s)=>o.replace("@media",s?`@container ${s}`:"@container");function r(o,s){o.up=(...a)=>e(t.breakpoints.up(...a),s),o.down=(...a)=>e(t.breakpoints.down(...a),s),o.between=(...a)=>e(t.breakpoints.between(...a),s),o.only=(...a)=>e(t.breakpoints.only(...a),s),o.not=(...a)=>{const l=e(t.breakpoints.not(...a),s);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const n={},i=o=>(r(n,o),n);return r(i),{...t,containerQueries:i}}const tv={xs:0,sm:600,md:900,lg:1200,xl:1536},$I={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${tv[t]}px)`},O3e={containerQueries:t=>({up:e=>{let r=typeof e=="number"?e:tv[e]||e;return typeof r=="number"&&(r=`${r}px`),t?`@container ${t} (min-width:${r})`:`@container (min-width:${r})`}})};function is(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const o=n.breakpoints||$I;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=r(e[l]),s),{})}if(typeof e=="object"){const o=n.breakpoints||$I;return Object.keys(e).reduce((s,a)=>{if(x3e(o.keys,a)){const l=P3e(n.containerQueries?n:O3e,a);l&&(s[l]=r(e[a],a))}else if(Object.keys(o.values||tv).includes(a)){const l=o.up(a);s[l]=r(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return r(e)}function R3e(t={}){var r;return((r=t.keys)==null?void 0:r.reduce((n,i)=>{const o=t.up(i);return n[o]={},n},{}))||{}}function M3e(t,e){return t.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},e)}function rv(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function cm(t,e,r,n=r){let i;return typeof t=="function"?i=t(r):Array.isArray(t)?i=t[r]||n:i=rv(t,r)||n,e&&(i=e(i,n,t)),i}function Er(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,A=rv(l,n)||{};return is(s,a,g=>{let v=cm(A,i,g);return g===v&&typeof g=="string"&&(v=cm(A,i,`${e}${g==="default"?"":qi(g)}`,g)),r===!1?v:{[r]:v}})};return o.propTypes={},o.filterProps=[e],o}function k3e(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const I3e={m:"margin",p:"padding"},N3e={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},UI={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},D3e=k3e(t=>{if(t.length>2)if(UI[t])t=UI[t];else return[t];const[e,r]=t.split(""),n=I3e[e],i=N3e[r]||"";return Array.isArray(i)?i.map(o=>n+o):[n+i]}),VT=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],WT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...VT,...WT];function yd(t,e,r,n){const i=rv(t,e,!0)??r;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const s=Math.abs(o),a=i[s];return o>=0?a:typeof a=="number"?-a:`-${a}`}:typeof i=="function"?i:()=>{}}function HT(t){return yd(t,"spacing",8)}function vd(t,e){return typeof e=="string"||e==null?e:t(e)}function B3e(t,e){return r=>t.reduce((n,i)=>(n[i]=vd(e,r),n),{})}function F3e(t,e,r,n){if(!e.includes(r))return null;const i=D3e(r),o=B3e(i,n),s=t[r];return is(t,s,o)}function LL(t,e){const r=HT(t.theme);return Object.keys(t).map(n=>F3e(t,e,n,r)).reduce(Tf,{})}function yr(t){return LL(t,VT)}yr.propTypes={};yr.filterProps=VT;function vr(t){return LL(t,WT)}vr.propTypes={};vr.filterProps=WT;function nv(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(o=>{n[o]=i}),n),{}),r=n=>Object.keys(n).reduce((i,o)=>e[o]?Tf(i,e[o](n)):i,{});return r.propTypes={},r.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),r}function hi(t){return typeof t!="number"?t:`${t}px solid`}function Pi(t,e){return Er({prop:t,themeKey:"borders",transform:e})}const L3e=Pi("border",hi),$3e=Pi("borderTop",hi),U3e=Pi("borderRight",hi),j3e=Pi("borderBottom",hi),z3e=Pi("borderLeft",hi),V3e=Pi("borderColor"),W3e=Pi("borderTopColor"),H3e=Pi("borderRightColor"),X3e=Pi("borderBottomColor"),Y3e=Pi("borderLeftColor"),K3e=Pi("outline",hi),Q3e=Pi("outlineColor"),iv=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=yd(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:vd(e,n)});return is(t,t.borderRadius,r)}return null};iv.propTypes={};iv.filterProps=["borderRadius"];nv(L3e,$3e,U3e,j3e,z3e,V3e,W3e,H3e,X3e,Y3e,iv,K3e,Q3e);const ov=t=>{if(t.gap!==void 0&&t.gap!==null){const e=yd(t.theme,"spacing",8),r=n=>({gap:vd(e,n)});return is(t,t.gap,r)}return null};ov.propTypes={};ov.filterProps=["gap"];const sv=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=yd(t.theme,"spacing",8),r=n=>({columnGap:vd(e,n)});return is(t,t.columnGap,r)}return null};sv.propTypes={};sv.filterProps=["columnGap"];const av=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=yd(t.theme,"spacing",8),r=n=>({rowGap:vd(e,n)});return is(t,t.rowGap,r)}return null};av.propTypes={};av.filterProps=["rowGap"];const q3e=Er({prop:"gridColumn"}),G3e=Er({prop:"gridRow"}),Z3e=Er({prop:"gridAutoFlow"}),J3e=Er({prop:"gridAutoColumns"}),ePe=Er({prop:"gridAutoRows"}),tPe=Er({prop:"gridTemplateColumns"}),rPe=Er({prop:"gridTemplateRows"}),nPe=Er({prop:"gridTemplateAreas"}),iPe=Er({prop:"gridArea"});nv(ov,sv,av,q3e,G3e,Z3e,J3e,ePe,tPe,rPe,nPe,iPe);function ju(t,e){return e==="grey"?e:t}const oPe=Er({prop:"color",themeKey:"palette",transform:ju}),sPe=Er({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ju}),aPe=Er({prop:"backgroundColor",themeKey:"palette",transform:ju});nv(oPe,sPe,aPe);function Qn(t){return t<=1&&t!==0?`${t*100}%`:t}const lPe=Er({prop:"width",transform:Qn}),XT=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var i,o,s,a,l;const n=((s=(o=(i=t.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:s[r])||tv[r];return n?((l=(a=t.theme)==null?void 0:a.breakpoints)==null?void 0:l.unit)!=="px"?{maxWidth:`${n}${t.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:Qn(r)}};return is(t,t.maxWidth,e)}return null};XT.filterProps=["maxWidth"];const uPe=Er({prop:"minWidth",transform:Qn}),cPe=Er({prop:"height",transform:Qn}),APe=Er({prop:"maxHeight",transform:Qn}),fPe=Er({prop:"minHeight",transform:Qn});Er({prop:"size",cssProperty:"width",transform:Qn});Er({prop:"size",cssProperty:"height",transform:Qn});const hPe=Er({prop:"boxSizing"});nv(lPe,XT,uPe,cPe,APe,fPe,hPe);const dPe={border:{themeKey:"borders",transform:hi},borderTop:{themeKey:"borders",transform:hi},borderRight:{themeKey:"borders",transform:hi},borderBottom:{themeKey:"borders",transform:hi},borderLeft:{themeKey:"borders",transform:hi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:hi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:iv},color:{themeKey:"palette",transform:ju},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ju},backgroundColor:{themeKey:"palette",transform:ju},p:{style:vr},pt:{style:vr},pr:{style:vr},pb:{style:vr},pl:{style:vr},px:{style:vr},py:{style:vr},padding:{style:vr},paddingTop:{style:vr},paddingRight:{style:vr},paddingBottom:{style:vr},paddingLeft:{style:vr},paddingX:{style:vr},paddingY:{style:vr},paddingInline:{style:vr},paddingInlineStart:{style:vr},paddingInlineEnd:{style:vr},paddingBlock:{style:vr},paddingBlockStart:{style:vr},paddingBlockEnd:{style:vr},m:{style:yr},mt:{style:yr},mr:{style:yr},mb:{style:yr},ml:{style:yr},mx:{style:yr},my:{style:yr},margin:{style:yr},marginTop:{style:yr},marginRight:{style:yr},marginBottom:{style:yr},marginLeft:{style:yr},marginX:{style:yr},marginY:{style:yr},marginInline:{style:yr},marginInlineStart:{style:yr},marginInlineEnd:{style:yr},marginBlock:{style:yr},marginBlockStart:{style:yr},marginBlockEnd:{style:yr},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ov},rowGap:{style:av},columnGap:{style:sv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Qn},maxWidth:{style:XT},minWidth:{transform:Qn},height:{transform:Qn},maxHeight:{transform:Qn},minHeight:{transform:Qn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},_d=dPe;function pPe(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function gPe(t,e){return typeof t=="function"?t(e):t}function mPe(){function t(r,n,i,o){const s={[r]:n,theme:i},a=o[r];if(!a)return{[r]:n};const{cssProperty:l=r,themeKey:A,transform:p,style:g}=a;if(n==null)return null;if(A==="typography"&&n==="inherit")return{[r]:n};const v=rv(i,A)||{};return g?g(s):is(s,n,S=>{let E=cm(v,p,S);return S===E&&typeof S=="string"&&(E=cm(v,p,`${r}${S==="default"?"":qi(S)}`,S)),l===!1?E:{[l]:E}})}function e(r){const{sx:n,theme:i={}}=r||{};if(!n)return null;const o=i.unstable_sxConfig??_d;function s(a){let l=a;if(typeof a=="function")l=a(i);else if(typeof a!="object")return a;if(!l)return null;const A=R3e(i.breakpoints),p=Object.keys(A);let g=A;return Object.keys(l).forEach(v=>{const b=gPe(l[v],i);if(b!=null)if(typeof b=="object")if(o[v])g=Tf(g,t(v,b,i,o));else{const S=is({theme:i},b,E=>({[v]:E}));pPe(S,b)?g[v]=e({sx:b,theme:i}):g=Tf(g,S)}else g=Tf(g,t(v,b,i,o))}),T3e(i,M3e(p,g))}return Array.isArray(n)?n.map(s):s(n)}return e}const $L=mPe();$L.filterProps=["sx"];const jh=$L,yPe=t=>{var n;const e={systemProps:{},otherProps:{}},r=((n=t==null?void 0:t.theme)==null?void 0:n.unstable_sxConfig)??_d;return Object.keys(t).forEach(i=>{r[i]?e.systemProps[i]=t[i]:e.otherProps[i]=t[i]}),e};function vPe(t){const{sx:e,...r}=t,{systemProps:n,otherProps:i}=yPe(r);let o;return Array.isArray(e)?o=[n,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return go(a)?{...n,...a}:n}:o={...n,...e},{...i,sx:o}}var _Pe=!1;function bPe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function wPe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var SPe=function(){function t(r){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!_Pe:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(wPe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=bPe(i);try{o.insertRule(n,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},t}(),fn="-ms-",Am="-moz-",It="-webkit-",UL="comm",YT="rule",KT="decl",EPe="@import",jL="@keyframes",TPe="@layer",xPe=Math.abs,lv=String.fromCharCode,PPe=Object.assign;function CPe(t,e){return Jr(t,0)^45?(((e<<2^Jr(t,0))<<2^Jr(t,1))<<2^Jr(t,2))<<2^Jr(t,3):0}function zL(t){return t.trim()}function OPe(t,e){return(t=e.exec(t))?t[0]:t}function Nt(t,e,r){return t.replace(e,r)}function Kw(t,e){return t.indexOf(e)}function Jr(t,e){return t.charCodeAt(e)|0}function zh(t,e,r){return t.slice(e,r)}function Ao(t){return t.length}function QT(t){return t.length}function V0(t,e){return e.push(t),t}function RPe(t,e){return t.map(e).join("")}var uv=1,kc=1,VL=0,$n=0,Mr=0,Jc="";function cv(t,e,r,n,i,o,s){return{value:t,root:e,parent:r,type:n,props:i,children:o,line:uv,column:kc,length:s,return:""}}function zA(t,e){return PPe(cv("",null,null,"",null,null,0),t,{length:-t.length},e)}function MPe(){return Mr}function kPe(){return Mr=$n>0?Jr(Jc,--$n):0,kc--,Mr===10&&(kc=1,uv--),Mr}function ei(){return Mr=$n<VL?Jr(Jc,$n++):0,kc++,Mr===10&&(kc=1,uv++),Mr}function Eo(){return Jr(Jc,$n)}function hp(){return $n}function bd(t,e){return zh(Jc,t,e)}function Vh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function WL(t){return uv=kc=1,VL=Ao(Jc=t),$n=0,[]}function HL(t){return Jc="",t}function dp(t){return zL(bd($n-1,Qw(t===91?t+2:t===40?t+1:t)))}function IPe(t){for(;(Mr=Eo())&&Mr<33;)ei();return Vh(t)>2||Vh(Mr)>3?"":" "}function NPe(t,e){for(;--e&&ei()&&!(Mr<48||Mr>102||Mr>57&&Mr<65||Mr>70&&Mr<97););return bd(t,hp()+(e<6&&Eo()==32&&ei()==32))}function Qw(t){for(;ei();)switch(Mr){case t:return $n;case 34:case 39:t!==34&&t!==39&&Qw(Mr);break;case 40:t===41&&Qw(t);break;case 92:ei();break}return $n}function DPe(t,e){for(;ei()&&t+Mr!==47+10;)if(t+Mr===42+42&&Eo()===47)break;return"/*"+bd(e,$n-1)+"*"+lv(t===47?t:ei())}function BPe(t){for(;!Vh(Eo());)ei();return bd(t,$n)}function FPe(t){return HL(pp("",null,null,null,[""],t=WL(t),0,[0],t))}function pp(t,e,r,n,i,o,s,a,l){for(var A=0,p=0,g=s,v=0,b=0,S=0,E=1,C=1,x=1,P=0,T="",M=i,R=o,k=n,D=T;C;)switch(S=P,P=ei()){case 40:if(S!=108&&Jr(D,g-1)==58){Kw(D+=Nt(dp(P),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:D+=dp(P);break;case 9:case 10:case 13:case 32:D+=IPe(S);break;case 92:D+=NPe(hp()-1,7);continue;case 47:switch(Eo()){case 42:case 47:V0(LPe(DPe(ei(),hp()),e,r),l);break;default:D+="/"}break;case 123*E:a[A++]=Ao(D)*x;case 125*E:case 59:case 0:switch(P){case 0:case 125:C=0;case 59+p:x==-1&&(D=Nt(D,/\f/g,"")),b>0&&Ao(D)-g&&V0(b>32?zI(D+";",n,r,g-1):zI(Nt(D," ","")+";",n,r,g-2),l);break;case 59:D+=";";default:if(V0(k=jI(D,e,r,A,p,i,a,T,M=[],R=[],g),o),P===123)if(p===0)pp(D,e,k,k,M,o,g,a,R);else switch(v===99&&Jr(D,3)===110?100:v){case 100:case 108:case 109:case 115:pp(t,k,k,n&&V0(jI(t,k,k,0,0,i,a,T,i,M=[],g),R),i,R,g,a,n?M:R);break;default:pp(D,k,k,k,[""],R,0,a,R)}}A=p=b=0,E=x=1,T=D="",g=s;break;case 58:g=1+Ao(D),b=S;default:if(E<1){if(P==123)--E;else if(P==125&&E++==0&&kPe()==125)continue}switch(D+=lv(P),P*E){case 38:x=p>0?1:(D+="\f",-1);break;case 44:a[A++]=(Ao(D)-1)*x,x=1;break;case 64:Eo()===45&&(D+=dp(ei())),v=Eo(),p=g=Ao(T=D+=BPe(hp())),P++;break;case 45:S===45&&Ao(D)==2&&(E=0)}}return o}function jI(t,e,r,n,i,o,s,a,l,A,p){for(var g=i-1,v=i===0?o:[""],b=QT(v),S=0,E=0,C=0;S<n;++S)for(var x=0,P=zh(t,g+1,g=xPe(E=s[S])),T=t;x<b;++x)(T=zL(E>0?v[x]+" "+P:Nt(P,/&\f/g,v[x])))&&(l[C++]=T);return cv(t,e,r,i===0?YT:a,l,A,p)}function LPe(t,e,r){return cv(t,e,r,UL,lv(MPe()),zh(t,2,-2),0)}function zI(t,e,r,n){return cv(t,e,r,KT,zh(t,0,n),zh(t,n+1,-1),n)}function zu(t,e){for(var r="",n=QT(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function $Pe(t,e,r,n){switch(t.type){case TPe:if(t.children.length)break;case EPe:case KT:return t.return=t.return||t.value;case UL:return"";case jL:return t.return=t.value+"{"+zu(t.children,n)+"}";case YT:t.value=t.props.join(",")}return Ao(r=zu(t.children,n))?t.return=t.value+"{"+r+"}":""}function UPe(t){var e=QT(t);return function(r,n,i,o){for(var s="",a=0;a<e;a++)s+=t[a](r,n,i,o)||"";return s}}function jPe(t){return function(e){e.root||(e=e.return)&&t(e)}}function XL(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var zPe=function(e,r,n){for(var i=0,o=0;i=o,o=Eo(),i===38&&o===12&&(r[n]=1),!Vh(o);)ei();return bd(e,$n)},VPe=function(e,r){var n=-1,i=44;do switch(Vh(i)){case 0:i===38&&Eo()===12&&(r[n]=1),e[n]+=zPe($n-1,r,n);break;case 2:e[n]+=dp(i);break;case 4:if(i===44){e[++n]=Eo()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=lv(i)}while(i=ei());return e},WPe=function(e,r){return HL(VPe(WL(e),r))},VI=new WeakMap,HPe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!VI.get(n))&&!i){VI.set(e,!0);for(var o=[],s=WPe(r,o),a=n.props,l=0,A=0;l<s.length;l++)for(var p=0;p<a.length;p++,A++)e.props[A]=o[l]?s[l].replace(/&\f/g,a[p]):a[p]+" "+s[l]}}},XPe=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function YL(t,e){switch(CPe(t,e)){case 5103:return It+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return It+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return It+t+Am+t+fn+t+t;case 6828:case 4268:return It+t+fn+t+t;case 6165:return It+t+fn+"flex-"+t+t;case 5187:return It+t+Nt(t,/(\w+).+(:[^]+)/,It+"box-$1$2"+fn+"flex-$1$2")+t;case 5443:return It+t+fn+"flex-item-"+Nt(t,/flex-|-self/,"")+t;case 4675:return It+t+fn+"flex-line-pack"+Nt(t,/align-content|flex-|-self/,"")+t;case 5548:return It+t+fn+Nt(t,"shrink","negative")+t;case 5292:return It+t+fn+Nt(t,"basis","preferred-size")+t;case 6060:return It+"box-"+Nt(t,"-grow","")+It+t+fn+Nt(t,"grow","positive")+t;case 4554:return It+Nt(t,/([^-])(transform)/g,"$1"+It+"$2")+t;case 6187:return Nt(Nt(Nt(t,/(zoom-|grab)/,It+"$1"),/(image-set)/,It+"$1"),t,"")+t;case 5495:case 3959:return Nt(t,/(image-set\([^]*)/,It+"$1$`$1");case 4968:return Nt(Nt(t,/(.+:)(flex-)?(.*)/,It+"box-pack:$3"+fn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+It+t+t;case 4095:case 3583:case 4068:case 2532:return Nt(t,/(.+)-inline(.+)/,It+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ao(t)-1-e>6)switch(Jr(t,e+1)){case 109:if(Jr(t,e+4)!==45)break;case 102:return Nt(t,/(.+:)(.+)-([^]+)/,"$1"+It+"$2-$3$1"+Am+(Jr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Kw(t,"stretch")?YL(Nt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Jr(t,e+1)!==115)break;case 6444:switch(Jr(t,Ao(t)-3-(~Kw(t,"!important")&&10))){case 107:return Nt(t,":",":"+It)+t;case 101:return Nt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+It+(Jr(t,14)===45?"inline-":"")+"box$3$1"+It+"$2$3$1"+fn+"$2box$3")+t}break;case 5936:switch(Jr(t,e+11)){case 114:return It+t+fn+Nt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return It+t+fn+Nt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return It+t+fn+Nt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return It+t+fn+t+t}return t}var YPe=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case KT:e.return=YL(e.value,e.length);break;case jL:return zu([zA(e,{value:Nt(e.value,"@","@"+It)})],i);case YT:if(e.length)return RPe(e.props,function(o){switch(OPe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return zu([zA(e,{props:[Nt(o,/:(read-\w+)/,":"+Am+"$1")]})],i);case"::placeholder":return zu([zA(e,{props:[Nt(o,/:(plac\w+)/,":"+It+"input-$1")]}),zA(e,{props:[Nt(o,/:(plac\w+)/,":"+Am+"$1")]}),zA(e,{props:[Nt(o,/:(plac\w+)/,fn+"input-$1")]})],i)}return""})}},KPe=[YPe],QPe=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(E){var C=E.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var i=e.stylisPlugins||KPe,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(E){for(var C=E.getAttribute("data-emotion").split(" "),x=1;x<C.length;x++)o[C[x]]=!0;a.push(E)});var l,A=[HPe,XPe];{var p,g=[$Pe,jPe(function(E){p.insert(E)})],v=UPe(A.concat(i,g)),b=function(C){return zu(FPe(C),v)};l=function(C,x,P,T){p=P,b(C?C+"{"+x.styles+"}":x.styles),T&&(S.inserted[x.name]=!0)}}var S={key:r,sheet:new SPe({key:r,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return S.sheet.hydrate(a),S},qPe=!0;function GPe(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(n+=i+" ")}),n}var KL=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||qPe===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},ZPe=function(e,r,n){KL(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var o=r;do e.insert(r===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function JPe(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var eCe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},tCe=!1,rCe=/[A-Z]|^ms/g,nCe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,QL=function(e){return e.charCodeAt(1)===45},WI=function(e){return e!=null&&typeof e!="boolean"},E1=XL(function(t){return QL(t)?t:t.replace(rCe,"-$&").toLowerCase()}),HI=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(nCe,function(n,i,o){return fo={name:i,styles:o,next:fo},i})}return eCe[e]!==1&&!QL(e)&&typeof r=="number"&&r!==0?r+"px":r},iCe="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Wh(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var i=r;if(i.anim===1)return fo={name:i.name,styles:i.styles,next:fo},i.name;var o=r;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)fo={name:s.name,styles:s.styles,next:fo},s=s.next;var a=o.styles+";";return a}return oCe(t,e,r)}case"function":{if(t!==void 0){var l=fo,A=r(t);return fo=l,Wh(t,e,A)}break}}var p=r;if(e==null)return p;var g=e[p];return g!==void 0?g:p}function oCe(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Wh(t,e,r[i])+";";else for(var o in r){var s=r[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?n+=o+"{"+e[a]+"}":WI(a)&&(n+=E1(o)+":"+HI(o,a)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&tCe)throw new Error(iCe);if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)WI(s[l])&&(n+=E1(o)+":"+HI(o,s[l])+";");else{var A=Wh(t,e,s);switch(o){case"animation":case"animationName":{n+=E1(o)+":"+A+";";break}default:n+=o+"{"+A+"}"}}}}return n}var XI=/label:\s*([^\s;{]+)\s*(;|$)/g,fo;function qL(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,i="";fo=void 0;var o=t[0];if(o==null||o.raw===void 0)n=!1,i+=Wh(r,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=Wh(r,e,t[a]),n){var l=o;i+=l[a]}XI.lastIndex=0;for(var A="",p;(p=XI.exec(i))!==null;)A+="-"+p[1];var g=JPe(i)+A;return{name:g,styles:i,next:fo}}var sCe=function(e){return e()},aCe=R1["useInsertionEffect"]?R1["useInsertionEffect"]:!1,lCe=aCe||sCe,GL=te.createContext(typeof HTMLElement<"u"?QPe({key:"css"}):null);GL.Provider;var uCe=function(e){return te.forwardRef(function(r,n){var i=te.useContext(GL);return e(r,i,n)})},ZL=te.createContext({}),cCe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ACe=XL(function(t){return cCe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),fCe=!1,hCe=ACe,dCe=function(e){return e!=="theme"},YI=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?hCe:dCe},KI=function(e,r,n){var i;if(r){var o=r.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},pCe=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return KL(r,n,i),lCe(function(){return ZPe(r,n,i)}),null},gCe=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,o,s;r!==void 0&&(o=r.label,s=r.target);var a=KI(e,r,n),l=a||YI(i),A=!l("as");return function(){var p=arguments,g=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&g.push("label:"+o+";"),p[0]==null||p[0].raw===void 0)g.push.apply(g,p);else{var v=p[0];g.push(v[0]);for(var b=p.length,S=1;S<b;S++)g.push(p[S],v[S])}var E=uCe(function(C,x,P){var T=A&&C.as||i,M="",R=[],k=C;if(C.theme==null){k={};for(var D in C)k[D]=C[D];k.theme=te.useContext(ZL)}typeof C.className=="string"?M=GPe(x.registered,R,C.className):C.className!=null&&(M=C.className+" ");var $=qL(g.concat(R),x.registered,k);M+=x.key+"-"+$.name,s!==void 0&&(M+=" "+s);var W=A&&a===void 0?YI(T):l,N={};for(var H in C)A&&H==="as"||W(H)&&(N[H]=C[H]);return N.className=M,P&&(N.ref=P),te.createElement(te.Fragment,null,te.createElement(pCe,{cache:x,serialized:$,isStringTag:typeof T=="string"}),te.createElement(T,N))});return E.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",E.defaultProps=e.defaultProps,E.__emotion_real=E,E.__emotion_base=i,E.__emotion_styles=g,E.__emotion_forwardProp=a,Object.defineProperty(E,"toString",{value:function(){return s===void 0&&fCe?"NO_COMPONENT_SELECTOR":"."+s}}),E.withComponent=function(C,x){var P=t(C,vw({},r,x,{shouldForwardProp:KI(E,x,!0)}));return P.apply(void 0,g)},E}},mCe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],qw=gCe.bind(null);mCe.forEach(function(t){qw[t]=qw(t)});/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function yCe(t,e){return qw(t,e)}function vCe(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const QI=[];function qI(t){return QI[0]=t,qL(QI)}const _Ce=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>({...r,[n.key]:n.val}),{})};function bCe(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5,...i}=t,o=_Ce(e),s=Object.keys(o);function a(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${r})`}function l(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-n/100}${r})`}function A(v,b){const S=s.indexOf(b);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${r}) and (max-width:${(S!==-1&&typeof e[s[S]]=="number"?e[s[S]]:b)-n/100}${r})`}function p(v){return s.indexOf(v)+1<s.length?A(v,s[s.indexOf(v)+1]):a(v)}function g(v){const b=s.indexOf(v);return b===0?a(s[1]):b===s.length-1?l(s[b]):A(v,s[s.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:s,values:o,up:a,down:l,between:A,only:p,not:g,unit:r,...i}}const wCe={borderRadius:4},SCe=wCe;function JL(t=8,e=HT({spacing:t})){if(t.mui)return t;const r=(...n)=>(n.length===0?[1]:n).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return r.mui=!0,r}function ECe(t,e){var n;const r=this;if(r.vars){if(!((n=r.colorSchemes)!=null&&n[t])||typeof r.getColorSchemeSelector!="function")return{};let i=r.getColorSchemeSelector(t);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return r.palette.mode===t?e:{}}function qT(t={},...e){const{breakpoints:r={},palette:n={},spacing:i,shape:o={},...s}=t,a=bCe(r),l=JL(i);let A=Jn({breakpoints:a,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:l,shape:{...SCe,...o}},s);return A=C3e(A),A.applyStyles=ECe,A=e.reduce((p,g)=>Jn(p,g),A),A.unstable_sxConfig={..._d,...s==null?void 0:s.unstable_sxConfig},A.unstable_sx=function(g){return jh({sx:g,theme:this})},A}function TCe(t){return Object.keys(t).length===0}function xCe(t=null){const e=te.useContext(ZL);return!e||TCe(e)?t:e}const PCe=qT();function CCe(t=PCe){return xCe(t)}function e$(t){const{variants:e,...r}=t,n={variants:e,style:qI(r),isProcessed:!0};return n.style===r||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=qI(i.style))}),n}const OCe=qT();function T1(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function RCe(t){return t?(e,r)=>r[t]:null}function MCe(t,e,r){t.theme=NCe(t.theme)?r:t.theme[e]||t.theme}function gp(t,e){const r=typeof e=="function"?e(t):e;if(Array.isArray(r))return r.flatMap(n=>gp(t,n));if(Array.isArray(r==null?void 0:r.variants)){let n;if(r.isProcessed)n=r.style;else{const{variants:i,...o}=r;n=o}return t$(t,r.variants,[n])}return r!=null&&r.isProcessed?r.style:r}function t$(t,e,r=[]){var i;let n;e:for(let o=0;o<e.length;o+=1){const s=e[o];if(typeof s.props=="function"){if(n??(n={...t,...t.ownerState,ownerState:t.ownerState}),!s.props(n))continue}else for(const a in s.props)if(t[a]!==s.props[a]&&((i=t.ownerState)==null?void 0:i[a])!==s.props[a])continue e;typeof s.style=="function"?(n??(n={...t,...t.ownerState,ownerState:t.ownerState}),r.push(s.style(n))):r.push(s.style)}return r}function kCe(t={}){const{themeId:e,defaultTheme:r=OCe,rootShouldForwardProp:n=T1,slotShouldForwardProp:i=T1}=t;function o(a){MCe(a,e,r)}return(a,l={})=>{vCe(a,R=>R.filter(k=>k!==jh));const{name:A,slot:p,skipVariantsResolver:g,skipSx:v,overridesResolver:b=RCe(BCe(p)),...S}=l,E=g!==void 0?g:p&&p!=="Root"&&p!=="root"||!1,C=v||!1;let x=T1;p==="Root"||p==="root"?x=n:p?x=i:DCe(a)&&(x=void 0);const P=yCe(a,{shouldForwardProp:x,label:ICe(),...S}),T=R=>{if(typeof R=="function"&&R.__emotion_real!==R)return function(D){return gp(D,R)};if(go(R)){const k=e$(R);return k.variants?function($){return gp($,k)}:k.style}return R},M=(...R)=>{const k=[],D=R.map(T),$=[];if(k.push(o),A&&b&&$.push(function(Q){var ue,pe;const ne=(pe=(ue=Q.theme.components)==null?void 0:ue[A])==null?void 0:pe.styleOverrides;if(!ne)return null;const J={};for(const le in ne)J[le]=gp(Q,ne[le]);return b(Q,J)}),A&&!E&&$.push(function(Q){var J,ue;const re=Q.theme,ne=(ue=(J=re==null?void 0:re.components)==null?void 0:J[A])==null?void 0:ue.variants;return ne?t$(Q,ne):null}),C||$.push(jh),Array.isArray(D[0])){const H=D.shift(),Q=new Array(k.length).fill(""),re=new Array($.length).fill("");let ne;ne=[...Q,...H,...re],ne.raw=[...Q,...H.raw,...re],k.unshift(ne)}const W=[...k,...D,...$],N=P(...W);return a.muiName&&(N.muiName=a.muiName),N};return P.withConfig&&(M.withConfig=P.withConfig),M}}function ICe(t,e){let r;return r}function NCe(t){for(const e in t)return!1;return!0}function DCe(t){return typeof t=="string"&&t.charCodeAt(0)>96}function BCe(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function GT(t,e=0,r=1){return Jxe(t,e,r)}function FCe(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function ta(t){if(t.type)return t;if(t.charAt(0)==="#")return ta(FCe(t));const e=t.indexOf("("),r=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(r))throw new Error(cl(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(cl(10,i))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:r,values:n,colorSpace:i}}const LCe=t=>{const e=ta(t);return e.values.slice(0,3).map((r,n)=>e.type.includes("hsl")&&n!==0?`${r}%`:r).join(" ")},tf=(t,e)=>{try{return LCe(t)}catch{return t}};function Av(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.includes("rgb")?n=n.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.includes("color")?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function r$(t){t=ta(t);const{values:e}=t,r=e[0],n=e[1]/100,i=e[2]/100,o=n*Math.min(i,1-i),s=(A,p=(A+r/30)%12)=>i-o*Math.max(Math.min(p-3,9-p,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Av({type:a,values:l})}function Gw(t){t=ta(t);let e=t.type==="hsl"||t.type==="hsla"?ta(r$(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function $Ce(t,e){const r=Gw(t),n=Gw(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function Zw(t,e){return t=ta(t),e=GT(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Av(t)}function W0(t,e,r){try{return Zw(t,e)}catch{return t}}function ZT(t,e){if(t=ta(t),e=GT(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]*=1-e;return Av(t)}function Qt(t,e,r){try{return ZT(t,e)}catch{return t}}function JT(t,e){if(t=ta(t),e=GT(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.includes("color"))for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return Av(t)}function qt(t,e,r){try{return JT(t,e)}catch{return t}}function UCe(t,e=.15){return Gw(t)>.5?ZT(t,e):JT(t,e)}function H0(t,e,r){try{return UCe(t,e)}catch{return t}}const jCe=te.createContext(void 0);function zCe(t){const{theme:e,name:r,props:n}=t;if(!e||!e.components||!e.components[r])return n;const i=e.components[r];return i.defaultProps?Yw(i.defaultProps,n):!i.styleOverrides&&!i.variants?Yw(i,n):n}function VCe({props:t,name:e}){const r=te.useContext(jCe);return zCe({props:t,name:e,theme:{components:r}})}const GI={theme:void 0};function WCe(t){let e,r;return function(i){let o=e;return(o===void 0||i.theme!==r)&&(GI.theme=i.theme,o=e$(t(GI)),e=o,r=i.theme),o}}function HCe(t=""){function e(...n){if(!n.length)return"";const i=n[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...n.slice(1))})`:`, ${i}`}return(n,...i)=>`var(--${t?`${t}-`:""}${n}${e(...i)})`}const ZI=(t,e,r,n=[])=>{let i=t;e.forEach((o,s)=>{s===e.length-1?Array.isArray(i)?i[Number(o)]=r:i&&typeof i=="object"&&(i[o]=r):i&&typeof i=="object"&&(i[o]||(i[o]=n.includes(o)?[]:{}),i=i[o])})},XCe=(t,e,r)=>{function n(i,o=[],s=[]){Object.entries(i).forEach(([a,l])=>{(!r||r&&!r([...o,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?n(l,[...o,a],Array.isArray(l)?[...s,a]:s):e([...o,a],l,s))})}n(t)},YCe=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>t.includes(n))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function x1(t,e){const{prefix:r,shouldSkipGeneratingVar:n}=e||{},i={},o={},s={};return XCe(t,(a,l,A)=>{if((typeof l=="string"||typeof l=="number")&&(!n||!n(a,l))){const p=`--${r?`${r}-`:""}${a.join("-")}`,g=YCe(a,l);Object.assign(i,{[p]:g}),ZI(o,a,`var(${p})`,A),ZI(s,a,`var(${p}, ${g})`,A)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function KCe(t,e={}){const{getSelector:r=C,disableCssColorScheme:n,colorSchemeSelector:i}=e,{colorSchemes:o={},components:s,defaultColorScheme:a="light",...l}=t,{vars:A,css:p,varsWithDefaults:g}=x1(l,e);let v=g;const b={},{[a]:S,...E}=o;if(Object.entries(E||{}).forEach(([T,M])=>{const{vars:R,css:k,varsWithDefaults:D}=x1(M,e);v=Jn(v,D),b[T]={css:k,vars:R}}),S){const{css:T,vars:M,varsWithDefaults:R}=x1(S,e);v=Jn(v,R),b[a]={css:T,vars:M}}function C(T,M){var k,D;let R=i;if(i==="class"&&(R=".%s"),i==="data"&&(R="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(R=`[${i}="%s"]`),T){if(R==="media")return t.defaultColorScheme===T?":root":{[`@media (prefers-color-scheme: ${((D=(k=o[T])==null?void 0:k.palette)==null?void 0:D.mode)||T})`]:{":root":M}};if(R)return t.defaultColorScheme===T?`:root, ${R.replace("%s",String(T))}`:R.replace("%s",String(T))}return":root"}return{vars:v,generateThemeVars:()=>{let T={...A};return Object.entries(b).forEach(([,{vars:M}])=>{T=Jn(T,M)}),T},generateStyleSheets:()=>{var $,W;const T=[],M=t.defaultColorScheme||"light";function R(N,H){Object.keys(H).length&&T.push(typeof N=="string"?{[N]:{...H}}:N)}R(r(void 0,{...p}),p);const{[M]:k,...D}=b;if(k){const{css:N}=k,H=(W=($=o[M])==null?void 0:$.palette)==null?void 0:W.mode,Q=!n&&H?{colorScheme:H,...N}:{...N};R(r(M,{...Q}),Q)}return Object.entries(D).forEach(([N,{css:H}])=>{var ne,J;const Q=(J=(ne=o[N])==null?void 0:ne.palette)==null?void 0:J.mode,re=!n&&Q?{colorScheme:Q,...H}:{...H};R(r(N,{...re}),re)}),T}}}function QCe(t){return function(r){return t==="media"?`@media (prefers-color-scheme: ${r})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${r}"] &`:t==="class"?`.${r} &`:t==="data"?`[data-${r}] &`:`${t.replace("%s",r)} &`:"&"}}const qCe={black:"#000",white:"#fff"},Hh=qCe,GCe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ZCe=GCe,JCe={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Gl=JCe,eOe={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Zl=eOe,tOe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},VA=tOe,rOe={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Jl=rOe,nOe={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},eu=nOe,iOe={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},tu=iOe;function n$(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Hh.white,default:Hh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const oOe=n$();function i$(){return{text:{primary:Hh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Hh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const JI=i$();function e4(t,e,r,n){const i=n.light||n,o=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=JT(t.main,i):e==="dark"&&(t.dark=ZT(t.main,o)))}function sOe(t="light"){return t==="dark"?{main:Jl[200],light:Jl[50],dark:Jl[400]}:{main:Jl[700],light:Jl[400],dark:Jl[800]}}function aOe(t="light"){return t==="dark"?{main:Gl[200],light:Gl[50],dark:Gl[400]}:{main:Gl[500],light:Gl[300],dark:Gl[700]}}function lOe(t="light"){return t==="dark"?{main:Zl[500],light:Zl[300],dark:Zl[700]}:{main:Zl[700],light:Zl[400],dark:Zl[800]}}function uOe(t="light"){return t==="dark"?{main:eu[400],light:eu[300],dark:eu[700]}:{main:eu[700],light:eu[500],dark:eu[900]}}function cOe(t="light"){return t==="dark"?{main:tu[400],light:tu[300],dark:tu[700]}:{main:tu[800],light:tu[500],dark:tu[900]}}function AOe(t="light"){return t==="dark"?{main:VA[400],light:VA[300],dark:VA[700]}:{main:"#ed6c02",light:VA[500],dark:VA[900]}}function ex(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2,...i}=t,o=t.primary||sOe(e),s=t.secondary||aOe(e),a=t.error||lOe(e),l=t.info||uOe(e),A=t.success||cOe(e),p=t.warning||AOe(e);function g(E){return $Ce(E,JI.text.primary)>=r?JI.text.primary:oOe.text.primary}const v=({color:E,name:C,mainShade:x=500,lightShade:P=300,darkShade:T=700})=>{if(E={...E},!E.main&&E[x]&&(E.main=E[x]),!E.hasOwnProperty("main"))throw new Error(cl(11,C?` (${C})`:"",x));if(typeof E.main!="string")throw new Error(cl(12,C?` (${C})`:"",JSON.stringify(E.main)));return e4(E,"light",P,n),e4(E,"dark",T,n),E.contrastText||(E.contrastText=g(E.main)),E};let b;return e==="light"?b=n$():e==="dark"&&(b=i$()),Jn({common:{...Hh},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:a,name:"error"}),warning:v({color:p,name:"warning"}),info:v({color:l,name:"info"}),success:v({color:A,name:"success"}),grey:ZCe,contrastThreshold:r,getContrastText:g,augmentColor:v,tonalOffset:n,...b},i)}function fOe(t){const e={};return Object.entries(t).forEach(n=>{const[i,o]=n;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function hOe(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function dOe(t){return Math.round(t*1e5)/1e5}const t4={textTransform:"uppercase"},r4='"Roboto", "Helvetica", "Arial", sans-serif';function pOe(t,e){const{fontFamily:r=r4,fontSize:n=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:s=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:A,pxToRem:p,...g}=typeof e=="function"?e(t):e,v=n/14,b=p||(C=>`${C/l*v}rem`),S=(C,x,P,T,M)=>({fontFamily:r,fontWeight:C,fontSize:b(x),lineHeight:P,...r===r4?{letterSpacing:`${dOe(T/x)}em`}:{},...M,...A}),E={h1:S(i,96,1.167,-1.5),h2:S(i,60,1.2,-.5),h3:S(o,48,1.167,0),h4:S(o,34,1.235,.25),h5:S(o,24,1.334,0),h6:S(s,20,1.6,.15),subtitle1:S(o,16,1.75,.15),subtitle2:S(s,14,1.57,.1),body1:S(o,16,1.5,.15),body2:S(o,14,1.43,.15),button:S(s,14,1.75,.4,t4),caption:S(o,12,1.66,.4),overline:S(o,12,2.66,1,t4),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Jn({htmlFontSize:l,pxToRem:b,fontFamily:r,fontSize:n,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:s,fontWeightBold:a,...E},g,{clone:!1})}const gOe=.2,mOe=.14,yOe=.12;function ar(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${gOe})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${mOe})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${yOe})`].join(",")}const vOe=["none",ar(0,2,1,-1,0,1,1,0,0,1,3,0),ar(0,3,1,-2,0,2,2,0,0,1,5,0),ar(0,3,3,-2,0,3,4,0,0,1,8,0),ar(0,2,4,-1,0,4,5,0,0,1,10,0),ar(0,3,5,-1,0,5,8,0,0,1,14,0),ar(0,3,5,-1,0,6,10,0,0,1,18,0),ar(0,4,5,-2,0,7,10,1,0,2,16,1),ar(0,5,5,-3,0,8,10,1,0,3,14,2),ar(0,5,6,-3,0,9,12,1,0,3,16,2),ar(0,6,6,-3,0,10,14,1,0,4,18,3),ar(0,6,7,-4,0,11,15,1,0,4,20,3),ar(0,7,8,-4,0,12,17,2,0,5,22,4),ar(0,7,8,-4,0,13,19,2,0,5,24,4),ar(0,7,9,-4,0,14,21,2,0,5,26,4),ar(0,8,9,-5,0,15,22,2,0,6,28,5),ar(0,8,10,-5,0,16,24,2,0,6,30,5),ar(0,8,11,-5,0,17,26,2,0,6,32,5),ar(0,9,11,-5,0,18,28,2,0,7,34,6),ar(0,9,12,-6,0,19,29,2,0,7,36,6),ar(0,10,13,-6,0,20,31,3,0,8,38,7),ar(0,10,13,-6,0,21,33,3,0,8,40,7),ar(0,10,14,-6,0,22,35,3,0,8,42,7),ar(0,11,14,-7,0,23,36,3,0,9,44,8),ar(0,11,15,-7,0,24,38,3,0,9,46,8)],_Oe=vOe,bOe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},wOe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function n4(t){return`${Math.round(t)}ms`}function SOe(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function EOe(t){const e={...bOe,...t.easing},r={...wOe,...t.duration};return{getAutoHeightDuration:SOe,create:(i=["all"],o={})=>{const{duration:s=r.standard,easing:a=e.easeInOut,delay:l=0,...A}=o;return(Array.isArray(i)?i:[i]).map(p=>`${p} ${typeof s=="string"?s:n4(s)} ${a} ${typeof l=="string"?l:n4(l)}`).join(",")},...t,easing:e,duration:r}}const TOe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},xOe=TOe;function POe(t){return go(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function o$(t={}){const e={...t};function r(n){const i=Object.entries(n);for(let o=0;o<i.length;o++){const[s,a]=i[o];!POe(a)||s.startsWith("unstable_")?delete n[s]:go(a)&&(n[s]={...a},r(n[s]))}}return r(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Jw(t={},...e){const{breakpoints:r,mixins:n={},spacing:i,palette:o={},transitions:s={},typography:a={},shape:l,...A}=t;if(t.vars)throw new Error(cl(20));const p=ex(o),g=qT(t);let v=Jn(g,{mixins:hOe(g.breakpoints,n),palette:p,shadows:_Oe.slice(),typography:pOe(p,a),transitions:EOe(s),zIndex:{...xOe}});return v=Jn(v,A),v=e.reduce((b,S)=>Jn(b,S),v),v.unstable_sxConfig={..._d,...A==null?void 0:A.unstable_sxConfig},v.unstable_sx=function(S){return jh({sx:S,theme:this})},v.toRuntimeSource=o$,v}function eS(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const COe=[...Array(25)].map((t,e)=>{if(e===0)return"none";const r=eS(e);return`linear-gradient(rgba(255 255 255 / ${r}), rgba(255 255 255 / ${r}))`});function s$(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function a$(t){return t==="dark"?COe:[]}function OOe(t){const{palette:e={mode:"light"},opacity:r,overlays:n,...i}=t,o=ex(e);return{palette:o,opacity:{...s$(o.mode),...r},overlays:n||a$(o.mode),...i}}function ROe(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const MOe=t=>[...[...Array(25)].map((e,r)=>`--${t?`${t}-`:""}overlays-${r}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],kOe=MOe,IOe=t=>(e,r)=>{const n=t.rootSelector||":root",i=t.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return kOe(t.cssVarPrefix).forEach(a=>{s[a]=r[a],delete r[a]}),o==="media"?{[n]:r,"@media (prefers-color-scheme: dark)":{[n]:s}}:o?{[o.replace("%s",e)]:s,[`${n}, ${o.replace("%s",e)}`]:r}:{[n]:{...r,...s}}}if(o&&o!=="media")return`${n}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[n]:r}};if(o)return o.replace("%s",String(e))}return n};function NOe(t,e){e.forEach(r=>{t[r]||(t[r]={})})}function ve(t,e,r){!t[e]&&r&&(t[e]=r)}function rf(t){return typeof t!="string"||!t.startsWith("hsl")?t:r$(t)}function No(t,e){`${e}Channel`in t||(t[`${e}Channel`]=tf(rf(t[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function DOe(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const uo=t=>{try{return t()}catch{}},BOe=(t="mui")=>HCe(t);function P1(t,e,r,n){if(!e)return;e=e===!0?{}:e;const i=n==="dark"?"dark":"light";if(!r){t[n]=OOe({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...s}=Jw({...r,palette:{mode:i,...e==null?void 0:e.palette}});return t[n]={...e,palette:o,opacity:{...s$(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||a$(i)},s}function FOe(t={},...e){const{colorSchemes:r={light:!0},defaultColorScheme:n,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:s=ROe,colorSchemeSelector:a=r.light&&r.dark?"media":void 0,rootSelector:l=":root",...A}=t,p=Object.keys(r)[0],g=n||(r.light&&p!=="light"?"light":p),v=BOe(o),{[g]:b,light:S,dark:E,...C}=r,x={...C};let P=b;if((g==="dark"&&!("dark"in r)||g==="light"&&!("light"in r))&&(P=!0),!P)throw new Error(cl(21,g));const T=P1(x,P,A,g);S&&!x.light&&P1(x,S,void 0,"light"),E&&!x.dark&&P1(x,E,void 0,"dark");let M={defaultColorScheme:g,...T,cssVarPrefix:o,colorSchemeSelector:a,rootSelector:l,getCssVar:v,colorSchemes:x,font:{...fOe(T.typography),...T.font},spacing:DOe(A.spacing)};Object.keys(M.colorSchemes).forEach(W=>{const N=M.colorSchemes[W].palette,H=Q=>{const re=Q.split("-"),ne=re[1],J=re[2];return v(Q,N[ne][J])};if(N.mode==="light"&&(ve(N.common,"background","#fff"),ve(N.common,"onBackground","#000")),N.mode==="dark"&&(ve(N.common,"background","#000"),ve(N.common,"onBackground","#fff")),NOe(N,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),N.mode==="light"){ve(N.Alert,"errorColor",Qt(N.error.light,.6)),ve(N.Alert,"infoColor",Qt(N.info.light,.6)),ve(N.Alert,"successColor",Qt(N.success.light,.6)),ve(N.Alert,"warningColor",Qt(N.warning.light,.6)),ve(N.Alert,"errorFilledBg",H("palette-error-main")),ve(N.Alert,"infoFilledBg",H("palette-info-main")),ve(N.Alert,"successFilledBg",H("palette-success-main")),ve(N.Alert,"warningFilledBg",H("palette-warning-main")),ve(N.Alert,"errorFilledColor",uo(()=>N.getContrastText(N.error.main))),ve(N.Alert,"infoFilledColor",uo(()=>N.getContrastText(N.info.main))),ve(N.Alert,"successFilledColor",uo(()=>N.getContrastText(N.success.main))),ve(N.Alert,"warningFilledColor",uo(()=>N.getContrastText(N.warning.main))),ve(N.Alert,"errorStandardBg",qt(N.error.light,.9)),ve(N.Alert,"infoStandardBg",qt(N.info.light,.9)),ve(N.Alert,"successStandardBg",qt(N.success.light,.9)),ve(N.Alert,"warningStandardBg",qt(N.warning.light,.9)),ve(N.Alert,"errorIconColor",H("palette-error-main")),ve(N.Alert,"infoIconColor",H("palette-info-main")),ve(N.Alert,"successIconColor",H("palette-success-main")),ve(N.Alert,"warningIconColor",H("palette-warning-main")),ve(N.AppBar,"defaultBg",H("palette-grey-100")),ve(N.Avatar,"defaultBg",H("palette-grey-400")),ve(N.Button,"inheritContainedBg",H("palette-grey-300")),ve(N.Button,"inheritContainedHoverBg",H("palette-grey-A100")),ve(N.Chip,"defaultBorder",H("palette-grey-400")),ve(N.Chip,"defaultAvatarColor",H("palette-grey-700")),ve(N.Chip,"defaultIconColor",H("palette-grey-700")),ve(N.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ve(N.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ve(N.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ve(N.LinearProgress,"primaryBg",qt(N.primary.main,.62)),ve(N.LinearProgress,"secondaryBg",qt(N.secondary.main,.62)),ve(N.LinearProgress,"errorBg",qt(N.error.main,.62)),ve(N.LinearProgress,"infoBg",qt(N.info.main,.62)),ve(N.LinearProgress,"successBg",qt(N.success.main,.62)),ve(N.LinearProgress,"warningBg",qt(N.warning.main,.62)),ve(N.Skeleton,"bg",`rgba(${H("palette-text-primaryChannel")} / 0.11)`),ve(N.Slider,"primaryTrack",qt(N.primary.main,.62)),ve(N.Slider,"secondaryTrack",qt(N.secondary.main,.62)),ve(N.Slider,"errorTrack",qt(N.error.main,.62)),ve(N.Slider,"infoTrack",qt(N.info.main,.62)),ve(N.Slider,"successTrack",qt(N.success.main,.62)),ve(N.Slider,"warningTrack",qt(N.warning.main,.62));const Q=H0(N.background.default,.8);ve(N.SnackbarContent,"bg",Q),ve(N.SnackbarContent,"color",uo(()=>N.getContrastText(Q))),ve(N.SpeedDialAction,"fabHoverBg",H0(N.background.paper,.15)),ve(N.StepConnector,"border",H("palette-grey-400")),ve(N.StepContent,"border",H("palette-grey-400")),ve(N.Switch,"defaultColor",H("palette-common-white")),ve(N.Switch,"defaultDisabledColor",H("palette-grey-100")),ve(N.Switch,"primaryDisabledColor",qt(N.primary.main,.62)),ve(N.Switch,"secondaryDisabledColor",qt(N.secondary.main,.62)),ve(N.Switch,"errorDisabledColor",qt(N.error.main,.62)),ve(N.Switch,"infoDisabledColor",qt(N.info.main,.62)),ve(N.Switch,"successDisabledColor",qt(N.success.main,.62)),ve(N.Switch,"warningDisabledColor",qt(N.warning.main,.62)),ve(N.TableCell,"border",qt(W0(N.divider,1),.88)),ve(N.Tooltip,"bg",W0(N.grey[700],.92))}if(N.mode==="dark"){ve(N.Alert,"errorColor",qt(N.error.light,.6)),ve(N.Alert,"infoColor",qt(N.info.light,.6)),ve(N.Alert,"successColor",qt(N.success.light,.6)),ve(N.Alert,"warningColor",qt(N.warning.light,.6)),ve(N.Alert,"errorFilledBg",H("palette-error-dark")),ve(N.Alert,"infoFilledBg",H("palette-info-dark")),ve(N.Alert,"successFilledBg",H("palette-success-dark")),ve(N.Alert,"warningFilledBg",H("palette-warning-dark")),ve(N.Alert,"errorFilledColor",uo(()=>N.getContrastText(N.error.dark))),ve(N.Alert,"infoFilledColor",uo(()=>N.getContrastText(N.info.dark))),ve(N.Alert,"successFilledColor",uo(()=>N.getContrastText(N.success.dark))),ve(N.Alert,"warningFilledColor",uo(()=>N.getContrastText(N.warning.dark))),ve(N.Alert,"errorStandardBg",Qt(N.error.light,.9)),ve(N.Alert,"infoStandardBg",Qt(N.info.light,.9)),ve(N.Alert,"successStandardBg",Qt(N.success.light,.9)),ve(N.Alert,"warningStandardBg",Qt(N.warning.light,.9)),ve(N.Alert,"errorIconColor",H("palette-error-main")),ve(N.Alert,"infoIconColor",H("palette-info-main")),ve(N.Alert,"successIconColor",H("palette-success-main")),ve(N.Alert,"warningIconColor",H("palette-warning-main")),ve(N.AppBar,"defaultBg",H("palette-grey-900")),ve(N.AppBar,"darkBg",H("palette-background-paper")),ve(N.AppBar,"darkColor",H("palette-text-primary")),ve(N.Avatar,"defaultBg",H("palette-grey-600")),ve(N.Button,"inheritContainedBg",H("palette-grey-800")),ve(N.Button,"inheritContainedHoverBg",H("palette-grey-700")),ve(N.Chip,"defaultBorder",H("palette-grey-700")),ve(N.Chip,"defaultAvatarColor",H("palette-grey-300")),ve(N.Chip,"defaultIconColor",H("palette-grey-300")),ve(N.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ve(N.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ve(N.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ve(N.LinearProgress,"primaryBg",Qt(N.primary.main,.5)),ve(N.LinearProgress,"secondaryBg",Qt(N.secondary.main,.5)),ve(N.LinearProgress,"errorBg",Qt(N.error.main,.5)),ve(N.LinearProgress,"infoBg",Qt(N.info.main,.5)),ve(N.LinearProgress,"successBg",Qt(N.success.main,.5)),ve(N.LinearProgress,"warningBg",Qt(N.warning.main,.5)),ve(N.Skeleton,"bg",`rgba(${H("palette-text-primaryChannel")} / 0.13)`),ve(N.Slider,"primaryTrack",Qt(N.primary.main,.5)),ve(N.Slider,"secondaryTrack",Qt(N.secondary.main,.5)),ve(N.Slider,"errorTrack",Qt(N.error.main,.5)),ve(N.Slider,"infoTrack",Qt(N.info.main,.5)),ve(N.Slider,"successTrack",Qt(N.success.main,.5)),ve(N.Slider,"warningTrack",Qt(N.warning.main,.5));const Q=H0(N.background.default,.98);ve(N.SnackbarContent,"bg",Q),ve(N.SnackbarContent,"color",uo(()=>N.getContrastText(Q))),ve(N.SpeedDialAction,"fabHoverBg",H0(N.background.paper,.15)),ve(N.StepConnector,"border",H("palette-grey-600")),ve(N.StepContent,"border",H("palette-grey-600")),ve(N.Switch,"defaultColor",H("palette-grey-300")),ve(N.Switch,"defaultDisabledColor",H("palette-grey-600")),ve(N.Switch,"primaryDisabledColor",Qt(N.primary.main,.55)),ve(N.Switch,"secondaryDisabledColor",Qt(N.secondary.main,.55)),ve(N.Switch,"errorDisabledColor",Qt(N.error.main,.55)),ve(N.Switch,"infoDisabledColor",Qt(N.info.main,.55)),ve(N.Switch,"successDisabledColor",Qt(N.success.main,.55)),ve(N.Switch,"warningDisabledColor",Qt(N.warning.main,.55)),ve(N.TableCell,"border",Qt(W0(N.divider,1),.68)),ve(N.Tooltip,"bg",W0(N.grey[700],.92))}No(N.background,"default"),No(N.background,"paper"),No(N.common,"background"),No(N.common,"onBackground"),No(N,"divider"),Object.keys(N).forEach(Q=>{const re=N[Q];Q!=="tonalOffset"&&re&&typeof re=="object"&&(re.main&&ve(N[Q],"mainChannel",tf(rf(re.main))),re.light&&ve(N[Q],"lightChannel",tf(rf(re.light))),re.dark&&ve(N[Q],"darkChannel",tf(rf(re.dark))),re.contrastText&&ve(N[Q],"contrastTextChannel",tf(rf(re.contrastText))),Q==="text"&&(No(N[Q],"primary"),No(N[Q],"secondary")),Q==="action"&&(re.active&&No(N[Q],"active"),re.selected&&No(N[Q],"selected")))})}),M=e.reduce((W,N)=>Jn(W,N),M);const R={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:s,getSelector:IOe(M)},{vars:k,generateThemeVars:D,generateStyleSheets:$}=KCe(M,R);return M.vars=k,Object.entries(M.colorSchemes[M.defaultColorScheme]).forEach(([W,N])=>{M[W]=N}),M.generateThemeVars=D,M.generateStyleSheets=$,M.generateSpacing=function(){return JL(A.spacing,HT(this))},M.getColorSchemeSelector=QCe(a),M.spacing=M.generateSpacing(),M.shouldSkipGeneratingVar=s,M.unstable_sxConfig={..._d,...A==null?void 0:A.unstable_sxConfig},M.unstable_sx=function(N){return jh({sx:N,theme:this})},M.toRuntimeSource=o$,M}function i4(t,e,r){t.colorSchemes&&r&&(t.colorSchemes[e]={...r!==!0&&r,palette:ex({...r===!0?{}:r.palette,mode:e})})}function LOe(t={},...e){const{palette:r,cssVariables:n=!1,colorSchemes:i=r?void 0:{light:!0},defaultColorScheme:o=r==null?void 0:r.mode,...s}=t,a=o||"light",l=i==null?void 0:i[a],A={...i,...r?{[a]:{...typeof l!="boolean"&&l,palette:r}}:void 0};if(n===!1){if(!("colorSchemes"in t))return Jw(t,...e);let p=r;"palette"in t||A[a]&&(A[a]!==!0?p=A[a].palette:a==="dark"&&(p={mode:"dark"}));const g=Jw({...t,palette:p},...e);return g.defaultColorScheme=a,g.colorSchemes=A,g.palette.mode==="light"&&(g.colorSchemes.light={...A.light!==!0&&A.light,palette:g.palette},i4(g,"dark",A.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...A.dark!==!0&&A.dark,palette:g.palette},i4(g,"light",A.light)),g}return!r&&!("light"in A)&&a==="light"&&(A.light=!0),FOe({...s,colorSchemes:A,defaultColorScheme:a,...typeof n!="boolean"&&n},...e)}const $Oe=LOe(),l$=$Oe,u$="$$material";function tx(){const t=CCe(l$);return t[u$]||t}function UOe(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const jOe=t=>UOe(t)&&t!=="classes",zOe=jOe,VOe=kCe({themeId:u$,defaultTheme:l$,rootShouldForwardProp:zOe}),Ji=VOe;function WOe(){return vPe}const HOe=WCe,wd=HOe;function Tl(t){return VCe(t)}function $o(t,e){const{className:r,elementType:n,ownerState:i,externalForwardedProps:o,internalForwardedProps:s,shouldForwardComponentProp:a=!1,...l}=e,{component:A,slots:p={[t]:void 0},slotProps:g={[t]:void 0},...v}=o,b=p[t]||n,S=n3e(g[t],i),{props:{component:E,...C},internalRef:x}=r3e({className:r,...l,externalForwardedProps:t==="root"?v:void 0,externalSlotProps:S}),P=Zc(x,S==null?void 0:S.ref,e.ref),T=t==="root"?E||A:E,M=t3e(b,{...t==="root"&&!A&&!p[t]&&s,...t!=="root"&&!p[t]&&s,...C,...T&&!a&&{as:T},...T&&a&&{component:T},ref:P},i);return[b,M]}const XOe=t=>t.scrollTop;function o4(t,e){const{timeout:r,easing:n,style:i={}}=t;return{duration:i.transitionDuration??(typeof r=="number"?r:r[e.mode]||0),easing:i.transitionTimingFunction??(typeof n=="object"?n[e.mode]:n),delay:i.transitionDelay}}const YOe={entering:{opacity:1},entered:{opacity:1}},KOe=te.forwardRef(function(e,r){const n=tx(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:A,onEnter:p,onEntered:g,onEntering:v,onExit:b,onExited:S,onExiting:E,style:C,timeout:x=i,TransitionComponent:P=Jbe,...T}=e,M=te.useRef(null),R=Zc(M,zT(a),r),k=ne=>J=>{if(ne){const ue=M.current;J===void 0?ne(ue):ne(ue,J)}},D=k(v),$=k((ne,J)=>{XOe(ne);const ue=o4({style:C,timeout:x,easing:l},{mode:"enter"});ne.style.webkitTransition=n.transitions.create("opacity",ue),ne.style.transition=n.transitions.create("opacity",ue),p&&p(ne,J)}),W=k(g),N=k(E),H=k(ne=>{const J=o4({style:C,timeout:x,easing:l},{mode:"exit"});ne.style.webkitTransition=n.transitions.create("opacity",J),ne.style.transition=n.transitions.create("opacity",J),b&&b(ne)}),Q=k(S),re=ne=>{o&&o(M.current,ne)};return Lr.jsx(P,{appear:s,in:A,nodeRef:M,onEnter:$,onEntered:W,onEntering:D,onExit:H,onExited:Q,onExiting:N,addEndListener:re,timeout:x,...T,children:(ne,{ownerState:J,...ue})=>te.cloneElement(a,{style:{opacity:0,visibility:ne==="exited"&&!A?"hidden":void 0,...YOe[ne],...C,...a.props.style},ref:R,...ue})})}),tS=KOe;function QOe(t){return da("MuiBackdrop",t)}El("MuiBackdrop",["root","invisible"]);const qOe=t=>{const{classes:e,invisible:r}=t;return Sl({root:["root",r&&"invisible"]},QOe,e)},GOe=Ji("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),ZOe=te.forwardRef(function(e,r){const n=Tl({props:e,name:"MuiBackdrop"}),{children:i,className:o,component:s="div",invisible:a=!1,open:l,components:A={},componentsProps:p={},slotProps:g={},slots:v={},TransitionComponent:b,transitionDuration:S,...E}=n,C={...n,component:s,invisible:a},x=qOe(C),P={transition:b,root:A.Root,...v},T={...p,...g},M={slots:P,slotProps:T},[R,k]=$o("root",{elementType:GOe,externalForwardedProps:M,className:ct(x.root,o),ownerState:C}),[D,$]=$o("transition",{elementType:tS,externalForwardedProps:M,ownerState:C});return Lr.jsx(D,{in:l,timeout:S,...E,...$,children:Lr.jsx(R,{"aria-hidden":!0,...k,classes:x,ref:r,children:i})})}),c$=ZOe;function JOe(t){return typeof t=="function"?t():t}function eRe(t){return t?t.props.hasOwnProperty("in"):!1}const s4=()=>{},X0=new l3e;function tRe(t){const{container:e,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,closeAfterTransition:i=!1,onTransitionEnter:o,onTransitionExited:s,children:a,onClose:l,open:A,rootRef:p}=t,g=te.useRef({}),v=te.useRef(null),b=te.useRef(null),S=Zc(b,p),[E,C]=te.useState(!A),x=eRe(a);let P=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(P=!1);const T=()=>Al(v.current),M=()=>(g.current.modalRef=b.current,g.current.mount=v.current,g.current),R=()=>{X0.mount(M(),{disableScrollLock:n}),b.current&&(b.current.scrollTop=0)},k=NI(()=>{const J=JOe(e)||T().body;X0.add(M(),J),b.current&&R()}),D=()=>X0.isTopModal(M()),$=NI(J=>{v.current=J,J&&(A&&D()?R():b.current&&Ef(b.current,P))}),W=te.useCallback(()=>{X0.remove(M(),P)},[P]);te.useEffect(()=>()=>{W()},[W]),te.useEffect(()=>{A?k():(!x||!i)&&W()},[A,W,x,i,k]);const N=J=>ue=>{var pe;(pe=J.onKeyDown)==null||pe.call(J,ue),!(ue.key!=="Escape"||ue.which===229||!D())&&(r||(ue.stopPropagation(),l&&l(ue,"escapeKeyDown")))},H=J=>ue=>{var pe;(pe=J.onClick)==null||pe.call(J,ue),ue.target===ue.currentTarget&&l&&l(ue,"backdropClick")};return{getRootProps:(J={})=>{const ue=DL(t);delete ue.onTransitionEnter,delete ue.onTransitionExited;const pe={...ue,...J};return{role:"presentation",...pe,onKeyDown:N(pe),ref:S}},getBackdropProps:(J={})=>{const ue=J;return{"aria-hidden":!0,...ue,onClick:H(ue),open:A}},getTransitionProps:()=>{const J=()=>{C(!1),o&&o()},ue=()=>{C(!0),s&&s(),i&&W()};return{onEnter:II(J,(a==null?void 0:a.props.onEnter)??s4),onExited:II(ue,(a==null?void 0:a.props.onExited)??s4)}},rootRef:S,portalRef:$,isTopModal:D,exited:E,hasTransition:x}}function rRe(t){return da("MuiModal",t)}El("MuiModal",["root","hidden","backdrop"]);const nRe=t=>{const{open:e,exited:r,classes:n}=t;return Sl({root:["root",!e&&r&&"hidden"],backdrop:["backdrop"]},rRe,n)},iRe=Ji("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.open&&r.exited&&e.hidden]}})(wd(({theme:t})=>({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),oRe=Ji(c$,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),sRe=te.forwardRef(function(e,r){const n=Tl({name:"MuiModal",props:e}),{BackdropComponent:i=oRe,BackdropProps:o,classes:s,className:a,closeAfterTransition:l=!1,children:A,container:p,component:g,components:v={},componentsProps:b={},disableAutoFocus:S=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:C=!1,disablePortal:x=!1,disableRestoreFocus:P=!1,disableScrollLock:T=!1,hideBackdrop:M=!1,keepMounted:R=!1,onBackdropClick:k,onClose:D,onTransitionEnter:$,onTransitionExited:W,open:N,slotProps:H={},slots:Q={},theme:re,...ne}=n,J={...n,closeAfterTransition:l,disableAutoFocus:S,disableEnforceFocus:E,disableEscapeKeyDown:C,disablePortal:x,disableRestoreFocus:P,disableScrollLock:T,hideBackdrop:M,keepMounted:R},{getRootProps:ue,getBackdropProps:pe,getTransitionProps:le,portalRef:ge,isTopModal:Ee,exited:Te,hasTransition:be}=tRe({...J,rootRef:r}),Me={...J,exited:Te},He=nRe(Me),it={};if(A.props.tabIndex===void 0&&(it.tabIndex="-1"),be){const{onEnter:Se,onExited:pt}=le();it.onEnter=Se,it.onExited=pt}const Mt={...ne,slots:{root:v.Root,backdrop:v.Backdrop,...Q},slotProps:{...b,...H}},[Et,zt]=$o("root",{elementType:iRe,externalForwardedProps:Mt,getSlotProps:ue,additionalProps:{ref:r,as:g},ownerState:Me,className:ct(a,He==null?void 0:He.root,!Me.open&&Me.exited&&(He==null?void 0:He.hidden))}),[Oe,We]=$o("backdrop",{elementType:i,externalForwardedProps:Mt,additionalProps:o,getSlotProps:Se=>pe({...Se,onClick:pt=>{k&&k(pt),Se!=null&&Se.onClick&&Se.onClick(pt)}}),className:ct(o==null?void 0:o.className,He==null?void 0:He.backdrop),ownerState:Me}),Ke=Zc(o==null?void 0:o.ref,We.ref);return!R&&!N&&(!be||Te)?null:Lr.jsx(E3e,{ref:ge,container:p,disablePortal:x,children:Lr.jsxs(Et,{...zt,children:[!M&&i?Lr.jsx(Oe,{...We,ref:Ke}):null,Lr.jsx(b3e,{disableEnforceFocus:E,disableAutoFocus:S,disableRestoreFocus:P,isEnabled:Ee,open:N,children:te.cloneElement(A,it)})]})})}),aRe=sRe;function lRe(t){return da("MuiPaper",t)}El("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const uRe=t=>{const{square:e,elevation:r,variant:n,classes:i}=t,o={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${r}`]};return Sl(o,lRe,i)},cRe=Ji("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],!r.square&&e.rounded,r.variant==="elevation"&&e[`elevation${r.elevation}`]]}})(wd(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),ARe=te.forwardRef(function(e,r){var b;const n=Tl({props:e,name:"MuiPaper"}),i=tx(),{className:o,component:s="div",elevation:a=1,square:l=!1,variant:A="elevation",...p}=n,g={...n,component:s,elevation:a,square:l,variant:A},v=uRe(g);return Lr.jsx(cRe,{as:s,ownerState:g,className:ct(v.root,o),ref:r,...p,style:{...A==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":(b=i.vars.overlays)==null?void 0:b[a]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Zw("#fff",eS(a))}, ${Zw("#fff",eS(a))})`}},...p.style}})}),A$=ARe;function fRe(t){return da("MuiDialog",t)}const hRe=El("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),C1=hRe,dRe=te.createContext({}),f$=dRe,pRe=Ji(c$,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),gRe=t=>{const{classes:e,scroll:r,maxWidth:n,fullWidth:i,fullScreen:o}=t,s={root:["root"],container:["container",`scroll${qi(r)}`],paper:["paper",`paperScroll${qi(r)}`,`paperWidth${qi(String(n))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return Sl(s,fRe,e)},mRe=Ji(aRe,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),yRe=Ji("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.container,e[`scroll${qi(r.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),vRe=Ji(A$,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.paper,e[`scrollPaper${qi(r.scroll)}`],e[`paperWidth${qi(String(r.maxWidth))}`],r.fullWidth&&e.paperFullWidth,r.fullScreen&&e.paperFullScreen]}})(wd(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${C1.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${C1.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${C1.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),_Re=te.forwardRef(function(e,r){const n=Tl({props:e,name:"MuiDialog"}),i=tx(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,"aria-modal":l=!0,BackdropComponent:A,BackdropProps:p,children:g,className:v,disableEscapeKeyDown:b=!1,fullScreen:S=!1,fullWidth:E=!1,maxWidth:C="sm",onBackdropClick:x,onClick:P,onClose:T,open:M,PaperComponent:R=A$,PaperProps:k={},scroll:D="paper",slots:$={},slotProps:W={},TransitionComponent:N=tS,transitionDuration:H=o,TransitionProps:Q,...re}=n,ne={...n,disableEscapeKeyDown:b,fullScreen:S,fullWidth:E,maxWidth:C,scroll:D},J=gRe(ne),ue=te.useRef(),pe=Ge=>{ue.current=Ge.target===Ge.currentTarget},le=Ge=>{P&&P(Ge),ue.current&&(ue.current=null,x&&x(Ge),T&&T(Ge,"backdropClick"))},ge=Wxe(a),Ee=te.useMemo(()=>({titleId:ge}),[ge]),Te={transition:N,...$},be={transition:Q,paper:k,backdrop:p,...W},Me={slots:Te,slotProps:be},[He,it]=$o("root",{elementType:mRe,shouldForwardComponentProp:!0,externalForwardedProps:Me,ownerState:ne,className:ct(J.root,v),ref:r}),[Mt,Et]=$o("backdrop",{elementType:pRe,shouldForwardComponentProp:!0,externalForwardedProps:Me,ownerState:ne}),[zt,Oe]=$o("paper",{elementType:vRe,shouldForwardComponentProp:!0,externalForwardedProps:Me,ownerState:ne,className:ct(J.paper,k.className)}),[We,Ke]=$o("container",{elementType:yRe,externalForwardedProps:Me,ownerState:ne,className:ct(J.container)}),[Se,pt]=$o("transition",{elementType:tS,externalForwardedProps:Me,ownerState:ne,additionalProps:{appear:!0,in:M,timeout:H,role:"presentation"}});return Lr.jsx(He,{closeAfterTransition:!0,slots:{backdrop:Mt},slotProps:{backdrop:{transitionDuration:H,as:A,...Et}},disableEscapeKeyDown:b,onClose:T,open:M,onClick:le,...it,...re,children:Lr.jsx(Se,{...pt,children:Lr.jsx(We,{onMouseDown:pe,...Ke,children:Lr.jsx(zt,{as:R,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":ge,"aria-modal":l,...Oe,children:Lr.jsx(f$.Provider,{value:Ee,children:g})})})})})}),bRe=_Re;function wRe(t){return da("MuiDialogContent",t)}El("MuiDialogContent",["root","dividers"]);function SRe(t){return da("MuiDialogTitle",t)}const ERe=El("MuiDialogTitle",["root"]),TRe=ERe,xRe=t=>{const{classes:e,dividers:r}=t;return Sl({root:["root",r&&"dividers"]},wRe,e)},PRe=Ji("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.dividers&&e.dividers]}})(wd(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${TRe.root} + &`]:{paddingTop:0}}}]}))),CRe=te.forwardRef(function(e,r){const n=Tl({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1,...s}=n,a={...n,dividers:o},l=xRe(a);return Lr.jsx(PRe,{className:ct(l.root,i),ownerState:a,ref:r,...s})}),ORe=CRe;function RRe(t){return typeof t.main=="string"}function MRe(t,e=[]){if(!RRe(t))return!1;for(const r of e)if(!t.hasOwnProperty(r)||typeof t[r]!="string")return!1;return!0}function kRe(t=[]){return([,e])=>e&&MRe(e,t)}function IRe(t){return da("MuiTypography",t)}El("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const NRe={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},DRe=WOe(),BRe=t=>{const{align:e,gutterBottom:r,noWrap:n,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${qi(e)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return Sl(a,IRe,s)},FRe=Ji("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${qi(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(wd(({theme:t})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(([r,n])=>r!=="inherit"&&n&&typeof n=="object").map(([r,n])=>({props:{variant:r},style:n})),...Object.entries(t.palette).filter(kRe()).map(([r])=>({props:{color:r},style:{color:(t.vars||t).palette[r].main}})),...Object.entries(((e=t.palette)==null?void 0:e.text)||{}).filter(([,r])=>typeof r=="string").map(([r])=>({props:{color:`text${qi(r)}`},style:{color:(t.vars||t).palette.text[r]}})),{props:({ownerState:r})=>r.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:r})=>r.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:r})=>r.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:r})=>r.paragraph,style:{marginBottom:16}}]}})),a4={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},LRe=te.forwardRef(function(e,r){const{color:n,...i}=Tl({props:e,name:"MuiTypography"}),o=!NRe[n],s=DRe({...i,...o&&{color:n}}),{align:a="inherit",className:l,component:A,gutterBottom:p=!1,noWrap:g=!1,paragraph:v=!1,variant:b="body1",variantMapping:S=a4,...E}=s,C={...s,align:a,color:n,className:l,component:A,gutterBottom:p,noWrap:g,paragraph:v,variant:b,variantMapping:S},x=A||(v?"p":S[b]||a4[b])||"span",P=BRe(C);return Lr.jsx(FRe,{as:x,ref:r,className:ct(P.root,l),...E,ownerState:C,style:{...a!=="inherit"&&{"--Typography-textAlign":a},...E.style}})}),$Re=LRe,URe=t=>{const{classes:e}=t;return Sl({root:["root"]},SRe,e)},jRe=Ji($Re,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),zRe=te.forwardRef(function(e,r){const n=Tl({props:e,name:"MuiDialogTitle"}),{className:i,id:o,...s}=n,a=n,l=URe(a),{titleId:A=o}=te.useContext(f$);return Lr.jsx(jRe,{component:"h2",className:ct(l.root,i),ownerState:a,ref:r,variant:"h6",id:o??A,...s})}),VRe=zRe,WRe="https://raw.githubusercontent.com/visgl/deck.gl-data/master/examples/safegraph/sf-pois.csv",HRe="pk.eyJ1Ijoiam9leWxlZWx6IiwiYSI6ImNqczVzOTdhbzBpd3Y0NG8xaTVwaDUzOHYifQ.NStc2mKrg3LQfLq1q32BpQ",XRe="geojson/san_antonio_land_use_selected.geojson",l4={"Block Group Level: 2022":"geojson/san_antonio_hispanic_84_updated.geojson","Census Tract Level: 2022":"geojson/san_antonio_tract_mean.geojson"},u4=ac().domain([0,.42,.57,.74,1]).range([[5,133,176],[146,197,222],[247,247,247],[244,165,130],[202,0,32]]),c4=ac().domain([4,10,19.3,34.67,100]).range([[0,104,55],[49,163,84],[120,198,121],[194,230,153],[255,255,204]]),A4={census_data_B03002_processed_001E:"Population",census_data_B03002_processed_002E:"Not Hispanic Population",census_data_B03002_processed_012E:"Hispanic Population",census_data_B03002_processed_hispanic_percentage:"% Hispanic Population",ACS_income_classes_30_60_median_income:"Median Income($)",ACS_income_classes_30_60_income_category:"Income Category (30%, 60%)",census_data_B01001_density_denisty:"Population Density (persons/km2)"},f4={OCC_CLS:"Occupation Type",PRIM_OCC:"Primiary Occupation",PROP_ADDR:"Address",PROP_ZIP:"ZIP Code",HEIGHT:"Height",SQMETERS:"SQMETERS",census_data_B25077_processed_median_price_2:"House Price ($x10k)"},YRe="geojson/generated_data.csv",KRe="geojson/generated_houseprice_data.csv",h4=({title:t,colorScale:e,domain:r,range:n})=>{const i=r.map((o,s)=>({value:o,color:n[s]}));return K.createElement("div",{style:{backgroundColor:"white",padding:"10px",borderRadius:"8px",boxShadow:"0 0 10px rgba(0,0,0,0.1)",marginBottom:"10px"}},K.createElement("h4",null,t),i.map((o,s)=>K.createElement("div",{key:s,style:{display:"flex",alignItems:"center",marginBottom:"5px"}},K.createElement("div",{style:{width:"20px",height:"20px",backgroundColor:`rgb(${o.color.join(",")})`,marginRight:"10px"}}),K.createElement("span",null,o.value))))};function QRe({data:t}){const e=Math.max(...t.map(n=>Math.max(n.population))),r=Math.min(...t.map(n=>Math.min(n.population)));return K.createElement(md,{width:350,height:150,data:t},K.createElement(fa,{dataKey:"name"}),K.createElement(ha,{domain:[Math.floor(r*.95),Math.ceil(e*1.05)]}),K.createElement(Gc,{strokeDasharray:"3 3"}),K.createElement(kn,null),K.createElement(Qi,null),K.createElement(Co,{type:"monotone",dataKey:"population",stroke:"#542788",name:"Population"}))}function qRe({data:t}){return K.createElement(md,{width:350,height:150,data:t},K.createElement(fa,{dataKey:"name"}),K.createElement(ha,null),K.createElement(Gc,{strokeDasharray:"3 3"}),K.createElement(kn,null),K.createElement(Qi,null),K.createElement(Co,{type:"monotone",dataKey:"hispanic",stroke:"#4575b4",name:"Non-Hispanic"}),K.createElement(Co,{type:"monotone",dataKey:"non_hispanic",stroke:"#d73027",name:"Hispanic"}))}function GRe({data:t}){const e=Math.max(...t.map(n=>Math.max(n.median_income))),r=Math.min(...t.map(n=>Math.min(n.median_income)));return K.createElement(md,{width:350,height:150,data:t},K.createElement(fa,{dataKey:"name"}),K.createElement(ha,{domain:[Math.floor(r*.95),Math.ceil(e*1.05)]}),K.createElement(Gc,{strokeDasharray:"3 3"}),K.createElement(kn,null),K.createElement(Qi,null),K.createElement(Co,{type:"monotone",dataKey:"median_income",stroke:"#fc8d59",name:"Median Income"}))}function ZRe({data:t}){const e=Math.max(...t.map(n=>Math.max(n.density))),r=Math.min(...t.map(n=>Math.min(n.density)));return K.createElement(md,{width:350,height:150,data:t},K.createElement(fa,{dataKey:"name"}),K.createElement(ha,{domain:[Math.floor(r*.98),Math.ceil(e*1.02)]}),K.createElement(Gc,{strokeDasharray:"3 3"}),K.createElement(kn,null),K.createElement(Qi,null),K.createElement(Co,{type:"monotone",dataKey:"density",stroke:"#d73027",name:"Population Density(Person/KM2)"}))}function JRe({data:t}){const e=Math.max(...t.map(n=>Math.max(n.price))),r=Math.min(...t.map(n=>Math.min(n.price)));return console.log(e,r),K.createElement(md,{width:350,height:150,data:t},K.createElement(fa,{dataKey:"name"}),K.createElement(ha,{domain:[Math.floor(r*.98),Math.ceil(e*1.02)]}),K.createElement(Gc,{strokeDasharray:"3 3"}),K.createElement(kn,null),K.createElement(Qi,null),K.createElement(Co,{type:"monotone",dataKey:"price",stroke:"#542788",name:"House Price"}))}function eMe(t){return $c(()=>new NJ(t)).setProps(t),null}function d4({data:t}){const[e,r]=te.useState(),n=te.useRef(),i=te.useCallback(()=>{r(tMe(n.current.getStyle()))},[]);function o(J){const ue=/\d+/g;return J.replace(ue,"").trim()}const[s,a]=te.useState("Block Group Level: 2022"),[l,A]=te.useState(null),[p,g]=te.useState(null),[v,b]=te.useState(null),[S,E]=te.useState(null),[C,x]=te.useState(null),[P,T]=te.useState(null);te.useEffect(()=>{Hs(KRe,Ah).then(J=>{T(J.data)})},[]),te.useEffect(()=>{Hs(YRe,Ah).then(J=>{x(J.data)})},[]),te.useEffect(()=>{(async()=>{const ue=l4[s];if(ue)try{const pe=await Hs(ue);A(pe)}catch(pe){console.error("Error loading GeoJSON:",pe)}})()},[s]);const M=te.useMemo(()=>l?new mO({id:"geojson-layer",data:l,pickable:!0,stroked:!0,filled:!0,extruded:!1,getFillColor:J=>{const ue=J.properties.census_data_B03002_processed_hispanic_percentage;return u4(ue)},opacity:.5,getLineColor:[255,255,255],getLineWidth:2,autoHighlight:!0,onClick:({object:J})=>{if(J&&C){g(J.properties);const ue=J.properties.GEOID;console.log(J.properties);const pe=C.find(le=>String(le.geoid)===String(ue));if(pe){const le=[];for(const ge in pe)if(pe.hasOwnProperty(ge)){const Te=ge.split("_")[0],be=ge.substring(5);if(Te&&(be==="population"||be==="hispanic"||be==="non_hispanic"||be==="median_income"||be==="density")){const Me={name:Te};Me[be]=pe[ge];const He=le.find(it=>it.name===Te);He?He[be]=pe[ge]:le.push(Me)}}E(le)}}}}):null,[l,s,C]),[R,k]=te.useState(!1),[D,$]=te.useState([]),[W,N]=te.useState(""),H=J=>{const ue=J.BUILD_ID,pe=P.find(le=>String(le.geoid)===String(ue));if(pe){const le=[];for(const ge in pe)if(pe.hasOwnProperty(ge)){const Ee=ge.split("_"),Te=Ee[0],be=Ee[1];if(Te&&be==="price"){const Me={name:Te};Me[be]=pe[ge];const He=le.find(it=>it.name===Te);He?He[be]=pe[ge]:le.push(Me)}}$(le),N("House Price ($x10k) [Simulated Data]"),k(!0)}},Q=()=>{k(!1)},re=te.useMemo(()=>new mO({id:"geojson-landuse",data:XRe,pickable:!0,stroked:!1,filled:!0,extruded:!0,wireframe:!0,getElevation:J=>J.properties.HEIGHT,getFillColor:J=>{const ue=J.properties.census_data_B25077_processed_median_price_2;return c4(ue)},opacity:1,getLineColor:[255,255,255],autoHighlight:!0,onClick:({object:J})=>{J&&(b(J.properties),H(J.properties))}}),[P]),ne=J=>{a(J.target.value),g(null),b(null)};return K.createElement("div",{style:{display:"flex",height:"100vh"}},K.createElement("div",{style:{width:"280px",backgroundColor:"#f8f9fa",padding:"10px",borderRight:"1px solid #ddd",overflowY:"auto"}},K.createElement("div",{style:{marginBottom:"20px"}},K.createElement("img",{src:"logo/TAMU.png",alt:"Logo 1",style:{width:"220px",height:"auto",bottom:"100px",marginBottom:"10px"}}),K.createElement("img",{src:"logo/CHHS.png",alt:"Logo 2",style:{width:"220px",height:"auto"}})),K.createElement("div",{style:{position:"absolute",top:"10px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(255, 255, 255, 0.9)",padding:"10px 20px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",zIndex:1e3,textAlign:"center"}},K.createElement("h1",{style:{margin:0,fontSize:"20px",fontWeight:"bold",color:"#333"}},"Distributions of Hispanic Population and Related Median House Price in San Antonio")),K.createElement("div",null,K.createElement("label",{htmlFor:"geojson-select"},"Select Spatial Level:"),K.createElement("select",{id:"geojson-select",value:s,onChange:ne},Object.keys(l4).map(J=>K.createElement("option",{key:J,value:J},J)))),K.createElement("h2",null,"Attritubes Table"),p?K.createElement("div",null,K.createElement("h3",null,"Attritubes of census group"),Object.entries(p).filter(([J])=>A4[J]).map(([J,ue])=>{let pe=ue;return J==="census_data_B03002_processed_hispanic_percentage"?pe=ue*100:J==="census_data_B01001_density_denisty"?pe=(ue*1e3).toFixed(4):J==="census_data_B03002_processed_hispanic_percentage"&&(pe=ue.toFixed(4)),K.createElement("div",{key:J,style:{marginBottom:"2px"}},K.createElement("strong",null,A4[J],":")," ",pe)})):K.createElement("p",null,"Click census group for more details"),v?K.createElement("div",null,K.createElement("h3",null,"Attritubes of Land Parcel"),Object.entries(v).filter(([J])=>f4[J]).map(([J,ue])=>{const pe=f4[J];let le=ue;return J==="PROP_ADDR"&&(le=o(ue)),J==="HEIGHT"&&(le=ue.toFixed(4)),J==="SQMETERS"&&(le=ue.toFixed(4)),K.createElement("div",{key:J,style:{marginBottom:"2px"}},K.createElement("strong",null,pe,":")," ",le)})):K.createElement("p",null,"Click residential land parcel for more details")),K.createElement("div",{style:{position:"absolute",bottom:"20px",left:"2px",zIndex:1e3,display:"flex",alignItems:"center"}},K.createElement(h4,{title:"Hispanic Percentage",titleStyle:{whiteSpace:"normal",width:"80px"},colorScale:u4,domain:[0,.42,.57,.74,1],range:[[5,133,176],[146,197,222],[247,247,247],[244,165,130],[202,0,32]],style:{marginRight:"20px"}}),K.createElement(h4,{title:"Median Price ($x10k)",colorScale:c4,domain:[4,10,19.3,34.67,100],range:[[0,104,55],[49,163,84],[120,198,121],[194,230,153],[255,255,204]]})),K.createElement("div",{style:{flex:1,position:"relative"}},K.createElement(zie,{ref:n,mapboxAccessToken:HRe,mapStyle:"mapbox://styles/joeyleelz/cm49g3ltp00j301rz52c4guuw",antialias:!0,initialViewState:{longitude:-98.5181,latitude:29.4444,zoom:12,bearing:0,pitch:60},onLoad:i},K.createElement(eMe,{interleaved:!0,layers:[M?[M]:[],re]})," ",K.createElement(Vie,null))),K.createElement(bRe,{open:R,onClose:Q},K.createElement(VRe,null,W),K.createElement(ORe,null,K.createElement(JRe,{data:D}))),S&&K.createElement("div",{style:{display:"grid",gridTemplateColumns:".20fr .20fr .20fr .20fr",gridGap:"1px",position:"fixed",bottom:0,left:300,width:"100%",height:"150px",backgroundColor:"#f8f9fa",padding:"20px",borderTop:"1px solid #ccc",zIndex:1e3}},K.createElement("span",{style:{position:"absolute",bottom:"5px",left:"50%",transform:"translateX(-120%)"}},"Demographic Trends over the Past Decade (Simulated Data)",K.createElement("span",{style:{fontSize:"smaller",color:"#888"}},"* Value 0 denotes NULL")),K.createElement(QRe,{data:S}),K.createElement(qRe,{data:S}),K.createElement(GRe,{data:S}),K.createElement(ZRe,{data:S})))}function tMe(t){const e=t.layers;for(let r=0;r<e.length;r++)if(e[r].type==="symbol")return e[r].id}function rMe(t){const e=PD(t);e.render(K.createElement(d4,null)),Hs(WRe,Ah).then(r=>{e.render(K.createElement(d4,{data:r.data}))})}rMe(document.getElementById("app"));export{Wd as c,Lt as g};
